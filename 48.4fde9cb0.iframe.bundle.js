/*! For license information please see 48.4fde9cb0.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"./dist/esm/Templates-67172396.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate})),__webpack_require__.d(__webpack_exports__,"d",(function(){return updateTemplate}));__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId){return endpoint.api.get("/templates/".concat(templateId)).then((function(r){return r.data}))},ALLOWED_CREATE_FIELDS=["name","is_personal","is_public","sender","description","roles","fields"],createTemplate=function createTemplate(endpoint,params,_onUploadProgress){var options={timeout:12e4,onUploadProgress:function onUploadProgress(event){var total=event.total||1,loaded=event.loaded||0;null==_onUploadProgress||_onUploadProgress(Math.floor(100*loaded/(total||1)),loaded,total||1)}};if(params.documents&&params.documents[0]instanceof File){if(params.documents.length>10)throw new Error("createTemplate() has a maximum of 10 documents that can be attached.");var formData_1=new FormData;return ALLOWED_CREATE_FIELDS.forEach((function(allowedKey){void 0!==params[allowedKey]&&formData_1.append(allowedKey,params[allowedKey])})),params.documents.forEach((function(file){formData_1.append("documents",file,file.name)})),endpoint.api.post("/templates",formData_1,options).then((function(r){return r.data}))}return endpoint.api.post("/templates",params,options).then((function(r){return r.data}))},updateTemplate=function updateTemplate(endpoint,templateId,params){return endpoint.api.put("/templates/".concat(templateId),params).then((function(r){return r.data}))}},"./dist/esm/verdocs-quick-functions_3.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_quick_functions",(function(){return VerdocsQuickFunctions})),__webpack_require__.d(__webpack_exports__,"verdocs_search_activity",(function(){return VerdocsSearchActivity})),__webpack_require__.d(__webpack_exports__,"verdocs_search_box",(function(){return VerdocsSearchBox}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./dist/esm/index-b18c0348.js"),_VerdocsEndpoint_5b92f115_js__WEBPACK_IMPORTED_MODULE_28__=(__webpack_require__("./dist/esm/Types-5f31149e.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-5b92f115.js")),_Templates_67172396_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/Templates-67172396.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},getSearchHistory=function getSearchHistory(endpoint){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/search/history").then((function(r){return r.data}))]}))}))},VerdocsQuickFunctions=function(){function VerdocsQuickFunctions(hostRef){_classCallCheck(this,VerdocsQuickFunctions),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.createTemplate=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"createTemplate",7),this.createDocument=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"createDocument",7),this.endpoint=_VerdocsEndpoint_5b92f115_js__WEBPACK_IMPORTED_MODULE_28__.b.getDefault()}return _createClass(VerdocsQuickFunctions,[{key:"handleCreateTemplate",value:function handleCreateTemplate(){this.createTemplate.emit()}},{key:"handleCreateDocument",value:function handleCreateDocument(){this.createDocument.emit()}},{key:"render",value:function render(){var _this=this;return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"container"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("p",{class:"title"},"Quick Create"),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{onClick:function onClick(){return _this.handleCreateTemplate()},innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/><g><path d="M19,5v14H5V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3L19,3z"/></g><path d="M14,17H7v-2h7V17z M17,13H7v-2h10V13z M17,9H7V7h10V9z"/></g></svg>'},"Template"),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{onClick:function onClick(){return _this.handleCreateDocument()},innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/></svg>'},"Document"))}}]),VerdocsQuickFunctions}();VerdocsQuickFunctions.style='verdocs-quick-functions{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-quick-functions .container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;width:240px;background-color:#1e2031;text-transform:uppercase;padding:10px 10px 20px 10px;font-family:sans-serif;color:#ffffff}verdocs-quick-functions .title{font-size:22px;font-weight:700;line-height:30px;margin:1em 0 40px 0}verdocs-quick-functions button{width:140px;height:40px;border:none;display:-ms-flexbox;display:flex;color:#ffffff;cursor:pointer;font-size:14px;font-weight:700;line-height:25px;-ms-flex-align:center;align-items:center;margin-bottom:20px;border-radius:5px;text-transform:uppercase;-ms-flex-pack:space-evenly;justify-content:space-evenly;background-color:#55bc81}verdocs-quick-functions button svg{fill:#ffffff}';var DocumentIcon='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/></svg>',VerdocsSearchActivity=function(){function VerdocsSearchActivity(hostRef){_classCallCheck(this,VerdocsSearchActivity),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.entrySelected=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"entrySelected",7),this.endpoint=_VerdocsEndpoint_5b92f115_js__WEBPACK_IMPORTED_MODULE_28__.b.getDefault(),this.type="recent",this.options=void 0,this.emptyMessage="You do not have any starred searches.",this.authFailure=!1,this.title="Recent Searches",this.recent=[],this.saved=[],this.starred=[]}return _createClass(VerdocsSearchActivity,[{key:"componentWillLoad",value:function componentWillLoad(){var _this2=this;this.endpoint.loadSession();var errorHandler=function errorHandler(e){var _a;console.warn("[Verdocs/search-activity] Error getting search data",e),401===(null===(_a=null==e?void 0:e.response)||void 0===_a?void 0:_a.status)&&(_this2.authFailure=!0)};switch(this.type){case"recent":this.title="Recent Searches",this.emptyMessage="You do not have any recent searches.",getSearchHistory(this.endpoint).then((function(r){return _this2.recent=r.recent})).catch(errorHandler);break;case"saved":this.title="Saved Searches",this.emptyMessage="You do not have any saved searches.",getSearchHistory(this.endpoint).then((function(r){return _this2.saved=r.saved})).catch(errorHandler);break;case"starred":this.title="My Starred items",this.emptyMessage="You do not have any starred templates.",Object(_Templates_67172396_js__WEBPACK_IMPORTED_MODULE_29__.a)(this.endpoint,{is_starred:!0}).then((function(r){return _this2.starred=r})).catch(errorHandler)}}},{key:"handleSelectEntry",value:function handleSelectEntry(entry){this.entrySelected.emit(entry)}},{key:"computePagesText",value:function computePagesText(pages){return pages<2?pages+" Page":pages+" Pages"}},{key:"computeRecipientsText",value:function computeRecipientsText(recipients){return"object"==typeof recipients?recipients.join(", "):recipients>1?recipients+" Recipients":recipients+" Recipient"}},{key:"render",value:function render(){var _this3=this,showEmpty=this.recent.length<1&&this.saved.length<1&&this.starred.length<1;return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"container"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("p",{class:"title"},this.title),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"items"},this.recent.map((function(recent){return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{class:"item",onClick:function onClick(){return _this3.handleSelectEntry(recent)}},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"icon",innerHTML:DocumentIcon}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"details"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"item-title"},recent.params.q),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"info"},"Test")))})),this.saved.map((function(option){return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{class:"item",onClick:function onClick(){return _this3.handleSelectEntry(option)}},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"icon",innerHTML:DocumentIcon}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"details"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"item-title"},option.params.q),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"info"})))})),showEmpty&&Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"empty"},this.authFailure?"Authentication required":this.emptyMessage)))}}]),VerdocsSearchActivity}();VerdocsSearchActivity.style='verdocs-search-activity{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-search-activity .container{display:-ms-flexbox;display:flex;width:240px;color:#ffffff;-ms-flex-direction:column;flex-direction:column;text-transform:uppercase;padding:10px 10px 20px 10px;background-color:#1e2031}verdocs-search-activity .title{font-size:22px;font-weight:700;line-height:30px}verdocs-search-activity .items{display:-ms-flexbox;display:flex;margin-top:20px;-ms-flex-direction:column;flex-direction:column}verdocs-search-activity .item{border:none;display:-ms-flexbox;display:flex;text-align:left;margin-bottom:20px;-ms-flex-direction:row;flex-direction:row;background:transparent}verdocs-search-activity .item:hover{cursor:pointer}verdocs-search-activity .icon{-ms-flex:0 0 22px;flex:0 0 22px;margin-right:14px}verdocs-search-activity .icon svg{fill:#707ae5;width:22px;height:22px}verdocs-search-activity .details{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-direction:column;flex-direction:column}verdocs-search-activity .item-title{font-size:16px;font-weight:400;color:#ffffff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}verdocs-search-activity .info{font-size:14px;font-weight:500;line-height:23px;color:#aeb4bf}verdocs-search-activity .empty{text-transform:none;line-height:22px;color:#cccccc}';var VerdocsSearchBox=function(){function VerdocsSearchBox(hostRef){_classCallCheck(this,VerdocsSearchBox),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.searchClicked=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"searchClicked",7),this.typeChanged=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"typeChanged",7),this.queryChanged=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"queryChanged",7),this.endpoint=_VerdocsEndpoint_5b92f115_js__WEBPACK_IMPORTED_MODULE_28__.b.getDefault(),this.placeholder="Search envelopes, templates, organizations...",this.type="all",this.query="",this.grabsFocus=!1}var _focusField;return _createClass(VerdocsSearchBox,[{key:"focusField",value:(_focusField=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.inputEl.focus();case 1:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"componentDidRender",value:function componentDidRender(){this.grabsFocus&&this.inputEl.focus()}},{key:"handleSearch",value:function handleSearch(e){return this.searchClicked.emit({type:this.type,query:this.query}),e.preventDefault(),!1}},{key:"handleChange",value:function handleChange(e){this.queryChanged.emit(e.target.value)}},{key:"handleClearFilter",value:function handleClearFilter(){this.typeChanged.emit("all")}},{key:"handleKeyUp",value:function handleKeyUp(e){"Enter"===e.key&&this.searchClicked.emit({type:this.type,query:this.query})}},{key:"render",value:function render(){var _this4=this;return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("form",{onSubmit:function onSubmit(e){return _this4.handleSearch(e)}},void 0!==this.type&&"all"!==this.type&&Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("span",{class:"type"},this.type,"s ",Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{class:"remove",innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.0739 11.7565L19.7127 6.23228C20.0875 5.85692 20.0875 5.25309 19.7127 4.87773L19.0213 4.20046C18.6382 3.82511 18.0219 3.82511 17.6387 4.20046L12 9.72472L6.36127 4.20046C5.97814 3.82511 5.36179 3.82511 4.97866 4.20046L4.28735 4.87773C3.90422 5.25309 3.90422 5.85692 4.28735 6.23228L9.92608 11.7565L4.28735 17.2808C3.90422 17.6561 3.90422 18.26 4.28735 18.6353L4.97866 19.3126C5.36179 19.688 5.97814 19.688 6.36127 19.3126L12 13.7883L17.6387 19.3126C18.0219 19.688 18.6382 19.688 19.0213 19.3126L19.7127 18.6353C20.0958 18.26 20.0958 17.6561 19.7127 17.2808L14.0739 11.7565Z" fill="white"/></svg>',onClick:function onClick(){return _this4.handleClearFilter()}})),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("input",{type:"text",value:this.query,placeholder:this.placeholder,onInput:function onInput(e){return _this4.handleChange(e)},onKeyUp:function onKeyUp(e){return _this4.handleKeyUp(e)},ref:function ref(el){return _this4.inputEl=el}}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{onClick:function onClick(e){return _this4.handleSearch(e)},class:"search"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_26__.h)("span",{innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.4809 20.7176L17.9111 15.2536C19.0961 13.6368 19.727 11.6926 19.7128 9.70131C19.7201 7.53345 18.9846 5.42606 17.6244 3.71753C16.2642 2.009 14.3581 0.798456 12.2123 0.280282C10.0665 -0.237892 7.80552 -0.0336342 5.79227 0.86026C3.77902 1.75415 2.13038 3.28582 1.1111 5.20931C0.0918114 7.1328 -0.238985 9.33652 0.171813 11.4666C0.582612 13.5967 1.71117 15.5296 3.37628 16.9548C5.0414 18.3801 7.14646 19.2151 9.35344 19.3257C11.5604 19.4364 13.7413 18.8162 15.5458 17.5649L21.1372 23.05L21.1563 23.0663C21.4841 23.3487 21.9039 23.507 22.3401 23.5128C22.7823 23.5125 23.2063 23.3402 23.5191 23.0337V23.0337C23.6749 22.8812 23.7979 22.6995 23.8804 22.4993C23.963 22.2991 24.0036 22.0847 23.9997 21.8688C23.9959 21.6529 23.9477 21.44 23.858 21.2428C23.7683 21.0456 23.639 20.8682 23.4778 20.7212L23.4809 20.7176ZM14.5167 14.1975C13.4564 15.2349 12.0623 15.8797 10.5719 16.022C9.08145 16.1644 7.58681 15.7955 6.34249 14.9781C5.09816 14.1608 4.18109 12.9456 3.74751 11.5395C3.31393 10.1334 3.39064 8.6233 3.96455 7.26643C4.53846 5.90955 5.57409 4.7898 6.89507 4.09787C8.21606 3.40594 9.74071 3.18461 11.2093 3.4716C12.678 3.75858 13.9998 4.53612 14.9497 5.6718C15.8996 6.80748 16.4188 8.23105 16.4189 9.7001C16.4196 10.5357 16.2519 11.3632 15.9254 12.135C15.599 12.9069 15.1202 13.6078 14.5167 14.1975V14.1975Z" fill="white"/></svg>'}),"Search"))}}]),VerdocsSearchBox}();VerdocsSearchBox.style='verdocs-search-box{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-search-box form{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;height:45px;-webkit-box-sizing:border-box;box-sizing:border-box;margin:5px 0 0;border-radius:5px;-ms-flex-align:center;align-items:center;background-color:#fff;padding:0 8px;border-width:1px;border-style:solid;border-color:#707ae5}verdocs-search-box form input{-webkit-box-sizing:border-box;box-sizing:border-box;height:43px;width:100%;font-size:18px;border:none}verdocs-search-box form input:focus{outline:none}verdocs-search-box form button.search{cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px;border:none;width:100px;height:28px;font-weight:700;font-size:10px;letter-spacing:1px;background-color:#55bc81;text-transform:uppercase;color:#fff}verdocs-search-box form .type{background-color:#707ae5;height:30px;display:-ms-inline-flexbox;display:inline-flex;padding:1px 0 2px 10px;font-size:13px;line-height:16px;border-radius:4px;-ms-flex-pack:center;justify-content:center;text-transform:uppercase;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;color:#fff;margin-right:10px}verdocs-search-box form .type button{border:none;color:#fff;margin:5px 0 0 8px;background:transparent}verdocs-search-box form svg{width:12px;height:12px;margin-right:6px}verdocs-search-box ::-webkit-input-placeholder{color:#aeb4bf}verdocs-search-box ::-moz-placeholder{color:#aeb4bf}verdocs-search-box :-ms-input-placeholder{color:#aeb4bf}verdocs-search-box ::-ms-input-placeholder{color:#aeb4bf}verdocs-search-box ::placeholder{color:#aeb4bf}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9UZW1wbGF0ZXMtNjcxNzIzOTYuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdmVyZG9jcy1xdWljay1mdW5jdGlvbnNfMy5lbnRyeS5qcyJdLCJuYW1lcyI6WyJnZXRUZW1wbGF0ZXMiLCJlbmRwb2ludCIsInBhcmFtcyIsImFwaSIsInBvc3QiLCJ0aGVuIiwiciIsImRhdGEiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlSWQiLCJnZXQiLCJjb25jYXQiLCJBTExPV0VEX0NSRUFURV9GSUVMRFMiLCJjcmVhdGVUZW1wbGF0ZSIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJvcHRpb25zIiwidGltZW91dCIsImV2ZW50IiwidG90YWwiLCJsb2FkZWQiLCJNYXRoIiwiZmxvb3IiLCJkb2N1bWVudHMiLCJGaWxlIiwibGVuZ3RoIiwiRXJyb3IiLCJmb3JtRGF0YV8xIiwiRm9ybURhdGEiLCJmb3JFYWNoIiwiYWxsb3dlZEtleSIsInVuZGVmaW5lZCIsImFwcGVuZCIsImZpbGUiLCJuYW1lIiwidXBkYXRlVGVtcGxhdGUiLCJwdXQiLCJpIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsImFkb3B0IiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJwdXNoIiwiZ2V0U2VhcmNoSGlzdG9yeSIsIl9hIiwiVmVyZG9jc1F1aWNrRnVuY3Rpb25zIiwiaG9zdFJlZiIsInJlZ2lzdGVySW5zdGFuY2UiLCJjcmVhdGVFdmVudCIsImNyZWF0ZURvY3VtZW50IiwiVmVyZG9jc0VuZHBvaW50IiwiZ2V0RGVmYXVsdCIsImhhbmRsZUNyZWF0ZVRlbXBsYXRlIiwiZW1pdCIsImhhbmRsZUNyZWF0ZURvY3VtZW50IiwicmVuZGVyIiwiaCIsImNsYXNzIiwib25DbGljayIsImlubmVySFRNTCIsInN0eWxlIiwiRG9jdW1lbnRJY29uIiwiVmVyZG9jc1NlYXJjaEFjdGl2aXR5IiwiZW50cnlTZWxlY3RlZCIsInR5cGUiLCJlbXB0eU1lc3NhZ2UiLCJhdXRoRmFpbHVyZSIsInRpdGxlIiwicmVjZW50Iiwic2F2ZWQiLCJzdGFycmVkIiwiY29tcG9uZW50V2lsbExvYWQiLCJsb2FkU2Vzc2lvbiIsImVycm9ySGFuZGxlciIsImNvbnNvbGUiLCJ3YXJuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJpc19zdGFycmVkIiwiaGFuZGxlU2VsZWN0RW50cnkiLCJlbnRyeSIsImNvbXB1dGVQYWdlc1RleHQiLCJwYWdlcyIsImNvbXB1dGVSZWNpcGllbnRzVGV4dCIsInJlY2lwaWVudHMiLCJqb2luIiwic2hvd0VtcHR5IiwibWFwIiwicSIsIm9wdGlvbiIsIlZlcmRvY3NTZWFyY2hCb3giLCJzZWFyY2hDbGlja2VkIiwidHlwZUNoYW5nZWQiLCJxdWVyeUNoYW5nZWQiLCJwbGFjZWhvbGRlciIsInF1ZXJ5IiwiZ3JhYnNGb2N1cyIsImlucHV0RWwiLCJmb2N1cyIsImNvbXBvbmVudERpZFJlbmRlciIsImhhbmRsZVNlYXJjaCIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlQ2hhbmdlIiwidGFyZ2V0IiwiaGFuZGxlQ2xlYXJGaWx0ZXIiLCJoYW5kbGVLZXlVcCIsImtleSIsIm9uU3VibWl0Iiwib25JbnB1dCIsIm9uS2V5VXAiLCJyZWYiLCJlbCJdLCJtYXBwaW5ncyI6Ijt5dEJBa0JJQSxhQUFlLFNBQWZBLGFBQXlCQyxTQUFVQyxRQUNuQyxPQUFPRCxTQUFTRSxJQUNYQyxLQUFLLGFBQWMsQ0FBRUYsT0FBUUEsU0FDN0JHLE1BQUss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QW1CUiwyREFBRSxPQUFRLENBQUVDLE1BQU8sUUFBVXRCLEtBQUs2QixLQUFNLEtBQU1SLDJEQUFFLFNBQVUsQ0FBRUMsTUFBTyxTQUFVRSxVQXRDN0ssZ3NCQXNDbU1ELFFBQVMsMEJBQU0sT0FBSzhDLG1CQUFtQixLQUFPaEQsMkRBQUUsUUFBUyxDQUFFUSxLQUFNLE9BQVFwRCxNQUFPdUIsS0FBSzRELE1BQU9ELFlBQWEzRCxLQUFLMkQsWUFBYWMsUUFBUyxpQkFBQTdGLEdBQUMsT0FBSSxPQUFLdUYsYUFBYXZGLEVBQUUsRUFBRThGLFFBQVMsaUJBQUE5RixHQUFDLE9BQUksT0FBSzBGLFlBQVkxRixFQUFFLEVBQUUrRixJQUFLLGFBQUFDLElBQUUsT0FBSyxPQUFLZCxRQUFVYyxFQUFFLElBQU12RCwyREFBRSxTQUFVLENBQUVFLFFBQVMsaUJBQUEzQyxHQUFDLE9BQUksT0FBS3FGLGFBQWFyRixFQUFFLEVBQUUwQyxNQUFPLFVBQVlELDJEQUFFLE9BQVEsQ0FBRUcsVUF2Q3hmLDI1Q0F1Q2toQixVQUNuaUIsS0FBQyxpQkF0Q21CLEdBd0N0QitCLGlCQUFpQjlCLE1BNUNXLHd5RCIsImZpbGUiOiI0OC40ZmRlOWNiMC5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFRlbXBsYXRlIGRlZmluZXMgaG93IGEgVmVyZG9jcyBzaWduaW5nIGZsb3cgd2lsbCBiZSBwZXJmb3JtZWQsIGluY2x1ZGluZyBhdHRhY2htZW50cywgc2lnbmluZyBmaWVsZHMsIGFuZFxuICogcmVjaXBpZW50cy5cbiAqXG4gKiBAbW9kdWxlXG4gKi9cbi8qKlxuICogR2V0IGFsbCB0ZW1wbGF0ZXMgYWNjZXNzaWJsZSBieSB0aGUgY2FsbGVyLCB3aXRoIG9wdGlvbmFsIGZpbHRlcnMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCkpO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19zdGFycmVkOiB0cnVlIH0pO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19jcmVhdG9yOiB0cnVlIH0pO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19vcmdhbml6YXRpb246IHRydWUgfSk7XG4gKiBgYGBcbiAqL1xudmFyIGdldFRlbXBsYXRlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcycsIHsgcGFyYW1zOiBwYXJhbXMgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb25lIHRlbXBsYXRlIGJ5IGl0cyBJRC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG52YXIgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xudmFyIEFMTE9XRURfQ1JFQVRFX0ZJRUxEUyA9IFtcbiAgICAnbmFtZScsXG4gICAgJ2lzX3BlcnNvbmFsJyxcbiAgICAnaXNfcHVibGljJyxcbiAgICAnc2VuZGVyJyxcbiAgICAnZGVzY3JpcHRpb24nLFxuICAgICdyb2xlcycsXG4gICAgJ2ZpZWxkcycsXG5dO1xuLyoqXG4gKiBDcmVhdGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgbmV3VGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuY3JlYXRlVGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsuLi59KTtcbiAqIGBgYFxuICovXG52YXIgY3JlYXRlVGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhcmFtcywgb25VcGxvYWRQcm9ncmVzcykge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICB0aW1lb3V0OiAxMjAwMDAsXG4gICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gZXZlbnQudG90YWwgfHwgMTtcbiAgICAgICAgICAgIHZhciBsb2FkZWQgPSBldmVudC5sb2FkZWQgfHwgMDtcbiAgICAgICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgPT09IG51bGwgfHwgb25VcGxvYWRQcm9ncmVzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25VcGxvYWRQcm9ncmVzcyhNYXRoLmZsb29yKChsb2FkZWQgKiAxMDApIC8gKHRvdGFsIHx8IDEpKSwgbG9hZGVkLCB0b3RhbCB8fCAxKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChwYXJhbXMuZG9jdW1lbnRzICYmIHBhcmFtcy5kb2N1bWVudHNbMF0gaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgIGlmIChwYXJhbXMuZG9jdW1lbnRzLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZVRlbXBsYXRlKCkgaGFzIGEgbWF4aW11bSBvZiAxMCBkb2N1bWVudHMgdGhhdCBjYW4gYmUgYXR0YWNoZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvcm1EYXRhXzEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgQUxMT1dFRF9DUkVBVEVfRklFTERTLmZvckVhY2goZnVuY3Rpb24gKGFsbG93ZWRLZXkpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXNbYWxsb3dlZEtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZvcm1EYXRhXzEuYXBwZW5kKGFsbG93ZWRLZXksIHBhcmFtc1thbGxvd2VkS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYXJhbXMuZG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhXzEuYXBwZW5kKCdkb2N1bWVudHMnLCBmaWxlLCBmaWxlLm5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVuZHBvaW50LmFwaS5wb3N0KCcvdGVtcGxhdGVzJywgZm9ybURhdGFfMSwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBlbmRwb2ludC5hcGkucG9zdCgnL3RlbXBsYXRlcycsIHBhcmFtcywgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbiAgICB9XG59O1xuLyoqXG4gKiBVcGRhdGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdXBkYXRlZFRlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLnVwZGF0ZVRlbXBsYXRlKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCAnODNkYTNkNzAtNzg1Ny00MzkyLWI4NzYtYzQ1OTJhMzA0YmM5JywgeyBuYW1lOiAnTmV3IE5hbWUnIH0pO1xuICogYGBgXG4gKi9cbnZhciB1cGRhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucHV0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCksIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuXG5leHBvcnQgeyBnZXRUZW1wbGF0ZXMgYXMgYSwgY3JlYXRlVGVtcGxhdGUgYXMgYywgZ2V0VGVtcGxhdGUgYXMgZywgdXBkYXRlVGVtcGxhdGUgYXMgdSB9O1xuIiwiaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoIH0gZnJvbSAnLi9pbmRleC1iMThjMDM0OC5qcyc7XG5pbXBvcnQgJy4vVHlwZXMtNWYzMTE0OWUuanMnO1xuaW1wb3J0IHsgViBhcyBWZXJkb2NzRW5kcG9pbnQgfSBmcm9tICcuL1ZlcmRvY3NFbmRwb2ludC01YjkyZjExNS5qcyc7XG5pbXBvcnQgeyBhIGFzIGdldFRlbXBsYXRlcyB9IGZyb20gJy4vVGVtcGxhdGVzLTY3MTcyMzk2LmpzJztcblxuLyoqXG4gKiBWZXJkb2NzIHByb3ZpZGVzIGEgcmFuZ2Ugb2Ygc2VhcmNoIGZ1bmN0aW9ucyB0byBoZWxwIGZpbmQgYW5kIHJldHJpZXZlIGNvbnRlbnQuIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGdlbmVyaWMgZnVuY3Rpb25zIGludGVuZGVkXG4gKiB0byBsb2NhdGUgaXRlbXMgYWNyb3NzIGFsbCBjb250ZW50IHR5cGVzLiBNb3JlIHNwZWNpZmljIHJldHJpZXZhbHMgbWF5IGJlIHBlcmZvcm1lZCB1c2luZyB0aGUgdmFyaW91cyBcImxpc3RcIiBlbmRwb2ludHMgd2l0aGluXG4gKiBlYWNoIGNvbGxlY3Rpb24gKGUuZy4ge0BsaW5rIEVudmVsb3Blcy5FbnZlbG9wZXMuc2VhcmNoRW52ZWxvcGVzfSBvciB7QGxpbmsgVGVtcGxhdGVzLlRlbXBsYXRlcy5zZWFyY2hUZW1wbGF0ZXN9KS5cbiAqXG4gKiBAbW9kdWxlXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBSZXRyaWV2ZSByZWNlbnQgYW5kIHNhdmVkIHNlYXJjaGVzLiBOb3RlIHRoYXQgcmVzdWx0IGNvdW50cyB3aWxsIGJlIGxpbWl0ZWQgdG8gYSBtYXhpbXVtIG9mIDIwIGVudHJpZXMgZm9yIGVhY2hcbiAqIHR5cGUgYnV0IHRoaXMgbWF5IGJlIGV4cGFuZGVkIGluIHRoZSBmdXR1cmUuIENsaWVudCBVSSdzIHNob3VsZCBzZWxmLWxpbWl0IGRpc3BsYXkgY291bnRzIGFzIG5lZWRlZC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0NvbnRlbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9TZWFyY2gnO1xuICpcbiAqIGNvbnN0IHtyZWNlbnQsIHNhdmVkfSA9IGF3YWl0IENvbnRlbnQuZ2V0U2VhcmNoSGlzdG9yeSgpO1xuICogYGBgXG4gKi9cbnZhciBnZXRTZWFyY2hIaXN0b3J5ID0gZnVuY3Rpb24gKGVuZHBvaW50KSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5nZXQoJy9zZWFyY2gvaGlzdG9yeScpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG5cbmNvbnN0IHZlcmRvY3NRdWlja0Z1bmN0aW9uc0NzcyA9IFwidmVyZG9jcy1xdWljay1mdW5jdGlvbnN7Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWZ9dmVyZG9jcy1xdWljay1mdW5jdGlvbnMgLmNvbnRhaW5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC13cmFwOm5vd3JhcDtmbGV4LXdyYXA6bm93cmFwO3dpZHRoOjI0MHB4O2JhY2tncm91bmQtY29sb3I6IzFlMjAzMTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7cGFkZGluZzoxMHB4IDEwcHggMjBweCAxMHB4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Y29sb3I6I2ZmZmZmZn12ZXJkb2NzLXF1aWNrLWZ1bmN0aW9ucyAudGl0bGV7Zm9udC1zaXplOjIycHg7Zm9udC13ZWlnaHQ6NzAwO2xpbmUtaGVpZ2h0OjMwcHg7bWFyZ2luOjFlbSAwIDQwcHggMH12ZXJkb2NzLXF1aWNrLWZ1bmN0aW9ucyBidXR0b257d2lkdGg6MTQwcHg7aGVpZ2h0OjQwcHg7Ym9yZGVyOm5vbmU7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7Y29sb3I6I2ZmZmZmZjtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo3MDA7bGluZS1oZWlnaHQ6MjVweDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206MjBweDtib3JkZXItcmFkaXVzOjVweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7LW1zLWZsZXgtcGFjazpzcGFjZS1ldmVubHk7anVzdGlmeS1jb250ZW50OnNwYWNlLWV2ZW5seTtiYWNrZ3JvdW5kLWNvbG9yOiM1NWJjODF9dmVyZG9jcy1xdWljay1mdW5jdGlvbnMgYnV0dG9uIHN2Z3tmaWxsOiNmZmZmZmZ9XCI7XG5cbmNvbnN0IERvY3VtZW50SWNvbiQxID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNHB4XCIgZmlsbD1cIiMwMDAwMDBcIj48cGF0aCBkPVwiTTAgMGgyNHYyNEgwVjB6XCIgZmlsbD1cIm5vbmVcIi8+PHBhdGggZD1cIk04IDE2aDh2Mkg4em0wLTRoOHYySDh6bTYtMTBINmMtMS4xIDAtMiAuOS0yIDJ2MTZjMCAxLjEuODkgMiAxLjk5IDJIMThjMS4xIDAgMi0uOSAyLTJWOGwtNi02em00IDE4SDZWNGg3djVoNXYxMXpcIi8+PC9zdmc+YDtcbmNvbnN0IFRlbXBsYXRlSWNvbiA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRweFwiIGZpbGw9XCIjMDAwMDAwXCI+PGc+PHJlY3QgZmlsbD1cIm5vbmVcIiBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIi8+PGc+PHBhdGggZD1cIk0xOSw1djE0SDVWNUgxOSBNMTksM0g1QzMuOSwzLDMsMy45LDMsNXYxNGMwLDEuMSwwLjksMiwyLDJoMTRjMS4xLDAsMi0wLjksMi0yVjVDMjEsMy45LDIwLjEsMywxOSwzTDE5LDN6XCIvPjwvZz48cGF0aCBkPVwiTTE0LDE3SDd2LTJoN1YxN3ogTTE3LDEzSDd2LTJoMTBWMTN6IE0xNyw5SDdWN2gxMFY5elwiLz48L2c+PC9zdmc+YDtcbmNvbnN0IFZlcmRvY3NRdWlja0Z1bmN0aW9ucyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5jcmVhdGVUZW1wbGF0ZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY3JlYXRlVGVtcGxhdGVcIiwgNyk7XG4gICAgdGhpcy5jcmVhdGVEb2N1bWVudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY3JlYXRlRG9jdW1lbnRcIiwgNyk7XG4gICAgdGhpcy5lbmRwb2ludCA9IFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCk7XG4gIH1cbiAgaGFuZGxlQ3JlYXRlVGVtcGxhdGUoKSB7XG4gICAgdGhpcy5jcmVhdGVUZW1wbGF0ZS5lbWl0KCk7XG4gIH1cbiAgaGFuZGxlQ3JlYXRlRG9jdW1lbnQoKSB7XG4gICAgdGhpcy5jcmVhdGVEb2N1bWVudC5lbWl0KCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImNvbnRhaW5lclwiIH0sIGgoXCJwXCIsIHsgY2xhc3M6IFwidGl0bGVcIiB9LCBcIlF1aWNrIENyZWF0ZVwiKSwgaChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlQ3JlYXRlVGVtcGxhdGUoKSwgaW5uZXJIVE1MOiBUZW1wbGF0ZUljb24gfSwgXCJUZW1wbGF0ZVwiKSwgaChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlQ3JlYXRlRG9jdW1lbnQoKSwgaW5uZXJIVE1MOiBEb2N1bWVudEljb24kMSB9LCBcIkRvY3VtZW50XCIpKSk7XG4gIH1cbn07XG5WZXJkb2NzUXVpY2tGdW5jdGlvbnMuc3R5bGUgPSB2ZXJkb2NzUXVpY2tGdW5jdGlvbnNDc3M7XG5cbmNvbnN0IHZlcmRvY3NTZWFyY2hBY3Rpdml0eUNzcyA9IFwidmVyZG9jcy1zZWFyY2gtYWN0aXZpdHl7Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWZ9dmVyZG9jcy1zZWFyY2gtYWN0aXZpdHkgLmNvbnRhaW5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDt3aWR0aDoyNDBweDtjb2xvcjojZmZmZmZmOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtwYWRkaW5nOjEwcHggMTBweCAyMHB4IDEwcHg7YmFja2dyb3VuZC1jb2xvcjojMWUyMDMxfXZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5IC50aXRsZXtmb250LXNpemU6MjJweDtmb250LXdlaWdodDo3MDA7bGluZS1oZWlnaHQ6MzBweH12ZXJkb2NzLXNlYXJjaC1hY3Rpdml0eSAuaXRlbXN7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7bWFyZ2luLXRvcDoyMHB4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufXZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5IC5pdGVte2JvcmRlcjpub25lO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3RleHQtYWxpZ246bGVmdDttYXJnaW4tYm90dG9tOjIwcHg7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7YmFja2dyb3VuZDp0cmFuc3BhcmVudH12ZXJkb2NzLXNlYXJjaC1hY3Rpdml0eSAuaXRlbTpob3ZlcntjdXJzb3I6cG9pbnRlcn12ZXJkb2NzLXNlYXJjaC1hY3Rpdml0eSAuaWNvbnstbXMtZmxleDowIDAgMjJweDtmbGV4OjAgMCAyMnB4O21hcmdpbi1yaWdodDoxNHB4fXZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5IC5pY29uIHN2Z3tmaWxsOiM3MDdhZTU7d2lkdGg6MjJweDtoZWlnaHQ6MjJweH12ZXJkb2NzLXNlYXJjaC1hY3Rpdml0eSAuZGV0YWlsc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzpoaWRkZW47LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW59dmVyZG9jcy1zZWFyY2gtYWN0aXZpdHkgLml0ZW0tdGl0bGV7Zm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiNmZmZmZmY7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfXZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5IC5pbmZve2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDtsaW5lLWhlaWdodDoyM3B4O2NvbG9yOiNhZWI0YmZ9dmVyZG9jcy1zZWFyY2gtYWN0aXZpdHkgLmVtcHR5e3RleHQtdHJhbnNmb3JtOm5vbmU7bGluZS1oZWlnaHQ6MjJweDtjb2xvcjojY2NjY2NjfVwiO1xuXG5jb25zdCBEb2N1bWVudEljb24gPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0cHhcIiBmaWxsPVwiIzAwMDAwMFwiPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDBWMHpcIiBmaWxsPVwibm9uZVwiLz48cGF0aCBkPVwiTTggMTZoOHYySDh6bTAtNGg4djJIOHptNi0xMEg2Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS44OSAyIDEuOTkgMkgxOGMxLjEgMCAyLS45IDItMlY4bC02LTZ6bTQgMThINlY0aDd2NWg1djExelwiLz48L3N2Zz5gO1xuY29uc3QgVmVyZG9jc1NlYXJjaEFjdGl2aXR5ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmVudHJ5U2VsZWN0ZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImVudHJ5U2VsZWN0ZWRcIiwgNyk7XG4gICAgdGhpcy5lbmRwb2ludCA9IFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCk7XG4gICAgdGhpcy50eXBlID0gJ3JlY2VudCc7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZW1wdHlNZXNzYWdlID0gJ1lvdSBkbyBub3QgaGF2ZSBhbnkgc3RhcnJlZCBzZWFyY2hlcy4nO1xuICAgIHRoaXMuYXV0aEZhaWx1cmUgPSBmYWxzZTtcbiAgICB0aGlzLnRpdGxlID0gJ1JlY2VudCBTZWFyY2hlcyc7XG4gICAgdGhpcy5yZWNlbnQgPSBbXTtcbiAgICB0aGlzLnNhdmVkID0gW107XG4gICAgdGhpcy5zdGFycmVkID0gW107XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludC5sb2FkU2Vzc2lvbigpO1xuICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IGUgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc29sZS53YXJuKCdbVmVyZG9jcy9zZWFyY2gtYWN0aXZpdHldIEVycm9yIGdldHRpbmcgc2VhcmNoIGRhdGEnLCBlKTtcbiAgICAgIGlmICgoKF9hID0gZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzKSA9PT0gNDAxKSB7XG4gICAgICAgIHRoaXMuYXV0aEZhaWx1cmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3JlY2VudCc6XG4gICAgICAgIHRoaXMudGl0bGUgPSAnUmVjZW50IFNlYXJjaGVzJztcbiAgICAgICAgdGhpcy5lbXB0eU1lc3NhZ2UgPSAnWW91IGRvIG5vdCBoYXZlIGFueSByZWNlbnQgc2VhcmNoZXMuJztcbiAgICAgICAgZ2V0U2VhcmNoSGlzdG9yeSh0aGlzLmVuZHBvaW50KVxuICAgICAgICAgIC50aGVuKHIgPT4gKHRoaXMucmVjZW50ID0gci5yZWNlbnQpKVxuICAgICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NhdmVkJzpcbiAgICAgICAgdGhpcy50aXRsZSA9ICdTYXZlZCBTZWFyY2hlcyc7XG4gICAgICAgIHRoaXMuZW1wdHlNZXNzYWdlID0gJ1lvdSBkbyBub3QgaGF2ZSBhbnkgc2F2ZWQgc2VhcmNoZXMuJztcbiAgICAgICAgZ2V0U2VhcmNoSGlzdG9yeSh0aGlzLmVuZHBvaW50KVxuICAgICAgICAgIC50aGVuKHIgPT4gKHRoaXMuc2F2ZWQgPSByLnNhdmVkKSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdGFycmVkJzpcbiAgICAgICAgdGhpcy50aXRsZSA9ICdNeSBTdGFycmVkIGl0ZW1zJztcbiAgICAgICAgdGhpcy5lbXB0eU1lc3NhZ2UgPSAnWW91IGRvIG5vdCBoYXZlIGFueSBzdGFycmVkIHRlbXBsYXRlcy4nO1xuICAgICAgICBnZXRUZW1wbGF0ZXModGhpcy5lbmRwb2ludCwgeyBpc19zdGFycmVkOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4ociA9PiAodGhpcy5zdGFycmVkID0gcikpXG4gICAgICAgICAgLmNhdGNoKGVycm9ySGFuZGxlcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBoYW5kbGVTZWxlY3RFbnRyeShlbnRyeSkge1xuICAgIHRoaXMuZW50cnlTZWxlY3RlZC5lbWl0KGVudHJ5KTtcbiAgfVxuICBjb21wdXRlUGFnZXNUZXh0KHBhZ2VzKSB7XG4gICAgaWYgKHBhZ2VzIDwgMikge1xuICAgICAgcmV0dXJuIGAke3BhZ2VzfSBQYWdlYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gYCR7cGFnZXN9IFBhZ2VzYDtcbiAgICB9XG4gIH1cbiAgY29tcHV0ZVJlY2lwaWVudHNUZXh0KHJlY2lwaWVudHMpIHtcbiAgICBpZiAodHlwZW9mIHJlY2lwaWVudHMgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gcmVjaXBpZW50cy5qb2luKCcsICcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWNpcGllbnRzID4gMSkge1xuICAgICAgcmV0dXJuIGAke3JlY2lwaWVudHN9IFJlY2lwaWVudHNgO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBgJHtyZWNpcGllbnRzfSBSZWNpcGllbnRgO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2hvd0VtcHR5ID0gdGhpcy5yZWNlbnQubGVuZ3RoIDwgMSAmJiB0aGlzLnNhdmVkLmxlbmd0aCA8IDEgJiYgdGhpcy5zdGFycmVkLmxlbmd0aCA8IDE7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29udGFpbmVyXCIgfSwgaChcInBcIiwgeyBjbGFzczogXCJ0aXRsZVwiIH0sIHRoaXMudGl0bGUpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaXRlbXNcIiB9LCB0aGlzLnJlY2VudC5tYXAocmVjZW50ID0+IChoKFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwiaXRlbVwiLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZVNlbGVjdEVudHJ5KHJlY2VudCkgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImljb25cIiwgaW5uZXJIVE1MOiBEb2N1bWVudEljb24gfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJkZXRhaWxzXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcIml0ZW0tdGl0bGVcIiB9LCByZWNlbnQucGFyYW1zLnEpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5mb1wiIH0sIFwiVGVzdFwiKSkpKSksIHRoaXMuc2F2ZWQubWFwKG9wdGlvbiA9PiAoaChcImJ1dHRvblwiLCB7IGNsYXNzOiBcIml0ZW1cIiwgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVTZWxlY3RFbnRyeShvcHRpb24pIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpY29uXCIsIGlubmVySFRNTDogRG9jdW1lbnRJY29uIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZGV0YWlsc1wiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpdGVtLXRpdGxlXCIgfSwgb3B0aW9uLnBhcmFtcy5xKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImluZm9cIiB9KSkpKSksIHNob3dFbXB0eSAmJiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZW1wdHlcIiB9LCB0aGlzLmF1dGhGYWlsdXJlID8gJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyA6IHRoaXMuZW1wdHlNZXNzYWdlKSkpKTtcbiAgfVxufTtcblZlcmRvY3NTZWFyY2hBY3Rpdml0eS5zdHlsZSA9IHZlcmRvY3NTZWFyY2hBY3Rpdml0eUNzcztcblxuY29uc3QgdmVyZG9jc1NlYXJjaEJveENzcyA9IFwidmVyZG9jcy1zZWFyY2gtYm94e2ZvbnQtZmFtaWx5OlxcXCJJbnRlclxcXCIsIC1hcHBsZS1zeXN0ZW0sIFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJSb2JvdG9cXFwiLCBcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLCBzYW5zLXNlcmlmfXZlcmRvY3Mtc2VhcmNoLWJveCBmb3Jte2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O2hlaWdodDo0NXB4Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDttYXJnaW46NXB4IDAgMDtib3JkZXItcmFkaXVzOjVweDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6I2ZmZjtwYWRkaW5nOjAgOHB4O2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjojNzA3YWU1fXZlcmRvY3Mtc2VhcmNoLWJveCBmb3JtIGlucHV0ey13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtoZWlnaHQ6NDNweDt3aWR0aDoxMDAlO2ZvbnQtc2l6ZToxOHB4O2JvcmRlcjpub25lfXZlcmRvY3Mtc2VhcmNoLWJveCBmb3JtIGlucHV0OmZvY3Vze291dGxpbmU6bm9uZX12ZXJkb2NzLXNlYXJjaC1ib3ggZm9ybSBidXR0b24uc2VhcmNoe2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3JkZXItcmFkaXVzOjRweDtib3JkZXI6bm9uZTt3aWR0aDoxMDBweDtoZWlnaHQ6MjhweDtmb250LXdlaWdodDo3MDA7Zm9udC1zaXplOjEwcHg7bGV0dGVyLXNwYWNpbmc6MXB4O2JhY2tncm91bmQtY29sb3I6IzU1YmM4MTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Y29sb3I6I2ZmZn12ZXJkb2NzLXNlYXJjaC1ib3ggZm9ybSAudHlwZXtiYWNrZ3JvdW5kLWNvbG9yOiM3MDdhZTU7aGVpZ2h0OjMwcHg7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDtwYWRkaW5nOjFweCAwIDJweCAxMHB4O2ZvbnQtc2l6ZToxM3B4O2xpbmUtaGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czo0cHg7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdztjb2xvcjojZmZmO21hcmdpbi1yaWdodDoxMHB4fXZlcmRvY3Mtc2VhcmNoLWJveCBmb3JtIC50eXBlIGJ1dHRvbntib3JkZXI6bm9uZTtjb2xvcjojZmZmO21hcmdpbjo1cHggMCAwIDhweDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fXZlcmRvY3Mtc2VhcmNoLWJveCBmb3JtIHN2Z3t3aWR0aDoxMnB4O2hlaWdodDoxMnB4O21hcmdpbi1yaWdodDo2cHh9dmVyZG9jcy1zZWFyY2gtYm94IDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojYWViNGJmfXZlcmRvY3Mtc2VhcmNoLWJveCA6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6I2FlYjRiZn12ZXJkb2NzLXNlYXJjaC1ib3ggOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojYWViNGJmfXZlcmRvY3Mtc2VhcmNoLWJveCA6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojYWViNGJmfXZlcmRvY3Mtc2VhcmNoLWJveCA6OnBsYWNlaG9sZGVye2NvbG9yOiNhZWI0YmZ9XCI7XG5cbmNvbnN0IFNlYXJjaEljb24gPSBgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0yMy40ODA5IDIwLjcxNzZMMTcuOTExMSAxNS4yNTM2QzE5LjA5NjEgMTMuNjM2OCAxOS43MjcgMTEuNjkyNiAxOS43MTI4IDkuNzAxMzFDMTkuNzIwMSA3LjUzMzQ1IDE4Ljk4NDYgNS40MjYwNiAxNy42MjQ0IDMuNzE3NTNDMTYuMjY0MiAyLjAwOSAxNC4zNTgxIDAuNzk4NDU2IDEyLjIxMjMgMC4yODAyODJDMTAuMDY2NSAtMC4yMzc4OTIgNy44MDU1MiAtMC4wMzM2MzQyIDUuNzkyMjcgMC44NjAyNkMzLjc3OTAyIDEuNzU0MTUgMi4xMzAzOCAzLjI4NTgyIDEuMTExMSA1LjIwOTMxQzAuMDkxODExNCA3LjEzMjggLTAuMjM4OTg1IDkuMzM2NTIgMC4xNzE4MTMgMTEuNDY2NkMwLjU4MjYxMiAxMy41OTY3IDEuNzExMTcgMTUuNTI5NiAzLjM3NjI4IDE2Ljk1NDhDNS4wNDE0IDE4LjM4MDEgNy4xNDY0NiAxOS4yMTUxIDkuMzUzNDQgMTkuMzI1N0MxMS41NjA0IDE5LjQzNjQgMTMuNzQxMyAxOC44MTYyIDE1LjU0NTggMTcuNTY0OUwyMS4xMzcyIDIzLjA1TDIxLjE1NjMgMjMuMDY2M0MyMS40ODQxIDIzLjM0ODcgMjEuOTAzOSAyMy41MDcgMjIuMzQwMSAyMy41MTI4QzIyLjc4MjMgMjMuNTEyNSAyMy4yMDYzIDIzLjM0MDIgMjMuNTE5MSAyMy4wMzM3VjIzLjAzMzdDMjMuNjc0OSAyMi44ODEyIDIzLjc5NzkgMjIuNjk5NSAyMy44ODA0IDIyLjQ5OTNDMjMuOTYzIDIyLjI5OTEgMjQuMDAzNiAyMi4wODQ3IDIzLjk5OTcgMjEuODY4OEMyMy45OTU5IDIxLjY1MjkgMjMuOTQ3NyAyMS40NCAyMy44NTggMjEuMjQyOEMyMy43NjgzIDIxLjA0NTYgMjMuNjM5IDIwLjg2ODIgMjMuNDc3OCAyMC43MjEyTDIzLjQ4MDkgMjAuNzE3NlpNMTQuNTE2NyAxNC4xOTc1QzEzLjQ1NjQgMTUuMjM0OSAxMi4wNjIzIDE1Ljg3OTcgMTAuNTcxOSAxNi4wMjJDOS4wODE0NSAxNi4xNjQ0IDcuNTg2ODEgMTUuNzk1NSA2LjM0MjQ5IDE0Ljk3ODFDNS4wOTgxNiAxNC4xNjA4IDQuMTgxMDkgMTIuOTQ1NiAzLjc0NzUxIDExLjUzOTVDMy4zMTM5MyAxMC4xMzM0IDMuMzkwNjQgOC42MjMzIDMuOTY0NTUgNy4yNjY0M0M0LjUzODQ2IDUuOTA5NTUgNS41NzQwOSA0Ljc4OTggNi44OTUwNyA0LjA5Nzg3QzguMjE2MDYgMy40MDU5NCA5Ljc0MDcxIDMuMTg0NjEgMTEuMjA5MyAzLjQ3MTZDMTIuNjc4IDMuNzU4NTggMTMuOTk5OCA0LjUzNjEyIDE0Ljk0OTcgNS42NzE4QzE1Ljg5OTYgNi44MDc0OCAxNi40MTg4IDguMjMxMDUgMTYuNDE4OSA5LjcwMDFDMTYuNDE5NiAxMC41MzU3IDE2LjI1MTkgMTEuMzYzMiAxNS45MjU0IDEyLjEzNUMxNS41OTkgMTIuOTA2OSAxNS4xMjAyIDEzLjYwNzggMTQuNTE2NyAxNC4xOTc1VjE0LjE5NzVaXCIgZmlsbD1cIndoaXRlXCIvPjwvc3ZnPmA7XG5jb25zdCBDbG9zZUljb24gPSBgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNC4wNzM5IDExLjc1NjVMMTkuNzEyNyA2LjIzMjI4QzIwLjA4NzUgNS44NTY5MiAyMC4wODc1IDUuMjUzMDkgMTkuNzEyNyA0Ljg3NzczTDE5LjAyMTMgNC4yMDA0NkMxOC42MzgyIDMuODI1MTEgMTguMDIxOSAzLjgyNTExIDE3LjYzODcgNC4yMDA0NkwxMiA5LjcyNDcyTDYuMzYxMjcgNC4yMDA0NkM1Ljk3ODE0IDMuODI1MTEgNS4zNjE3OSAzLjgyNTExIDQuOTc4NjYgNC4yMDA0Nkw0LjI4NzM1IDQuODc3NzNDMy45MDQyMiA1LjI1MzA5IDMuOTA0MjIgNS44NTY5MiA0LjI4NzM1IDYuMjMyMjhMOS45MjYwOCAxMS43NTY1TDQuMjg3MzUgMTcuMjgwOEMzLjkwNDIyIDE3LjY1NjEgMy45MDQyMiAxOC4yNiA0LjI4NzM1IDE4LjYzNTNMNC45Nzg2NiAxOS4zMTI2QzUuMzYxNzkgMTkuNjg4IDUuOTc4MTQgMTkuNjg4IDYuMzYxMjcgMTkuMzEyNkwxMiAxMy43ODgzTDE3LjYzODcgMTkuMzEyNkMxOC4wMjE5IDE5LjY4OCAxOC42MzgyIDE5LjY4OCAxOS4wMjEzIDE5LjMxMjZMMTkuNzEyNyAxOC42MzUzQzIwLjA5NTggMTguMjYgMjAuMDk1OCAxNy42NTYxIDE5LjcxMjcgMTcuMjgwOEwxNC4wNzM5IDExLjc1NjVaXCIgZmlsbD1cIndoaXRlXCIvPjwvc3ZnPmA7XG5jb25zdCBWZXJkb2NzU2VhcmNoQm94ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLnNlYXJjaENsaWNrZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInNlYXJjaENsaWNrZWRcIiwgNyk7XG4gICAgdGhpcy50eXBlQ2hhbmdlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidHlwZUNoYW5nZWRcIiwgNyk7XG4gICAgdGhpcy5xdWVyeUNoYW5nZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInF1ZXJ5Q2hhbmdlZFwiLCA3KTtcbiAgICB0aGlzLmVuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyID0gJ1NlYXJjaCBlbnZlbG9wZXMsIHRlbXBsYXRlcywgb3JnYW5pemF0aW9ucy4uLic7XG4gICAgdGhpcy50eXBlID0gJ2FsbCc7XG4gICAgdGhpcy5xdWVyeSA9ICcnO1xuICAgIHRoaXMuZ3JhYnNGb2N1cyA9IGZhbHNlO1xuICB9XG4gIGFzeW5jIGZvY3VzRmllbGQoKSB7XG4gICAgdGhpcy5pbnB1dEVsLmZvY3VzKCk7XG4gIH1cbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmdyYWJzRm9jdXMpIHtcbiAgICAgIHRoaXMuaW5wdXRFbC5mb2N1cygpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVTZWFyY2goZSkge1xuICAgIHRoaXMuc2VhcmNoQ2xpY2tlZC5lbWl0KHsgdHlwZTogdGhpcy50eXBlLCBxdWVyeTogdGhpcy5xdWVyeSB9KTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgdGhpcy5xdWVyeUNoYW5nZWQuZW1pdChlLnRhcmdldC52YWx1ZSk7XG4gIH1cbiAgaGFuZGxlQ2xlYXJGaWx0ZXIoKSB7XG4gICAgdGhpcy50eXBlQ2hhbmdlZC5lbWl0KCdhbGwnKTtcbiAgfVxuICBoYW5kbGVLZXlVcChlKSB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICB0aGlzLnNlYXJjaENsaWNrZWQuZW1pdCh7IHR5cGU6IHRoaXMudHlwZSwgcXVlcnk6IHRoaXMucXVlcnkgfSk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJmb3JtXCIsIHsgb25TdWJtaXQ6IGUgPT4gdGhpcy5oYW5kbGVTZWFyY2goZSkgfSwgdGhpcy50eXBlICE9PSB1bmRlZmluZWQgJiYgdGhpcy50eXBlICE9PSAnYWxsJyAmJiAoaChcInNwYW5cIiwgeyBjbGFzczogXCJ0eXBlXCIgfSwgdGhpcy50eXBlLCBcInMgXCIsIGgoXCJidXR0b25cIiwgeyBjbGFzczogXCJyZW1vdmVcIiwgaW5uZXJIVE1MOiBDbG9zZUljb24sIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlQ2xlYXJGaWx0ZXIoKSB9KSkpLCBoKFwiaW5wdXRcIiwgeyB0eXBlOiBcInRleHRcIiwgdmFsdWU6IHRoaXMucXVlcnksIHBsYWNlaG9sZGVyOiB0aGlzLnBsYWNlaG9sZGVyLCBvbklucHV0OiBlID0+IHRoaXMuaGFuZGxlQ2hhbmdlKGUpLCBvbktleVVwOiBlID0+IHRoaXMuaGFuZGxlS2V5VXAoZSksIHJlZjogZWwgPT4gKHRoaXMuaW5wdXRFbCA9IGVsKSB9KSwgaChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IGUgPT4gdGhpcy5oYW5kbGVTZWFyY2goZSksIGNsYXNzOiBcInNlYXJjaFwiIH0sIGgoXCJzcGFuXCIsIHsgaW5uZXJIVE1MOiBTZWFyY2hJY29uIH0pLCBcIlNlYXJjaFwiKSkpO1xuICB9XG59O1xuVmVyZG9jc1NlYXJjaEJveC5zdHlsZSA9IHZlcmRvY3NTZWFyY2hCb3hDc3M7XG5cbmV4cG9ydCB7IFZlcmRvY3NRdWlja0Z1bmN0aW9ucyBhcyB2ZXJkb2NzX3F1aWNrX2Z1bmN0aW9ucywgVmVyZG9jc1NlYXJjaEFjdGl2aXR5IGFzIHZlcmRvY3Nfc2VhcmNoX2FjdGl2aXR5LCBWZXJkb2NzU2VhcmNoQm94IGFzIHZlcmRvY3Nfc2VhcmNoX2JveCB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==