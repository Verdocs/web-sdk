/*! For license information please see 4.5c9a3203.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/Primitives-054bc6e5.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"b",(function(){return integerSequence}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")}},"./dist/esm/templateStore-17c872da.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return state}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js");var _index_5260ed60_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./dist/esm/index-5260ed60.js"),_Primitives_054bc6e5_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/Primitives-054bc6e5.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isConnected=function isConnected(maybeElement){return!("isConnected"in maybeElement)||maybeElement.isConnected},cleanupElements=function debounce(fn,ms){var timeoutId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout((function(){timeoutId=0,fn.apply(void 0,args)}),ms)}}((function(map){var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(map.keys());try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;map.set(key,map.get(key).filter(isConnected))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),2e3),unwrap=function unwrap(val){return"function"==typeof val?val():val},removeFromArray=function removeFromArray(array,item){var index=array.indexOf(item);index>=0&&(array[index]=array[array.length-1],array.length--)},_createStore=function createStore(defaultState,shouldUpdate){var map=function createObservableMap(defaultState){var shouldUpdate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(a,b){return a!==b},unwrappedState=unwrap(defaultState),states=new Map(Object.entries(null!=unwrappedState?unwrappedState:{})),handlers={dispose:[],get:[],set:[],reset:[]},reset=function reset(){var _a;states=new Map(Object.entries(null!==(_a=unwrap(defaultState))&&void 0!==_a?_a:{})),handlers.reset.forEach((function(cb){return cb()}))},_get=function get(propName){return handlers.get.forEach((function(cb){return cb(propName)})),states.get(propName)},_set=function set(propName,value){var oldValue=states.get(propName);shouldUpdate(value,oldValue,propName)&&(states.set(propName,value),handlers.set.forEach((function(cb){return cb(propName,value,oldValue)})))},state="undefined"==typeof Proxy?{}:new Proxy(unwrappedState,{get:function get(_,propName){return _get(propName)},ownKeys:function ownKeys(_){return Array.from(states.keys())},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has:function has(_,propName){return states.has(propName)},set:function set(_,propName,value){return _set(propName,value),!0}}),on=function on(eventName,callback){return handlers[eventName].push(callback),function(){removeFromArray(handlers[eventName],callback)}};return{state:state,get:_get,set:_set,on:on,onChange:function onChange(propName,cb){var unSet=on("set",(function(key,newValue){key===propName&&cb(newValue)})),unReset=on("reset",(function(){return cb(unwrap(defaultState)[propName])}));return function(){unSet(),unReset()}},use:function use(){for(var _len2=arguments.length,subscriptions=new Array(_len2),_key2=0;_key2<_len2;_key2++)subscriptions[_key2]=arguments[_key2];var unsubs=subscriptions.reduce((function(unsubs,subscription){return subscription.set&&unsubs.push(on("set",subscription.set)),subscription.get&&unsubs.push(on("get",subscription.get)),subscription.reset&&unsubs.push(on("reset",subscription.reset)),subscription.dispose&&unsubs.push(on("dispose",subscription.dispose)),unsubs}),[]);return function(){return unsubs.forEach((function(unsub){return unsub()}))}},dispose:function dispose(){handlers.dispose.forEach((function(cb){return cb()})),reset()},reset:reset,forceUpdate:function forceUpdate(key){var oldValue=states.get(key);handlers.set.forEach((function(cb){return cb(key,oldValue,oldValue)}))}}}(defaultState,shouldUpdate);return map.use(function stencilSubscription(){if("function"!=typeof _index_5260ed60_js__WEBPACK_IMPORTED_MODULE_32__.g)return{};var elmsToUpdate=new Map;return{dispose:function dispose(){return elmsToUpdate.clear()},get:function get(propName){var elm=Object(_index_5260ed60_js__WEBPACK_IMPORTED_MODULE_32__.g)();elm&&function appendToMap(map,propName,value){var items=map.get(propName);items?items.includes(value)||items.push(value):map.set(propName,[value])}(elmsToUpdate,propName,elm)},set:function set(propName){var elements=elmsToUpdate.get(propName);elements&&elmsToUpdate.set(propName,elements.filter(_index_5260ed60_js__WEBPACK_IMPORTED_MODULE_32__.f)),cleanupElements(elmsToUpdate)},reset:function reset(){elmsToUpdate.forEach((function(elms){return elms.forEach(_index_5260ed60_js__WEBPACK_IMPORTED_MODULE_32__.f)})),cleanupElements(elmsToUpdate)}}}()),map}({templateId:"",template:null,loadProgress:0,loading:!1,updateCount:1,pageNumbers:[],pageUris:{},roleNames:[],fields:[],dirty:!1}),state=_createStore.state,onChange=_createStore.onChange;onChange("template",function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(newTemplate){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(newTemplate){_context.next=9;break}return console.log("[TEMPLATESTORE] Clearing template"),state.fields=[],state.roleNames=[],state.pageNumbers=[],state.dirty=!1,state.loading=!1,state.loadProgress=0,_context.abrupt("return");case 9:console.log("[TEMPLATESTORE] Template loaded",newTemplate),state.roleNames=newTemplate.roles.map((function(role){return role.name})),console.log("[TEMPLATESTORE] Loaded roles",state.roleNames),state.fields=[],newTemplate.roles.forEach((function(role){var _state$fields;(_state$fields=state.fields).push.apply(_state$fields,_toConsumableArray(role.fields))})),console.log("[TEMPLATESTORE] Loaded fields",state.fields),state.pageNumbers=Object(_Primitives_054bc6e5_js__WEBPACK_IMPORTED_MODULE_33__.b)(1,newTemplate.pages.length),state.updateCount++;case 17:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()),onChange("fields",(function(newField){console.log("[TEMPLATESTORE] Field changed",newField),state.dirty=!0}))},"./node_modules/core-js/modules/es.array.reduce.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$reduce=__webpack_require__("./node_modules/core-js/internals/array-reduce.js").left,arrayMethodIsStrict=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js"),CHROME_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js");$({target:"Array",proto:!0,forced:!arrayMethodIsStrict("reduce")||!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83},{reduce:function reduce(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9Db2xvcnMtMWIyOTgwOTIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vUHJpbWl0aXZlcy0wNTRiYzZlNS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS90ZW1wbGF0ZVN0b3JlLTE3Yzg3MmRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJpbnRlZ2VyU2VxdWVuY2UiLCJzdGFydCIsImNvdW50IiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiXyIsImluZGV4IiwiZnVsbE5hbWVUb0luaXRpYWxzIiwibmFtZSIsInNwbGl0Iiwid29yZCIsImpvaW4iLCJpIiwiaXNDb25uZWN0ZWQiLCJtYXliZUVsZW1lbnQiLCJjbGVhbnVwRWxlbWVudHMiLCJkZWJvdW5jZSIsImZuIiwibXMiLCJ0aW1lb3V0SWQiLCJhcmdzIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImtleXMiLCJrZXkiLCJzZXQiLCJnZXQiLCJmaWx0ZXIiLCJ1bndyYXAiLCJ2YWwiLCJyZW1vdmVGcm9tQXJyYXkiLCJhcnJheSIsIml0ZW0iLCJpbmRleE9mIiwibGVuZ3RoIiwiY3JlYXRlU3RvcmUiLCJkZWZhdWx0U3RhdGUiLCJzaG91bGRVcGRhdGUiLCJjcmVhdGVPYnNlcnZhYmxlTWFwIiwiYSIsImIiLCJ1bndyYXBwZWRTdGF0ZSIsInN0YXRlcyIsIk1hcCIsIk9iamVjdCIsImVudHJpZXMiLCJoYW5kbGVycyIsImRpc3Bvc2UiLCJyZXNldCIsIl9hIiwiZm9yRWFjaCIsImNiIiwicHJvcE5hbWUiLCJ2YWx1ZSIsIm9sZFZhbHVlIiwic3RhdGUiLCJQcm94eSIsIm93bktleXMiLCJmcm9tIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImhhcyIsIm9uIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJwdXNoIiwib25DaGFuZ2UiLCJ1blNldCIsIm5ld1ZhbHVlIiwidW5SZXNldCIsInVzZSIsInN1YnNjcmlwdGlvbnMiLCJ1bnN1YnMiLCJyZWR1Y2UiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YiIsImZvcmNlVXBkYXRlIiwic3RlbmNpbFN1YnNjcmlwdGlvbiIsImdldFJlbmRlcmluZ1JlZiIsImVsbXNUb1VwZGF0ZSIsImNsZWFyIiwiZWxtIiwiYXBwZW5kVG9NYXAiLCJpdGVtcyIsImluY2x1ZGVzIiwiZWxlbWVudHMiLCJlbG1zIiwidGVtcGxhdGVJZCIsInRlbXBsYXRlIiwibG9hZFByb2dyZXNzIiwibG9hZGluZyIsInVwZGF0ZUNvdW50IiwicGFnZU51bWJlcnMiLCJwYWdlVXJpcyIsInJvbGVOYW1lcyIsImZpZWxkcyIsImRpcnR5IiwibmV3VGVtcGxhdGUiLCJjb25zb2xlIiwibG9nIiwicm9sZXMiLCJyb2xlIiwicGFnZXMiLCJuZXdGaWVsZCIsIiQiLCIkcmVkdWNlIiwibGVmdCIsImFycmF5TWV0aG9kSXNTdHJpY3QiLCJDSFJPTUVfVkVSU0lPTiIsIklTX05PREUiLCJ0YXJnZXQiLCJwcm90byIsImZvcmNlZCIsImNhbGxiYWNrZm4iLCJhcmd1bWVudHMiLCJ0aGlzIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiOytKQU1BLFNBQVNBLFFBQVFDLFdBQ2IsT0FBUUEsVUFBWSxJQUNoQixLQUFLLEVBQ0QsT0FBcUIsSUFBZEEsVUFBa0IseUJBQTJCLDJCQUN4RCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTywwQkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxRQUNJLE1BQU8sMkJBRW5CLENBL0JBLDJFLGdv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TUFBTXJFLFFBQ3pEcUIsTUFBTXFDLGNBQWMseURBQ3JCLHVEQXJCa0IsSUF1Qm5CekIsU0FBUyxVQUFVLFNBQUFxQyxVQUNqQkwsUUFBUUMsSUFBSSxnQ0FBaUNJLFVBQzdDakQsTUFBTTBDLE9BQVEsQ0FDaEIsRyxnSEMxT0EsSUFBSVEsRUFBSSxvQkFBUSw4Q0FDWkMsUUFBVSxvQkFBUSxvREFBNkJDLEtBQy9DQyxvQkFBc0Isb0JBQVEsOERBQzlCQyxlQUFpQixvQkFBUSx5REFDekJDLFFBQVUsb0JBQVEsc0RBU3RCTCxFQUFFLENBQUVNLE9BQVEsUUFBU0MsT0FBTyxFQUFNQyxRQVBkTCxvQkFBb0IsWUFHdEJFLFNBQVdELGVBQWlCLElBQU1BLGVBQWlCLElBSUssQ0FDeEVuQyxPQUFRLFNBQVNBLE9BQU93QyxZQUN0QixJQUFJaEYsT0FBU2lGLFVBQVVqRixPQUN2QixPQUFPd0UsUUFBUVUsS0FBTUYsV0FBWWhGLE9BQVFBLE9BQVMsRUFBSWlGLFVBQVUsUUFBS0UsRUFDdkUsRyIsImZpbGUiOiI0LjVjOWEzMjAzLmlmcmFtZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdpdmVuIGEgYHJnYmEocixnLGIsYSlgIHN0cmluZyB2YWx1ZSwgcmV0dXJucyB0aGUgaGV4IGVxdWl2YWxlbnQsIGRyb3BwaW5nIHRoZSBhbHBoYSBjaGFubmVsLlxuICovXG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmZ1bmN0aW9uIGdldFJHQkEocm9sZUluZGV4KSB7XG4gICAgc3dpdGNoIChyb2xlSW5kZXggJSAxMCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gcm9sZUluZGV4ID09PSAwID8gJ3JnYmEoMjU1LCAxOTMsIDcsIDAuNCknIDogJ3JnYmEoMTM0LCAxMzQsIDEzNCwgMC4zKSc7IC8vICNGRkU2OUNcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDE1NiwgMzksIDE3NiwgLjQpJzsgLy8gJyNFM0MzRTknXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgzMywgMTUwLCAyNDMsIC40KSc7IC8vICcjQzFFMUZCJ1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjIwLCAyMzEsIDExNywgMC4zKSc7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxMjEsIDEzNCwgMjAzLCAwLjMpJztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDc3LCAxODIsIDE3MiwgMC4zKSc7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDIwMiwgMTY1LCAwLjMpJztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIsIDI0NywgMTkwLCAwLjMpJztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDI1NSwgMTM4LCAxMDEsIDAuMyknO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoODIsIDI1NSwgNzksIDAuMyknO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyOSwgMTE1LCAxNTUsIDAuMyknO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgZ2V0UkdCQSBhcyBnIH07XG4iLCIvKipcbiAqIENyZWF0ZSBhbiBhcnJheSBjb250YWluaW5nIGEgc2VxdWVuY2Ugb2YgaW50ZWdlcnMsIGUuZy4gW1NUQVJULCBTVEFSVCsxLCBTVEFSVCsyLCAuLi5dIFRoaXMgaXMgZnJlcXVlbnRseSB1c2VmdWxcbiAqIGluIHJlbmRlcmluZyBvcGVyYXRpb25zIHdoZW4gdGhlcmUgaXMgbm8gc291cmNlIGFycmF5IHRvIC5tYXAoKSBhY3Jvc3MuXG4gKi9cbnZhciBpbnRlZ2VyU2VxdWVuY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGNvdW50KSB7XG4gICAgcmV0dXJuIEFycmF5KGNvdW50KVxuICAgICAgICAuZmlsbCgxKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkgeyByZXR1cm4gaW5kZXggKyBzdGFydDsgfSk7XG59O1xuLyoqXG4gKiBHZW5lcmF0ZSBzdWdnZXN0ZWQgaW5pdGlhbHMgZm9yIGEgZnVsbCBuYW1lLCBlLmcuIFwiSm9obiBEb2VcIiB3aWxsIHlpZWxkIFwiSkRcIi5cbiAqL1xudmFyIGZ1bGxOYW1lVG9Jbml0aWFscyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAod29yZCkgeyByZXR1cm4gd29yZFswXTsgfSlcbiAgICAgICAgLmpvaW4oJycpO1xufTtcblxuZXhwb3J0IHsgZnVsbE5hbWVUb0luaXRpYWxzIGFzIGYsIGludGVnZXJTZXF1ZW5jZSBhcyBpIH07XG4iLCJpbXBvcnQgeyBnIGFzIGdldFJlbmRlcmluZ1JlZiwgZiBhcyBmb3JjZVVwZGF0ZSB9IGZyb20gJy4vaW5kZXgtNTI2MGVkNjAuanMnO1xuaW1wb3J0IHsgaSBhcyBpbnRlZ2VyU2VxdWVuY2UgfSBmcm9tICcuL1ByaW1pdGl2ZXMtMDU0YmM2ZTUuanMnO1xuXG5jb25zdCBhcHBlbmRUb01hcCA9IChtYXAsIHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gbWFwLmdldChwcm9wTmFtZSk7XG4gICAgaWYgKCFpdGVtcykge1xuICAgICAgICBtYXAuc2V0KHByb3BOYW1lLCBbdmFsdWVdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWl0ZW1zLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgZGVib3VuY2UgPSAoZm4sIG1zKSA9PiB7XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSAwO1xuICAgICAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBvc3NpYmxlIGVsZW1lbnQgaXNDb25uZWN0ZWQuXG4gKiBUaGUgcHJvcGVydHkgbWlnaHQgbm90IGJlIHRoZXJlLCBzbyB3ZSBjaGVjayBmb3IgaXQuXG4gKlxuICogV2Ugd2FudCBpdCB0byByZXR1cm4gdHJ1ZSBpZiBpc0Nvbm5lY3RlZCBpcyBub3QgYSBwcm9wZXJ0eSxcbiAqIG90aGVyd2lzZSB3ZSB3b3VsZCByZW1vdmUgdGhlc2UgZWxlbWVudHMgYW5kIHdvdWxkIG5vdCB1cGRhdGUuXG4gKlxuICogQmV0dGVyIGxlYWsgaW4gRWRnZSB0aGFuIHRvIGJlIHVzZWxlc3MuXG4gKi9cbmNvbnN0IGlzQ29ubmVjdGVkID0gKG1heWJlRWxlbWVudCkgPT4gISgnaXNDb25uZWN0ZWQnIGluIG1heWJlRWxlbWVudCkgfHwgbWF5YmVFbGVtZW50LmlzQ29ubmVjdGVkO1xuY29uc3QgY2xlYW51cEVsZW1lbnRzID0gZGVib3VuY2UoKG1hcCkgPT4ge1xuICAgIGZvciAobGV0IGtleSBvZiBtYXAua2V5cygpKSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCBtYXAuZ2V0KGtleSkuZmlsdGVyKGlzQ29ubmVjdGVkKSk7XG4gICAgfVxufSwgMjAwMCk7XG5jb25zdCBzdGVuY2lsU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2V0UmVuZGVyaW5nUmVmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gYSBzdGVuY2lsIHByb2plY3QsIHdlIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlYWxseSBleHBvcnRlZCBieSBAc3RlbmNpbC9jb3JlLlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGVsbXNUb1VwZGF0ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiBlbG1zVG9VcGRhdGUuY2xlYXIoKSxcbiAgICAgICAgZ2V0OiAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGdldFJlbmRlcmluZ1JlZigpO1xuICAgICAgICAgICAgaWYgKGVsbSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRvTWFwKGVsbXNUb1VwZGF0ZSwgcHJvcE5hbWUsIGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGVsbXNUb1VwZGF0ZS5nZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxtc1RvVXBkYXRlLnNldChwcm9wTmFtZSwgZWxlbWVudHMuZmlsdGVyKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5mb3JFYWNoKChlbG1zKSA9PiBlbG1zLmZvckVhY2goZm9yY2VVcGRhdGUpKTtcbiAgICAgICAgICAgIGNsZWFudXBFbGVtZW50cyhlbG1zVG9VcGRhdGUpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyA/IHZhbCgpIDogdmFsKTtcbmNvbnN0IGNyZWF0ZU9ic2VydmFibGVNYXAgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUgPSAoYSwgYikgPT4gYSAhPT0gYikgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZFN0YXRlID0gdW53cmFwKGRlZmF1bHRTdGF0ZSk7XG4gICAgbGV0IHN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXModW53cmFwcGVkU3RhdGUgIT09IG51bGwgJiYgdW53cmFwcGVkU3RhdGUgIT09IHZvaWQgMCA/IHVud3JhcHBlZFN0YXRlIDoge30pKTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgZGlzcG9zZTogW10sXG4gICAgICAgIGdldDogW10sXG4gICAgICAgIHNldDogW10sXG4gICAgICAgIHJlc2V0OiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFdoZW4gcmVzZXR0aW5nIHRoZSBzdGF0ZSwgdGhlIGRlZmF1bHQgc3RhdGUgbWF5IGJlIGEgZnVuY3Rpb24gLSB1bndyYXAgaXQgdG8gaW52b2tlIGl0LlxuICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBzdGF0ZSB3b24ndCBiZSBwcm9wZXJseSByZXNldFxuICAgICAgICBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKChfYSA9IHVud3JhcChkZWZhdWx0U3RhdGUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICBoYW5kbGVycy5yZXNldC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAvLyBDYWxsIGZpcnN0IGRpc3Bvc2UgYXMgcmVzZXR0aW5nIHRoZSBzdGF0ZSB3b3VsZFxuICAgICAgICAvLyBjYXVzZSBsZXNzIHVwZGF0ZXMgOylcbiAgICAgICAgaGFuZGxlcnMuZGlzcG9zZS5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXQgPSAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgaGFuZGxlcnMuZ2V0LmZvckVhY2goKGNiKSA9PiBjYihwcm9wTmFtZSkpO1xuICAgICAgICByZXR1cm4gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXQgPSAocHJvcE5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUodmFsdWUsIG9sZFZhbHVlLCBwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUsIHZhbHVlLCBvbGRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzdGF0ZSA9ICh0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8ge31cbiAgICAgICAgOiBuZXcgUHJveHkodW53cmFwcGVkU3RhdGUsIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG93bktleXMoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlcy5rZXlzKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVzLmhhcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KF8sIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShoYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBvbkNoYW5nZSA9IChwcm9wTmFtZSwgY2IpID0+IHtcbiAgICAgICAgY29uc3QgdW5TZXQgPSBvbignc2V0JywgKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2IobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byB1bndyYXAgdGhlIGRlZmF1bHRTdGF0ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBtaWdodCBub3QgYmUgc2VuZGluZyB0aGUgcmlnaHQgcmVzZXQgdmFsdWUuXG4gICAgICAgIGNvbnN0IHVuUmVzZXQgPSBvbigncmVzZXQnLCAoKSA9PiBjYih1bndyYXAoZGVmYXVsdFN0YXRlKVtwcm9wTmFtZV0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVuU2V0KCk7XG4gICAgICAgICAgICB1blJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB1c2UgPSAoLi4uc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YnMgPSBzdWJzY3JpcHRpb25zLnJlZHVjZSgodW5zdWJzLCBzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3NldCcsIHN1YnNjcmlwdGlvbi5zZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZ2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ2dldCcsIHN1YnNjcmlwdGlvbi5nZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24ucmVzZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbigncmVzZXQnLCBzdWJzY3JpcHRpb24ucmVzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdkaXNwb3NlJywgc3Vic2NyaXB0aW9uLmRpc3Bvc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnN1YnM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vicy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgfTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdGF0ZXMuZ2V0KGtleSk7XG4gICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2Ioa2V5LCBvbGRWYWx1ZSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIHNldCxcbiAgICAgICAgb24sXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICB1c2UsXG4gICAgICAgIGRpc3Bvc2UsXG4gICAgICAgIHJlc2V0LFxuICAgICAgICBmb3JjZVVwZGF0ZSxcbiAgICB9O1xufTtcbmNvbnN0IHJlbW92ZUZyb21BcnJheSA9IChhcnJheSwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgYXJyYXkubGVuZ3RoLS07XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUpID0+IHtcbiAgICBjb25zdCBtYXAgPSBjcmVhdGVPYnNlcnZhYmxlTWFwKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKTtcbiAgICBtYXAudXNlKHN0ZW5jaWxTdWJzY3JpcHRpb24oKSk7XG4gICAgcmV0dXJuIG1hcDtcbn07XG5cbi8vIE5PVEU6IERvIG5vdCBhdHRlbXB0IHRvIGNvbnZlcnQgdGhpcyB0byBhIG5hbWVkLWV4cG9ydCBtb2R1bGUuIEl0IHRyaWdnZXJzIGNvbXBpbGF0aW9uIGlzc3VlcyBpbiBSb2xsdXAgdGhhdCBJIHNwZW50IGRheXMgdHJ5aW5nIHRvXG5jb25zdCB7IHN0YXRlLCBvbkNoYW5nZSB9ID0gY3JlYXRlU3RvcmUoe1xuICB0ZW1wbGF0ZUlkOiAnJyxcbiAgdGVtcGxhdGU6IG51bGwsXG4gIGxvYWRQcm9ncmVzczogMCxcbiAgbG9hZGluZzogZmFsc2UsXG4gIC8vIFRoaXMgY2FuIGJlIHVzZWQgYXMgYSBkYXRhIGZpZWxkIG9uIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGZvcmNlIHJlLXJlbmRlcmluZyB3aGVuIHRoZSB1bmRlcmx5aW5nIGRhdGEgaGFzIGNoYW5nZWQuIFN0ZW5jaWwgc3RvcmVzXG4gIC8vIGFyZSBoYW5keSBidXQgbm90IHZlcnkgc29waGlzdGljYXRlZC4gVGhleSBkb24ndCByZS1yZW5kZXIgb24gXCJkZWVwXCIgY2hhbmdlcy5cbiAgdXBkYXRlQ291bnQ6IDEsXG4gIHBhZ2VOdW1iZXJzOiBbXSxcbiAgcGFnZVVyaXM6IHt9LFxuICByb2xlTmFtZXM6IFtdLFxuICBmaWVsZHM6IFtdLFxuICBkaXJ0eTogZmFsc2UsXG59KTtcbm9uQ2hhbmdlKCd0ZW1wbGF0ZScsIGFzeW5jIChuZXdUZW1wbGF0ZSkgPT4ge1xuICBpZiAoIW5ld1RlbXBsYXRlKSB7XG4gICAgY29uc29sZS5sb2coJ1tURU1QTEFURVNUT1JFXSBDbGVhcmluZyB0ZW1wbGF0ZScpO1xuICAgIHN0YXRlLmZpZWxkcyA9IFtdO1xuICAgIHN0YXRlLnJvbGVOYW1lcyA9IFtdO1xuICAgIHN0YXRlLnBhZ2VOdW1iZXJzID0gW107XG4gICAgc3RhdGUuZGlydHkgPSBmYWxzZTtcbiAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgc3RhdGUubG9hZFByb2dyZXNzID0gMDtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5sb2coJ1tURU1QTEFURVNUT1JFXSBUZW1wbGF0ZSBsb2FkZWQnLCBuZXdUZW1wbGF0ZSk7XG4gIHN0YXRlLnJvbGVOYW1lcyA9IG5ld1RlbXBsYXRlLnJvbGVzLm1hcChyb2xlID0+IHJvbGUubmFtZSk7XG4gIGNvbnNvbGUubG9nKCdbVEVNUExBVEVTVE9SRV0gTG9hZGVkIHJvbGVzJywgc3RhdGUucm9sZU5hbWVzKTtcbiAgc3RhdGUuZmllbGRzID0gW107XG4gIG5ld1RlbXBsYXRlLnJvbGVzLmZvckVhY2gocm9sZSA9PiB7XG4gICAgc3RhdGUuZmllbGRzLnB1c2goLi4ucm9sZS5maWVsZHMpO1xuICB9KTtcbiAgY29uc29sZS5sb2coJ1tURU1QTEFURVNUT1JFXSBMb2FkZWQgZmllbGRzJywgc3RhdGUuZmllbGRzKTtcbiAgc3RhdGUucGFnZU51bWJlcnMgPSBpbnRlZ2VyU2VxdWVuY2UoMSwgbmV3VGVtcGxhdGUucGFnZXMubGVuZ3RoKTtcbiAgc3RhdGUudXBkYXRlQ291bnQrKztcbn0pO1xuLy8gVE9ETzogRG8gbm90IHJlbHkgb24gdGhpcywgaXQgZG9lc24ndCBhcHBlYXIgdG8gYmUgd29ya2luZ1xub25DaGFuZ2UoJ2ZpZWxkcycsIG5ld0ZpZWxkID0+IHtcbiAgY29uc29sZS5sb2coJ1tURU1QTEFURVNUT1JFXSBGaWVsZCBjaGFuZ2VkJywgbmV3RmllbGQpO1xuICBzdGF0ZS5kaXJ0eSA9IHRydWU7XG59KTtcblxuZXhwb3J0IHsgc3RhdGUgYXMgcyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHJlZHVjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1yZWR1Y2UnKS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIENIUk9NRV9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3JlZHVjZScpO1xuLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxudmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=