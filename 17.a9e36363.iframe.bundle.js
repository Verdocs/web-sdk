/*! For license information please see 17.a9e36363.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"./dist/esm/Envelopes-b87b1909.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getEnvelopeById})),__webpack_require__.d(__webpack_exports__,"b",(function(){return state}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./dist/esm/utils-5cddd371.js"),_index_fd7b8a34_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./dist/esm/index-fd7b8a34.js"),_Templates_0638b1e4_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./dist/esm/Templates-0638b1e4.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var _createStore=Object(_index_fd7b8a34_js__WEBPACK_IMPORTED_MODULE_23__.a)({envelope:null,template:null,loadProgress:0,loading:!0,error:"",roleNames:[],dirty:!1}),state=_createStore.state;(0,_createStore.onChange)("envelope",function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(newEnvelope){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(newEnvelope){_context.next=8;break}return console.log("[ENVELOPESTORE] Clearing envelope"),state.roleNames=[],state.dirty=!1,state.loading=!1,state.error="",state.loadProgress=0,_context.abrupt("return");case 8:console.log("[ENVELOPESTORE] Loaded envelope",newEnvelope),state.roleNames=newEnvelope.recipients.map((function(recipient){return recipient.role_name})),console.log("[ENVELOPESTORE] Loaded roles",state.roleNames);case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}());var getEnvelopeById=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(endpoint,envelopeId){var _a,_b,envelope,template;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(envelopeId){_context2.next=3;break}return console.log("[ENVELOPES] Missing required envelope ID"),_context2.abrupt("return");case 3:if((null===(_a=state.envelope)||void 0===_a?void 0:_a.id)!==envelopeId){_context2.next=6;break}return console.log("[ENVELOPES] Skipping load for already-loaded envelope ID"),_context2.abrupt("return");case 6:return state.error="",state.loading=!0,state.envelope=null,_context2.prev=9,console.log("[ENVELOPES] Loading envelope "+envelopeId),_context2.next=13,Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_22__.j)(endpoint,envelopeId,!0);case 13:if(envelope=_context2.sent){_context2.next=17;break}return console.log("[ENVELOPES] Unable to load envelope"),_context2.abrupt("return");case 17:return state.envelope=envelope,_context2.next=20,Object(_Templates_0638b1e4_js__WEBPACK_IMPORTED_MODULE_24__.c)(endpoint,envelope.template_id,!0);case 20:if(template=_context2.sent,envelope){_context2.next=24;break}return console.log("[ENVELOPES] Unable to load template"),_context2.abrupt("return");case 24:state.template=template,state.loading=!1,_context2.next=34;break;case 28:throw _context2.prev=28,_context2.t0=_context2.catch(9),state.loading=!1,state.error=401===(null===(_b=null===_context2.t0||void 0===_context2.t0?void 0:_context2.t0.response)||void 0===_b?void 0:_b.status)?"Authentication required":_context2.t0.message,console.log("[ENVELOPES] Error loading envelope",_context2.t0),_context2.t0;case 34:case"end":return _context2.stop()}}),_callee2,null,[[9,28]])})));return function getEnvelopeById(_x2,_x3){return _ref2.apply(this,arguments)}}()},"./dist/esm/Templates-0638b1e4.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId,ssr){return endpoint.api.get("/templates/".concat(templateId)+(ssr?"?ssr=true":"")).then((function(r){return r.data}))},createTemplate=function createTemplate(endpoint,params){return endpoint.api.post("/templates/",params).then((function(r){return r.data}))}},"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/index-fd7b8a34.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createStore}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./dist/esm/index-f78d163d.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isConnected=function isConnected(maybeElement){return!("isConnected"in maybeElement)||maybeElement.isConnected},cleanupElements=function debounce(fn,ms){var timeoutId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout((function(){timeoutId=0,fn.apply(void 0,args)}),ms)}}((function(map){var _step,_iterator=_createForOfIteratorHelper(map.keys());try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;map.set(key,map.get(key).filter(isConnected))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),2e3),unwrap=function unwrap(val){return"function"==typeof val?val():val},removeFromArray=function removeFromArray(array,item){var index=array.indexOf(item);index>=0&&(array[index]=array[array.length-1],array.length--)},createStore=function createStore(defaultState,shouldUpdate){var map=function createObservableMap(defaultState){var shouldUpdate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(a,b){return a!==b},unwrappedState=unwrap(defaultState),states=new Map(Object.entries(null!=unwrappedState?unwrappedState:{})),handlers={dispose:[],get:[],set:[],reset:[]},reset=function reset(){var _a;states=new Map(Object.entries(null!==(_a=unwrap(defaultState))&&void 0!==_a?_a:{})),handlers.reset.forEach((function(cb){return cb()}))},dispose=function dispose(){handlers.dispose.forEach((function(cb){return cb()})),reset()},_get=function get(propName){return handlers.get.forEach((function(cb){return cb(propName)})),states.get(propName)},_set=function set(propName,value){var oldValue=states.get(propName);shouldUpdate(value,oldValue,propName)&&(states.set(propName,value),handlers.set.forEach((function(cb){return cb(propName,value,oldValue)})))},state="undefined"==typeof Proxy?{}:new Proxy(unwrappedState,{get:function get(_,propName){return _get(propName)},ownKeys:function ownKeys(_){return Array.from(states.keys())},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has:function has(_,propName){return states.has(propName)},set:function set(_,propName,value){return _set(propName,value),!0}}),on=function on(eventName,callback){return handlers[eventName].push(callback),function(){removeFromArray(handlers[eventName],callback)}},onChange=function onChange(propName,cb){var unSet=on("set",(function(key,newValue){key===propName&&cb(newValue)})),unReset=on("reset",(function(){return cb(unwrap(defaultState)[propName])}));return function(){unSet(),unReset()}},use=function use(){for(var _len2=arguments.length,subscriptions=new Array(_len2),_key2=0;_key2<_len2;_key2++)subscriptions[_key2]=arguments[_key2];var unsubs=subscriptions.reduce((function(unsubs,subscription){return subscription.set&&unsubs.push(on("set",subscription.set)),subscription.get&&unsubs.push(on("get",subscription.get)),subscription.reset&&unsubs.push(on("reset",subscription.reset)),subscription.dispose&&unsubs.push(on("dispose",subscription.dispose)),unsubs}),[]);return function(){return unsubs.forEach((function(unsub){return unsub()}))}};return{state:state,get:_get,set:_set,on:on,onChange:onChange,use:use,dispose:dispose,reset:reset,forceUpdate:function forceUpdate(key){var oldValue=states.get(key);handlers.set.forEach((function(cb){return cb(key,oldValue,oldValue)}))}}}(defaultState,shouldUpdate);return map.use(function stencilSubscription(){if("function"!=typeof _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.g)return{};var elmsToUpdate=new Map;return{dispose:function dispose(){return elmsToUpdate.clear()},get:function get(propName){var elm=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.g)();elm&&function appendToMap(map,propName,value){var items=map.get(propName);items?items.includes(value)||items.push(value):map.set(propName,[value])}(elmsToUpdate,propName,elm)},set:function set(propName){var elements=elmsToUpdate.get(propName);elements&&elmsToUpdate.set(propName,elements.filter(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.f)),cleanupElements(elmsToUpdate)},reset:function reset(){elmsToUpdate.forEach((function(elms){return elms.forEach(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.f)})),cleanupElements(elmsToUpdate)}}}()),map}},"./dist/esm/verdocs-sign.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_sign",(function(){return VerdocsSign}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.finally.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/index-f78d163d.js"),_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./dist/esm/utils-5cddd371.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_37__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/Validators-f110bae2.js")),_VerdocsEndpoint_28ba21cc_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./dist/esm/VerdocsEndpoint-28ba21cc.js"),_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./dist/esm/Envelopes-b87b1909.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/Token-54690789.js"),__webpack_require__("./dist/esm/index-fd7b8a34.js"),__webpack_require__("./dist/esm/Templates-0638b1e4.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},updateRecipient=function updateRecipient(endpoint,envelopeId,roleName,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/recipients/").concat(roleName),params).then((function(r){return r.data}))]}))}))},envelopeRecipientSubmit=function envelopeRecipientSubmit(endpoint,envelopeId,roleName){return updateRecipient(endpoint,envelopeId,roleName,{action:"submit"})},envelopeRecipientDecline=function envelopeRecipientDecline(endpoint,envelopeId,roleName){return updateRecipient(endpoint,envelopeId,roleName,{action:"decline"})},createSignature=function createSignature(endpoint,name,signature){var data=new FormData;return data.append("signature",signature,name),endpoint.api.post("/signatures",data).then((function(r){return r.data}))},createInitials=function createInitials(endpoint,name,initials){var data=new FormData;return data.append("initial",initials,name),endpoint.api.post("/initials",data).then((function(r){return r.data}))},VerdocsSign=function(){function VerdocsSign(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSign),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.e)(this,"sdkError",7),this.envelopeLoaded=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.e)(this,"envelopeLoaded",7),this.envelopeUpdated=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.e)(this,"envelopeUpdated",7),this.endpoint=null,this.recipientIndex=-1,this.fields=[],this.envelopeId=null,this.roleId=null,this.inviteCode=null,this.recipient=null,this.signerToken=null,this.hasSignature=!1,this.nextButtonLabel="Start",this.nextSubmits=!1,this.errorMessage="",this.focusedField="",this.isDone=!1,this.showDone=!1,this.finishLater=!1,this.showFinishLater=!1}var _handleNext,_handleFieldChange,_handleOptionSelected,_componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSign,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint=new _VerdocsEndpoint_28ba21cc_js__WEBPACK_IMPORTED_MODULE_38__.a({sessionType:"signing"})}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,_d,_e,_f,_g,_yield$getSigningSess,session,recipient,signerToken,_this=this;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.envelopeId){_context.next=3;break}return null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__.a("[SIGN] Missing required envelopId",500,"")),_context.abrupt("return");case 3:if(this.roleId){_context.next=6;break}return null===(_b=this.sdkError)||void 0===_b||_b.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__.a("[SIGN] Missing required roleId",500,"")),_context.abrupt("return");case 6:if(this.inviteCode){_context.next=9;break}return null===(_c=this.sdkError)||void 0===_c||_c.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__.a("[SIGN] Missing required inviteCode",500,"")),_context.abrupt("return");case 9:return _context.prev=9,console.log("[SIGN] Processing invite code for "+this.envelopeId+" / "+this.roleId),_context.next=13,Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.b)(this.endpoint,{envelopeId:this.envelopeId,roleId:this.roleId,inviteCode:this.inviteCode});case 13:return _yield$getSigningSess=_context.sent,session=_yield$getSigningSess.session,recipient=_yield$getSigningSess.recipient,signerToken=_yield$getSigningSess.signerToken,console.log("[SIGN] Loaded signing session "+session.email+" / "+session.profile_id),this.recipient=recipient,console.log("[SIGN] We are recipient",this.recipient),this.signerToken=signerToken,this.endpoint.setToken(signerToken),this.recipient.agreed&&(this.nextButtonLabel="Next"),_context.next=25,Object(_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.a)(this.endpoint,this.envelopeId);case 25:this.recipientIndex=_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.recipients.findIndex((function(recipient){return recipient.role_name==_this.roleId})),this.recipientIndex>-1?(this.recipient=_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.recipients[this.recipientIndex],this.fields=this.recipient.fields,console.log("[SIGN] Found our recipient in the envelope",this.recipientIndex,this.recipient,this.fields)):console.log("[SIGN] Could not find our recipient record",this.roleId,_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.recipients),this.isDone=["submitted","canceled","declined"].includes(this.recipient.status),null===(_d=this.envelopeLoaded)||void 0===_d||_d.emit({endpoint:this.endpoint,envelope:_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope}),_context.next=35;break;case 31:_context.prev=31,_context.t0=_context.catch(9),console.log("Error with signing session",_context.t0),null===(_e=this.sdkError)||void 0===_e||_e.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__.a(_context.t0.message,null===(_f=_context.t0.response)||void 0===_f?void 0:_f.status,null===(_g=_context.t0.response)||void 0===_g?void 0:_g.data));case 35:case"end":return _context.stop()}}),_callee,this,[[9,31]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"handleClickAgree",value:function handleClickAgree(){var _this2=this;(function envelopeRecipientAgree(endpoint,envelopeId,roleName,agreed){return updateRecipient(endpoint,envelopeId,roleName,{action:"update",agreed:agreed})})(this.endpoint,this.envelopeId,this.roleId,!0).then((function(r){var _a;_this2.nextButtonLabel="Next",_this2.recipient=r,null===(_a=_this2.envelopeUpdated)||void 0===_a||_a.emit({endpoint:_this2.endpoint,envelope:_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope,event:"agreed"})})).catch((function(e){var _a,_b,_c;console.log("Update failure",e),null===(_a=_this2.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data))}))}},{key:"handleOptionSelected",value:(_handleOptionSelected=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(e){var declineResult;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=e.detail.id,_context2.next="later"===_context2.t0?3:"claim"===_context2.t0?6:"decline"===_context2.t0?7:"print"===_context2.t0?13:"download"===_context2.t0?15:17;break;case 3:return this.finishLater=!0,this.showFinishLater=!0,_context2.abrupt("break",17);case 6:return _context2.abrupt("break",17);case 7:return _context2.next=9,envelopeRecipientDecline(this.endpoint,this.envelopeId,this.roleId);case 9:return declineResult=_context2.sent,console.log("Decline result",declineResult),this.isDone=!0,_context2.abrupt("break",17);case 13:return window.print(),_context2.abrupt("break",17);case 15:return Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.m)(this.endpoint,_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope,_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.envelope_document_id).catch((function(){})),_context2.abrupt("break",17);case 17:case"end":return _context2.stop()}}),_callee2,this)}))),function handleOptionSelected(_x){return _handleOptionSelected.apply(this,arguments)})},{key:"updateRecipientFieldValue",value:function updateRecipientFieldValue(fieldName,updateResult){this.recipient.fields.forEach((function(oldField){oldField.name===fieldName&&(console.log("New settings",fieldName,updateResult.settings),oldField.settings=updateResult.settings,Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.o)(oldField))}))}},{key:"saveFieldChange",value:function saveFieldChange(fieldName,fields){var _this3=this;Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.c)(this.endpoint,this.envelopeId,fieldName,fields).then((function(updateResult){_this3.updateRecipientFieldValue(fieldName,updateResult)})).catch((function(e){var _a,_b,_c,_d,_e,_f;401===(null===(_a=e.response)||void 0===_a?void 0:_a.status)&&"jwt expired"===(null===(_c=null===(_b=e.response)||void 0===_b?void 0:_b.data)||void 0===_c?void 0:_c.error)?(console.log("[SIGN] Signing session expired"),_this3.errorMessage="Signing session expired."):console.log("[SIGN] Server error",e),null===(_d=_this3.sdkError)||void 0===_d||_d.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_40__.a(e.message,null===(_e=e.response)||void 0===_e?void 0:_e.status,null===(_f=e.response)||void 0===_f?void 0:_f.data))}))}},{key:"handleFieldChange",value:(_handleFieldChange=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(field,e){var _e$target,value,checked,options,_options,initialsBlob,signatureBlob,iso,_this4=this;return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:_e$target=e.target,value=_e$target.value,checked=_e$target.checked,_context5.t0=field.type,_context5.next="textbox"===_context5.t0?4:"checkbox_group"===_context5.t0?5:"radio_button_group"===_context5.t0?7:"dropdown"===_context5.t0?9:"initial"===_context5.t0?10:"signature"===_context5.t0?16:"date"===_context5.t0?22:"timestamp"===_context5.t0?24:26;break;case 4:return _context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:value}));case 5:return options=field.settings.options.map((function(option){return{id:option.id,checked:e.target.checked}})),_context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:{options:options}}));case 7:return _options=field.settings.options.map((function(option){return{id:option.id,selected:e.target.value===option.id}})),_context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:{options:_options}}));case 9:return _context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:e.detail}));case 10:return _context5.next=12,fetch(e.detail);case 12:return _context5.next=14,_context5.sent.blob();case 14:return initialsBlob=_context5.sent,_context5.abrupt("return",createInitials(this.endpoint,"initial",initialsBlob).then(function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(newInitials){var updateResult;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.e)(_this4.endpoint,_this4.envelopeId,field.name,newInitials.id);case 2:updateResult=_context3.sent,_this4.updateRecipientFieldValue(field.name,updateResult);case 4:case"end":return _context3.stop()}}),_callee3)})));return function(_x4){return _ref.apply(this,arguments)}}()));case 16:return _context5.next=18,fetch(e.detail);case 18:return _context5.next=20,_context5.sent.blob();case 20:return signatureBlob=_context5.sent,_context5.abrupt("return",createSignature(this.endpoint,"signature",signatureBlob).then(function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(newSignature){var updateResult;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.d)(_this4.endpoint,_this4.envelopeId,field.name,newSignature.id);case 2:updateResult=_context4.sent,_this4.updateRecipientFieldValue(field.name,updateResult);case 4:case"end":return _context4.stop()}}),_callee4)})));return function(_x5){return _ref2.apply(this,arguments)}}()));case 22:return iso=e.target.getAttribute("iso"),_context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:iso}));case 24:return console.log("Updating timestamp",{value:value,ts:e.target.getAttribute("timestamp")}),_context5.abrupt("break",28);case 26:return console.log("Unhandled field update",{value:value,checked:checked},field),_context5.abrupt("break",28);case 28:case"end":return _context5.stop()}}),_callee5,this)}))),function handleFieldChange(_x2,_x3){return _handleFieldChange.apply(this,arguments)})},{key:"isFieldValid",value:function isFieldValid(field){var _a,_b,_c,_d,_e,_f,_g,_field$required=field.required,required=void 0!==_field$required&&_field$required,_ref3=field.settings||{},_ref3$result=_ref3.result,result=void 0===_ref3$result?"":_ref3$result,_ref3$value=_ref3.value,value=void 0===_ref3$value?"":_ref3$value,_ref3$base=_ref3.base64,base64=void 0===_ref3$base?"":_ref3$base;switch(field.type){case"textbox":switch((null===(_a=field.settings)||void 0===_a?void 0:_a.validator)||""){case"email":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_37__.b)(result);case"phone":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_37__.a)(result);default:return!required||""!==result}case"signature":case"initial":return console.log("Evaluating initial field",field),!required||""!==base64;case"timestamp":return!0;case"textarea":case"date":case"attachment":return!required||""!==result;case"dropdown":return!required||""!==value;case"checkbox_group":var checkedCount=((null===(_c=null===(_b=field.settings)||void 0===_b?void 0:_b.options)||void 0===_c?void 0:_c.filter((function(option){return option.checked})))||[]).length;return!required||checkedCount>=((null===(_d=field.settings)||void 0===_d?void 0:_d.minimum_checked)||0)&&checkedCount<=((null===(_e=field.settings)||void 0===_e?void 0:_e.maximum_checked)||999);case"radio_button_group":return!required||((null===(_g=null===(_f=field.settings)||void 0===_f?void 0:_f.options)||void 0===_g?void 0:_g.filter((function(option){return option.selected})))||[]).length>0;default:return!1}}},{key:"handleNext",value:(_handleNext=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var _a,result,requiredFields,focusedIndex,nextFocusedIndex,nextRequiredField,skips,id,el,_this5=this;return _regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!this.nextSubmits){_context6.next=14;break}return _context6.prev=1,_context6.next=4,envelopeRecipientSubmit(this.endpoint,this.envelopeId,this.roleId);case 4:result=_context6.sent,console.log("[SIGN] Submitted successfully",result),this.showDone=!0,this.isDone=!0,_context6.next=13;break;case 10:_context6.prev=10,_context6.t0=_context6.catch(1),console.log("Error submitting",_context6.t0);case 13:return _context6.abrupt("return");case 14:requiredFields=this.fields.filter((function(field){return field.required})),focusedIndex=requiredFields.findIndex((function(field){return field.name===_this5.focusedField})),(nextFocusedIndex=focusedIndex+1)>=requiredFields.length&&(nextFocusedIndex=0),nextRequiredField=requiredFields[nextFocusedIndex],(skips=0)<requiredFields.length&&["signature","initial"].includes(nextRequiredField.type)&&"signed"===(null===(_a=nextRequiredField.settings)||void 0===_a?void 0:_a.result)&&(skips++,++nextFocusedIndex>=requiredFields.length&&(nextFocusedIndex=0),nextRequiredField=requiredFields[nextFocusedIndex]),skips>=requiredFields.length&&(nextRequiredField=null),nextRequiredField&&(id=Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.h)(nextRequiredField),null==(el=document.getElementById(id))||el.focusField(),this.focusedField=nextRequiredField.name);case 23:case"end":return _context6.stop()}}),_callee6,this,[[1,10]])}))),function handleNext(){return _handleNext.apply(this,arguments)})},{key:"checkRecipientFields",value:function checkRecipientFields(){var _this6=this,invalidFields=this.recipient.fields.filter((function(field){return!_this6.isFieldValid(field)}));invalidFields.length<1?(this.nextButtonLabel="Finish",this.nextSubmits=!0):(console.log("[SIGN] Remaining invalid fields",invalidFields),this.nextButtonLabel="Next",this.nextSubmits=!1)}},{key:"attachFieldAttributes",value:function attachFieldAttributes(pageInfo,field,roleIndex,el){var _a,_this7=this;el.addEventListener("input",(function(e){return _this7.handleFieldChange(field,e).finally((function(){return _this7.checkRecipientFields()}))})),el.addEventListener("blur",(function(){return _this7.checkRecipientFields()})),el.addEventListener("fieldChange",(function(e){return _this7.handleFieldChange(field,e).finally((function(){return _this7.checkRecipientFields()}))})),el.setAttribute("roleindex",roleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale),el.setAttribute("initials",this.recipient?Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.f)(this.recipient.full_name):""),el.setAttribute("name",(null===(_a=this.recipient)||void 0===_a?void 0:_a.full_name)||"")}},{key:"handlePageRendered",value:function handlePageRendered(e){var _this8=this,pageInfo=e.detail,roleIndex=Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.a)(_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.roleNames,this.recipient.role_name),recipientFields=this.recipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Page rendered, updating fields",{pageInfo:pageInfo,roleIndex:roleIndex,recipientFields:recipientFields}),recipientFields.forEach((function(field){var el=Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.l)(field,pageInfo,roleIndex,{disabled:!1,editable:!1,draggable:!1,done:_this8.isDone});el&&(Array.isArray(el)?el.map((function(e){return _this8.attachFieldAttributes(pageInfo,field,roleIndex,e)})):_this8.attachFieldAttributes(pageInfo,field,roleIndex,el))})),_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.recipients.filter((function(recipient){return recipient.role_name!==_this8.recipient.role_name})).forEach((function(otherRecipient){var otherRoleIndex=Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.a)(_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.roleNames,otherRecipient.role_name);otherRecipient.fields.filter((function(field){return field.page===pageInfo.pageNumber})).forEach((function(field){var el=Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.l)(field,pageInfo,otherRoleIndex,{disabled:!0,editable:!1,draggable:!1,done:_this8.isDone});el&&el.setAttribute&&(el.setAttribute("roleindex",otherRoleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale))}))})),this.checkRecipientFields()}},{key:"render",value:function render(){var _a,_b,_c,_d,_this9=this;if(_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.loading||!_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope)return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-loader",null));return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.b,{class:{agreed:null===(_a=this.recipient)||void 0===_a?void 0:_a.agreed}},!this.isDone&&!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"intro"},"Please review and act on these documents."),!this.isDone&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"header"},!this.isDone&&!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-dropdown",{options:[{id:"later",label:"Finish Later"},{id:"decline",label:"Decline to Sign"},{id:"print",label:"Print Without Signing",disabled:!0},{id:"download",label:"Download"}],onOptionSelected:function onOptionSelected(e){return _this9.handleOptionSelected(e)}}),(null===(_b=this.recipient)||void 0===_b?void 0:_b.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.a,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("img",{src:"https://verdocs.com/assets/white-logo.svg",alt:"Verdocs Logo",class:"logo"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"title"},_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.name),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{style:{flex:"1"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></svg>',style:{width:"24px",height:"24px",fill:"#fff",cursor:"pointer"},onClick:function onClick(){return window.print()}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"></path></svg>',style:{width:"24px",height:"24px",fill:"#fff",cursor:"pointer",margin:"0 16px",maginRight:"30px"},onClick:function onClick(){return Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_35__.m)(_this9.endpoint,_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope,_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.envelope_document_id).catch((function(){}))}})):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"agree"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-checkbox",{name:"agree",label:"I agree to use electronic records and signatures.",onInput:function onInput(){return _this9.handleClickAgree()}})),!this.isDone&&!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-button",{size:"small",label:this.nextButtonLabel,disabled:!(null===(_c=this.recipient)||void 0===_c?void 0:_c.agreed),onClick:function onClick(){return _this9.handleNext()}})),this.isDone||(null===(_d=this.recipient)||void 0===_d?void 0:_d.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{style:{display:"none"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"cover"}),this.isDone?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-view",{endpoint:this.endpoint,envelopeId:this.envelopeId,onSdkError:function onSdkError(e){var _a;return null===(_a=_this9.sdkError)||void 0===_a?void 0:_a.emit(e.detail)}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"document"},(_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.envelope.documents||[]).map((function(envelopeDocument){var pages=_toConsumableArray((null==envelopeDocument?void 0:envelopeDocument.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.a,null,pages.map((function(page){var _a,templatePage=null===(_a=_Envelopes_b87b1909_js__WEBPACK_IMPORTED_MODULE_39__.b.template)||void 0===_a?void 0:_a.pages.find((function(p){return p.sequence===page.sequence}));return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-document-page",{pageImageUri:(null==templatePage?void 0:templatePage.display_uri)||page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,onPageRendered:function onPageRendered(e){return _this9.handlePageRendered(e)},layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})})))}))),this.showFinishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-ok-dialog",{heading:"You've saved your document to finish later.",message:"To complete the document, use the link in the original email notification inviting you to review and finish the document.",onNext:function onNext(){return _this9.showFinishLater=!1}}),this.errorMessage&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-ok-dialog",{heading:"Network Error",message:this.errorMessage,onNext:function onNext(){return _this9.errorMessage=""}}),this.showDone&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-ok-dialog",{heading:"You're Done!",message:"You can access the Verdoc at any time by clicking on the link from the invitation email.<br /><br />After all recipients have completed their actions, you will receive an email with the document and envelope certificate attached.",onNext:function onNext(){return _this9.showDone=!1}}))}}]),VerdocsSign}();VerdocsSign.style='verdocs-sign{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-sign div{display:block;-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-sign input{vertical-align:top}verdocs-sign .header{color:#fff;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex:0 0 56px;flex:0 0 56px;padding:0 15px;font-size:12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-webkit-transition:all 0.25s;transition:all 0.25s;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}verdocs-sign .header .logo{width:80px;margin:-6px 0 0 10px}verdocs-sign .header .title{padding-left:16px;font-size:18px;font-weight:500;text-overflow:ellipsis;white-space:nowrap}verdocs-sign .intro{width:100%;display:-ms-flexbox;display:flex;-ms-flex:0 0 60px;flex:0 0 60px;color:#111111;padding:0 15px;font-size:18px;font-weight:500;line-height:28px;-ms-flex-direction:row;flex-direction:row;background:#ffffff;-ms-flex-align:center;align-items:center}verdocs-sign .cover{top:0;left:0;right:0;bottom:0;z-index:999;position:absolute;background:rgba(0, 0, 0, 0.5)}verdocs-sign .document{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}verdocs-sign .document .inner{width:100%;max-width:1028px}verdocs-sign .agree{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding:0 15px}verdocs-sign .agree .intro{display:none}verdocs-sign .agree .header{-ms-flex:0 0 56px;flex:0 0 56px}@media print{verdocs-sign .header{display:none}}'},"./node_modules/core-js/modules/es.array.reduce.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$reduce=__webpack_require__("./node_modules/core-js/internals/array-reduce.js").left,arrayMethodIsStrict=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js"),CHROME_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js");$({target:"Array",proto:!0,forced:!arrayMethodIsStrict("reduce")||!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83},{reduce:function reduce(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.promise.finally.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),promiseResolve=__webpack_require__("./node_modules/core-js/internals/promise-resolve.js"),defineBuiltIn=__webpack_require__("./node_modules/core-js/internals/define-built-in.js"),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($({target:"Promise",proto:!0,real:!0,forced:!!NativePromiseConstructor&&fails((function(){NativePromisePrototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction=isCallable(onFinally);return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then((function(){return x}))}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then((function(){throw e}))}:onFinally)}}),!IS_PURE&&isCallable(NativePromiseConstructor)){var method=getBuiltIn("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn(NativePromisePrototype,"finally",method,{unsafe:!0})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3V0aWxzL2VudmVsb3BlU3RvcmUudHMiLCJ3ZWJwYWNrOi8vL3NyYy91dGlscy9FbnZlbG9wZXMudHMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1RlbXBsYXRlcy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVmFsaWRhdG9ycy5qcyIsIndlYnBhY2s6Ly8vc3JjL3V0aWxzL2Vycm9ycy50cyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0BzdGVuY2lsL3N0b3JlL2Rpc3QvaW5kZXgubWpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9SZWNpcGllbnRzLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9TaWduYXR1cmVzLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9Jbml0aWFscy5qcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtc2lnbi92ZXJkb2NzLXNpZ24udHN4Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbWJlZHMvdmVyZG9jcy1zaWduL3ZlcmRvY3Mtc2lnbi5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5LmpzIl0sIm5hbWVzIjpbImNyZWF0ZVN0b3JlIiwiZW52ZWxvcGUiLCJ0ZW1wbGF0ZSIsImxvYWRQcm9ncmVzcyIsImxvYWRpbmciLCJlcnJvciIsInJvbGVOYW1lcyIsImRpcnR5Iiwic3RhdGUiLCJvbkNoYW5nZSIsIm5ld0VudmVsb3BlIiwiY29uc29sZSIsImxvZyIsInJlY2lwaWVudHMiLCJtYXAiLCJyZWNpcGllbnQiLCJyb2xlX25hbWUiLCJnZXRFbnZlbG9wZUJ5SWQiLCJlbmRwb2ludCIsImVudmVsb3BlSWQiLCJpZCIsIkVudmVsb3BlU3RvcmUiLCJnZXRFbnZlbG9wZSIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVfaWQiLCJyZXNwb25zZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJnZXRUZW1wbGF0ZXMiLCJwYXJhbXMiLCJhcGkiLCJwb3N0IiwidGhlbiIsInIiLCJkYXRhIiwidGVtcGxhdGVJZCIsInNzciIsImdldCIsImNvbmNhdCIsImNyZWF0ZVRlbXBsYXRlIiwiRU1BSUxfUkVHRVgiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsInRlc3QiLCJQSE9ORV9SRUdFWCIsImlzVmFsaWRQaG9uZSIsInBob25lIiwiU0RLRXJyb3IiLCJzdGF0dXNDb2RlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJFcnJvciIsImlzQ29ubmVjdGVkIiwibWF5YmVFbGVtZW50IiwiY2xlYW51cEVsZW1lbnRzIiwiZGVib3VuY2UiLCJmbiIsIm1zIiwidGltZW91dElkIiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJrZXlzIiwia2V5Iiwic2V0IiwiZmlsdGVyIiwidW53cmFwIiwidmFsIiwicmVtb3ZlRnJvbUFycmF5IiwiYXJyYXkiLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwibGVuZ3RoIiwiZGVmYXVsdFN0YXRlIiwic2hvdWxkVXBkYXRlIiwiY3JlYXRlT2JzZXJ2YWJsZU1hcCIsImEiLCJiIiwidW53cmFwcGVkU3RhdGUiLCJzdGF0ZXMiLCJNYXAiLCJlbnRyaWVzIiwiaGFuZGxlcnMiLCJkaXNwb3NlIiwicmVzZXQiLCJfYSIsImZvckVhY2giLCJjYiIsInByb3BOYW1lIiwidmFsdWUiLCJvbGRWYWx1ZSIsIlByb3h5IiwiXyIsIm93bktleXMiLCJBcnJheSIsImZyb20iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiaGFzIiwib24iLCJldmVudE5hbWUiLCJjYWxsYmFjayIsInB1c2giLCJ1blNldCIsIm5ld1ZhbHVlIiwidW5SZXNldCIsInVzZSIsInN1YnNjcmlwdGlvbnMiLCJ1bnN1YnMiLCJyZWR1Y2UiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YiIsImZvcmNlVXBkYXRlIiwic3RlbmNpbFN1YnNjcmlwdGlvbiIsImdldFJlbmRlcmluZ1JlZiIsImVsbXNUb1VwZGF0ZSIsImNsZWFyIiwiZWxtIiwiYXBwZW5kVG9NYXAiLCJpdGVtcyIsImluY2x1ZGVzIiwiZWxlbWVudHMiLCJlbG1zIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJhZG9wdCIsImFwcGx5IiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJ0IiwiZyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJ1cGRhdGVSZWNpcGllbnQiLCJyb2xlTmFtZSIsInB1dCIsImVudmVsb3BlUmVjaXBpZW50U3VibWl0IiwiYWN0aW9uIiwiZW52ZWxvcGVSZWNpcGllbnREZWNsaW5lIiwiY3JlYXRlU2lnbmF0dXJlIiwibmFtZSIsInNpZ25hdHVyZSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiY3JlYXRlSW5pdGlhbHMiLCJpbml0aWFscyIsIlZlcmRvY3NTaWduIiwicmVjaXBpZW50SW5kZXgiLCJmaWVsZHMiLCJjb21wb25lbnRXaWxsTG9hZCIsIlZlcmRvY3NFbmRwb2ludCIsInNlc3Npb25UeXBlIiwic2RrRXJyb3IiLCJlbWl0Iiwicm9sZUlkIiwiaW52aXRlQ29kZSIsIkVudmVsb3Blcy5nZXRTaWduaW5nU2Vzc2lvbiIsInNlc3Npb24iLCJzaWduZXJUb2tlbiIsInByb2ZpbGVfaWQiLCJzZXRUb2tlbiIsImFncmVlZCIsIm5leHRCdXR0b25MYWJlbCIsImZpbmRJbmRleCIsImlzRG9uZSIsImVudmVsb3BlTG9hZGVkIiwiaGFuZGxlQ2xpY2tBZ3JlZSIsImVudmVsb3BlUmVjaXBpZW50QWdyZWUiLCJlbnZlbG9wZVVwZGF0ZWQiLCJldmVudCIsImRldGFpbCIsImZpbmlzaExhdGVyIiwic2hvd0ZpbmlzaExhdGVyIiwiZGVjbGluZVJlc3VsdCIsIndpbmRvdyIsInByaW50Iiwic2F2ZVBERiIsImVudmVsb3BlX2RvY3VtZW50X2lkIiwidXBkYXRlUmVjaXBpZW50RmllbGRWYWx1ZSIsImZpZWxkTmFtZSIsInVwZGF0ZVJlc3VsdCIsIm9sZEZpZWxkIiwic2V0dGluZ3MiLCJ1cGRhdGVEb2N1bWVudEZpZWxkVmFsdWUiLCJzYXZlRmllbGRDaGFuZ2UiLCJFbnZlbG9wZXMudXBkYXRlRW52ZWxvcGVGaWVsZCIsImVycm9yTWVzc2FnZSIsImZpZWxkIiwidGFyZ2V0IiwiY2hlY2tlZCIsInR5cGUiLCJwcmVwYXJlZCIsIm9wdGlvbnMiLCJvcHRpb24iLCJzZWxlY3RlZCIsImZldGNoIiwiYmxvYiIsImluaXRpYWxzQmxvYiIsIm5ld0luaXRpYWxzIiwidXBkYXRlRW52ZWxvcGVGaWVsZEluaXRpYWxzIiwic2lnbmF0dXJlQmxvYiIsIm5ld1NpZ25hdHVyZSIsInVwZGF0ZUVudmVsb3BlRmllbGRTaWduYXR1cmUiLCJpc28iLCJnZXRBdHRyaWJ1dGUiLCJ0cyIsImlzRmllbGRWYWxpZCIsInJlcXVpcmVkIiwiYmFzZTY0IiwidmFsaWRhdG9yIiwiY2hlY2tlZENvdW50IiwibWluaW11bV9jaGVja2VkIiwibWF4aW11bV9jaGVja2VkIiwibmV4dFN1Ym1pdHMiLCJzaG93RG9uZSIsInJlcXVpcmVkRmllbGRzIiwiZm9jdXNlZEluZGV4IiwiZm9jdXNlZEZpZWxkIiwibmV4dEZvY3VzZWRJbmRleCIsIm5leHRSZXF1aXJlZEZpZWxkIiwic2tpcHMiLCJnZXRGaWVsZElkIiwiZWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXNGaWVsZCIsImNoZWNrUmVjaXBpZW50RmllbGRzIiwiaW52YWxpZEZpZWxkcyIsImF0dGFjaEZpZWxkQXR0cmlidXRlcyIsInBhZ2VJbmZvIiwicm9sZUluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUZpZWxkQ2hhbmdlIiwic2V0QXR0cmlidXRlIiwieFNjYWxlIiwieVNjYWxlIiwiZnVsbE5hbWVUb0luaXRpYWxzIiwiZnVsbF9uYW1lIiwiaGFuZGxlUGFnZVJlbmRlcmVkIiwiZ2V0Um9sZUluZGV4IiwicmVjaXBpZW50RmllbGRzIiwicGFnZSIsInBhZ2VOdW1iZXIiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZGlzYWJsZWQiLCJlZGl0YWJsZSIsImRyYWdnYWJsZSIsImlzQXJyYXkiLCJvdGhlclJlY2lwaWVudCIsIm90aGVyUm9sZUluZGV4IiwicmVuZGVyIiwiaCIsIkhvc3QiLCJjbGFzcyIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJoYW5kbGVPcHRpb25TZWxlY3RlZCIsIkZyYWdtZW50Iiwic3JjIiwiYWx0Iiwic3R5bGUiLCJmbGV4IiwiaW5uZXJIVE1MIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxsIiwiY3Vyc29yIiwib25DbGljayIsIm1hcmdpbiIsIm1hZ2luUmlnaHQiLCJvbklucHV0Iiwic2l6ZSIsImhhbmRsZU5leHQiLCJkaXNwbGF5Iiwib25TZGtFcnJvciIsImRvY3VtZW50cyIsImVudmVsb3BlRG9jdW1lbnQiLCJwYWdlcyIsInNvcnQiLCJzZXF1ZW5jZSIsInRlbXBsYXRlUGFnZSIsImZpbmQiLCJwIiwicGFnZUltYWdlVXJpIiwiZGlzcGxheV91cmkiLCJ2aXJ0dWFsV2lkdGgiLCJ2aXJ0dWFsSGVpZ2h0Iiwib25QYWdlUmVuZGVyZWQiLCJsYXllcnMiLCJoZWFkaW5nIiwib25OZXh0IiwiJCIsIiRyZWR1Y2UiLCJsZWZ0IiwiYXJyYXlNZXRob2RJc1N0cmljdCIsIkNIUk9NRV9WRVJTSU9OIiwiSVNfTk9ERSIsInByb3RvIiwiZm9yY2VkIiwiY2FsbGJhY2tmbiIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIklTX1BVUkUiLCJOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IiLCJmYWlscyIsImdldEJ1aWx0SW4iLCJpc0NhbGxhYmxlIiwic3BlY2llc0NvbnN0cnVjdG9yIiwicHJvbWlzZVJlc29sdmUiLCJkZWZpbmVCdWlsdEluIiwiTmF0aXZlUHJvbWlzZVByb3RvdHlwZSIsInJlYWwiLCJvbkZpbmFsbHkiLCJDIiwiaXNGdW5jdGlvbiIsIngiLCJtZXRob2QiLCJ1bnNhZmUiXSwibWFwcGluZ3MiOiI7K3JhQU8wQkEsMkRBQVksQ0FDcENDLFNBQVUsS0FDVkMsU0FBVSxLQUNWQyxhQUFjLEVBQ2RDLFNBQVMsRUFDVEMsTUFBTyxHQUVQQyxVQUFXLEdBQ1hDLE9BQU8sSUFSRkMsTUFBSyxhQUFMQSxPQVdQQyxFQVhzQixhQUFSQSxVQVdMLFdBQVUsa0VBQUUsaUJBQU1DLGFBQVcsb0hBQy9CQSxZQUFhLENBQUYsc0JBTVMsT0FMdkJDLFFBQVFDLElBQUkscUNBQ1pKLE1BQU1GLFVBQVksR0FDbEJFLE1BQU1ELE9BQVEsRUFDZEMsTUFBTUosU0FBVSxFQUNoQkksTUFBTUgsTUFBUSxHQUNkRyxNQUFNTCxhQUFlLEVBQUUsaUNBSXpCUSxRQUFRQyxJQUFJLGtDQUFtQ0YsYUFFL0NGLE1BQU1GLFVBQVlJLFlBQVlHLFdBQVdDLEtBQUksU0FBQUMsV0FBUyxPQUFJQSxVQUFVQyxTQUFTLElBRTdFTCxRQUFRQyxJQUFJLCtCQUFnQ0osTUFBTUYsV0FBVyx5REFDOUQsdURBaEJrQixJLElDWE5XLGdCQUFlLG1FQUFHLGtCQUFPQyxTQUEyQkMsWUFBa0Isb0pBQzVFQSxXQUFZLENBQUYsdUJBQzJDLE9BQXhEUixRQUFRQyxJQUFJLDRDQUE0QyxzQ0FJaEMsUUFBdEIsU0FB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LEtBQUssQ0FBRWpJLEtBQU0sV0FBMEIsSUFBSyxXQUEwQixHQUMxRyxLQUl1RSxDQUNyRSxRQUFXLFNBQVVxVCxXQUNuQixJQUFJQyxFQUFJTixtQkFBbUJwTCxLQUFNa0wsV0FBVyxZQUN4Q1MsV0FBYVIsV0FBV00sV0FDNUIsT0FBT3pMLEtBQUs1SCxLQUNWdVQsV0FBYSxTQUFVQyxHQUNyQixPQUFPUCxlQUFlSyxFQUFHRCxhQUFhclQsTUFBSyxXQUFjLE9BQU93VCxDQUFHLEdBQ3JFLEVBQUlILFVBQ0pFLFdBQWEsU0FBVTlNLEdBQ3JCLE9BQU93TSxlQUFlSyxFQUFHRCxhQUFhclQsTUFBSyxXQUFjLE1BQU15RyxDQUFHLEdBQ3BFLEVBQUk0TSxVQUVSLEtBSUdWLFNBQVdJLFdBQVdILDBCQUEyQixDQUNwRCxJQUFJYSxPQUFTWCxXQUFXLFdBQVczUixVQUFtQixRQUNsRGdTLHVCQUFnQyxVQUFNTSxRQUN4Q1AsY0FBY0MsdUJBQXdCLFVBQVdNLE9BQVEsQ0FBRUMsUUFBUSxHQUV2RSxDIiwiZmlsZSI6IjE3LmE5ZTM2MzYzLmlmcmFtZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOT1RFOiBEbyBub3QgYXR0ZW1wdCB0byBjb252ZXJ0IHRoaXMgdG8gYSBuYW1lZC1leHBvcnQgbW9kdWxlLiBJdCB0cmlnZ2VycyBjb21waWxhdGlvbiBpc3N1ZXMgaW4gUm9sbHVwIHRoYXQgSSBzcGVudCBkYXlzIHRyeWluZyB0b1xuLy8gcmVzb2x2ZS4gVGhpcyBuZWVkcyB0byBleHBvcnQgYSBzaW5nbGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc3RvcmUncyBzdGF0ZS4gQW55IGhlbHBlciBmdW5jdGlvbnMgc2hvdWxkIGdvIGluIFRlbXBsYXRlcy50cyBoZXJlLlxuXG5pbXBvcnQge2NyZWF0ZVN0b3JlfSBmcm9tICdAc3RlbmNpbC9zdG9yZSc7XG5pbXBvcnQge0lFbnZlbG9wZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge0lUZW1wbGF0ZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UeXBlcyc7XG5cbmNvbnN0IHtzdGF0ZSwgb25DaGFuZ2V9ID0gY3JlYXRlU3RvcmUoe1xuICBlbnZlbG9wZTogbnVsbCBhcyBJRW52ZWxvcGUgfCBudWxsLFxuICB0ZW1wbGF0ZTogbnVsbCBhcyBJVGVtcGxhdGUgfCBudWxsLFxuICBsb2FkUHJvZ3Jlc3M6IDAsXG4gIGxvYWRpbmc6IHRydWUsXG4gIGVycm9yOiAnJyxcblxuICByb2xlTmFtZXM6IFtdIGFzIHN0cmluZ1tdLFxuICBkaXJ0eTogZmFsc2UsXG59KTtcblxub25DaGFuZ2UoJ2VudmVsb3BlJywgYXN5bmMgbmV3RW52ZWxvcGUgPT4ge1xuICBpZiAoIW5ld0VudmVsb3BlKSB7XG4gICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNUT1JFXSBDbGVhcmluZyBlbnZlbG9wZScpO1xuICAgIHN0YXRlLnJvbGVOYW1lcyA9IFtdO1xuICAgIHN0YXRlLmRpcnR5ID0gZmFsc2U7XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLmVycm9yID0gJyc7XG4gICAgc3RhdGUubG9hZFByb2dyZXNzID0gMDtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zb2xlLmxvZygnW0VOVkVMT1BFU1RPUkVdIExvYWRlZCBlbnZlbG9wZScsIG5ld0VudmVsb3BlKTtcblxuICBzdGF0ZS5yb2xlTmFtZXMgPSBuZXdFbnZlbG9wZS5yZWNpcGllbnRzLm1hcChyZWNpcGllbnQgPT4gcmVjaXBpZW50LnJvbGVfbmFtZSk7XG4gIG5ld0VudmVsb3BlLnJlY2lwaWVudHM7XG4gIGNvbnNvbGUubG9nKCdbRU5WRUxPUEVTVE9SRV0gTG9hZGVkIHJvbGVzJywgc3RhdGUucm9sZU5hbWVzKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBzdGF0ZTtcbiIsImltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuaW1wb3J0IHtnZXRFbnZlbG9wZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9FbnZlbG9wZXMnO1xuaW1wb3J0IEVudmVsb3BlU3RvcmUgZnJvbSAnLi9lbnZlbG9wZVN0b3JlJztcbmltcG9ydCB7Z2V0VGVtcGxhdGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVGVtcGxhdGVzJztcblxuLy8gQWxsb3dzIGVudmVsb3BlIGRhdGEgdG8gYmUgY2FjaGVkIGZvciByZXVzZSBiZXR3ZWVuIGNvbXBvbmVudHMsIHdpdGhvdXQgcGFyZW50IGNvbXBvbmVudHMgaGF2aW5nIHRvIHByb3AtZHJpbGwgZW50aXJlIGVudmVsb3BlcyBpbnRvXG4vLyBjaGlsZCBlbGVtZW50cy5cbmV4cG9ydCBjb25zdCBnZXRFbnZlbG9wZUJ5SWQgPSBhc3luYyAoZW5kcG9pbnQ6IFZlcmRvY3NFbmRwb2ludCwgZW52ZWxvcGVJZDogc3RyaW5nKSA9PiB7XG4gIGlmICghZW52ZWxvcGVJZCkge1xuICAgIGNvbnNvbGUubG9nKGBbRU5WRUxPUEVTXSBNaXNzaW5nIHJlcXVpcmVkIGVudmVsb3BlIElEYCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKEVudmVsb3BlU3RvcmUuZW52ZWxvcGU/LmlkID09PSBlbnZlbG9wZUlkKSB7XG4gICAgY29uc29sZS5sb2coYFtFTlZFTE9QRVNdIFNraXBwaW5nIGxvYWQgZm9yIGFscmVhZHktbG9hZGVkIGVudmVsb3BlIElEYCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgRW52ZWxvcGVTdG9yZS5lcnJvciA9ICcnO1xuICBFbnZlbG9wZVN0b3JlLmxvYWRpbmcgPSB0cnVlO1xuICBFbnZlbG9wZVN0b3JlLmVudmVsb3BlID0gbnVsbDtcblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBbRU5WRUxPUEVTXSBMb2FkaW5nIGVudmVsb3BlICR7ZW52ZWxvcGVJZH1gKTtcbiAgICBjb25zdCBlbnZlbG9wZSA9IGF3YWl0IGdldEVudmVsb3BlKGVuZHBvaW50LCBlbnZlbG9wZUlkLCB0cnVlKTtcbiAgICBpZiAoIWVudmVsb3BlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0VOVkVMT1BFU10gVW5hYmxlIHRvIGxvYWQgZW52ZWxvcGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBFbnZlbG9wZVN0b3JlLmVudmVsb3BlID0gZW52ZWxvcGU7XG5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IGdldFRlbXBsYXRlKGVuZHBvaW50LCBlbnZlbG9wZS50ZW1wbGF0ZV9pZCwgdHJ1ZSk7XG4gICAgaWYgKCFlbnZlbG9wZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNdIFVuYWJsZSB0byBsb2FkIHRlbXBsYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRW52ZWxvcGVTdG9yZS50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIEVudmVsb3BlU3RvcmUubG9hZGluZyA9IGZhbHNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgRW52ZWxvcGVTdG9yZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgRW52ZWxvcGVTdG9yZS5lcnJvciA9IGU/LnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSA/ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgOiBlLm1lc3NhZ2U7XG4gICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNdIEVycm9yIGxvYWRpbmcgZW52ZWxvcGUnLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuIiwiLyoqXG4gKiBBIFRlbXBsYXRlIGRlZmluZXMgaG93IGEgVmVyZG9jcyBzaWduaW5nIGZsb3cgd2lsbCBiZSBwZXJmb3JtZWQsIGluY2x1ZGluZyBhdHRhY2htZW50cywgc2lnbmluZyBmaWVsZHMsIGFuZFxuICogcmVjaXBpZW50cy5cbiAqXG4gKiBAbW9kdWxlXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG4vKipcbiAqIEdldCBhbGwgdGVtcGxhdGVzIGFjY2Vzc2libGUgYnkgdGhlIGNhbGxlciwgd2l0aCBvcHRpb25hbCBmaWx0ZXJzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpKTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgaXNfc3RhcnJlZDogdHJ1ZSB9KTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgaXNfY3JlYXRvcjogdHJ1ZSB9KTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgaXNfb3JnYW5pemF0aW9uOiB0cnVlIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzJywgeyBwYXJhbXM6IHBhcmFtcyB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBvbmUgdGVtcGxhdGUgYnkgaXRzIElELlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIHNzcikge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQpICsgKHNzciA/ICc/c3NyPXRydWUnIDogJycpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBvd25lciBpbmZvcm1hdGlvbiBmb3IgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVPd25lckluZm8oKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFRlbXBsYXRlT3duZXJJbmZvID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IG5ld1RlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLmNyZWF0ZVRlbXBsYXRlKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7Li4ufSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcy8nLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogVXBkYXRlIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IHVwZGF0ZWRUZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy51cGRhdGVUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScsIHsgbmFtZTogJ05ldyBOYW1lJyB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIHVwZGF0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wdXQoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkKSwgcGFyYW1zKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIERlbGV0ZSBhIHRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBUZW1wbGF0ZXMuZGVsZXRlVGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGRlbGV0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZGVsZXRlKFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogU2VhcmNoIGZvciB0ZW1wbGF0ZXMgbWF0Y2hpbmcgdmFyaW91cyBjcml0ZXJpYS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3Qge3Jlc3VsdCwgcGFnZSwgdG90YWx9ID0gYXdhaXQgVGVtcGxhdGVzLnNlYXJjaCgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyAuLi4gfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBzZWFyY2hUZW1wbGF0ZXMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhcmFtcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucG9zdCgnL3RlbXBsYXRlcy9zZWFyY2gnLCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCBhIHN1bW1hcnkgb2YgdGVtcGxhdGUgZGF0YSwgdHlwaWNhbGx5IHVzZWQgdG8gcG9wdWxhdGUgYWRtaW4gcGFuZWwgZGFzaGJvYXJkIHBhZ2VzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCBzdW1tYXJ5ID0gYXdhaXQgVGVtcGxhdGVzLmdldFN1bW1hcnkoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIDApO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U3VtbWFyeSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7IHBhcmFtcyA9IHt9OyB9XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAgICAgLnBvc3QoJy90ZW1wbGF0ZXMvc3VtbWFyeScsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG4iLCIvKipcbiAqIEdldCBhbGwgZGVmaW5lZCB2YWxpZGF0b3JzXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtEb2N1bWVudHN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IERvY3VtZW50cy5nZXREb2N1bWVudHModGVtcGxhdGVJRCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRWYWxpZGF0b3JzID0gZnVuY3Rpb24gKGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KCcvdmFsaWRhdG9ycycpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbmV4cG9ydCB2YXIgZ2V0VmFsaWRhdG9yID0gZnVuY3Rpb24gKGVuZHBvaW50LCB2YWxpZGF0b3JOYW1lKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3ZhbGlkYXRvcnMvXCIuY29uY2F0KHZhbGlkYXRvck5hbWUpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG52YXIgRU1BSUxfUkVHRVggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbmV4cG9ydCB2YXIgaXNWYWxpZEVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7IHJldHVybiAhIWVtYWlsICYmIEVNQUlMX1JFR0VYLnRlc3QoZW1haWwpOyB9O1xuLy8gQHNlZSBodHRwczovL3d3dy5yZWdleHRlc3Rlci5jb20vMTk3OFxudmFyIFBIT05FX1JFR0VYID0gLygoPzpcXCt8MDApWzE3XSg/OiB8XFwtKT98KD86XFwrfDAwKVsxLTldXFxkezAsMn0oPzogfFxcLSk/fCg/OlxcK3wwMCkxXFwtXFxkezN9KD86IHxcXC0pPyk/KDBcXGR8XFwoWzAtOV17M31cXCl8WzEtOV17MCwzfSkoPzooKD86IHxcXC0pWzAtOV17Mn0pezR9fCgoPzpbMC05XXsyfSl7NH0pfCgoPzogfFxcLSlbMC05XXszfSg/OiB8XFwtKVswLTldezR9KXwoWzAtOV17N30pKS87XG5leHBvcnQgdmFyIGlzVmFsaWRQaG9uZSA9IGZ1bmN0aW9uIChwaG9uZSkgeyByZXR1cm4gISFwaG9uZSAmJiBQSE9ORV9SRUdFWC50ZXN0KHBob25lKTsgfTtcbmV4cG9ydCB2YXIgaXNWYWxpZFJvbGVOYW1lID0gZnVuY3Rpb24gKHZhbHVlLCByb2xlcykgeyByZXR1cm4gcm9sZXMuZmluZEluZGV4KGZ1bmN0aW9uIChyb2xlKSB7IHJldHVybiByb2xlLm5hbWUgPT09IHZhbHVlOyB9KSAhPT0gLTE7IH07XG52YXIgVGFnUmVnRXggPSAvXlthLXpBLVowLTktXXswLDMyfSQvO1xuZXhwb3J0IHZhciBpc1ZhbGlkVGFnID0gZnVuY3Rpb24gKHZhbHVlLCB0YWdzKSB7IHJldHVybiBUYWdSZWdFeC50ZXN0KHZhbHVlKSB8fCB0YWdzLmZpbmRJbmRleChmdW5jdGlvbiAodGFnKSB7IHJldHVybiB0YWcubmFtZSA9PT0gdmFsdWU7IH0pICE9PSAtMTsgfTtcbiIsIi8qKlxuICogUGFzc2VkIHRvIHBhcmVudCBjb21wb25lbnRzIGluIGNlcnRhaW4gY2FsbGJhY2tzIHdpdGggdGhlIGxvd2VyLWxldmVsIEpTLVNESyBlbWl0cyBhbiBlcnJvclxuICovXG5leHBvcnQgY2xhc3MgU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvZGU7XG4gIHN0YXR1c0NvZGU7XG4gIHJlc3BvbnNlO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgc3RhdHVzQ29kZTogbnVtYmVyLCByZXNwb25zZTogYW55KSB7XG4gICAgc3VwZXIobWVzc2FnZSB8fCAnU0RLIEVycm9yJyk7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0UmVuZGVyaW5nUmVmLCBmb3JjZVVwZGF0ZSB9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuXG5jb25zdCBhcHBlbmRUb01hcCA9IChtYXAsIHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gbWFwLmdldChwcm9wTmFtZSk7XG4gICAgaWYgKCFpdGVtcykge1xuICAgICAgICBtYXAuc2V0KHByb3BOYW1lLCBbdmFsdWVdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWl0ZW1zLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgZGVib3VuY2UgPSAoZm4sIG1zKSA9PiB7XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSAwO1xuICAgICAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBvc3NpYmxlIGVsZW1lbnQgaXNDb25uZWN0ZWQuXG4gKiBUaGUgcHJvcGVydHkgbWlnaHQgbm90IGJlIHRoZXJlLCBzbyB3ZSBjaGVjayBmb3IgaXQuXG4gKlxuICogV2Ugd2FudCBpdCB0byByZXR1cm4gdHJ1ZSBpZiBpc0Nvbm5lY3RlZCBpcyBub3QgYSBwcm9wZXJ0eSxcbiAqIG90aGVyd2lzZSB3ZSB3b3VsZCByZW1vdmUgdGhlc2UgZWxlbWVudHMgYW5kIHdvdWxkIG5vdCB1cGRhdGUuXG4gKlxuICogQmV0dGVyIGxlYWsgaW4gRWRnZSB0aGFuIHRvIGJlIHVzZWxlc3MuXG4gKi9cbmNvbnN0IGlzQ29ubmVjdGVkID0gKG1heWJlRWxlbWVudCkgPT4gISgnaXNDb25uZWN0ZWQnIGluIG1heWJlRWxlbWVudCkgfHwgbWF5YmVFbGVtZW50LmlzQ29ubmVjdGVkO1xuY29uc3QgY2xlYW51cEVsZW1lbnRzID0gZGVib3VuY2UoKG1hcCkgPT4ge1xuICAgIGZvciAobGV0IGtleSBvZiBtYXAua2V5cygpKSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCBtYXAuZ2V0KGtleSkuZmlsdGVyKGlzQ29ubmVjdGVkKSk7XG4gICAgfVxufSwgMjAwMCk7XG5jb25zdCBzdGVuY2lsU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2V0UmVuZGVyaW5nUmVmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gYSBzdGVuY2lsIHByb2plY3QsIHdlIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlYWxseSBleHBvcnRlZCBieSBAc3RlbmNpbC9jb3JlLlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGVsbXNUb1VwZGF0ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiBlbG1zVG9VcGRhdGUuY2xlYXIoKSxcbiAgICAgICAgZ2V0OiAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGdldFJlbmRlcmluZ1JlZigpO1xuICAgICAgICAgICAgaWYgKGVsbSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRvTWFwKGVsbXNUb1VwZGF0ZSwgcHJvcE5hbWUsIGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGVsbXNUb1VwZGF0ZS5nZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxtc1RvVXBkYXRlLnNldChwcm9wTmFtZSwgZWxlbWVudHMuZmlsdGVyKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5mb3JFYWNoKChlbG1zKSA9PiBlbG1zLmZvckVhY2goZm9yY2VVcGRhdGUpKTtcbiAgICAgICAgICAgIGNsZWFudXBFbGVtZW50cyhlbG1zVG9VcGRhdGUpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyA/IHZhbCgpIDogdmFsKTtcbmNvbnN0IGNyZWF0ZU9ic2VydmFibGVNYXAgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUgPSAoYSwgYikgPT4gYSAhPT0gYikgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZFN0YXRlID0gdW53cmFwKGRlZmF1bHRTdGF0ZSk7XG4gICAgbGV0IHN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXModW53cmFwcGVkU3RhdGUgIT09IG51bGwgJiYgdW53cmFwcGVkU3RhdGUgIT09IHZvaWQgMCA/IHVud3JhcHBlZFN0YXRlIDoge30pKTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgZGlzcG9zZTogW10sXG4gICAgICAgIGdldDogW10sXG4gICAgICAgIHNldDogW10sXG4gICAgICAgIHJlc2V0OiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFdoZW4gcmVzZXR0aW5nIHRoZSBzdGF0ZSwgdGhlIGRlZmF1bHQgc3RhdGUgbWF5IGJlIGEgZnVuY3Rpb24gLSB1bndyYXAgaXQgdG8gaW52b2tlIGl0LlxuICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBzdGF0ZSB3b24ndCBiZSBwcm9wZXJseSByZXNldFxuICAgICAgICBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKChfYSA9IHVud3JhcChkZWZhdWx0U3RhdGUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICBoYW5kbGVycy5yZXNldC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAvLyBDYWxsIGZpcnN0IGRpc3Bvc2UgYXMgcmVzZXR0aW5nIHRoZSBzdGF0ZSB3b3VsZFxuICAgICAgICAvLyBjYXVzZSBsZXNzIHVwZGF0ZXMgOylcbiAgICAgICAgaGFuZGxlcnMuZGlzcG9zZS5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXQgPSAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgaGFuZGxlcnMuZ2V0LmZvckVhY2goKGNiKSA9PiBjYihwcm9wTmFtZSkpO1xuICAgICAgICByZXR1cm4gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXQgPSAocHJvcE5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUodmFsdWUsIG9sZFZhbHVlLCBwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUsIHZhbHVlLCBvbGRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzdGF0ZSA9ICh0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8ge31cbiAgICAgICAgOiBuZXcgUHJveHkodW53cmFwcGVkU3RhdGUsIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG93bktleXMoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlcy5rZXlzKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVzLmhhcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KF8sIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShoYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBvbkNoYW5nZSA9IChwcm9wTmFtZSwgY2IpID0+IHtcbiAgICAgICAgY29uc3QgdW5TZXQgPSBvbignc2V0JywgKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2IobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byB1bndyYXAgdGhlIGRlZmF1bHRTdGF0ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBtaWdodCBub3QgYmUgc2VuZGluZyB0aGUgcmlnaHQgcmVzZXQgdmFsdWUuXG4gICAgICAgIGNvbnN0IHVuUmVzZXQgPSBvbigncmVzZXQnLCAoKSA9PiBjYih1bndyYXAoZGVmYXVsdFN0YXRlKVtwcm9wTmFtZV0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVuU2V0KCk7XG4gICAgICAgICAgICB1blJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB1c2UgPSAoLi4uc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YnMgPSBzdWJzY3JpcHRpb25zLnJlZHVjZSgodW5zdWJzLCBzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3NldCcsIHN1YnNjcmlwdGlvbi5zZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZ2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ2dldCcsIHN1YnNjcmlwdGlvbi5nZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24ucmVzZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbigncmVzZXQnLCBzdWJzY3JpcHRpb24ucmVzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdkaXNwb3NlJywgc3Vic2NyaXB0aW9uLmRpc3Bvc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnN1YnM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vicy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgfTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdGF0ZXMuZ2V0KGtleSk7XG4gICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2Ioa2V5LCBvbGRWYWx1ZSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIHNldCxcbiAgICAgICAgb24sXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICB1c2UsXG4gICAgICAgIGRpc3Bvc2UsXG4gICAgICAgIHJlc2V0LFxuICAgICAgICBmb3JjZVVwZGF0ZSxcbiAgICB9O1xufTtcbmNvbnN0IHJlbW92ZUZyb21BcnJheSA9IChhcnJheSwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgYXJyYXkubGVuZ3RoLS07XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUpID0+IHtcbiAgICBjb25zdCBtYXAgPSBjcmVhdGVPYnNlcnZhYmxlTWFwKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKTtcbiAgICBtYXAudXNlKHN0ZW5jaWxTdWJzY3JpcHRpb24oKSk7XG4gICAgcmV0dXJuIG1hcDtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZU9ic2VydmFibGVNYXAsIGNyZWF0ZVN0b3JlIH07XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBVcGRhdGUgYSByZWNpcGllbnQncyBzdGF0dXMgYmxvY2tcbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVSZWNpcGllbnQgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChyb2xlTmFtZSksIHBhcmFtcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogU3VibWl0IGFuIGVudmVsb3BlIChzaWduaW5nIGlzIGZpbmlzaGVkKS4gTm90ZSB0aGF0IGFsbCBmaWVsZHMgbXVzdCBiZSB2YWxpZC9jb21wbGV0ZWQgZm9yIHRoaXMgdG8gc3VjY2VlZC5cbiAqL1xuZXhwb3J0IHZhciBlbnZlbG9wZVJlY2lwaWVudFN1Ym1pdCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gdXBkYXRlUmVjaXBpZW50KGVuZHBvaW50LCBlbnZlbG9wZUlkLCByb2xlTmFtZSwgeyBhY3Rpb246ICdzdWJtaXQnIH0pO1xufTtcbi8qKlxuICogRGVjbGluZSB0byBjb21wbGV0ZSBhbiBlbnZlbG9wZSAoc2lnbmluZyB3aWxsIG5vdCB0ZXJtaW5hdGVkKS5cbiAqL1xuZXhwb3J0IHZhciBlbnZlbG9wZVJlY2lwaWVudERlY2xpbmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVJlY2lwaWVudChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHsgYWN0aW9uOiAnZGVjbGluZScgfSk7XG59O1xuLyoqXG4gKiBDbGFpbSAvIGNoYW5nZSBvd25lcnNoaXAgb2YgYW4gZW52ZWxvcGUuIFRoaXMgaXMgYSBzcGVjaWFsLWNhc2Ugb3BlcmF0aW9uIG9ubHkgYXZhaWxhYmxlIGluIGNlcnRhaW4gd29ya2Zsb3dzLlxuICovXG5leHBvcnQgdmFyIGVudmVsb3BlUmVjaXBpZW50Q2hhbmdlT3duZXIgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCBlbWFpbCwgZnVsbE5hbWUpIHsgcmV0dXJuIHVwZGF0ZVJlY2lwaWVudChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHsgYWN0aW9uOiAnb3duZXJfdXBkYXRlJywgZW1haWw6IGVtYWlsLCBmdWxsX25hbWU6IGZ1bGxOYW1lIH0pOyB9O1xuLyoqXG4gKiBBZ3JlZSB0byBlbGVjdHJvbmljIHNpZ25pbmcuXG4gKi9cbmV4cG9ydCB2YXIgZW52ZWxvcGVSZWNpcGllbnRBZ3JlZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIGFncmVlZCkge1xuICAgIHJldHVybiB1cGRhdGVSZWNpcGllbnQoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCB7IGFjdGlvbjogJ3VwZGF0ZScsIGFncmVlZDogYWdyZWVkIH0pO1xufTtcbi8qKlxuICogQ2hhbmdlIGEgcmVjaXBpZW50J3MgbmFtZS5cbiAqL1xuZXhwb3J0IHZhciBlbnZlbG9wZVJlY2lwaWVudFVwZGF0ZU5hbWUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCBmdWxsTmFtZSkge1xuICAgIHJldHVybiB1cGRhdGVSZWNpcGllbnQoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCB7IGFjdGlvbjogJ3VwZGF0ZScsIG5ld19mdWxsX25hbWU6IGZ1bGxOYW1lIH0pO1xufTtcbi8qKlxuICogQ2hhbmdlIGEgcmVjaXBpZW50J3MgbmFtZS5cbiAqL1xuZXhwb3J0IHZhciBlbnZlbG9wZVJlY2lwaWVudFByZXBhcmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCByZWNpcGllbnRzKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVJlY2lwaWVudChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHsgYWN0aW9uOiAncHJlcGFyZScsIHJlY2lwaWVudHM6IHJlY2lwaWVudHMgfSk7XG59O1xuZXhwb3J0IHZhciBnZXRTaWduZXJUb2tlbiA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHJvbGVOYW1lKSwgXCIvc2lnbmVyLXRva2VuXCIpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5leHBvcnQgdmFyIGdldEluUGVyc29uTGluayA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHJvbGVOYW1lKSwgXCI/aW5fcGVyc29uX2xpbms9dHJ1ZVwiKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiLyoqXG4gKiBDcmVhdGUgYSBzaWduYXR1cmUgYmxvY2suIEluIGEgdHlwaWNhbCBzaWduaW5nIHdvcmtmbG93LCB0aGUgdXNlciBpcyBhc2tlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9jZXNzIHRvIFwiYWRvcHRcIlxuICogYSBzaWduYXR1cmUgYmxvY2sgdG8gYmUgdXNlZCBmb3IgYWxsIHNpZ25hdHVyZSBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LiBUaHVzLCB0aGlzIGlzIHR5cGljYWxseSBjYWxsZWQgb25lIHRpbWUgdG9cbiAqIGNyZWF0ZSBhbmQgc3RvcmUgYSBzaWduYXR1cmUgYmxvY2suIFRoZXJlYWZ0ZXIsIHRoZSBJRCBvZiB0aGUgc2lnbmF0dXJlIGJsb2NrIG1heSBiZSByZS11c2VkIGZvciBlYWNoIHNpZ25hdHVyZSBmaWVsZFxuICogdG8gYmUgXCJzdGFtcGVkXCIgYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlU2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBuYW1lLCBzaWduYXR1cmUpIHtcbiAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGRhdGEuYXBwZW5kKCdzaWduYXR1cmUnLCBzaWduYXR1cmUsIG5hbWUpO1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoXCIvc2lnbmF0dXJlc1wiLCBkYXRhKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCB0aGUgYXZhaWxiYWJsZSBzaWduYXR1cmVzIGZvciBhIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2lnbmF0dXJlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldCgnL3NpZ25hdHVyZXMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBhIHVzZXIncyBzaWduYXR1cmUgYnkgSUQuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBzaWduYXR1cmVJZCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi9zaWduYXR1cmVzL1wiLmNvbmNhdChzaWduYXR1cmVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogRGVsZXRlIGEgdXNlcidzIHNpZ25hdHVyZS5cbiAqL1xuZXhwb3J0IHZhciBkZWxldGVTaWduYXR1cmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHNpZ25hdHVyZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZGVsZXRlKFwiL3NpZ25hdHVyZXMvXCIuY29uY2F0KHNpZ25hdHVyZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiLyoqXG4gKiBDcmVhdGUgYW4gaW5pdGlhbHMgYmxvY2suIEluIGEgdHlwaWNhbCBzaWduaW5nIHdvcmtmbG93LCB0aGUgdXNlciBpcyBhc2tlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9jZXNzIHRvIFwiYWRvcHRcIlxuICogYW4gaW5pdGlhbHMgYmxvY2sgdG8gYmUgdXNlZCBmb3IgYWxsIGluaXRpYWxzIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuIFRodXMsIHRoaXMgaXMgdHlwaWNhbGx5IGNhbGxlZCBvbmUgdGltZSB0b1xuICogY3JlYXRlIGFuZCBzdG9yZSBhbiBpbml0aWFscyBibG9jay4gVGhlcmVhZnRlciwgdGhlIElEIG9mIHRoZSBpbml0aWFscyBibG9jayBtYXkgYmUgcmUtdXNlZCBmb3IgZWFjaCBpbml0aWFscyBmaWVsZFxuICogdG8gYmUgXCJzdGFtcGVkXCIgYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlSW5pdGlhbHMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIG5hbWUsIGluaXRpYWxzKSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgnaW5pdGlhbCcsIGluaXRpYWxzLCBuYW1lKTtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KFwiL2luaXRpYWxzXCIsIGRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbiIsImltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuaW1wb3J0IHtFbnZlbG9wZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMnO1xuaW1wb3J0IHtjcmVhdGVJbml0aWFsc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9Jbml0aWFscyc7XG5pbXBvcnQge2NyZWF0ZVNpZ25hdHVyZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9TaWduYXR1cmVzJztcbmltcG9ydCB7SURvY3VtZW50RmllbGQsIElFbnZlbG9wZSwgSVJlY2lwaWVudH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge2VudmVsb3BlUmVjaXBpZW50QWdyZWUsIGVudmVsb3BlUmVjaXBpZW50RGVjbGluZSwgZW52ZWxvcGVSZWNpcGllbnRTdWJtaXR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvUmVjaXBpZW50cyc7XG5pbXBvcnQge2lzVmFsaWRFbWFpbCwgaXNWYWxpZFBob25lfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1ZhbGlkYXRvcnMnO1xuaW1wb3J0IHtFdmVudCwgRXZlbnRFbWl0dGVyLCBIb3N0LCBGcmFnbWVudCwgQ29tcG9uZW50LCBQcm9wLCBTdGF0ZSwgaH0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5pbXBvcnQge3VwZGF0ZUVudmVsb3BlRmllbGRJbml0aWFscywgdXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9FbnZlbG9wZXMnO1xuaW1wb3J0IHtmdWxsTmFtZVRvSW5pdGlhbHMsIGdldEZpZWxkSWQsIGdldFJvbGVJbmRleCwgcmVuZGVyRG9jdW1lbnRGaWVsZCwgc2F2ZVBERiwgdXBkYXRlRG9jdW1lbnRGaWVsZFZhbHVlfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQge2dldEVudmVsb3BlQnlJZH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvRW52ZWxvcGVzJztcbmltcG9ydCBFbnZlbG9wZVN0b3JlIGZyb20gJy4uLy4uLy4uL3V0aWxzL2VudmVsb3BlU3RvcmUnO1xuaW1wb3J0IHtJRG9jdW1lbnRQYWdlSW5mb30gZnJvbSAnLi4vLi4vLi4vdXRpbHMvVHlwZXMnO1xuaW1wb3J0IHtTREtFcnJvcn0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZXJyb3JzJztcblxuY29uc3QgUHJpbnRJY29uID0gYDxzdmcgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xOSA4SDVjLTEuNjYgMC0zIDEuMzQtMyAzdjZoNHY0aDEydi00aDR2LTZjMC0xLjY2LTEuMzQtMy0zLTN6bS0zIDExSDh2LTVoOHY1em0zLTdjLS41NSAwLTEtLjQ1LTEtMXMuNDUtMSAxLTEgMSAuNDUgMSAxLS40NSAxLTEgMXptLTEtOUg2djRoMTJWM3pcIj48L3BhdGg+PC9zdmc+YDtcblxuY29uc3QgRG93bmxvYWRJY29uID0gYDxzdmcgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk01IDIwaDE0di0ySDV2MnpNMTkgOWgtNFYzSDl2Nkg1bDcgNyA3LTd6XCI+PC9wYXRoPjwvc3ZnPmA7XG5cbi8qKlxuICogRGlzcGxheSBhbiBlbnZlbG9wZSBzaWduaW5nIGV4cGVyaWVuY2UuIFRoaXMgd2lsbCBkaXNwbGF5IHRoZSBlbnZlbG9wZSdzIGF0dGFjaGVkXG4gKiBkb2N1bWVudHMgd2l0aCBzaWduaW5nIGZpZWxkcyBvdmVybGFpZCBvbiBlYWNoIHBhZ2UuXG4gKlxuICogVGhlIGNvbXBvbmVudCB3aWxsIGF0dGVtcHQgdG8gaW5pdGlhdGUgYSBzaWduaW5nIHNlc3Npb24gYW5kIGxvYWQgdGhlIHNwZWNpZmllZFxuICogZW52ZWxvcGUuIElmIHN1Y2Nlc3NmdWwsIHRoZSByZWNpcGllbnQncyBmaWVsZHMgd2lsbCBiZSBlbmFibGVkIGFuZCB0aGUgdXNlciB3aWxsXG4gKiBiZSBhYmxlIHRvIHNpZ24gdGhlIGVudmVsb3BlJ3MgYXR0YWNoZWQgZG9jdW1lbnRzLiBJZiBub3QsIGFuIGBzZGtFcnJvcmAgd2lsbCBiZVxuICogdGhyb3duIGFuZCB0aGUgY29tcG9uZW50IHdpbGwgYmUgYmxhbmsvZW1wdHkuIFRvIHByb3ZpZGUgdGhlIGJlc3QgdXNlciBleHBlcmllbmNlLFxuICogYXBwbGljYXRpb25zIHNob3VsZCBjYXB0dXJlIGFuZCBoYW5kbGUgdGhpcyBlcnJvciB0byBwcm92aWRlIHRoZSB1c2VyIHdpdGhcbiAqIGluc3RydWN0aW9ucy9vcHRpb25zIGZvciBuZXh0IHN0ZXBzIGJhc2VkIG9uIHRoZSBhcHBsaWNhdGlvbidzIGRlc2lnbiBhbmQgd29ya2Zsb3cuXG4gKlxuICogVW5saWtlIG90aGVyIGNvbXBvbmVudHMsIHRoaXMgd2lsbCBhbHdheXMgY3JlYXRlIGl0cyBvd24gZW5kcG9pbnQgdG8gbWFuYWdlIHRoZVxuICogc2Vzc2lvbiBzZXNzaW9uLiBUaGlzIGVuZHBvaW50IHdpbGwgYmUgaW5jbHVkZWQgaW4gZXZlbnQgY2FsbGJhY2tzIGZvciB0aGVcbiAqIGNvbnZlbmllbmNlIG9mIGhvc3QgYXBwbGljYXRpb25zIHRoYXQgbWF5IHdpc2ggdG8gbWFrZSBzZXJ2ZXIgY2FsbHMgdXNpbmcgdGhlXG4gKiBzaWduZXIncyBjcmVkZW50aWFscyBvbmNlIHNpZ25pbmcgaXMgY29tcGxldGUgKGUuZy4gdG8gb2J0YWluIGNvcGllcyBvZlxuICogdGhlIHNpZ25lZCBhdHRhY2htZW50cy4pXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLXNpZ24nLFxuICBzdHlsZVVybDogJ3ZlcmRvY3Mtc2lnbi5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc1NpZ24ge1xuICBlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50ID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBlbnZlbG9wZSB0byBzaWduLlxuICAgKi9cbiAgQFByb3AoKSBlbnZlbG9wZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSByb2xlIHRoYXQgd2lsbCBiZSBzaWduaW5nIGUuZy4gJ1JlY2lwaWVudCAxJ1xuICAgKi9cbiAgQFByb3AoKSByb2xlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgaW52aXRlIGNvZGUgZm9yIHRoZSBzaWduZXIuXG4gICAqL1xuICBAUHJvcCgpIGludml0ZUNvZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCBpZiBhbiBlcnJvciBvY2N1cnMuIFRoZSBldmVudCBkZXRhaWxzIHdpbGwgY29udGFpbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuIE1vc3QgZXJyb3JzIHdpbGxcbiAgICogdGVybWluYXRlIHRoZSBwcm9jZXNzLCBhbmQgdGhlIGNhbGxpbmcgYXBwbGljYXRpb24gc2hvdWxkIGNvcnJlY3QgdGhlIGNvbmRpdGlvbiBhbmQgcmUtcmVuZGVyIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgc2RrRXJyb3I6IEV2ZW50RW1pdHRlcjxTREtFcnJvcj47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIGVudmVsb3BlIGlzIHVwZGF0ZWQgaW4gYW55IHdheS5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBlbnZlbG9wZUxvYWRlZDogRXZlbnRFbWl0dGVyPHtlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50OyBlbnZlbG9wZTogSUVudmVsb3BlfT47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIGVudmVsb3BlIGlzIHVwZGF0ZWQgaW4gYW55IHdheS5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBlbnZlbG9wZVVwZGF0ZWQ6IEV2ZW50RW1pdHRlcjx7ZW5kcG9pbnQ6IFZlcmRvY3NFbmRwb2ludDsgZW52ZWxvcGU6IElFbnZlbG9wZTsgZXZlbnQ6IHN0cmluZ30+O1xuXG4gIEBTdGF0ZSgpIHJlY2lwaWVudDogSVJlY2lwaWVudCB8IG51bGwgPSBudWxsO1xuICBAU3RhdGUoKSBzaWduZXJUb2tlbiA9IG51bGw7XG4gIC8vIEBTdGF0ZSgpIGVudmVsb3BlOiBJRW52ZWxvcGUgfCBudWxsID0gbnVsbDtcbiAgLy8gQFN0YXRlKCkgZmllbGRzOiBJRG9jdW1lbnRGaWVsZFtdID0gW107XG4gIEBTdGF0ZSgpIGhhc1NpZ25hdHVyZSA9IGZhbHNlO1xuICBAU3RhdGUoKSBuZXh0QnV0dG9uTGFiZWwgPSAnU3RhcnQnO1xuICBAU3RhdGUoKSBuZXh0U3VibWl0cyA9IGZhbHNlO1xuICBAU3RhdGUoKSBlcnJvck1lc3NhZ2UgPSAnJztcbiAgQFN0YXRlKCkgZm9jdXNlZEZpZWxkID0gJyc7XG4gIEBTdGF0ZSgpIGlzRG9uZSA9IGZhbHNlO1xuICBAU3RhdGUoKSBzaG93RG9uZSA9IGZhbHNlO1xuXG4gIEBTdGF0ZSgpIGZpbmlzaExhdGVyID0gZmFsc2U7XG4gIEBTdGF0ZSgpIHNob3dGaW5pc2hMYXRlciA9IGZhbHNlO1xuXG4gIHJlY2lwaWVudEluZGV4OiBudW1iZXIgPSAtMTtcbiAgZmllbGRzOiBJRG9jdW1lbnRGaWVsZFtdID0gW107XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoe3Nlc3Npb25UeXBlOiAnc2lnbmluZyd9KTtcbiAgfVxuXG4gIGFzeW5jIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgaWYgKCF0aGlzLmVudmVsb3BlSWQpIHtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKCdbU0lHTl0gTWlzc2luZyByZXF1aXJlZCBlbnZlbG9wSWQnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnJvbGVJZCkge1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoJ1tTSUdOXSBNaXNzaW5nIHJlcXVpcmVkIHJvbGVJZCcsIDUwMCwgJycpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaW52aXRlQ29kZSkge1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoJ1tTSUdOXSBNaXNzaW5nIHJlcXVpcmVkIGludml0ZUNvZGUnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBbU0lHTl0gUHJvY2Vzc2luZyBpbnZpdGUgY29kZSBmb3IgJHt0aGlzLmVudmVsb3BlSWR9IC8gJHt0aGlzLnJvbGVJZH1gKTtcbiAgICAgIGNvbnN0IHtzZXNzaW9uLCByZWNpcGllbnQsIHNpZ25lclRva2VufSA9IGF3YWl0IEVudmVsb3Blcy5nZXRTaWduaW5nU2Vzc2lvbih0aGlzLmVuZHBvaW50LCB7XG4gICAgICAgIGVudmVsb3BlSWQ6IHRoaXMuZW52ZWxvcGVJZCxcbiAgICAgICAgcm9sZUlkOiB0aGlzLnJvbGVJZCxcbiAgICAgICAgaW52aXRlQ29kZTogdGhpcy5pbnZpdGVDb2RlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBbU0lHTl0gTG9hZGVkIHNpZ25pbmcgc2Vzc2lvbiAke3Nlc3Npb24uZW1haWx9IC8gJHtzZXNzaW9uLnByb2ZpbGVfaWR9YCk7XG5cbiAgICAgIHRoaXMucmVjaXBpZW50ID0gcmVjaXBpZW50O1xuICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBXZSBhcmUgcmVjaXBpZW50JywgdGhpcy5yZWNpcGllbnQpO1xuICAgICAgdGhpcy5zaWduZXJUb2tlbiA9IHNpZ25lclRva2VuO1xuICAgICAgdGhpcy5lbmRwb2ludC5zZXRUb2tlbihzaWduZXJUb2tlbik7XG5cbiAgICAgIGlmICh0aGlzLnJlY2lwaWVudC5hZ3JlZWQpIHtcbiAgICAgICAgdGhpcy5uZXh0QnV0dG9uTGFiZWwgPSAnTmV4dCc7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGdldEVudmVsb3BlQnlJZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQpO1xuXG4gICAgICB0aGlzLnJlY2lwaWVudEluZGV4ID0gRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5yZWNpcGllbnRzLmZpbmRJbmRleChyZWNpcGllbnQgPT4gcmVjaXBpZW50LnJvbGVfbmFtZSA9PSB0aGlzLnJvbGVJZCk7XG4gICAgICBpZiAodGhpcy5yZWNpcGllbnRJbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMucmVjaXBpZW50ID0gRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5yZWNpcGllbnRzW3RoaXMucmVjaXBpZW50SW5kZXhdO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IHRoaXMucmVjaXBpZW50LmZpZWxkcztcbiAgICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBGb3VuZCBvdXIgcmVjaXBpZW50IGluIHRoZSBlbnZlbG9wZScsIHRoaXMucmVjaXBpZW50SW5kZXgsIHRoaXMucmVjaXBpZW50LCB0aGlzLmZpZWxkcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIENvdWxkIG5vdCBmaW5kIG91ciByZWNpcGllbnQgcmVjb3JkJywgdGhpcy5yb2xlSWQsIEVudmVsb3BlU3RvcmUuZW52ZWxvcGUucmVjaXBpZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNEb25lID0gWydzdWJtaXR0ZWQnLCAnY2FuY2VsZWQnLCAnZGVjbGluZWQnXS5pbmNsdWRlcyh0aGlzLnJlY2lwaWVudC5zdGF0dXMpO1xuXG4gICAgICAvLyBUT0RPOiBGaXggc2VydmljZSB0byBhbGxvdyB0aGlzP1xuICAgICAgLy8gY29uc3Qgc2lncyA9IGF3YWl0IGdldFNpZ25hdHVyZXMoKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdzaWdzJywgc2lncyk7XG5cbiAgICAgIHRoaXMuZW52ZWxvcGVMb2FkZWQ/LmVtaXQoe2VuZHBvaW50OiB0aGlzLmVuZHBvaW50LCBlbnZlbG9wZTogRW52ZWxvcGVTdG9yZS5lbnZlbG9wZX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB3aXRoIHNpZ25pbmcgc2Vzc2lvbicsIGUpO1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDbGlja0FncmVlKCkge1xuICAgIGVudmVsb3BlUmVjaXBpZW50QWdyZWUodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCB0aGlzLnJvbGVJZCwgdHJ1ZSlcbiAgICAgIC50aGVuKHIgPT4ge1xuICAgICAgICB0aGlzLm5leHRCdXR0b25MYWJlbCA9ICdOZXh0JztcbiAgICAgICAgdGhpcy5yZWNpcGllbnQgPSByO1xuICAgICAgICB0aGlzLmVudmVsb3BlVXBkYXRlZD8uZW1pdCh7ZW5kcG9pbnQ6IHRoaXMuZW5kcG9pbnQsIGVudmVsb3BlOiBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLCBldmVudDogJ2FncmVlZCd9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGUgZmFpbHVyZScsIGUpO1xuICAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyBoYW5kbGVPcHRpb25TZWxlY3RlZChlKSB7XG4gICAgc3dpdGNoIChlLmRldGFpbC5pZCkge1xuICAgICAgY2FzZSAnbGF0ZXInOlxuICAgICAgICB0aGlzLmZpbmlzaExhdGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zaG93RmluaXNoTGF0ZXIgPSB0cnVlO1xuICAgICAgICAvLyB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbYHZpZXcvc2lnbi8ke3RoaXMuZW52ZWxvcGVJZH0vcm9sZS8ke3RoaXMucm9sZU5hbWV9L3NhdmVkYF0pO1xuICAgICAgICAvLyBpZiAoIXdpbmRvdz8uWydTVE9SWUJPT0tfRU5WJ10pIHtcbiAgICAgICAgLy8gICB3aW5kb3cuYWxlcnQoJ1VzZXIgaW50ZW5kcyB0byBzaWduIGxhdGVyLicpO1xuICAgICAgICAvLyB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2xhaW0nOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlY2xpbmUnOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgZGVjbGluZVJlc3VsdCA9IGF3YWl0IGVudmVsb3BlUmVjaXBpZW50RGVjbGluZSh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIHRoaXMucm9sZUlkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRGVjbGluZSByZXN1bHQnLCBkZWNsaW5lUmVzdWx0KTtcbiAgICAgICAgICB0aGlzLmlzRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwcmludCc6XG4gICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Rvd25sb2FkJzpcbiAgICAgICAgc2F2ZVBERih0aGlzLmVuZHBvaW50LCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLmVudmVsb3BlX2RvY3VtZW50X2lkKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVJlY2lwaWVudEZpZWxkVmFsdWUoZmllbGROYW1lOiBzdHJpbmcsIHVwZGF0ZVJlc3VsdDogYW55KSB7XG4gICAgdGhpcy5yZWNpcGllbnQuZmllbGRzLmZvckVhY2gob2xkRmllbGQgPT4ge1xuICAgICAgaWYgKG9sZEZpZWxkLm5hbWUgPT09IGZpZWxkTmFtZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnTmV3IHNldHRpbmdzJywgZmllbGROYW1lLCB1cGRhdGVSZXN1bHQuc2V0dGluZ3MpO1xuICAgICAgICBvbGRGaWVsZC5zZXR0aW5ncyA9IHVwZGF0ZVJlc3VsdC5zZXR0aW5ncztcbiAgICAgICAgLy8gVE9ETzogV2hlbiB3ZSBicmVhayBvdXQgb3RoZXIgZmllbGRzIGxpa2UgdmFsdWUsIHVwZGF0ZSB0aGVtIGhlcmUgdG9vXG4gICAgICAgIHVwZGF0ZURvY3VtZW50RmllbGRWYWx1ZShvbGRGaWVsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRmllbGRDaGFuZ2UoZmllbGROYW1lOiBzdHJpbmcsIGZpZWxkczogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgIEVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGROYW1lLCBmaWVsZHMpIC8vXG4gICAgICAudGhlbih1cGRhdGVSZXN1bHQgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVJlY2lwaWVudEZpZWxkVmFsdWUoZmllbGROYW1lLCB1cGRhdGVSZXN1bHQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgaWYgKGUucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAxICYmIGUucmVzcG9uc2U/LmRhdGE/LmVycm9yID09PSAnand0IGV4cGlyZWQnKSB7XG4gICAgICAgICAgLy8gVE9ETzogRG8gd2Ugd2FudCB0byBpbXByb3ZlIHRoZSBpbnN0cnVjdGlvbnMgaGVyZT9cbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIFNpZ25pbmcgc2Vzc2lvbiBleHBpcmVkJyk7XG4gICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnU2lnbmluZyBzZXNzaW9uIGV4cGlyZWQuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIFNlcnZlciBlcnJvcicsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQ6IElEb2N1bWVudEZpZWxkLCBlOiBhbnkpIHtcbiAgICBjb25zdCB7dmFsdWUsIGNoZWNrZWR9ID0gZS50YXJnZXQ7XG5cbiAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3RleHRib3gnOlxuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWV9KTtcblxuICAgICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBmaWVsZC5zZXR0aW5ncy5vcHRpb25zLm1hcChvcHRpb24gPT4gKHtpZDogb3B0aW9uLmlkLCBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkfSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IHtvcHRpb25zfX0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBmaWVsZC5zZXR0aW5ncy5vcHRpb25zLm1hcChvcHRpb24gPT4gKHtpZDogb3B0aW9uLmlkLCBzZWxlY3RlZDogZS50YXJnZXQudmFsdWUgPT09IG9wdGlvbi5pZH0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUZpZWxkQ2hhbmdlKGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uc319KTtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZHJvcGRvd24nOlxuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSk7XG5cbiAgICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgICBjb25zdCBpbml0aWFsc0Jsb2IgPSBhd2FpdCAoYXdhaXQgZmV0Y2goZS5kZXRhaWwpKS5ibG9iKCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbml0aWFscyh0aGlzLmVuZHBvaW50LCAnaW5pdGlhbCcsIGluaXRpYWxzQmxvYikgLy9cbiAgICAgICAgICAudGhlbihhc3luYyBuZXdJbml0aWFscyA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVFbnZlbG9wZUZpZWxkSW5pdGlhbHModGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZC5uYW1lLCBuZXdJbml0aWFscy5pZCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlY2lwaWVudEZpZWxkVmFsdWUoZmllbGQubmFtZSwgdXBkYXRlUmVzdWx0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlQmxvYiA9IGF3YWl0IChhd2FpdCBmZXRjaChlLmRldGFpbCkpLmJsb2IoKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNpZ25hdHVyZSh0aGlzLmVuZHBvaW50LCAnc2lnbmF0dXJlJywgc2lnbmF0dXJlQmxvYikgLy9cbiAgICAgICAgICAudGhlbihhc3luYyBuZXdTaWduYXR1cmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZSh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIG5ld1NpZ25hdHVyZS5pZCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlY2lwaWVudEZpZWxkVmFsdWUoZmllbGQubmFtZSwgdXBkYXRlUmVzdWx0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIGNvbnN0IGlzbyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaXNvJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNhdmVGaWVsZENoYW5nZShmaWVsZC5uYW1lLCB7cHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZTogaXNvfSk7XG5cbiAgICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyB0aW1lc3RhbXAnLCB7dmFsdWUsIHRzOiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RpbWVzdGFtcCcpfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnVW5oYW5kbGVkIGZpZWxkIHVwZGF0ZScsIHt2YWx1ZSwgY2hlY2tlZH0sIGZpZWxkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaXNGaWVsZFZhbGlkKGZpZWxkOiBJRG9jdW1lbnRGaWVsZCkge1xuICAgIGNvbnN0IHtyZXF1aXJlZCA9IGZhbHNlfSA9IGZpZWxkO1xuICAgIGNvbnN0IHtyZXN1bHQgPSAnJywgdmFsdWUgPSAnJywgYmFzZTY0ID0gJyd9ID0gZmllbGQuc2V0dGluZ3MgfHwge307XG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICd0ZXh0Ym94JzpcbiAgICAgICAgc3dpdGNoIChmaWVsZC5zZXR0aW5ncz8udmFsaWRhdG9yIHx8ICcnKSB7XG4gICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRFbWFpbChyZXN1bHQpO1xuICAgICAgICAgIGNhc2UgJ3Bob25lJzpcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkUGhvbmUocmVzdWx0KTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICFyZXF1aXJlZCB8fCByZXN1bHQgIT09ICcnO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgICBjYXNlICdpbml0aWFsJzpcbiAgICAgICAgY29uc29sZS5sb2coJ0V2YWx1YXRpbmcgaW5pdGlhbCBmaWVsZCcsIGZpZWxkKTtcbiAgICAgICAgcmV0dXJuICFyZXF1aXJlZCB8fCBiYXNlNjQgIT09ICcnO1xuXG4gICAgICAvLyBUaW1lc3RhbXAgZmllbGRzIGdldCBhdXRvbWF0aWNhbGx5IGZpbGxlZCB3aGVuIHRoZSBlbnZlbG9wZSBpcyBzdWJtaXR0ZWQuXG4gICAgICBjYXNlICd0aW1lc3RhbXAnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICAgICAgcmV0dXJuICFyZXF1aXJlZCB8fCByZXN1bHQgIT09ICcnO1xuXG4gICAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICAgIHJldHVybiAhcmVxdWlyZWQgfHwgdmFsdWUgIT09ICcnO1xuXG4gICAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgICAgIGNvbnN0IGNoZWNrZWRDb3VudCA9IChmaWVsZC5zZXR0aW5ncz8ub3B0aW9ucz8uZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY2hlY2tlZCkgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuICFyZXF1aXJlZCB8fCAoY2hlY2tlZENvdW50ID49IChmaWVsZC5zZXR0aW5ncz8ubWluaW11bV9jaGVja2VkIHx8IDApICYmIGNoZWNrZWRDb3VudCA8PSAoZmllbGQuc2V0dGluZ3M/Lm1heGltdW1fY2hlY2tlZCB8fCA5OTkpKTtcblxuICAgICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgICAgcmV0dXJuICFyZXF1aXJlZCB8fCAoZmllbGQuc2V0dGluZ3M/Lm9wdGlvbnM/LmZpbHRlcihvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkKSB8fCBbXSkubGVuZ3RoID4gMDtcbiAgICAgIC8vIFRPRE9cbiAgICAgIC8vIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIC8vICAgcmV0dXJuIDx2ZXJkb2NzLWZpZWxkLWNoZWNrYm94IHN0eWxlPXtzdHlsZX0gdmFsdWU9e3Jlc3VsdCB8fCAnJ30gaWQ9e2lkfSAvPjtcbiAgICAgIC8vIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgLy8gICByZXR1cm4gPHZlcmRvY3MtZmllbGQtcGF5bWVudCBzdHlsZT17c3R5bGV9IGZpZWxkPXtmaWVsZH0gaWQ9e2lkfSAvPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVOZXh0KCkge1xuICAgIGlmICh0aGlzLm5leHRTdWJtaXRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbnZlbG9wZVJlY2lwaWVudFN1Ym1pdCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIHRoaXMucm9sZUlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBTdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5JywgcmVzdWx0KTtcbiAgICAgICAgdGhpcy5zaG93RG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNEb25lID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHN1Ym1pdHRpbmcnLCBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbmQgYW5kIGZvY3VzIHRoZSBuZXh0IGluY29tcGxldGUgcmVxdWlyZWQgZmllbGRcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IHRoaXMuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5yZXF1aXJlZCk7XG4gICAgY29uc3QgZm9jdXNlZEluZGV4ID0gcmVxdWlyZWRGaWVsZHMuZmluZEluZGV4KGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IHRoaXMuZm9jdXNlZEZpZWxkKTtcblxuICAgIGxldCBuZXh0Rm9jdXNlZEluZGV4ID0gZm9jdXNlZEluZGV4ICsgMTtcbiAgICBpZiAobmV4dEZvY3VzZWRJbmRleCA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIG5leHRGb2N1c2VkSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGxldCBuZXh0UmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGRzW25leHRGb2N1c2VkSW5kZXhdO1xuXG4gICAgLy8gU2tpcCBzaWduYXR1cmUgYW5kIGluaXRpYWwgZmllbGRzIHRoYXQgYXJlIGFscmVhZHkgZmlsbGVkIGluLiBXZSBoYXZlIHRvIGNvdW50IG91ciBcInNraXBzXCIganVzdCBpbiBjYXNlLCB0byBhdm9pZCBpbmZpbml0ZSBsb29wcy5cbiAgICBsZXQgc2tpcHMgPSAwO1xuICAgIGlmIChza2lwcyA8IHJlcXVpcmVkRmllbGRzLmxlbmd0aCAmJiBbJ3NpZ25hdHVyZScsICdpbml0aWFsJ10uaW5jbHVkZXMobmV4dFJlcXVpcmVkRmllbGQudHlwZSkgJiYgbmV4dFJlcXVpcmVkRmllbGQuc2V0dGluZ3M/LnJlc3VsdCA9PT0gJ3NpZ25lZCcpIHtcbiAgICAgIHNraXBzKys7XG4gICAgICBuZXh0Rm9jdXNlZEluZGV4Kys7XG4gICAgICBpZiAobmV4dEZvY3VzZWRJbmRleCA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEZvY3VzZWRJbmRleCA9IDA7XG4gICAgICB9XG4gICAgICBuZXh0UmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGRzW25leHRGb2N1c2VkSW5kZXhdO1xuICAgIH1cblxuICAgIGlmIChza2lwcyA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIG5leHRSZXF1aXJlZEZpZWxkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobmV4dFJlcXVpcmVkRmllbGQpIHtcbiAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRJZChuZXh0UmVxdWlyZWRGaWVsZCk7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBhbnk7XG4gICAgICBlbD8uZm9jdXNGaWVsZCgpO1xuICAgICAgdGhpcy5mb2N1c2VkRmllbGQgPSBuZXh0UmVxdWlyZWRGaWVsZC5uYW1lO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNlZSBpZiBldmVyeXRoaW5nIHRoYXQgXCJuZWVkcyB0byBiZVwiIGZpbGxlZCBpbiBpcywgYW5kIGFsbCBcImZpbGxhYmxlIGZpZWxkc1wiIGFyZSB2YWxpZFxuICBjaGVja1JlY2lwaWVudEZpZWxkcygpIHtcbiAgICBjb25zdCBpbnZhbGlkRmllbGRzID0gdGhpcy5yZWNpcGllbnQuZmllbGRzLmZpbHRlcihmaWVsZCA9PiAhdGhpcy5pc0ZpZWxkVmFsaWQoZmllbGQpKTtcbiAgICBpZiAoaW52YWxpZEZpZWxkcy5sZW5ndGggPCAxKSB7XG4gICAgICB0aGlzLm5leHRCdXR0b25MYWJlbCA9ICdGaW5pc2gnO1xuICAgICAgdGhpcy5uZXh0U3VibWl0cyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbU0lHTl0gUmVtYWluaW5nIGludmFsaWQgZmllbGRzJywgaW52YWxpZEZpZWxkcyk7XG4gICAgICB0aGlzLm5leHRCdXR0b25MYWJlbCA9ICdOZXh0JztcbiAgICAgIHRoaXMubmV4dFN1Ym1pdHMgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhdHRhY2hGaWVsZEF0dHJpYnV0ZXMocGFnZUluZm8sIGZpZWxkLCByb2xlSW5kZXgsIGVsKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlID0+IHRoaXMuaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpLmZpbmFsbHkoKCkgPT4gdGhpcy5jaGVja1JlY2lwaWVudEZpZWxkcygpKSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHRoaXMuY2hlY2tSZWNpcGllbnRGaWVsZHMoKSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZmllbGRDaGFuZ2UnLCBlID0+IHRoaXMuaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpLmZpbmFsbHkoKCkgPT4gdGhpcy5jaGVja1JlY2lwaWVudEZpZWxkcygpKSk7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIHJvbGVJbmRleCk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCd4U2NhbGUnLCBwYWdlSW5mby54U2NhbGUpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgneVNjYWxlJywgcGFnZUluZm8ueVNjYWxlKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2luaXRpYWxzJywgdGhpcy5yZWNpcGllbnQgPyBmdWxsTmFtZVRvSW5pdGlhbHModGhpcy5yZWNpcGllbnQuZnVsbF9uYW1lKSA6ICcnKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLnJlY2lwaWVudD8uZnVsbF9uYW1lIHx8ICcnKTtcbiAgfVxuXG4gIGhhbmRsZVBhZ2VSZW5kZXJlZChlKSB7XG4gICAgY29uc3QgcGFnZUluZm8gPSBlLmRldGFpbCBhcyBJRG9jdW1lbnRQYWdlSW5mbztcbiAgICBjb25zdCByb2xlSW5kZXggPSBnZXRSb2xlSW5kZXgoRW52ZWxvcGVTdG9yZS5yb2xlTmFtZXMsIHRoaXMucmVjaXBpZW50LnJvbGVfbmFtZSk7XG4gICAgY29uc3QgcmVjaXBpZW50RmllbGRzID0gdGhpcy5yZWNpcGllbnQuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5wYWdlID09PSBwYWdlSW5mby5wYWdlTnVtYmVyKTtcbiAgICBjb25zb2xlLmxvZygnW1NJR05dIFBhZ2UgcmVuZGVyZWQsIHVwZGF0aW5nIGZpZWxkcycsIHtwYWdlSW5mbywgcm9sZUluZGV4LCByZWNpcGllbnRGaWVsZHN9KTtcblxuICAgIHJlY2lwaWVudEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIGNvbnN0IGVsID0gcmVuZGVyRG9jdW1lbnRGaWVsZChmaWVsZCwgcGFnZUluZm8sIHJvbGVJbmRleCwge2Rpc2FibGVkOiBmYWxzZSwgZWRpdGFibGU6IGZhbHNlLCBkcmFnZ2FibGU6IGZhbHNlLCBkb25lOiB0aGlzLmlzRG9uZX0pO1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsKSkge1xuICAgICAgICBlbC5tYXAoZSA9PiB0aGlzLmF0dGFjaEZpZWxkQXR0cmlidXRlcyhwYWdlSW5mbywgZmllbGQsIHJvbGVJbmRleCwgZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hdHRhY2hGaWVsZEF0dHJpYnV0ZXMocGFnZUluZm8sIGZpZWxkLCByb2xlSW5kZXgsIGVsKTtcbiAgICAgIH1cblxuICAgICAgLy8gaW50ZXJhY3QoZWwpLmRyYWdnYWJsZSh7XG4gICAgICAvLyAgIGxpc3RlbmVyczoge1xuICAgICAgLy8gICAgIHN0YXJ0KGV2ZW50KSB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnW0ZJRUxEU10gRHJhZyBzdGFydGVkJywgZXZlbnQudHlwZSwgZXZlbnQudGFyZ2V0KTtcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgIC8vICAgICAgIGNvbnN0IG9sZFggPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Bvc1gnKSB8fCAwKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IG9sZFkgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Bvc1knKSB8fCAwKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IHhTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneFNjYWxlJykgfHwgMSk7XG4gICAgICAvLyAgICAgICBjb25zdCB5U2NhbGUgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3lTY2FsZScpIHx8IDEpO1xuICAgICAgLy8gICAgICAgY29uc3QgbmV3WCA9IGV2ZW50LmR4IC8geFNjYWxlICsgb2xkWDtcbiAgICAgIC8vICAgICAgIGNvbnN0IG5ld1kgPSBldmVudC5keSAvIHlTY2FsZSArIG9sZFk7XG4gICAgICAvLyAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3NYJywgbmV3WCk7XG4gICAgICAvLyAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3N5JywgbmV3WSk7XG4gICAgICAvLyAgICAgICB1cGRhdGVDc3NUcmFuc2Zvcm0oZXZlbnQudGFyZ2V0LCAndHJhbnNsYXRlJywgYCR7bmV3WH1weCwgJHtuZXdZfXB4YCk7XG4gICAgICAvLyAgICAgfSxcbiAgICAgIC8vICAgICBlbmQoZXZlbnQpIHtcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIGVuZGVkJywgZXZlbnQpO1xuICAgICAgLy8gICAgICAgLy8gZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zWCcsIDApO1xuICAgICAgLy8gICAgICAgLy8gZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zeScsIDApO1xuICAgICAgLy8gICAgICAgLy8gdXBkYXRlQ3NzVHJhbnNmb3JtKGV2ZW50LnRhcmdldCwgJ3RyYW5zbGF0ZScsIGAkezB9cHgsICR7MH1weGApO1xuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgIH0sXG4gICAgICAvLyB9KTtcbiAgICB9KTtcblxuICAgIC8vIFJlbmRlciBmaWVsZHMgZm9yIFwidGhlIG90aGVyXCIgcmVjaXBpZW50c1xuICAgIEVudmVsb3BlU3RvcmUuZW52ZWxvcGUucmVjaXBpZW50c1xuICAgICAgLmZpbHRlcihyZWNpcGllbnQgPT4gcmVjaXBpZW50LnJvbGVfbmFtZSAhPT0gdGhpcy5yZWNpcGllbnQucm9sZV9uYW1lKVxuICAgICAgLmZvckVhY2gob3RoZXJSZWNpcGllbnQgPT4ge1xuICAgICAgICBjb25zdCBvdGhlclJvbGVJbmRleCA9IGdldFJvbGVJbmRleChFbnZlbG9wZVN0b3JlLnJvbGVOYW1lcywgb3RoZXJSZWNpcGllbnQucm9sZV9uYW1lKTtcbiAgICAgICAgY29uc3QgcmVjaXBpZW50RmllbGRzID0gb3RoZXJSZWNpcGllbnQuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5wYWdlID09PSBwYWdlSW5mby5wYWdlTnVtYmVyKTtcblxuICAgICAgICAvLyBXZSBkb24ndCByZW5kZXIgb3RoZXIgcmVjaXBpZW50cycgZmllbGRzIGlmIHRoZXkndmUgYWxyZWFkeSBhY3RlZCwgYmVjYXVzZSB0aG9zZSB2YWx1ZXMgYXJlIG5vdyBzdGFtcGVkIGludG8gdGhlIGRvY3VtZW50IHBhZ2UuXG4gICAgICAgIC8vIFRPRE86IERvIHdlIHdhbnQgdG8gcmVuZGVyIGFsdGVybmF0ZSB0cmVhdG1lbnRzIGZvciByZWNpcGllbnRzIHdobyBoYXZlIGRlY2xpbmVkIChyZWQgYm94ZXM/KSBhbmQvb3IgaWYgdGhlIGVudmVsb3BlIGlzIGNhbmNlbGxlZD9cbiAgICAgICAgLy8gVE9ETzogV2hlbiBkb2luZyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgd2UgcHJvYmFibHkgd2FudCB0byBcInN0YW1wXCIgdmFsdWVzIGludG8gdGhlIHJlbmRlcmVkIFBERiBvbmx5IG9uY2UgdGhlIHJlY2lwaWVudCBpcyBkb25lXG4gICAgICAgIC8vICBhY3RpbmcuIERvIHRoaXMgb25jZSB2U2lnbiBpcyBpbiBQcm9kdWN0aW9uLlxuICAgICAgICAvLyBUT0RPOiBDaGFuZ2VkIHRhY2tzIGhlcmUuIER1cmluZyBzaWduaW5nIHdlIHNob3cgdGhlIHRlbXBsYXRlIFBERnMgYW5kIGV2ZXJ5Ym9keSdzIGZpZWxkcywgZmlsbGVkIGluIG9yIG5vLiBXaGVuIGRvbmUsIHdlIHN3aXRjaFxuICAgICAgICAvLyAgdG8gc2hvd2luZyB0aGUgZW52ZWxvcGUgUERGcyB3aXRoIHN0YW1wZWQtaW4gdmFsdWVzLiBDb25maXJtIHRoaXMgaXMgYSBnb29kIGFwcHJvYWNoLlxuICAgICAgICAvLyBpZiAoIVsnc3VibWl0dGVkJywgJ3NpZ25lZCddLmluY2x1ZGVzKG90aGVyUmVjaXBpZW50LnN0YXR1cykpIHtcbiAgICAgICAgcmVjaXBpZW50RmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICAgIGNvbnN0IGVsID0gcmVuZGVyRG9jdW1lbnRGaWVsZChmaWVsZCwgcGFnZUluZm8sIG90aGVyUm9sZUluZGV4LCB7XG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBkb25lOiB0aGlzLmlzRG9uZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVE9ETzogUmVzZWFyY2ggd2h5IHRoaXMgb2NjdXJzLiBUaGVyZSBhcmUgY2FzZXMgd2hlbiB3ZSdyZSBnZXR0aW5nIFwiZWwuc2V0QXR0cmlidXRlIGlzIG5vdCBhIGZ1bmN0aW9uXCJcbiAgICAgICAgICBpZiAoZWwuc2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIG90aGVyUm9sZUluZGV4KTtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgneFNjYWxlJywgcGFnZUluZm8ueFNjYWxlKTtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgneVNjYWxlJywgcGFnZUluZm8ueVNjYWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcblxuICAgIHRoaXMuY2hlY2tSZWNpcGllbnRGaWVsZHMoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoRW52ZWxvcGVTdG9yZS5sb2FkaW5nIHx8ICFFbnZlbG9wZVN0b3JlLmVudmVsb3BlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SG9zdD5cbiAgICAgICAgICA8dmVyZG9jcy1sb2FkZXIgLz5cbiAgICAgICAgPC9Ib3N0PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZW51T3B0aW9ucyA9IFtcbiAgICAgIHtpZDogJ2xhdGVyJywgbGFiZWw6ICdGaW5pc2ggTGF0ZXInfSwgLy9cbiAgICAgIC8vIHtpZDogJ2NsYWltJywgbGFiZWw6ICdDbGFpbSB0aGUgRG9jdW1lbnQnLCBkaXNhYmxlZDogdHJ1ZX0sXG4gICAgICB7aWQ6ICdkZWNsaW5lJywgbGFiZWw6ICdEZWNsaW5lIHRvIFNpZ24nfSxcbiAgICAgIHtpZDogJ3ByaW50JywgbGFiZWw6ICdQcmludCBXaXRob3V0IFNpZ25pbmcnLCBkaXNhYmxlZDogdHJ1ZX0sXG4gICAgICB7aWQ6ICdkb3dubG9hZCcsIGxhYmVsOiAnRG93bmxvYWQnfSxcbiAgICBdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxIb3N0IGNsYXNzPXt7YWdyZWVkOiB0aGlzLnJlY2lwaWVudD8uYWdyZWVkfX0+XG4gICAgICAgIHshdGhpcy5pc0RvbmUgJiYgIXRoaXMuZmluaXNoTGF0ZXIgJiYgPGRpdiBjbGFzcz1cImludHJvXCI+UGxlYXNlIHJldmlldyBhbmQgYWN0IG9uIHRoZXNlIGRvY3VtZW50cy48L2Rpdj59XG5cbiAgICAgICAgeyF0aGlzLmlzRG9uZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgeyF0aGlzLmlzRG9uZSAmJiAhdGhpcy5maW5pc2hMYXRlciAmJiA8dmVyZG9jcy1kcm9wZG93biBvcHRpb25zPXttZW51T3B0aW9uc30gb25PcHRpb25TZWxlY3RlZD17ZSA9PiB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGVkKGUpfSAvPn1cblxuICAgICAgICAgICAgeyF0aGlzLnJlY2lwaWVudD8uYWdyZWVkID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWdyZWVcIj5cbiAgICAgICAgICAgICAgICA8dmVyZG9jcy1jaGVja2JveCBuYW1lPVwiYWdyZWVcIiBsYWJlbD1cIkkgYWdyZWUgdG8gdXNlIGVsZWN0cm9uaWMgcmVjb3JkcyBhbmQgc2lnbmF0dXJlcy5cIiBvbklucHV0PXsoKSA9PiB0aGlzLmhhbmRsZUNsaWNrQWdyZWUoKX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3ZlcmRvY3MuY29tL2Fzc2V0cy93aGl0ZS1sb2dvLnN2Z1wiIGFsdD1cIlZlcmRvY3MgTG9nb1wiIGNsYXNzPVwibG9nb1wiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+e0VudmVsb3BlU3RvcmUuZW52ZWxvcGUubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxleDogJzEnfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGlubmVySFRNTD17UHJpbnRJY29ufSBzdHlsZT17e3dpZHRoOiAnMjRweCcsIGhlaWdodDogJzI0cHgnLCBmaWxsOiAnI2ZmZicsIGN1cnNvcjogJ3BvaW50ZXInfX0gb25DbGljaz17KCkgPT4gd2luZG93LnByaW50KCl9IC8+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgaW5uZXJIVE1MPXtEb3dubG9hZEljb259XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiAnMjRweCcsIGhlaWdodDogJzI0cHgnLCBmaWxsOiAnI2ZmZicsIGN1cnNvcjogJ3BvaW50ZXInLCBtYXJnaW46ICcwIDE2cHgnLCBtYWdpblJpZ2h0OiAnMzBweCd9fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2F2ZVBERih0aGlzLmVuZHBvaW50LCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLmVudmVsb3BlX2RvY3VtZW50X2lkKS5jYXRjaCgoKSA9PiB7fSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHshdGhpcy5pc0RvbmUgJiYgIXRoaXMuZmluaXNoTGF0ZXIgJiYgPHZlcmRvY3MtYnV0dG9uIHNpemU9XCJzbWFsbFwiIGxhYmVsPXt0aGlzLm5leHRCdXR0b25MYWJlbH0gZGlzYWJsZWQ9eyF0aGlzLnJlY2lwaWVudD8uYWdyZWVkfSBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZU5leHQoKX0gLz59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgeyF0aGlzLmlzRG9uZSAmJiAhdGhpcy5yZWNpcGllbnQ/LmFncmVlZCA/IDxkaXYgY2xhc3M9XCJjb3ZlclwiIC8+IDogPGRpdiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+fVxuXG4gICAgICAgIHt0aGlzLmlzRG9uZSA/IChcbiAgICAgICAgICAvLyA8ZGl2PnRlc3Q8L2Rpdj5cbiAgICAgICAgICA8dmVyZG9jcy12aWV3IGVuZHBvaW50PXt0aGlzLmVuZHBvaW50fSBlbnZlbG9wZUlkPXt0aGlzLmVudmVsb3BlSWR9IG9uU2RrRXJyb3I9e2UgPT4gdGhpcy5zZGtFcnJvcj8uZW1pdChlLmRldGFpbCl9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICB7KEVudmVsb3BlU3RvcmUuZW52ZWxvcGUuZG9jdW1lbnRzIHx8IFtdKS5tYXAoZW52ZWxvcGVEb2N1bWVudCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gWy4uLihlbnZlbG9wZURvY3VtZW50Py5wYWdlcyB8fCBbXSldO1xuICAgICAgICAgICAgICBwYWdlcy5zb3J0KChhLCBiKSA9PiBhLnNlcXVlbmNlIC0gYi5zZXF1ZW5jZSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICB7cGFnZXMubWFwKHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiBzaWduaW5nIG1vZGUgd2Ugc2hvdyB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgcGFnZSB3aXRoIGFsbCB0aGUgcmVjaXBpZW50IGZpZWxkcyBzbyB3ZSBjYW4gc2hvdyBzb3VyY2UgZm9ybWF0dGluZyBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlcmUgZXZlcnl0aGluZyB3ZW50LiBUaGlzIGlzIGFsc28gYSB2aXN1YWwgaW5kaWNhdG9yIHdoZW4gb3B0aW9uYWwgZmllbGRzIHdlcmVuJ3QgZmlsbGVkIGluIGJ5IHByZXZpb3VzIGFjdG9ycywgb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gZnV0dXJlIHNpZ25lcnMgc3RpbGwgbmVlZCB0byBhY3QuIE9uY2Ugd2UncmUgXCJkb25lXCIgd2UgZmxpcCB0byBzaG93aW5nIHRoZSBlbnZlbG9wZSdzIGRvY3VtZW50cyB3aGljaCBoYXZlIHRoZSBmaW5hbFxuICAgICAgICAgICAgICAgICAgICAvLyBmaWVsZCB2YWxlcyAoc28gZmFyKSBzdGFtcGVkIGludG8gdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVQYWdlID0gRW52ZWxvcGVTdG9yZS50ZW1wbGF0ZT8ucGFnZXMuZmluZChwID0+IHAuc2VxdWVuY2UgPT09IHBhZ2Uuc2VxdWVuY2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBDb25maXJtIHRoYXQgYSBwdXJlIHBhZ2UtbnVtYmVyIG1hdGNoIGlzIGdvb2QgZW5vdWdoIHRvIGZpbmQgdGhlIG1hdGNoaW5nIHRlbXBsYXRlIHBhZ2UuIFdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gICAgICAgICAgICAgICAgICAgIC8vICB3ZSBlaXRoZXIgZG9uJ3QgcmVzZXQgb3VyIHBhZ2UgbnVtYmVycyBmb3IgYWRkaXRpb25hbCBhdHRhY2htZW50cywgb3IgYWRkIG1hdGNoLW9uIGlkZW50aWZpZXJzIHRvIHdvcmsgYXJvdW5kIHRoYXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cCcsIHRlbXBsYXRlUGFnZSwgcGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHZlcmRvY3MtZG9jdW1lbnQtcGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUltYWdlVXJpPXt0ZW1wbGF0ZVBhZ2U/LmRpc3BsYXlfdXJpIHx8IHBhZ2UuZGlzcGxheV91cml9XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsV2lkdGg9ezYxMn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxIZWlnaHQ9ezc5Mn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOdW1iZXI9e3BhZ2Uuc2VxdWVuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17ZSA9PiB0aGlzLmhhbmRsZVBhZ2VSZW5kZXJlZChlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVycz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ3BhZ2UnLCB0eXBlOiAnY2FudmFzJ30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnY29udHJvbHMnLCB0eXBlOiAnZGl2J30sXG4gICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge3RoaXMuc2hvd0ZpbmlzaExhdGVyICYmIChcbiAgICAgICAgICA8dmVyZG9jcy1vay1kaWFsb2dcbiAgICAgICAgICAgIGhlYWRpbmc9XCJZb3UndmUgc2F2ZWQgeW91ciBkb2N1bWVudCB0byBmaW5pc2ggbGF0ZXIuXCJcbiAgICAgICAgICAgIG1lc3NhZ2U9XCJUbyBjb21wbGV0ZSB0aGUgZG9jdW1lbnQsIHVzZSB0aGUgbGluayBpbiB0aGUgb3JpZ2luYWwgZW1haWwgbm90aWZpY2F0aW9uIGludml0aW5nIHlvdSB0byByZXZpZXcgYW5kIGZpbmlzaCB0aGUgZG9jdW1lbnQuXCJcbiAgICAgICAgICAgIG9uTmV4dD17KCkgPT4gKHRoaXMuc2hvd0ZpbmlzaExhdGVyID0gZmFsc2UpfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAge3RoaXMuZXJyb3JNZXNzYWdlICYmIDx2ZXJkb2NzLW9rLWRpYWxvZyBoZWFkaW5nPVwiTmV0d29yayBFcnJvclwiIG1lc3NhZ2U9e3RoaXMuZXJyb3JNZXNzYWdlfSBvbk5leHQ9eygpID0+ICh0aGlzLmVycm9yTWVzc2FnZSA9ICcnKX0gLz59XG4gICAgICAgIHt0aGlzLnNob3dEb25lICYmIChcbiAgICAgICAgICA8dmVyZG9jcy1vay1kaWFsb2dcbiAgICAgICAgICAgIGhlYWRpbmc9XCJZb3UncmUgRG9uZSFcIlxuICAgICAgICAgICAgbWVzc2FnZT1cIllvdSBjYW4gYWNjZXNzIHRoZSBWZXJkb2MgYXQgYW55IHRpbWUgYnkgY2xpY2tpbmcgb24gdGhlIGxpbmsgZnJvbSB0aGUgaW52aXRhdGlvbiBlbWFpbC48YnIgLz48YnIgLz5BZnRlciBhbGwgcmVjaXBpZW50cyBoYXZlIGNvbXBsZXRlZCB0aGVpciBhY3Rpb25zLCB5b3Ugd2lsbCByZWNlaXZlIGFuIGVtYWlsIHdpdGggdGhlIGRvY3VtZW50IGFuZCBlbnZlbG9wZSBjZXJ0aWZpY2F0ZSBhdHRhY2hlZC5cIlxuICAgICAgICAgICAgb25OZXh0PXsoKSA9PiAodGhpcy5zaG93RG9uZSA9IGZhbHNlKX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXNpZ24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1pbi1oZWlnaHQ6IDYwMHB4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuXG4gIGRpdiB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuXG4gIGlucHV0IHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICB9XG5cbiAgLmhlYWRlciB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB6LWluZGV4OiAxMDAwO1xuICAgIGZsZXg6IDAgMCA1NnB4O1xuICAgIHBhZGRpbmc6IDAgMTVweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjI1cztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbWVkaXVtLWJnO1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDRweCAwIHJnYigwIDAgMCAvIDI0JSksIDAgMCA0cHggMCByZ2IoMCAwIDAgLyAxMiUpO1xuXG4gICAgLmxvZ28ge1xuICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICBtYXJnaW46IC02cHggMCAwIDEwcHg7XG4gICAgfVxuXG4gICAgLnRpdGxlIHtcbiAgICAgIHBhZGRpbmctbGVmdDogMTZweDtcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgfVxuICB9XG5cbiAgLmludHJvIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXg6IDAgMCA2MHB4O1xuICAgIGNvbG9yOiAjMTExMTExO1xuICAgIHBhZGRpbmc6IDAgMTVweDtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBsaW5lLWhlaWdodDogMjhweDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxuXG4gIC5jb3ZlciB7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIHotaW5kZXg6IDk5OTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICB9XG5cbiAgLmRvY3VtZW50IHtcbiAgICBmbGV4OiAxO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgcm93LWdhcDogMTVweDtcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgLmlubmVyIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWF4LXdpZHRoOiAxMDI4cHg7XG4gICAgfVxuICB9XG5cbiAgLmFncmVlIHtcbiAgICBmbGV4OiAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDAgMTVweDtcblxuICAgIC5pbnRybyB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIC5oZWFkZXIge1xuICAgICAgZmxleDogMCAwIDU2cHg7XG4gICAgfVxuICB9XG59XG5cbkBtZWRpYSBwcmludCB7XG4gIHZlcmRvY3Mtc2lnbiAuaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkcmVkdWNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXJlZHVjZScpLmxlZnQ7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0Jyk7XG52YXIgQ0hST01FX1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcbnZhciBJU19OT0RFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1ub2RlJyk7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgncmVkdWNlJyk7XG4vLyBDaHJvbWUgODAtODIgaGFzIGEgY3JpdGljYWwgYnVnXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMDQ5OTgyXG52YXIgQ0hST01FX0JVRyA9ICFJU19OT0RFICYmIENIUk9NRV9WRVJTSU9OID4gNzkgJiYgQ0hST01FX1ZFUlNJT04gPCA4MztcblxuLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhU1RSSUNUX01FVEhPRCB8fCBDSFJPTUVfQlVHIH0sIHtcbiAgcmVkdWNlOiBmdW5jdGlvbiByZWR1Y2UoY2FsbGJhY2tmbiAvKiAsIGluaXRpYWxWYWx1ZSAqLykge1xuICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHJldHVybiAkcmVkdWNlKHRoaXMsIGNhbGxiYWNrZm4sIGxlbmd0aCwgbGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtcmVzb2x2ZScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG5cbnZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbi8vIFNhZmFyaSBidWcgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIwMDgyOVxudmFyIE5PTl9HRU5FUklDID0gISFOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby10aGVuYWJsZSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBOYXRpdmVQcm9taXNlUHJvdG90eXBlWydmaW5hbGx5J10uY2FsbCh7IHRoZW46IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSB9LCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xufSk7XG5cbi8vIGBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUuZmluYWxseVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBwcm90bzogdHJ1ZSwgcmVhbDogdHJ1ZSwgZm9yY2VkOiBOT05fR0VORVJJQyB9LCB7XG4gICdmaW5hbGx5JzogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGdldEJ1aWx0SW4oJ1Byb21pc2UnKSk7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBpc0NhbGxhYmxlKG9uRmluYWxseSk7XG4gICAgcmV0dXJuIHRoaXMudGhlbihcbiAgICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICB9IDogb25GaW5hbGx5LFxuICAgICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IGU7IH0pO1xuICAgICAgfSA6IG9uRmluYWxseVxuICAgICk7XG4gIH1cbn0pO1xuXG4vLyBtYWtlcyBzdXJlIHRoYXQgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJcyBgUHJvbWlzZSNmaW5hbGx5YCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbmlmICghSVNfUFVSRSAmJiBpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikpIHtcbiAgdmFyIG1ldGhvZCA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKS5wcm90b3R5cGVbJ2ZpbmFsbHknXTtcbiAgaWYgKE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2ZpbmFsbHknXSAhPT0gbWV0aG9kKSB7XG4gICAgZGVmaW5lQnVpbHRJbihOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAnZmluYWxseScsIG1ldGhvZCwgeyB1bnNhZmU6IHRydWUgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=