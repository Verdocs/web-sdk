(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"./dist/esm/verdocs-dropdown.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_dropdown",(function(){return VerdocsDropdown}));__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./dist/esm/index-f78d163d.js"),_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./dist/esm/popper-f860750c.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsDropdown=function(){function VerdocsDropdown(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsDropdown),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.j)(this,hostRef),this.optionSelected=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.e)(this,"optionSelected",7),this.clickListenerSymbol=new AbortController,this.options=[],this.open=void 0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsDropdown,[{key:"componentDidLoad",value:function componentDidLoad(){this.popper=Object(_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_20__.a)(this.dropdownButton,this.dropdownMenu,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,6]}}]}),window.addEventListener("click",this.clickListener.bind(this),{signal:this.clickListenerSymbol.signal})}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.clickListenerSymbol.abort()}},{key:"clickListener",value:function clickListener(e){!(e.target==this.el||this.el.contains(e.target))&&this.hide()}},{key:"handleSelectOption",value:function handleSelectOption(e,option){e.stopPropagation(),this.optionSelected.emit(option),this.hide()}},{key:"showDropdown",value:function showDropdown(){var _a,_b;this.dropdownMenu.setAttribute("data-show",""),this.dropdownMenu.removeAttribute("aria-hidden"),null===(_a=this.popper)||void 0===_a||_a.setOptions((function(options){return Object.assign({},options,{modifiers:[].concat(_toConsumableArray(options.modifiers),[{name:"eventListeners",enabled:!0}])})})).catch((function(){})),null===(_b=this.popper)||void 0===_b||_b.update().catch((function(){}))}},{key:"handleHideDropdown",value:function handleHideDropdown(e){var _a,_b;"button"===(null===(_a=null==e?void 0:e.target)||void 0===_a?void 0:_a.localName)&&"arrow"===(null===(_b=null==e?void 0:e.target)||void 0===_b?void 0:_b.className)||this.hide()}},{key:"toggleDropdown",value:function toggleDropdown(e){e.stopPropagation(),this.open?this.hide():this.showDropdown()}},{key:"hide",value:function hide(){var _a;this.open=!1,this.dropdownMenu.removeAttribute("data-show"),this.dropdownMenu.setAttribute("aria-hidden","true"),null===(_a=this.popper)||void 0===_a||_a.setOptions((function(options){return Object.assign({},options,{modifiers:[].concat(_toConsumableArray(options.modifiers),[{name:"eventListeners",enabled:!1}])})})).catch((function(){}))}},{key:"render",value:function render(){var _a,_this=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.b,{class:{open:!!this.open}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.h)("button",{class:"arrow",innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#50BE80"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7 10l5 5 5-5H7z"/></svg>',"aria-label":"Open Menu",onClick:function onClick(e){return _this.toggleDropdown(e)},onBlur:function onBlur(e){return _this.handleHideDropdown(e)},ref:function ref(el){return _this.dropdownButton=el}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.h)("div",{class:"items","aria-hidden":!this.open,ref:function ref(el){return _this.dropdownMenu=el}},null===(_a=this.options)||void 0===_a?void 0:_a.map((function(option){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.h)("button",{onClick:function onClick(e){return _this.handleSelectOption(e,option)},class:"option",disabled:option.disabled},option.label)}))))}},{key:"el",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_19__.c)(this)}}]),VerdocsDropdown}();VerdocsDropdown.style='verdocs-dropdown{font-family:"Barlow", sans-serif;display:block}verdocs-dropdown .arrow{width:32px;height:26px;background:#fff;cursor:pointer;border-radius:4px;-ms-flex-align:center;align-items:center;display:-ms-inline-flexbox;display:inline-flex;border:1px solid #cccccc;-ms-flex-pack:center;justify-content:center}verdocs-dropdown .arrow svg{fill:#55bc81;-webkit-transition:0.3s;transition:0.3s}verdocs-dropdown .items{width:200px;display:none;z-index:10000;border-radius:5px;background:#33354c;border:1px solid #654dcb}verdocs-dropdown .items[data-show]{display:block}verdocs-dropdown .option{width:100%;color:#fff;border:none;display:block;text-align:left;background:none;padding:10px 20px}verdocs-dropdown .option:hover{cursor:pointer;background:#55bc81}verdocs-dropdown .option[disabled]{color:#aaaaaa}verdocs-dropdown .option[disabled]:hover{color:#aaaaaa;cursor:inherit;background:transparent}verdocs-dropdown.open .items{display:block}verdocs-dropdown.open .arrow{background:#4c56cb;border:1px solid #707ae5}verdocs-dropdown.open .arrow svg{-webkit-transform:scaleY(-1);transform:scaleY(-1);fill:#fff}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS92ZXJkb2NzLWRyb3Bkb3duLmVudHJ5LmpzIl0sIm5hbWVzIjpbIlZlcmRvY3NEcm9wZG93biIsImhvc3RSZWYiLCJyZWdpc3Rlckluc3RhbmNlIiwidGhpcyIsIm9wdGlvblNlbGVjdGVkIiwiY3JlYXRlRXZlbnQiLCJjbGlja0xpc3RlbmVyU3ltYm9sIiwiQWJvcnRDb250cm9sbGVyIiwib3B0aW9ucyIsIm9wZW4iLCJ1bmRlZmluZWQiLCJjb21wb25lbnREaWRMb2FkIiwicG9wcGVyIiwiY3JlYXRlUG9wcGVyIiwiZHJvcGRvd25CdXR0b24iLCJkcm9wZG93bk1lbnUiLCJwbGFjZW1lbnQiLCJtb2RpZmllcnMiLCJuYW1lIiwib2Zmc2V0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsaWNrTGlzdGVuZXIiLCJiaW5kIiwic2lnbmFsIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJhYm9ydCIsImUiLCJ0YXJnZXQiLCJlbCIsImNvbnRhaW5zIiwiaGlkZSIsImhhbmRsZVNlbGVjdE9wdGlvbiIsIm9wdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsImVtaXQiLCJzaG93RHJvcGRvd24iLCJfYSIsIl9iIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0T3B0aW9ucyIsImVuYWJsZWQiLCJ1cGRhdGUiLCJoYW5kbGVIaWRlRHJvcGRvd24iLCJsb2NhbE5hbWUiLCJjbGFzc05hbWUiLCJ0b2dnbGVEcm9wZG93biIsInJlbmRlciIsImgiLCJIb3N0IiwiY2xhc3MiLCJpbm5lckhUTUwiLCJvbkNsaWNrIiwib25CbHVyIiwicmVmIiwibWFwIiwiZGlzYWJsZWQiLCJsYWJlbCIsImdldCIsImdldEVsZW1lbnQiLCJzdHlsZSJdLCJtYXBwaW5ncyI6InlqSEFHQSxJQUdNQSxnQkFBZSxXQUNuQix5QkFBWUMsVSw4SUFBUyx1QkFDbkJDLDJEQUFpQkMsS0FBTUYsU0FDdkJFLEtBQUtDLGVBQWlCQywy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OEMsSUFBSyxhQUFBMUIsSUFBRSxPQUFLLE1BQUtkLGFBQWVjLEVBQUUsR0FBNkIsUUFBdkJRLEdBQUtsQyxLQUFLSyxlQUE0QixJQUFQNkIsUUFBZ0IsRUFBU0EsR0FBR21CLEtBQUksU0FBQXZCLFFBQU0sT0FBS2dCLDJEQUFFLFNBQVUsQ0FBRUksUUFBUyxpQkFBQTFCLEdBQUMsT0FBSSxNQUFLSyxtQkFBbUJMLEVBQUdNLE9BQU8sRUFBRWtCLE1BQU8sU0FBVU0sU0FBVXhCLE9BQU93QixVQUFZeEIsT0FBT3lCLE1BQU0sS0FDbmlCLEdBQUMsY0FDRCxTQUFBQyxNQUFXLE9BQU9DLDJEQUFXekQsS0FBTyxLQUFDLGdCQXhFbEIsR0EwRXJCSCxnQkFBZ0I2RCxNQTdFVyx5bEMiLCJmaWxlIjoiNDcuNDU2YTM5NWIuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBhIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LWY3OGQxNjNkLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlUG9wcGVyIH0gZnJvbSAnLi9wb3BwZXItZjg2MDc1MGMuanMnO1xuXG5jb25zdCB2ZXJkb2NzRHJvcGRvd25Dc3MgPSBcInZlcmRvY3MtZHJvcGRvd257Zm9udC1mYW1pbHk6XFxcIkJhcmxvd1xcXCIsIHNhbnMtc2VyaWY7ZGlzcGxheTpibG9ja312ZXJkb2NzLWRyb3Bkb3duIC5hcnJvd3t3aWR0aDozMnB4O2hlaWdodDoyNnB4O2JhY2tncm91bmQ6I2ZmZjtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjRweDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjY2NjOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9dmVyZG9jcy1kcm9wZG93biAuYXJyb3cgc3Zne2ZpbGw6IzU1YmM4MTstd2Via2l0LXRyYW5zaXRpb246MC4zczt0cmFuc2l0aW9uOjAuM3N9dmVyZG9jcy1kcm9wZG93biAuaXRlbXN7d2lkdGg6MjAwcHg7ZGlzcGxheTpub25lO3otaW5kZXg6MTAwMDA7Ym9yZGVyLXJhZGl1czo1cHg7YmFja2dyb3VuZDojMzMzNTRjO2JvcmRlcjoxcHggc29saWQgIzY1NGRjYn12ZXJkb2NzLWRyb3Bkb3duIC5pdGVtc1tkYXRhLXNob3dde2Rpc3BsYXk6YmxvY2t9dmVyZG9jcy1kcm9wZG93biAub3B0aW9ue3dpZHRoOjEwMCU7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZTtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246bGVmdDtiYWNrZ3JvdW5kOm5vbmU7cGFkZGluZzoxMHB4IDIwcHh9dmVyZG9jcy1kcm9wZG93biAub3B0aW9uOmhvdmVye2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6IzU1YmM4MX12ZXJkb2NzLWRyb3Bkb3duIC5vcHRpb25bZGlzYWJsZWRde2NvbG9yOiNhYWFhYWF9dmVyZG9jcy1kcm9wZG93biAub3B0aW9uW2Rpc2FibGVkXTpob3Zlcntjb2xvcjojYWFhYWFhO2N1cnNvcjppbmhlcml0O2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9dmVyZG9jcy1kcm9wZG93bi5vcGVuIC5pdGVtc3tkaXNwbGF5OmJsb2NrfXZlcmRvY3MtZHJvcGRvd24ub3BlbiAuYXJyb3d7YmFja2dyb3VuZDojNGM1NmNiO2JvcmRlcjoxcHggc29saWQgIzcwN2FlNX12ZXJkb2NzLWRyb3Bkb3duLm9wZW4gLmFycm93IHN2Z3std2Via2l0LXRyYW5zZm9ybTpzY2FsZVkoLTEpO3RyYW5zZm9ybTpzY2FsZVkoLTEpO2ZpbGw6I2ZmZn1cIjtcblxuY29uc3QgRHJvcGRvd25BcnJvdyA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRweFwiIGZpbGw9XCIjNTBCRTgwXCI+PHBhdGggZD1cIk0wIDBoMjR2MjRIMFYwelwiIGZpbGw9XCJub25lXCIvPjxwYXRoIGQ9XCJNNyAxMGw1IDUgNS01SDd6XCIvPjwvc3ZnPmA7XG5jb25zdCBWZXJkb2NzRHJvcGRvd24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMub3B0aW9uU2VsZWN0ZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIm9wdGlvblNlbGVjdGVkXCIsIDcpO1xuICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcyB0byByZWxpYWJseSBkaXNjb25uZWN0IHRoZSBjbGljay1hd2F5IGxpc3RlbmVyXG4gICAgdGhpcy5jbGlja0xpc3RlbmVyU3ltYm9sID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMub3BlbiA9IHVuZGVmaW5lZDtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMucG9wcGVyID0gY3JlYXRlUG9wcGVyKHRoaXMuZHJvcGRvd25CdXR0b24sIHRoaXMuZHJvcGRvd25NZW51LCB7IHBsYWNlbWVudDogJ2JvdHRvbS1zdGFydCcsIG1vZGlmaWVyczogW3sgbmFtZTogJ29mZnNldCcsIG9wdGlvbnM6IHsgb2Zmc2V0OiBbMCwgNl0gfSB9XSB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrTGlzdGVuZXIuYmluZCh0aGlzKSwgeyBzaWduYWw6IHRoaXMuY2xpY2tMaXN0ZW5lclN5bWJvbC5zaWduYWwgfSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5jbGlja0xpc3RlbmVyU3ltYm9sLmFib3J0KCk7XG4gIH1cbiAgY2xpY2tMaXN0ZW5lcihlKSB7XG4gICAgY29uc3Qgb3V0c2lkZSA9ICEoZS50YXJnZXQgPT0gdGhpcy5lbCB8fCB0aGlzLmVsLmNvbnRhaW5zKGUudGFyZ2V0KSk7XG4gICAgaWYgKG91dHNpZGUpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVTZWxlY3RPcHRpb24oZSwgb3B0aW9uKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMub3B0aW9uU2VsZWN0ZWQuZW1pdChvcHRpb24pO1xuICAgIHRoaXMuaGlkZSgpO1xuICB9XG4gIC8vIFNlZSBodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi90dXRvcmlhbC9cbiAgLy8gV2hhdCB3ZSdyZSBkb2luZyBoZXJlIGlzIGNsZWFyaW5nIGV2ZW50IGxpc3RlbmVycyB3aGVuIHRoZXkgYXJlbid0IG5lZWRlZCwgdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UgaW4gbGlzdHNcbiAgc2hvd0Ryb3Bkb3duKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgLy8gdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIHRoaXMuZHJvcGRvd25NZW51LnNldEF0dHJpYnV0ZSgnZGF0YS1zaG93JywgJycpO1xuICAgIHRoaXMuZHJvcGRvd25NZW51LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAoX2EgPSB0aGlzLnBvcHBlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE9wdGlvbnMob3B0aW9ucyA9PiAoe1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIG1vZGlmaWVyczogWy4uLm9wdGlvbnMubW9kaWZpZXJzLCB7IG5hbWU6ICdldmVudExpc3RlbmVycycsIGVuYWJsZWQ6IHRydWUgfV0sXG4gICAgfSkpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgKF9iID0gdGhpcy5wb3BwZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi51cGRhdGUoKS5jYXRjaCgoKSA9PiB7IH0pO1xuICB9XG4gIGhhbmRsZUhpZGVEcm9wZG93bihlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoKChfYSA9IGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS50YXJnZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2NhbE5hbWUpID09PSAnYnV0dG9uJyAmJiAoKF9iID0gZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnRhcmdldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsYXNzTmFtZSkgPT09ICdhcnJvdycpIHtcbiAgICAgIC8vIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIG1lbnUgZWxlbWVudCBpcyBjbGlja2VkIGJlY2F1c2UgdGhlIGJ1dHRvbiBcImxvc2VzIGZvY3VzXCIgdGhlbiB0b29cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oaWRlKCk7XG4gIH1cbiAgdG9nZ2xlRHJvcGRvd24oZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zaG93RHJvcGRvd24oKTtcbiAgICB9XG4gIH1cbiAgaGlkZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgdGhpcy5kcm9wZG93bk1lbnUucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNob3cnKTtcbiAgICB0aGlzLmRyb3Bkb3duTWVudS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAoX2EgPSB0aGlzLnBvcHBlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE9wdGlvbnMob3B0aW9ucyA9PiAoe1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIG1vZGlmaWVyczogWy4uLm9wdGlvbnMubW9kaWZpZXJzLCB7IG5hbWU6ICdldmVudExpc3RlbmVycycsIGVuYWJsZWQ6IGZhbHNlIH1dLFxuICAgIH0pKS5jYXRjaCgoKSA9PiB7IH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgY2xhc3M6IHsgb3BlbjogISF0aGlzLm9wZW4gfSB9LCBoKFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwiYXJyb3dcIiwgaW5uZXJIVE1MOiBEcm9wZG93bkFycm93LCBcImFyaWEtbGFiZWxcIjogXCJPcGVuIE1lbnVcIiwgb25DbGljazogZSA9PiB0aGlzLnRvZ2dsZURyb3Bkb3duKGUpLCBvbkJsdXI6IGUgPT4gdGhpcy5oYW5kbGVIaWRlRHJvcGRvd24oZSksIHJlZjogZWwgPT4gKHRoaXMuZHJvcGRvd25CdXR0b24gPSBlbCkgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpdGVtc1wiLCBcImFyaWEtaGlkZGVuXCI6ICF0aGlzLm9wZW4sIHJlZjogZWwgPT4gKHRoaXMuZHJvcGRvd25NZW51ID0gZWwpIH0sIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcChvcHRpb24gPT4gKGgoXCJidXR0b25cIiwgeyBvbkNsaWNrOiBlID0+IHRoaXMuaGFuZGxlU2VsZWN0T3B0aW9uKGUsIG9wdGlvbiksIGNsYXNzOiBcIm9wdGlvblwiLCBkaXNhYmxlZDogb3B0aW9uLmRpc2FibGVkIH0sIG9wdGlvbi5sYWJlbCkpKSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuVmVyZG9jc0Ryb3Bkb3duLnN0eWxlID0gdmVyZG9jc0Ryb3Bkb3duQ3NzO1xuXG5leHBvcnQgeyBWZXJkb2NzRHJvcGRvd24gYXMgdmVyZG9jc19kcm9wZG93biB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==