/*! For license information please see 19.c93ac109.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19,4],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/Envelopes-130fd6ea.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getEnvelopeFile})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getSigningSession})),__webpack_require__.d(__webpack_exports__,"c",(function(){return updateEnvelopeFieldSignature})),__webpack_require__.d(__webpack_exports__,"d",(function(){return updateEnvelopeFieldInitials})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getEnvelope})),__webpack_require__.d(__webpack_exports__,"f",(function(){return updateEnvelopeField}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var _Token_54690789_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/Token-54690789.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},getSigningSession=function getSigningSession(endpoint,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(params.envelopeId,"/recipients/").concat(encodeURIComponent(params.roleId),"/invitation/").concat(params.inviteCode)).then((function(r){var _a,signerToken=(null===(_a=r.headers)||void 0===_a?void 0:_a.signer_token)||"",session=Object(_Token_54690789_js__WEBPACK_IMPORTED_MODULE_9__.a)(signerToken);return endpoint.setToken(signerToken),{recipient:r.data,session:session,signerToken:signerToken}}))]}))}))},getEnvelope=function getEnvelope(endpoint,envelopeId,ssr){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId)+(ssr?"?ssr=true":"")).then((function(r){return r.data}))]}))}))},getEnvelopeFile=function getEnvelopeFile(endpoint,envelopeId,documentId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId,"/envelope_documents/").concat(documentId,"?file=true"),{responseType:"blob"}).then((function(r){return r.data}))]}))}))},updateEnvelopeField=function updateEnvelopeField(endpoint,envelopeId,fieldName,value){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/fields/").concat(fieldName),value).then((function(r){return r.data}))]}))}))},updateEnvelopeFieldSignature=function updateEnvelopeFieldSignature(endpoint,envelopeId,fieldName,signatureId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/fields/").concat(fieldName,"/signature/").concat(signatureId)).then((function(r){return r.data}))]}))}))},updateEnvelopeFieldInitials=function updateEnvelopeFieldInitials(endpoint,envelopeId,fieldName,initialId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/fields/").concat(fieldName,"/initial/").concat(initialId)).then((function(r){return r.data}))]}))}))}},"./dist/esm/Files-70a192df.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return downloadBlob})),__webpack_require__.d(__webpack_exports__,"b",(function(){return fileToDataUrl}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var fileToDataUrl=function fileToDataUrl(file){return new Promise((function(resolve,reject){var reader=new FileReader;reader.onload=function(){return resolve({lastModified:file.lastModified,size:file.size,type:file.type,name:file.name,data:reader.result})},reader.onerror=reject,file?reader.readAsDataURL(file):reject(new Error("Invalid file"))}))},downloadBlob=function downloadBlob(blob,name){void 0===name&&(name="file.pdf");var blobUrl=URL.createObjectURL(blob),link=document.createElement("a");link.href=blobUrl,link.download=name,document.body.appendChild(link),link.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(link)}},"./dist/esm/Templates-2522e194.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return loadTemplate}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _Templates_8e4ab976_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./dist/esm/Templates-8e4ab976.js"),_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./dist/esm/templateStore-da902ad4.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var pendingNotifications=[],loadTemplate=function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(endpoint,templateId){var template;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(templateId){_context.next=3;break}throw console.log("[TEMPLATES] Missing required template ID"),new Error("Missing required template ID");case 3:if(!_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.loading){_context.next=5;break}return _context.abrupt("return",new Promise((function(resolve,reject){pendingNotifications.push({resolve:resolve,reject:reject})})));case 5:if(templateId!==_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.templateId){_context.next=7;break}return _context.abrupt("return",_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.template);case 7:return _templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.loading=!0,_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.template=null,_context.prev=9,console.log("[TEMPLATES] Loading template "+templateId),_context.next=13,Object(_Templates_8e4ab976_js__WEBPACK_IMPORTED_MODULE_21__.c)(endpoint,templateId,!0);case 13:if(template=_context.sent){_context.next=17;break}return console.log("[TEMPLATES] Unable to load template"),_context.abrupt("return");case 17:return _templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.loading=!1,_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.template=template,_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.templateId=templateId,pendingNotifications.forEach((function(notification){return notification.resolve(!0)})),pendingNotifications.length=0,_context.abrupt("return",!0);case 25:throw _context.prev=25,_context.t0=_context.catch(9),console.log("[TEMPLATES] Error loading template",_context.t0),_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_22__.a.loading=!1,pendingNotifications.forEach((function(notification){return notification.reject(_context.t0)})),pendingNotifications.length=0,_context.t0;case 32:case"end":return _context.stop()}}),_callee,null,[[9,25]])})));return function loadTemplate(_x,_x2){return _ref.apply(this,arguments)}}()},"./dist/esm/Templates-8e4ab976.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate})),__webpack_require__.d(__webpack_exports__,"d",(function(){return updateTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId,ssr){return endpoint.api.get("/templates/".concat(templateId)+(ssr?"?ssr=true":"")).then((function(r){return r.data}))},createTemplate=function createTemplate(endpoint,params){return endpoint.api.post("/templates/",params).then((function(r){return r.data}))},updateTemplate=function updateTemplate(endpoint,templateId,params){return endpoint.api.put("/templates/".concat(templateId),params).then((function(r){return r.data}))}},"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/utils-274e2e93.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return updateCssTransform})),__webpack_require__.d(__webpack_exports__,"d",(function(){return defaultWidth})),__webpack_require__.d(__webpack_exports__,"e",(function(){return defaultHeight})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"g",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return savePDF})),__webpack_require__.d(__webpack_exports__,"i",(function(){return throttle})),__webpack_require__.d(__webpack_exports__,"j",(function(){return updateDocumentFieldValue}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match-all.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js");var _Envelopes_130fd6ea_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./dist/esm/Envelopes-130fd6ea.js"),_Files_70a192df_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./dist/esm/Files-70a192df.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function rescale(r,n){return r*n}var defaultWidth=function defaultWidth(type){switch(type){case"textbox":return 150;case"timestamp":case"date":case"dropdown":return 64;case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 71}return 150},defaultHeight=function defaultHeight(type){switch(type){case"textbox":case"timestamp":case"date":case"dropdown":return 15;case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 36}return 50},setControlStyles=function setControlStyles(el,field,xScale,yScale,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?defaultWidth(field.type):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?defaultHeight(field.type):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")"},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},updateDocumentFieldValue=function updateDocumentFieldValue(field){var id=getFieldId(field),existingField=document.getElementById(id);existingField&&(existingField.field=field,existingField.setAttribute("id",id),existingField.setAttribute("disabled",!0),existingField.setAttribute("disabled",!1))},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,fieldOptions){var _fieldOptions$disable=fieldOptions.disabled,disabled=void 0!==_fieldOptions$disable&&_fieldOptions$disable,_fieldOptions$editabl=fieldOptions.editable,editable=void 0!==_fieldOptions$editabl&&_fieldOptions$editabl,_fieldOptions$draggab=fieldOptions.draggable,draggable=void 0!==_fieldOptions$draggab&&_fieldOptions$draggab,_fieldOptions$done=fieldOptions.done,done=void 0!==_fieldOptions$done&&_fieldOptions$done,controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return setControlStyles(existingField,field,docPage.xScale,docPage.yScale),existingField;var el=document.createElement("verdocs-field-"+field.type);return el.field=field,el.setAttribute("id",id),el.setAttribute("roleIndex",roleIndex),disabled?(el.setAttribute("tabindex",-1),el.setAttribute("disabled",!0)):el.setAttribute("tabIndex",1),editable&&el.setAttribute("editable",!0),draggable&&el.setAttribute("draggable",!0),done&&el.setAttribute("done",!0),setControlStyles(el,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(el),el;case"checkbox_group":return(field.settings||field.setting||{}).options.map((function(_,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(existingField)return setControlStyles(existingField,field,docPage.xScale,docPage.yScale,checkboxIndex),existingField;var cbEl=document.createElement("verdocs-field-checkbox");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleIndex",roleIndex),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),done&&cbEl.setAttribute("done",!0),editable&&cbEl.setAttribute("editable",!0),draggable&&cbEl.setAttribute("draggable",!0),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,checkboxIndex),controlsDiv.appendChild(cbEl),cbEl}));case"radio_button_group":return(field.settings||field.setting||{}).options.map((function(_,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(existingField)return setControlStyles(existingField,field,docPage.xScale,docPage.yScale,buttonIndex),existingField;var radioEl=document.createElement("verdocs-field-radio-button");return radioEl.field=field,radioEl.setAttribute("id",id),radioEl.setAttribute("roleIndex",roleIndex),radioEl.setAttribute("option",buttonIndex),disabled&&radioEl.setAttribute("disabled",!0),done&&radioEl.setAttribute("done",!0),editable&&radioEl.setAttribute("editable",!0),draggable&&radioEl.setAttribute("draggable",!0),setControlStyles(radioEl,field,docPage.xScale,docPage.yScale,buttonIndex),controlsDiv.appendChild(radioEl),radioEl}));default:return console.log("[PREVIEW] Skipping unsupported field type",field),null}else console.log("[renderDocumentField] No controls DIV found",docPage.containerId+"-controls",docPage)},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}},updateCssTransform=function updateCssTransform(el,key,value){var components=_toConsumableArray(el.style.transform.matchAll(/(\w+)\(([^)]*)\)/gi));el.style.transform=[components.filter((function(component){return component[1]!==key})).map((function(component){return component[0]})),key+"("+value+")"].join(" ")},savePDF=function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(endpoint,envelope,documentId){var fileName,data;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return fileName=envelope.name+" - "+envelope.updated_at.split("T")[0]+".pdf",_context.next=3,Object(_Envelopes_130fd6ea_js__WEBPACK_IMPORTED_MODULE_31__.a)(endpoint,envelope.id,documentId);case 3:data=_context.sent,Object(_Files_70a192df_js__WEBPACK_IMPORTED_MODULE_32__.a)(data,fileName);case 5:case"end":return _context.stop()}}),_callee)})));return function savePDF(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),throttle=function throttle(f,delay){var timer=0;return function(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(timer),timer=setTimeout((function(){return f.apply(_this,args)}),delay)}}},"./dist/esm/verdocs-send.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_send",(function(){return VerdocsSend}));__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./dist/esm/index-f78d163d.js"),_VerdocsEndpoint_7f17b088_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/VerdocsEndpoint-7f17b088.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/Validators-f110bae2.js"),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./dist/esm/templateStore-da902ad4.js"),_Templates_2522e194_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./dist/esm/Templates-2522e194.js"),_utils_274e2e93_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./dist/esm/utils-274e2e93.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/Token-54690789.js"),__webpack_require__("./dist/esm/index-fd7b8a34.js"),__webpack_require__("./dist/esm/Primitives-054bc6e5.js"),__webpack_require__("./dist/esm/Templates-8e4ab976.js"),__webpack_require__("./dist/esm/Envelopes-130fd6ea.js"),__webpack_require__("./dist/esm/Files-70a192df.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsSend=function(){function VerdocsSend(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSend),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.j)(this,hostRef),this.send=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"send",7),this.cancel=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"cancel",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"sdkError",7),this.levels=[],this.endpoint=_VerdocsEndpoint_7f17b088_js__WEBPACK_IMPORTED_MODULE_33__.b.getDefault(),this.templateId=null,this.containerId="verdocs-send-"+Math.random().toString(36).substring(2,11),this.rolesAtLevel={},this.showPickerForId="",this.sessionContacts=[],this.rolesCompleted={}}var _componentWillLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSend,[{key:"reset",value:function reset(){this.rolesCompleted={}}},{key:"componentWillLoad",value:(_componentWillLoad=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,_d,_e,loadSessionResult,rolesAtLevel;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(loadSessionResult=this.endpoint.loadSession(),this.templateId){_context.next=4;break}return console.log("[SEND] Missing required template ID "+this.templateId),_context.abrupt("return");case 4:return _context.prev=4,console.log("[SEND] Loading template "+this.templateId),_context.next=8,Object(_Templates_2522e194_js__WEBPACK_IMPORTED_MODULE_37__.a)(this.endpoint,this.templateId);case 8:(null===(_a=_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_36__.a.template)||void 0===_a?void 0:_a.roles)&&(rolesAtLevel={},this.rolesCompleted={},_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_36__.a.template.roles.forEach((function(role){var level=role.sequence-1;rolesAtLevel[level]||(rolesAtLevel[level]=[]);var id="r-"+level+"-"+rolesAtLevel[level].length;rolesAtLevel[level].push(Object.assign({},role,{id:id}))})),this.rolesAtLevel=rolesAtLevel,this.levels=Object.keys(rolesAtLevel).map((function(levelStr){return+levelStr})),this.levels.sort((function(a,b){return a-b}))),_context.next=15;break;case 11:_context.prev=11,_context.t0=_context.catch(4),console.log("[SEND] Error loading template",_context.t0),null===(_b=this.sdkError)||void 0===_b||_b.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(_context.t0.message,null===(_c=_context.t0.response)||void 0===_c?void 0:_c.status,null===(_d=_context.t0.response)||void 0===_d?void 0:_d.data));case 15:(null===(_e=loadSessionResult.session)||void 0===_e?void 0:_e.profile)&&this.sessionContacts.push({id:loadSessionResult.session.profile.id,name:loadSessionResult.session.profile.first_name+" "+loadSessionResult.session.profile.last_name,email:loadSessionResult.session.profile.email,phone:loadSessionResult.session.profile.phone});case 16:case"end":return _context.stop()}}),_callee,this,[[4,11]])}))),function componentWillLoad(){return _componentWillLoad.apply(this,arguments)})},{key:"getLevelIcon",value:function getLevelIcon(level){return level<0?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level-icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm10 6c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6z"></path></svg>'}):level>=this.levels.length?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level-icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"></path></svg>'}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level-icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></svg>'})}},{key:"handleSelectContact",value:function handleSelectContact(e,role){e.preventDefault(),this.rolesCompleted[role.id]=Object.assign({},role,e.detail),this.showPickerForId=""}},{key:"handleClickRole",value:function handleClickRole(e,role){e.stopPropagation(),this.showPickerForId=role.id}},{key:"handleSend",value:function handleSend(e){var _a;e.stopPropagation(),null===(_a=this.send)||void 0===_a||_a.emit({roles:Object.values(this.rolesCompleted),name:_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_36__.a.template.name,template_id:this.templateId})}},{key:"handleCancel",value:function handleCancel(e){var _a;e.stopPropagation(),null===(_a=this.cancel)||void 0===_a||_a.emit()}},{key:"render",value:function render(){var _this=this,roleNames=_templateStore_da902ad4_js__WEBPACK_IMPORTED_MODULE_36__.a.template.roles.map((function(role){return role.name}))||[],rolesAssigned=Object.values(this.rolesCompleted).filter((function(recipient){return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_34__.b)(recipient.email)||Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_34__.a)(recipient.phone)})),allRolesAssigned=rolesAssigned.length>=roleNames.length;return console.log("r",this.rolesCompleted,allRolesAssigned,rolesAssigned),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.b,{class:{}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"recipients"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"left-line"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level level-start"},this.getLevelIcon(-1),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"complete"},"Send Envelope")),this.levels.map((function(level){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level level-"+level},_this.getLevelIcon(level),_this.rolesAtLevel[level].map((function(role){var _a,_b,_c;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"recipient",style:{backgroundColor:Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_35__.a)(Object(_utils_274e2e93_js__WEBPACK_IMPORTED_MODULE_38__.a)(roleNames,role.name))},onClick:function onClick(e){return _this.handleClickRole(e,role)}},null!==(_b=null===(_a=_this.rolesCompleted[role.id])||void 0===_a?void 0:_a.full_name)&&void 0!==_b?_b:role.name,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg>'}),_this.showPickerForId===role.id&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-contact-picker",{onCancel:function onCancel(){return _this.showPickerForId=""},onNext:function onNext(e){return _this.handleSelectContact(e,role)},contactSuggestions:_this.sessionContacts,templateRole:null!==(_c=_this.rolesCompleted[role.id])&&void 0!==_c?_c:role,onSearchContacts:function onSearchContacts(e){return console.log("Search",e.detail)}}))})))})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level level-done"},this.getLevelIcon(this.levels.length),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"complete"},"Signing Complete"))),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"buttons"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-button",{label:"Cancel",size:"small",variant:"outline",onClick:function onClick(e){return _this.handleCancel(e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-button",{label:"Send",size:"small",disabled:!allRolesAssigned,onClick:function onClick(e){return _this.handleSend(e)}})))}}]),VerdocsSend}();VerdocsSend.style='verdocs-send{display:-ms-flexbox;display:flex;padding:10px;position:relative;background:#ffffff;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-send .recipients{position:relative}verdocs-send .left-line{top:32px;left:20px;z-index:1;width:12px;bottom:30px;position:absolute;background:#ffffff;border-left:3px dotted #9b9b9b}verdocs-send .level{display:-ms-flexbox;display:flex;-webkit-column-gap:10px;-moz-column-gap:10px;column-gap:10px;margin-left:50px;position:relative;-ms-flex-direction:row;flex-direction:row;padding:8px 0 4px 0;border-bottom:1px solid #97979744}verdocs-send .level .level-icon{top:14px;z-index:2;left:-40px;width:24px;height:24px;position:absolute;background:#ffffff}verdocs-send .level .level-icon svg{fill:#00000089}verdocs-send .level .recipient{height:30px;display:-ms-flexbox;display:flex;-ms-flex:0 0 30px;flex:0 0 30px;color:#000000;cursor:pointer;font-size:14px;-ms-flex-align:center;align-items:center;border-radius:30px;-ms-flex-direction:row;flex-direction:row;background:#dddddd;white-space:nowrap;padding:2px 10px 2px 14px}verdocs-send .level .recipient .icon{width:22px;height:22px;-ms-flex:0 0 22px;flex:0 0 22px;margin:0 0 0 10px}verdocs-send .level .recipient .icon svg{width:22px;height:22px;fill:#333333;outline:none}verdocs-send .level .complete{-ms-flex:1;flex:1;height:30px;display:-ms-flexbox;display:flex;color:#000000;font-size:14px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;padding:3px 10px 3px 2px}verdocs-send .buttons{display:-ms-flexbox;display:flex;margin-top:10px;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;-ms-flex-direction:row;flex-direction:row}verdocs-send verdocs-contact-picker{left:0;top:41px;z-index:10;position:absolute;border:1px solid #dddddd;-webkit-box-shadow:0 0 6px 3px rgba(0, 0, 0, 0.1);box-shadow:0 0 6px 3px rgba(0, 0, 0, 0.1)}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9Db2xvcnMtMWIyOTgwOTIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vRW52ZWxvcGVzLTEzMGZkNmVhLmpzIiwid2VicGFjazovLy8uL2Rpc3QvZXNtL0ZpbGVzLTcwYTE5MmRmLmpzIiwid2VicGFjazovLy8uL2Rpc3QvZXNtL1RlbXBsYXRlcy0yNTIyZTE5NC5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9UZW1wbGF0ZXMtOGU0YWI5NzYuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vVmFsaWRhdG9ycy1mMTEwYmFlMi5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9lcnJvcnMtOWI1NDk4YzguanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdXRpbHMtMjc0ZTJlOTMuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdmVyZG9jcy1zZW5kLmVudHJ5LmpzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiYWRvcHQiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiZ2V0U2lnbmluZ1Nlc3Npb24iLCJlbmRwb2ludCIsInBhcmFtcyIsIl9hIiwiYXBpIiwiZ2V0IiwiY29uY2F0IiwiZW52ZWxvcGVJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJvbGVJZCIsImludml0ZUNvZGUiLCJyIiwic2lnbmVyVG9rZW4iLCJoZWFkZXJzIiwic2lnbmVyX3Rva2VuIiwic2Vzc2lvbiIsImRlY29kZUFjY2Vzc1Rva2VuQm9keSIsInNldFRva2VuIiwicmVjaXBpZW50IiwiZGF0YSIsImdldEVudmVsb3BlIiwic3NyIiwiZ2V0RW52ZWxvcGVGaWxlIiwiZG9jdW1lbnRJZCIsInJlc3BvbnNlVHlwZSIsInVwZGF0ZUVudmVsb3BlRmllbGQiLCJmaWVsZE5hbWUiLCJwdXQiLCJ1cGRhdGVFbnZlbG9wZUZpZWxkU2lnbmF0dXJlIiwic2lnbmF0dXJlSWQiLCJ1cGRhdGVFbnZlbG9wZUZpZWxkSW5pdGlhbHMiLCJpbml0aWFsSWQiLCJmaWxlVG9EYXRhVXJsIiwiZmlsZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJsYXN0TW9kaWZpZWQiLCJzaXplIiwidHlwZSIsIm5hbWUiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsIkVycm9yIiwiZG93bmxvYWRCbG9iIiwiYmxvYiIsImJsb2JVcmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJkaXNwYXRjaEV2ZW50IiwiTW91c2VFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsIndpbmRvdyIsInJlbW92ZUNoaWxkIiwiaSIsInBlbmRpbmdOb3RpZmljYXRpb25zIiwibG9hZFRlbXBsYXRlIiwidGVtcGxhdGVJZCIsImNvbnNvbGUiLCJsb2ciLCJzdGF0ZSIsImxvYWRpbmciLCJ0ZW1wbGF0ZSIsImdldFRlbXBsYXRlIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImdldFRlbXBsYXRlcyIsInBvc3QiLCJjcmVhdGVUZW1wbGF0ZSIsInVwZGF0ZVRlbXBsYXRlIiwiRU1BSUxfUkVHRVgiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsInRlc3QiLCJQSE9ORV9SRUdFWCIsImlzVmFsaWRQaG9uZSIsInBob25lIiwiU0RLRXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsInJlc3BvbnNlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJyZXNjYWxlIiwiZGVmYXVsdFdpZHRoIiwiZGVmYXVsdEhlaWdodCIsInNldENvbnRyb2xTdHlsZXMiLCJlbCIsImZpZWxkIiwieFNjYWxlIiwieVNjYWxlIiwib3B0aW9uIiwiX2IiLCJfYyIsIl9kIiwic2V0dGluZ3MiLCJzZXR0aW5nIiwieCIsIndpZHRoIiwiaGVpZ2h0Iiwib3B0aW9uU2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJib3R0b20iLCJ0cmFuc2Zvcm0iLCJnZXRGaWVsZElkIiwiZ2V0RmllbGRPcHRpb25JZCIsImluZGV4IiwidXBkYXRlRG9jdW1lbnRGaWVsZFZhbHVlIiwiaWQiLCJleGlzdGluZ0ZpZWxkIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRBdHRyaWJ1dGUiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZG9jUGFnZSIsImZpZWxkT3B0aW9ucyIsImRpc2FibGVkIiwiZWRpdGFibGUiLCJkcmFnZ2FibGUiLCJjb250cm9sc0RpdiIsImNvbnRhaW5lcklkIiwibWFwIiwiY2hlY2tib3hJbmRleCIsImNiRWwiLCJidXR0b25JbmRleCIsInJhZGlvRWwiLCJnZXRSb2xlSW5kZXgiLCJyb2xlcyIsInJvbGUiLCJpbmRleE9mIiwiZ2V0RmllbGRTZXR0aW5ncyIsInJlcXVpcmVkIiwidXBkYXRlQ3NzVHJhbnNmb3JtIiwia2V5IiwiY29tcG9uZW50cyIsIm1hdGNoQWxsIiwiZmlsdGVyIiwiY29tcG9uZW50Iiwiam9pbiIsInNhdmVQREYiLCJlbnZlbG9wZSIsImZpbGVOYW1lIiwidXBkYXRlZF9hdCIsInNwbGl0IiwidGhyb3R0bGUiLCJkZWxheSIsInRpbWVyIiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJWZXJkb2NzU2VuZCIsImhvc3RSZWYiLCJyZWdpc3Rlckluc3RhbmNlIiwic2VuZCIsImNyZWF0ZUV2ZW50IiwiY2FuY2VsIiwic2RrRXJyb3IiLCJsZXZlbHMiLCJWZXJkb2NzRW5kcG9pbnQiLCJnZXREZWZhdWx0IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwicm9sZXNBdExldmVsIiwic2hvd1BpY2tlckZvcklkIiwic2Vzc2lvbkNvbnRhY3RzIiwicm9sZXNDb21wbGV0ZWQiLCJyZXNldCIsImxvYWRTZXNzaW9uUmVzdWx0IiwibG9hZFNlc3Npb24iLCJsZXZlbCIsInNlcXVlbmNlIiwia2V5cyIsImxldmVsU3RyIiwic29ydCIsImEiLCJiIiwiZW1pdCIsInN0YXR1cyIsIl9lIiwicHJvZmlsZSIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJnZXRMZXZlbEljb24iLCJoIiwiY2xhc3MiLCJpbm5lckhUTUwiLCJoYW5kbGVTZWxlY3RDb250YWN0IiwicHJldmVudERlZmF1bHQiLCJkZXRhaWwiLCJoYW5kbGVDbGlja1JvbGUiLCJzdG9wUHJvcGFnYXRpb24iLCJoYW5kbGVTZW5kIiwidmFsdWVzIiwidGVtcGxhdGVfaWQiLCJoYW5kbGVDYW5jZWwiLCJyZW5kZXIiLCJyb2xlTmFtZXMiLCJyb2xlc0Fzc2lnbmVkIiwiYWxsUm9sZXNBc3NpZ25lZCIsIkhvc3QiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvbkNsaWNrIiwiZnVsbF9uYW1lIiwib25DYW5jZWwiLCJvbk5leHQiLCJjb250YWN0U3VnZ2VzdGlvbnMiLCJ0ZW1wbGF0ZVJvbGUiLCJvblNlYXJjaENvbnRhY3RzIiwidmFyaWFudCJdLCJtYXBwaW5ncyI6IjtrS0FNQSxTQUFTQSxRQUFRQyxXQUNiLE9BQVFBLFVBQVksSUFDaEIsS0FBSyxFQUNELE9BQXFCLElBQWRBLFVBQWtCLHlCQUEyQiwyQkFDeEQsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8sMkJB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SzZFLGVBQWV2QyxLQUFLbkIsV0FBd0IsSUFBUG5CLEdBQWdCQSxHQUFLc0MsS0FBTWlGLGlCQUFrQiwwQkFBQTNQLEdBQUMsT0FBSWdHLFFBQVFDLElBQUksU0FBVWpHLEVBQUV3TyxPQUFPLElBQ3JyQixJQUFHLElBQUlMLDJEQUFFLE1BQU8sQ0FBRUMsTUFBQSxvQkFBNkIvTSxLQUFLNk0sYUFBYTdNLEtBQUtrTCxPQUFPM0ssUUFBU3VNLDJEQUFFLE1BQU8sQ0FBRUMsTUFBTyxZQUFjLHNCQUF1QkQsMkRBQUUsTUFBTyxDQUFFQyxNQUFPLFdBQWFELDJEQUFFLGlCQUFrQixDQUFFck4sTUFBTyxTQUFVc0QsS0FBTSxRQUFTd0wsUUFBUyxVQUFXUCxRQUFTLGlCQUFBclAsR0FBQyxPQUFJLE1BQUs4TyxhQUFhOU8sRUFBRSxJQUFLbU8sMkRBQUUsaUJBQWtCLENBQUVyTixNQUFPLE9BQVFzRCxLQUFNLFFBQVMwRixVQUFXb0YsaUJBQWtCRyxRQUFTLGlCQUFBclAsR0FBQyxPQUFJLE1BQUsyTyxXQUFXM08sRUFBRSxLQUNoWixLQUFDLFlBOUZjLEdBZ0dqQmdNLFlBQVlsRCxNQXRHVyxzNkQiLCJmaWxlIjoiMTkuYzkzYWMxMDkuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l2ZW4gYSBgcmdiYShyLGcsYixhKWAgc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudCwgZHJvcHBpbmcgdGhlIGFscGhhIGNoYW5uZWwuXG4gKi9cbi8qKlxuICogR2l2ZW4gYSBzaWduZXIgcm9sZSBpbmRleCwgcmV0dXJuIHRoZSBjb2xvciBjb2RlIGZvciB0aGF0IHNpZ25lci5cbiAqL1xuZnVuY3Rpb24gZ2V0UkdCQShyb2xlSW5kZXgpIHtcbiAgICBzd2l0Y2ggKHJvbGVJbmRleCAlIDEwKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiByb2xlSW5kZXggPT09IDAgPyAncmdiYSgyNTUsIDE5MywgNywgMC40KScgOiAncmdiYSgxMzQsIDEzNCwgMTM0LCAwLjMpJzsgLy8gI0ZGRTY5Q1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTU2LCAzOSwgMTc2LCAuNCknOyAvLyAnI0UzQzNFOSdcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDMzLCAxNTAsIDI0MywgLjQpJzsgLy8gJyNDMUUxRkInXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjAsIDIzMSwgMTE3LCAwLjMpJztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDEyMSwgMTM0LCAyMDMsIDAuMyknO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoNzcsIDE4MiwgMTcyLCAwLjMpJztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDI1NSwgMjAyLCAxNjUsIDAuMyknO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMiwgMjQ3LCAxOTAsIDAuMyknO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAxMzgsIDEwMSwgMC4zKSc7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg4MiwgMjU1LCA3OSwgMC4zKSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjI5LCAxMTUsIDE1NSwgMC4zKSc7XG4gICAgfVxufVxuXG5leHBvcnQgeyBnZXRSR0JBIGFzIGcgfTtcbiIsImltcG9ydCB7IGQgYXMgZGVjb2RlQWNjZXNzVG9rZW5Cb2R5IH0gZnJvbSAnLi9Ub2tlbi01NDY5MDc4OS5qcyc7XG5cbnZhciBfX2F3YWl0ZXIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBHZXQgYSBzaWduaW5nIHNlc3Npb24gZm9yIGFuIEVudmVsb3BlLlxuICovXG52YXIgZ2V0U2lnbmluZ1Nlc3Npb24gPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhcmFtcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQocGFyYW1zLmVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLnJvbGVJZCksIFwiL2ludml0YXRpb24vXCIpLmNvbmNhdChwYXJhbXMuaW52aXRlQ29kZSkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWRpbmcgYSBqc29ud2VidG9rZW4gZGVwZW5kZW5jeSBoZXJlIC0gd2UgZG9uJ3QgYWN0dWFsbHkgbmVlZCB0aGUgd2hvbGUgbGlicmFyeVxuICAgICAgICAgICAgICAgIHZhciBzaWduZXJUb2tlbiA9ICgoX2EgPSByLmhlYWRlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaWduZXJfdG9rZW4pIHx8ICcnO1xuICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uID0gZGVjb2RlQWNjZXNzVG9rZW5Cb2R5KHNpZ25lclRva2VuKTtcbiAgICAgICAgICAgICAgICBlbmRwb2ludC5zZXRUb2tlbihzaWduZXJUb2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVjaXBpZW50OiByLmRhdGEsIHNlc3Npb246IHNlc3Npb24sIHNpZ25lclRva2VuOiBzaWduZXJUb2tlbiB9O1xuICAgICAgICAgICAgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCBhbGwgbWV0YWRhdGEgZm9yIGFuIEVudmVsb3BlLlxuICovXG52YXIgZ2V0RW52ZWxvcGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHNzcikgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCkgKyAoc3NyID8gJz9zc3I9dHJ1ZScgOiAnJykpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCAoYmluYXJ5IGRvd25sb2FkKSBhIGZpbGUgYXR0YWNoZWQgdG8gYW4gRW52ZWxvcGUuIEl0IGlzIGltcG9ydGFudCB0byB1c2UgdGhpcyBtZXRob2RcbiAqIHJhdGhlciB0aGFuIGEgZGlyZWN0IEEgSFJFRiBvciBzaW1pbGFyIGxpbmsgdG8gc2V0IHRoZSBhdXRob3JpemF0aW9uIGhlYWRlcnMgZm9yIHRoZVxuICogcmVxdWVzdC5cbiAqL1xudmFyIGdldEVudmVsb3BlRmlsZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgZG9jdW1lbnRJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCwgXCIvZW52ZWxvcGVfZG9jdW1lbnRzL1wiKS5jb25jYXQoZG9jdW1lbnRJZCwgXCI/ZmlsZT10cnVlXCIpLCB7IHJlc3BvbnNlVHlwZTogJ2Jsb2InIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIFVwZGF0ZSBhIERvY3VtZW50IGZpZWxkLiBUeXBpY2FsbHkgY2FsbGVkIGR1cmluZyB0aGUgc2lnbmluZyBwcm9jZXNzIGFzIGEgUmVjaXBpZW50IGZpbGxzIGluIGZpZWxkcy5cbiAqL1xudmFyIHVwZGF0ZUVudmVsb3BlRmllbGQgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIGZpZWxkTmFtZSwgdmFsdWUpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL2ZpZWxkcy9cIikuY29uY2F0KGZpZWxkTmFtZSksIHZhbHVlKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBVcGRhdGUgYSBEb2N1bWVudCBzaWduYXR1cmUgZmllbGQuIFNpZ25hdHVyZSBmaWVsZHMgYXJlIElELWRyaXZlbi4gQ2FsbCBgRG9jdW1lbnQuY3JlYXRlU2lnbmF0dXJlKClgIGZpcnN0IHRvIGNyZWF0ZSBhXG4gKiBzaWduYXR1cmUgZm9yIGEgUmVjaXBpZW50LCB0aGVuIGNhbGwgYERvY3VtZW50cy51cGRhdGVEb2N1bWVudEZpZWxkU2lnbmF0dXJlKClgIHRvIGF0dGFjaCBpdCB0byBhIGZpZWxkLlxuICovXG52YXIgdXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgZmllbGROYW1lLCBzaWduYXR1cmVJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucHV0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCwgXCIvZmllbGRzL1wiKS5jb25jYXQoZmllbGROYW1lLCBcIi9zaWduYXR1cmUvXCIpLmNvbmNhdChzaWduYXR1cmVJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIFVwZGF0ZSBhIERvY3VtZW50IHNpZ25hdHVyZSBmaWVsZC4gU2lnbmF0dXJlIGZpZWxkcyBhcmUgSUQtZHJpdmVuLiBDYWxsIGBEb2N1bWVudC5jcmVhdGVTaWduYXR1cmUoKWAgZmlyc3QgdG8gY3JlYXRlIGFcbiAqIHNpZ25hdHVyZSBmb3IgYSBSZWNpcGllbnQsIHRoZW4gY2FsbCBgRG9jdW1lbnRzLnVwZGF0ZURvY3VtZW50RmllbGRTaWduYXR1cmUoKWAgdG8gYXR0YWNoIGl0IHRvIGEgZmllbGQuXG4gKi9cbnZhciB1cGRhdGVFbnZlbG9wZUZpZWxkSW5pdGlhbHMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIGZpZWxkTmFtZSwgaW5pdGlhbElkKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wdXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9maWVsZHMvXCIpLmNvbmNhdChmaWVsZE5hbWUsIFwiL2luaXRpYWwvXCIpLmNvbmNhdChpbml0aWFsSWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuXG5leHBvcnQgeyBnZXRFbnZlbG9wZUZpbGUgYXMgYSwgZ2V0U2lnbmluZ1Nlc3Npb24gYXMgYiwgdXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZSBhcyBjLCB1cGRhdGVFbnZlbG9wZUZpZWxkSW5pdGlhbHMgYXMgZCwgZ2V0RW52ZWxvcGUgYXMgZywgdXBkYXRlRW52ZWxvcGVGaWVsZCBhcyB1IH07XG4iLCIvKipcbiAqIEdpdmVuIGEgRmlsZSwgZXh0cmFjdCB0aGUgZmlsZSdzIGNvbnRlbnQgYXMgYSBiYXNlNjQgZW5jb2RlZCBkYXRhIFVSTC4gVGhlIHJlc3BvbnNlIHdpbGwgaGF2ZSBhIHByZWZpeCB0aGF0XG4gKiBpbmNsdWRlcyB0aGUgTUlNRSB0eXBlIG9mIHRoZSBmaWxlLCBlLmcuIFwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxpVkJPUncwSy4uLi4uLlwiXG4gKi9cbnZhciBmaWxlVG9EYXRhVXJsID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IGZpbGUubGFzdE1vZGlmaWVkLFxuICAgICAgICAgICAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlYWRlci5yZXN1bHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgZmlsZScpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbi8qKlxuICogVHJpZ2dlciBhIGRvd25sb2FkIGRpYWxvZyB0byBzYXZlIGEgYmxvYiBhcyBhIGZpbGUgb24gZGlzay5cbiAqL1xudmFyIGRvd25sb2FkQmxvYiA9IGZ1bmN0aW9uIChibG9iLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJ2ZpbGUucGRmJzsgfVxuICAgIHZhciBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBsaW5rLmhyZWYgPSBibG9iVXJsO1xuICAgIGxpbmsuZG93bmxvYWQgPSBuYW1lO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgdmlldzogd2luZG93LFxuICAgIH0pKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xufTtcblxuZXhwb3J0IHsgZG93bmxvYWRCbG9iIGFzIGQsIGZpbGVUb0RhdGFVcmwgYXMgZiB9O1xuIiwiaW1wb3J0IHsgZyBhcyBnZXRUZW1wbGF0ZSB9IGZyb20gJy4vVGVtcGxhdGVzLThlNGFiOTc2LmpzJztcbmltcG9ydCB7IHMgYXMgc3RhdGUgfSBmcm9tICcuL3RlbXBsYXRlU3RvcmUtZGE5MDJhZDQuanMnO1xuXG5jb25zdCBwZW5kaW5nTm90aWZpY2F0aW9ucyA9IFtdO1xuY29uc3QgbG9hZFRlbXBsYXRlID0gYXN5bmMgKGVuZHBvaW50LCB0ZW1wbGF0ZUlkKSA9PiB7XG4gIGlmICghdGVtcGxhdGVJZCkge1xuICAgIGNvbnNvbGUubG9nKGBbVEVNUExBVEVTXSBNaXNzaW5nIHJlcXVpcmVkIHRlbXBsYXRlIElEYCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIHRlbXBsYXRlIElEJyk7XG4gIH1cbiAgLy8gVE9ETzogVGhpcyByZXNvbHZlcyBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIG11bHRpcGxlIGNvbXBvbmVudHMgbWlnaHQgc2hhcmUgdGhlIHRlbXBsYXRlIHN0b3JlIGFuZCBhbGwgd2FudCB0byBsb2FkIHRoZSBzYW1lIHRlbXBsYXRlXG4gIC8vICBhdCBvbmNlLiBJdCBhbHNvIGNyZWF0ZXMgYSBwcm9ibGVtIHdoZXJlIHR3byBjb21wb25lbnRzIG1pZ2h0IHdhbnQgRElGRkVSRU5UIHRlbXBsYXRlcy4gVGhpcyBzaG91bGQgYmUgcmFyZSBiZWNhdXNlIG1vc3QgY29tcG9uZW50c1xuICAvLyAgYXJlIHZpc3VhbGx5IFwibGFyZ2VcIiBleHBlcmllbmNlcyB0aGF0IHdvdWxkbid0IHJ1biB3ZWxsIGluIHBhcmFsbGVsIHdpdGggb3RoZXJzIGFueXdheS4gQnV0IGp1c3QgdG8gY292ZXIgdGhlIGJhc2Ugd2UgbWF5IHdhbnQgdG9cbiAgLy8gIGFjY291bnQgZm9yIHRoYXQgaW4gdGhlIGZ1dHVyZS5cbiAgaWYgKHN0YXRlLmxvYWRpbmcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcGVuZGluZ05vdGlmaWNhdGlvbnMucHVzaCh7IHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICB9KTtcbiAgfVxuICBpZiAodGVtcGxhdGVJZCA9PT0gc3RhdGUudGVtcGxhdGVJZCkge1xuICAgIHJldHVybiBzdGF0ZS50ZW1wbGF0ZTtcbiAgfVxuICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgc3RhdGUudGVtcGxhdGUgPSBudWxsO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBbVEVNUExBVEVTXSBMb2FkaW5nIHRlbXBsYXRlICR7dGVtcGxhdGVJZH1gKTtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IGdldFRlbXBsYXRlKGVuZHBvaW50LCB0ZW1wbGF0ZUlkLCB0cnVlKTtcbiAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW1RFTVBMQVRFU10gVW5hYmxlIHRvIGxvYWQgdGVtcGxhdGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgc3RhdGUudGVtcGxhdGVJZCA9IHRlbXBsYXRlSWQ7XG4gICAgcGVuZGluZ05vdGlmaWNhdGlvbnMuZm9yRWFjaChub3RpZmljYXRpb24gPT4gbm90aWZpY2F0aW9uLnJlc29sdmUodHJ1ZSkpO1xuICAgIHBlbmRpbmdOb3RpZmljYXRpb25zLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnW1RFTVBMQVRFU10gRXJyb3IgbG9hZGluZyB0ZW1wbGF0ZScsIGUpO1xuICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICBwZW5kaW5nTm90aWZpY2F0aW9ucy5mb3JFYWNoKG5vdGlmaWNhdGlvbiA9PiBub3RpZmljYXRpb24ucmVqZWN0KGUpKTtcbiAgICBwZW5kaW5nTm90aWZpY2F0aW9ucy5sZW5ndGggPSAwO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGxvYWRUZW1wbGF0ZSBhcyBsIH07XG4iLCIvKipcbiAqIEEgVGVtcGxhdGUgZGVmaW5lcyBob3cgYSBWZXJkb2NzIHNpZ25pbmcgZmxvdyB3aWxsIGJlIHBlcmZvcm1lZCwgaW5jbHVkaW5nIGF0dGFjaG1lbnRzLCBzaWduaW5nIGZpZWxkcywgYW5kXG4gKiByZWNpcGllbnRzLlxuICpcbiAqIEBtb2R1bGVcbiAqL1xuLyoqXG4gKiBHZXQgYWxsIHRlbXBsYXRlcyBhY2Nlc3NpYmxlIGJ5IHRoZSBjYWxsZXIsIHdpdGggb3B0aW9uYWwgZmlsdGVycy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IGlzX3N0YXJyZWQ6IHRydWUgfSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IGlzX2NyZWF0b3I6IHRydWUgfSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IGlzX29yZ2FuaXphdGlvbjogdHJ1ZSB9KTtcbiAqIGBgYFxuICovXG52YXIgZ2V0VGVtcGxhdGVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzJywgeyBwYXJhbXM6IHBhcmFtcyB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBvbmUgdGVtcGxhdGUgYnkgaXRzIElELlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScpO1xuICogYGBgXG4gKi9cbnZhciBnZXRUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgc3NyKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCkgKyAoc3NyID8gJz9zc3I9dHJ1ZScgOiAnJykpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IG5ld1RlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLmNyZWF0ZVRlbXBsYXRlKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7Li4ufSk7XG4gKiBgYGBcbiAqL1xudmFyIGNyZWF0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzLycsIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBVcGRhdGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdXBkYXRlZFRlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLnVwZGF0ZVRlbXBsYXRlKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCAnODNkYTNkNzAtNzg1Ny00MzkyLWI4NzYtYzQ1OTJhMzA0YmM5JywgeyBuYW1lOiAnTmV3IE5hbWUnIH0pO1xuICogYGBgXG4gKi9cbnZhciB1cGRhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucHV0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCksIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuXG5leHBvcnQgeyBnZXRUZW1wbGF0ZXMgYXMgYSwgY3JlYXRlVGVtcGxhdGUgYXMgYywgZ2V0VGVtcGxhdGUgYXMgZywgdXBkYXRlVGVtcGxhdGUgYXMgdSB9O1xuIiwiLyoqXG4gKiBHZXQgYWxsIGRlZmluZWQgdmFsaWRhdG9yc1xuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7RG9jdW1lbnRzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKHRlbXBsYXRlSUQpO1xuICogYGBgXG4gKi9cbnZhciBFTUFJTF9SRUdFWCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xudmFyIGlzVmFsaWRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkgeyByZXR1cm4gISFlbWFpbCAmJiBFTUFJTF9SRUdFWC50ZXN0KGVtYWlsKTsgfTtcbi8vIEBzZWUgaHR0cHM6Ly93d3cucmVnZXh0ZXN0ZXIuY29tLzE5NzhcbnZhciBQSE9ORV9SRUdFWCA9IC8oKD86XFwrfDAwKVsxN10oPzogfFxcLSk/fCg/OlxcK3wwMClbMS05XVxcZHswLDJ9KD86IHxcXC0pP3woPzpcXCt8MDApMVxcLVxcZHszfSg/OiB8XFwtKT8pPygwXFxkfFxcKFswLTldezN9XFwpfFsxLTldezAsM30pKD86KCg/OiB8XFwtKVswLTldezJ9KXs0fXwoKD86WzAtOV17Mn0pezR9KXwoKD86IHxcXC0pWzAtOV17M30oPzogfFxcLSlbMC05XXs0fSl8KFswLTldezd9KSkvO1xudmFyIGlzVmFsaWRQaG9uZSA9IGZ1bmN0aW9uIChwaG9uZSkgeyByZXR1cm4gISFwaG9uZSAmJiBQSE9ORV9SRUdFWC50ZXN0KHBob25lKTsgfTtcblxuZXhwb3J0IHsgaXNWYWxpZFBob25lIGFzIGEsIGlzVmFsaWRFbWFpbCBhcyBpIH07XG4iLCIvKipcbiAqIFBhc3NlZCB0byBwYXJlbnQgY29tcG9uZW50cyBpbiBjZXJ0YWluIGNhbGxiYWNrcyB3aXRoIHRoZSBsb3dlci1sZXZlbCBKUy1TREsgZW1pdHMgYW4gZXJyb3JcbiAqL1xuY2xhc3MgU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1c0NvZGUsIHJlc3BvbnNlKSB7XG4gICAgc3VwZXIobWVzc2FnZSB8fCAnU0RLIEVycm9yJyk7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBTREtFcnJvciBhcyBTIH07XG4iLCJpbXBvcnQgeyBhIGFzIGdldEVudmVsb3BlRmlsZSB9IGZyb20gJy4vRW52ZWxvcGVzLTEzMGZkNmVhLmpzJztcbmltcG9ydCB7IGQgYXMgZG93bmxvYWRCbG9iIH0gZnJvbSAnLi9GaWxlcy03MGExOTJkZi5qcyc7XG5cbmZ1bmN0aW9uIHJlc2NhbGUociwgbikge1xuICAgIHJldHVybiByICogbjtcbn1cblxuY29uc3QgZGVmYXVsdFdpZHRoID0gKHR5cGUpID0+IHtcbiAgLy8gY2hlY2tib3ggd2FzIGEgbGVnYWN5IGZpZWxkIHR5cGVcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAndGV4dGJveCc6XG4gICAgICByZXR1cm4gMTUwO1xuICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgICByZXR1cm4gNjQ7XG4gICAgY2FzZSAnZGF0ZSc6XG4gICAgICByZXR1cm4gNjQ7XG4gICAgY2FzZSAnZHJvcGRvd24nOlxuICAgICAgcmV0dXJuIDY0O1xuICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgcmV0dXJuIDI0O1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgIHJldHVybiAxNDtcbiAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgLy8gVE9ETzogUmV2aWV3IHRoaXMuIDcxIHNlZW1zIHRvIGxpbmUgdXAgYmV0dGVyIHdpdGggdGhlIGZpbmFsIHJlbmRlci5cbiAgICAgIHJldHVybiA3MTtcbiAgICAvLyByZXR1cm4gODI7XG4gIH1cbiAgcmV0dXJuIDE1MDtcbn07XG5jb25zdCBkZWZhdWx0SGVpZ2h0ID0gKHR5cGUpID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAndGV4dGJveCc6XG4gICAgICByZXR1cm4gMTU7XG4gICAgY2FzZSAndGltZXN0YW1wJzpcbiAgICAgIHJldHVybiAxNTtcbiAgICBjYXNlICdkYXRlJzpcbiAgICAgIHJldHVybiAxNTtcbiAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICByZXR1cm4gMTU7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICAvLyBUT0RPOiBSZXZpZXcgdGhpcy4gNzEgc2VlbXMgdG8gbGluZSB1cCBiZXR0ZXIgd2l0aCB0aGUgZmluYWwgcmVuZGVyLlxuICAgICAgcmV0dXJuIDM2O1xuICAgIC8vIHJldHVybiA0MTtcbiAgfVxuICByZXR1cm4gNTA7XG59O1xuY29uc3Qgc2V0Q29udHJvbFN0eWxlcyA9IChlbCwgZmllbGQsIHhTY2FsZSwgeVNjYWxlLCBvcHRpb24pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCBzZXR0aW5ncyA9IGZpZWxkLnNldHRpbmcgfHwgZmllbGQuc2V0dGluZ3M7XG4gIGxldCB7IHggPSAwLCB5ID0gMCwgd2lkdGggPSBkZWZhdWx0V2lkdGgoZmllbGQudHlwZSksIGhlaWdodCA9IGRlZmF1bHRIZWlnaHQoZmllbGQudHlwZSkgfSA9IHNldHRpbmdzO1xuICBjb25zdCBvcHRpb25TZXR0aW5ncyA9IG9wdGlvbiAhPT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm9wdGlvbnNbb3B0aW9uXSA/IHNldHRpbmdzLm9wdGlvbnNbb3B0aW9uXSA6IG51bGw7XG4gIGlmIChvcHRpb25TZXR0aW5ncykge1xuICAgIHggPSAoX2EgPSBvcHRpb25TZXR0aW5ncy54KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB4O1xuICAgIHkgPSAoX2IgPSBvcHRpb25TZXR0aW5ncy55KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB5O1xuICAgIHdpZHRoID0gKF9jID0gb3B0aW9uU2V0dGluZ3Mud2lkdGgpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHdpZHRoO1xuICAgIGhlaWdodCA9IChfZCA9IG9wdGlvblNldHRpbmdzLmhlaWdodCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaGVpZ2h0O1xuICB9XG4gIGVsLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICBlbC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIGVsLnN0eWxlLmxlZnQgPSBgJHtyZXNjYWxlKHhTY2FsZSwgeCl9cHhgO1xuICBlbC5zdHlsZS5ib3R0b20gPSBgJHtyZXNjYWxlKHlTY2FsZSwgeSl9cHhgO1xuICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHt4U2NhbGV9LCAke3lTY2FsZX0pYDtcbiAgLy8gZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZmllbGRbJ3JnYmEnXSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG59O1xuY29uc3QgZ2V0RmllbGRJZCA9IChmaWVsZCkgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9YDtcbn07XG5jb25zdCBnZXRGaWVsZE9wdGlvbklkID0gKGZpZWxkLCBpbmRleCkgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9LSR7aW5kZXh9YDtcbn07XG5jb25zdCB1cGRhdGVEb2N1bWVudEZpZWxkVmFsdWUgPSAoZmllbGQpID0+IHtcbiAgY29uc3QgaWQgPSBnZXRGaWVsZElkKGZpZWxkKTtcbiAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICBleGlzdGluZ0ZpZWxkLmZpZWxkID0gZmllbGQ7XG4gICAgZXhpc3RpbmdGaWVsZC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpOyAvLyBXZSBuZWVkIHRoaXMgdG8gdHJpZ2dlciBhIHJlLXJlbmRlclxuICAgIGV4aXN0aW5nRmllbGQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpOyAvLyBXZSBuZWVkIHRoaXMgdG8gdHJpZ2dlciBhIHJlLXJlbmRlclxuICAgIGV4aXN0aW5nRmllbGQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIGZhbHNlKTsgLy8gV2UgbmVlZCB0aGlzIHRvIHRyaWdnZXIgYSByZS1yZW5kZXJcbiAgfVxufTtcbmNvbnN0IHJlbmRlckRvY3VtZW50RmllbGQgPSAoZmllbGQsIGRvY1BhZ2UsIHJvbGVJbmRleCwgZmllbGRPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgZGlzYWJsZWQgPSBmYWxzZSwgZWRpdGFibGUgPSBmYWxzZSwgZHJhZ2dhYmxlID0gZmFsc2UsIGRvbmUgPSBmYWxzZSB9ID0gZmllbGRPcHRpb25zO1xuICBjb25zdCBjb250cm9sc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvY1BhZ2UuY29udGFpbmVySWQgKyAnLWNvbnRyb2xzJyk7XG4gIGlmICghY29udHJvbHNEaXYpIHtcbiAgICBjb25zb2xlLmxvZygnW3JlbmRlckRvY3VtZW50RmllbGRdIE5vIGNvbnRyb2xzIERJViBmb3VuZCcsIGRvY1BhZ2UuY29udGFpbmVySWQgKyAnLWNvbnRyb2xzJywgZG9jUGFnZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIGNhc2UgJ2RhdGUnOlxuICAgIGNhc2UgJ2Ryb3Bkb3duJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgIGNhc2UgJ3RleHRib3gnOiB7XG4gICAgICBjb25zdCBpZCA9IGdldEZpZWxkSWQoZmllbGQpO1xuICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIGlmIChleGlzdGluZ0ZpZWxkKSB7XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0ZpZWxkO1xuICAgICAgfVxuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB2ZXJkb2NzLWZpZWxkLSR7ZmllbGQudHlwZX1gKTtcbiAgICAgIGVsLmZpZWxkID0gZmllbGQ7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlSW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgMSk7XG4gICAgICB9XG4gICAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkb25lJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBzZXRDb250cm9sU3R5bGVzKGVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgICAgcmV0dXJuIChmaWVsZC5zZXR0aW5ncyB8fCBmaWVsZC5zZXR0aW5nIHx8IHt9KS5vcHRpb25zLm1hcCgoXywgY2hlY2tib3hJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldEZpZWxkT3B0aW9uSWQoZmllbGQsIGNoZWNrYm94SW5kZXgpO1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSwgY2hlY2tib3hJbmRleCk7XG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nRmllbGQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2JFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtY2hlY2tib3hgKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdyb2xlSW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgY2hlY2tib3hJbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2RvbmUnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHJhZ2dhYmxlKSB7XG4gICAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoY2JFbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSwgY2hlY2tib3hJbmRleCk7XG4gICAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGNiRWwpO1xuICAgICAgICByZXR1cm4gY2JFbDtcbiAgICAgIH0pO1xuICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICByZXR1cm4gKGZpZWxkLnNldHRpbmdzIHx8IGZpZWxkLnNldHRpbmcgfHwge30pLm9wdGlvbnMubWFwKChfLCBidXR0b25JbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldEZpZWxkT3B0aW9uSWQoZmllbGQsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgICByZXR1cm4gZXhpc3RpbmdGaWVsZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYWRpb0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC1yYWRpby1idXR0b25gKTtcbiAgICAgICAgcmFkaW9FbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICByYWRpb0VsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIHJhZGlvRWwuc2V0QXR0cmlidXRlKCdyb2xlSW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICByYWRpb0VsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgYnV0dG9uSW5kZXgpO1xuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICByYWRpb0VsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIHJhZGlvRWwuc2V0QXR0cmlidXRlKCdkb25lJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgICAgcmFkaW9FbC5zZXRBdHRyaWJ1dGUoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgICAgIHJhZGlvRWwuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRDb250cm9sU3R5bGVzKHJhZGlvRWwsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQocmFkaW9FbCk7XG4gICAgICAgIHJldHVybiByYWRpb0VsO1xuICAgICAgfSk7XG4gICAgLy8gY2FzZSAnYXR0YWNobWVudCc6XG4gICAgLy8gICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZlcmRvY3MtZmllbGQtYXR0YWNobWVudCcpO1xuICAgIC8vICAgZWwuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3VsdCB8fCAnJyk7XG4gICAgLy8gICBicmVhaztcbiAgICAvLyBjYXNlICdwYXltZW50JzpcbiAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1wYXltZW50Jyk7XG4gICAgLy8gICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coJ1tQUkVWSUVXXSBTa2lwcGluZyB1bnN1cHBvcnRlZCBmaWVsZCB0eXBlJywgZmllbGQpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5jb25zdCBnZXRSb2xlSW5kZXggPSAocm9sZXMsIHJvbGUpID0+IHJvbGVzLmluZGV4T2Yocm9sZSkgfHwgMDtcbi8vIFRPRE86IFdlIGNhbiBjbGVhbiB0aGlzIHVwIGEgbG90IGlmIHdlIGFsdGVyIHRoZSBBUEkgdG8gZW1pdCBib3RoIHNldHRpbmcgYW5kIHNldHRpbmdzIHJlZ2FyZGxlc3Mgb2YgdGhlIHNvdXJjZSB0eXBlLFxuLy8gICBidXQgdGhlbiBtZXJnZSB0aGUgU0RLIHR5cGVzIHRvIGVuY291cmFnZSBkZXZlbG9wZXJzIHRvIHVzZSBqdXN0IGBzZXR0aW5nc2AuXG5jb25zdCBnZXRGaWVsZFNldHRpbmdzID0gKGZpZWxkKSA9PiB7XG4gIGlmIChmaWVsZC5zZXR0aW5nKSB7XG4gICAgcmV0dXJuIGZpZWxkLnNldHRpbmc7XG4gIH1cbiAgaWYgKGZpZWxkLnNldHRpbmdzKSB7XG4gICAgcmV0dXJuIGZpZWxkLnNldHRpbmdzO1xuICB9XG4gIHJldHVybiB7IHg6IDAsIHk6IDAsIHJlcXVpcmVkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlLCByZXN1bHQ6ICcnLCB2YWx1ZTogJycgfTtcbn07XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgc2V0L3VwZGF0ZSBjb21wb25lbnRzIGluIGEgQ1NTIHRyYW5zZm9ybSBhdHRyaWJ1dGUuIFRyYW5zZm9ybSBpcyBub3JtYWxseSBzZXQgYXMgYSBzdHJpbmcgb2ZcbiAqIGBvcGVyYXRpb24xKHBhcmFtKSBvcGVyYXRpb24yKHBhcmFtKSAuLi5gIGNvbXBvbmVudHMsIHdoaWNoIG1ha2VzIHVwZGF0aW5nIHRoZW0gYSBiaXQgb2YgYSBwYWluLiBUaGlzIHdpbGwgcmVtb3ZlIHRoZVxuICogc3BlY2lmaWVkIGNvbXBvbmVudCBpZiBpdCdzIGFscmVhZHkgc2V0IGFuZCByZXBsYWNlIGl0IHdpdGggdGhlIG5ldyB2YWx1ZSwgd2l0aG91dCB0b3VjaGluZyB0aGUgb3RoZXIgY29tcG9uZW50cyB0aGF0XG4gKiBtYXkgYWxyZWFkeSBiZSBzZXQuIE5vdGUgdGhhdCB0aGlzIG9wZXJhdGlvbiBtb3ZlcyB0aGUgY29tcG9uZW50IHRvIHRoZSBlbmQgb2YgdGhlIHRyYW5zZm9ybSBjaGFpbiBzbyBpdCdzIG5vdCBtZWFudFxuICogdG8gYmUgdXNlZCBmb3Igb3JkZXItc2Vuc2l0aXZlIGNvbXBvbmVudHMgZS5nLiB0cmFuc2xhdGUtdGhlbi1yb3RhdGUuXG4gKi9cbmNvbnN0IHVwZGF0ZUNzc1RyYW5zZm9ybSA9IChlbCwga2V5LCB2YWx1ZSkgPT4ge1xuICAvLyBlLmcuICdzY2FsZSgxLjg3OTA4LCAxLjg3OTA4KSB0cmFuc2xhdGUoMHB4LCAwcHgpOydcbiAgY29uc3QgY3VycmVudFRyYW5zZm9ybSA9IGVsLnN0eWxlLnRyYW5zZm9ybTtcbiAgLy8gZS5nLiBbJ3NjYWxlKDEuODc5MDgsIDEuODc5MDgpJywgJ3NjYWxlJywgJzEuODc5MDgsIDEuODc5MDgnLCAuLi5dLCBbICd0cmFuc2xhdGUoMHB4LCAwcHgpJywgJ3RyYW5zbGF0ZScsICcwcHgsIDBweCddXVxuICBjb25zdCBjb21wb25lbnRzID0gWy4uLmN1cnJlbnRUcmFuc2Zvcm0ubWF0Y2hBbGwoLyhcXHcrKVxcKChbXildKilcXCkvZ2kpXTtcbiAgZWwuc3R5bGUudHJhbnNmb3JtID0gW1xuICAgIGNvbXBvbmVudHMgLy9cbiAgICAgIC5maWx0ZXIoY29tcG9uZW50ID0+IGNvbXBvbmVudFsxXSAhPT0ga2V5KSAvLyBSZW1vdmUgdGhlIGVudHJ5IGlmIGl0J3MgYWxyZWFkeSBzZXRcbiAgICAgIC5tYXAoY29tcG9uZW50ID0+IGNvbXBvbmVudFswXSksXG4gICAgYCR7a2V5fSgke3ZhbHVlfSlgLFxuICBdLmpvaW4oJyAnKTtcbn07XG5jb25zdCBzYXZlUERGID0gYXN5bmMgKGVuZHBvaW50LCBlbnZlbG9wZSwgZG9jdW1lbnRJZCkgPT4ge1xuICBjb25zdCBmaWxlTmFtZSA9IGAke2VudmVsb3BlLm5hbWV9IC0gJHtlbnZlbG9wZS51cGRhdGVkX2F0LnNwbGl0KCdUJylbMF19LnBkZmA7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRFbnZlbG9wZUZpbGUoZW5kcG9pbnQsIGVudmVsb3BlLmlkLCBkb2N1bWVudElkKTtcbiAgZG93bmxvYWRCbG9iKGRhdGEsIGZpbGVOYW1lKTtcbn07XG4vKipcbiAqIFRocm90dGxlIGEgZ2l2ZW4gZnVuY3Rpb24gYnkgYSBkZWxheSB2YWx1ZS4gVXNlZnVsIGZvciB0aGluZ3MgbGlrZSByZXNpemVPYnNlcnZlci5cbiAqL1xuY29uc3QgdGhyb3R0bGUgPSAoZiwgZGVsYXkpID0+IHtcbiAgbGV0IHRpbWVyID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gZi5hcHBseSh0aGlzLCBhcmdzKSwgZGVsYXkpO1xuICB9O1xufTtcblxuZXhwb3J0IHsgZ2V0Um9sZUluZGV4IGFzIGEsIGdldEZpZWxkSWQgYXMgYiwgdXBkYXRlQ3NzVHJhbnNmb3JtIGFzIGMsIGRlZmF1bHRXaWR0aCBhcyBkLCBkZWZhdWx0SGVpZ2h0IGFzIGUsIGdldEZpZWxkU2V0dGluZ3MgYXMgZywgcmVuZGVyRG9jdW1lbnRGaWVsZCBhcyByLCBzYXZlUERGIGFzIHMsIHRocm90dGxlIGFzIHQsIHVwZGF0ZURvY3VtZW50RmllbGRWYWx1ZSBhcyB1IH07XG4iLCJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCB9IGZyb20gJy4vaW5kZXgtZjc4ZDE2M2QuanMnO1xuaW1wb3J0IHsgViBhcyBWZXJkb2NzRW5kcG9pbnQgfSBmcm9tICcuL1ZlcmRvY3NFbmRwb2ludC03ZjE3YjA4OC5qcyc7XG5pbXBvcnQgeyBpIGFzIGlzVmFsaWRFbWFpbCwgYSBhcyBpc1ZhbGlkUGhvbmUgfSBmcm9tICcuL1ZhbGlkYXRvcnMtZjExMGJhZTIuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRSR0JBIH0gZnJvbSAnLi9Db2xvcnMtMWIyOTgwOTIuanMnO1xuaW1wb3J0IHsgcyBhcyBzdGF0ZSB9IGZyb20gJy4vdGVtcGxhdGVTdG9yZS1kYTkwMmFkNC5qcyc7XG5pbXBvcnQgeyBsIGFzIGxvYWRUZW1wbGF0ZSB9IGZyb20gJy4vVGVtcGxhdGVzLTI1MjJlMTk0LmpzJztcbmltcG9ydCB7IGEgYXMgZ2V0Um9sZUluZGV4IH0gZnJvbSAnLi91dGlscy0yNzRlMmU5My5qcyc7XG5pbXBvcnQgeyBTIGFzIFNES0Vycm9yIH0gZnJvbSAnLi9lcnJvcnMtOWI1NDk4YzguanMnO1xuaW1wb3J0ICcuL1Rva2VuLTU0NjkwNzg5LmpzJztcbmltcG9ydCAnLi9pbmRleC1mZDdiOGEzNC5qcyc7XG5pbXBvcnQgJy4vUHJpbWl0aXZlcy0wNTRiYzZlNS5qcyc7XG5pbXBvcnQgJy4vVGVtcGxhdGVzLThlNGFiOTc2LmpzJztcbmltcG9ydCAnLi9FbnZlbG9wZXMtMTMwZmQ2ZWEuanMnO1xuaW1wb3J0ICcuL0ZpbGVzLTcwYTE5MmRmLmpzJztcblxuY29uc3QgdmVyZG9jc1NlbmRDc3MgPSBcInZlcmRvY3Mtc2VuZHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwYWRkaW5nOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZDojZmZmZmZmOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZvbnQtZmFtaWx5OlxcXCJJbnRlclxcXCIsIC1hcHBsZS1zeXN0ZW0sIFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJSb2JvdG9cXFwiLCBcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLCBzYW5zLXNlcmlmfXZlcmRvY3Mtc2VuZCAucmVjaXBpZW50c3twb3NpdGlvbjpyZWxhdGl2ZX12ZXJkb2NzLXNlbmQgLmxlZnQtbGluZXt0b3A6MzJweDtsZWZ0OjIwcHg7ei1pbmRleDoxO3dpZHRoOjEycHg7Ym90dG9tOjMwcHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDojZmZmZmZmO2JvcmRlci1sZWZ0OjNweCBkb3R0ZWQgIzliOWI5Yn12ZXJkb2NzLXNlbmQgLmxldmVse2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtY29sdW1uLWdhcDoxMHB4Oy1tb3otY29sdW1uLWdhcDoxMHB4O2NvbHVtbi1nYXA6MTBweDttYXJnaW4tbGVmdDo1MHB4O3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O3BhZGRpbmc6OHB4IDAgNHB4IDA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzk3OTc5NzQ0fXZlcmRvY3Mtc2VuZCAubGV2ZWwgLmxldmVsLWljb257dG9wOjE0cHg7ei1pbmRleDoyO2xlZnQ6LTQwcHg7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOiNmZmZmZmZ9dmVyZG9jcy1zZW5kIC5sZXZlbCAubGV2ZWwtaWNvbiBzdmd7ZmlsbDojMDAwMDAwODl9dmVyZG9jcy1zZW5kIC5sZXZlbCAucmVjaXBpZW50e2hlaWdodDozMHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4OjAgMCAzMHB4O2ZsZXg6MCAwIDMwcHg7Y29sb3I6IzAwMDAwMDtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MTRweDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6MzBweDstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdztiYWNrZ3JvdW5kOiNkZGRkZGQ7d2hpdGUtc3BhY2U6bm93cmFwO3BhZGRpbmc6MnB4IDEwcHggMnB4IDE0cHh9dmVyZG9jcy1zZW5kIC5sZXZlbCAucmVjaXBpZW50IC5pY29ue3dpZHRoOjIycHg7aGVpZ2h0OjIycHg7LW1zLWZsZXg6MCAwIDIycHg7ZmxleDowIDAgMjJweDttYXJnaW46MCAwIDAgMTBweH12ZXJkb2NzLXNlbmQgLmxldmVsIC5yZWNpcGllbnQgLmljb24gc3Zne3dpZHRoOjIycHg7aGVpZ2h0OjIycHg7ZmlsbDojMzMzMzMzO291dGxpbmU6bm9uZX12ZXJkb2NzLXNlbmQgLmxldmVsIC5jb21wbGV0ZXstbXMtZmxleDoxO2ZsZXg6MTtoZWlnaHQ6MzBweDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtjb2xvcjojMDAwMDAwO2ZvbnQtc2l6ZToxNHB4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7cGFkZGluZzozcHggMTBweCAzcHggMnB4fXZlcmRvY3Mtc2VuZCAuYnV0dG9uc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDttYXJnaW4tdG9wOjEwcHg7LXdlYmtpdC1jb2x1bW4tZ2FwOjE1cHg7LW1vei1jb2x1bW4tZ2FwOjE1cHg7Y29sdW1uLWdhcDoxNXB4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93fXZlcmRvY3Mtc2VuZCB2ZXJkb2NzLWNvbnRhY3QtcGlja2Vye2xlZnQ6MDt0b3A6NDFweDt6LWluZGV4OjEwO3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlcjoxcHggc29saWQgI2RkZGRkZDstd2Via2l0LWJveC1zaGFkb3c6MCAwIDZweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEpO2JveC1zaGFkb3c6MCAwIDZweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEpfVwiO1xuXG5jb25zdCBlZGl0SWNvbiA9ICc8c3ZnIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHRhYmluZGV4PVwiLTFcIj48cGF0aCBkPVwiTTMgMTcuMjVWMjFoMy43NUwxNy44MSA5Ljk0bC0zLjc1LTMuNzVMMyAxNy4yNXpNMjAuNzEgNy4wNGMuMzktLjM5LjM5LTEuMDIgMC0xLjQxbC0yLjM0LTIuMzRhLjk5NTkuOTk1OSAwIDAgMC0xLjQxIDBsLTEuODMgMS44MyAzLjc1IDMuNzUgMS44My0xLjgzelwiPjwvcGF0aD48L3N2Zz4nO1xuY29uc3Qgc3RhcnRJY29uID0gJzxzdmcgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgdGFiaW5kZXg9XCItMVwiPjxwYXRoIGQ9XCJNMiAxMkMyIDYuNDggNi40OCAyIDEyIDJzMTAgNC40OCAxMCAxMC00LjQ4IDEwLTEwIDEwUzIgMTcuNTIgMiAxMnptMTAgNmMzLjMxIDAgNi0yLjY5IDYtNnMtMi42OS02LTYtNi02IDIuNjktNiA2IDIuNjkgNiA2IDZ6XCI+PC9wYXRoPjwvc3ZnPic7XG5jb25zdCBzdGVwSWNvbiA9ICc8c3ZnIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHRhYmluZGV4PVwiLTFcIj48cGF0aCBkPVwiTTEyIDJDOC4xMyAyIDUgNS4xMyA1IDljMCA1LjI1IDcgMTMgNyAxM3M3LTcuNzUgNy0xM2MwLTMuODctMy4xMy03LTctN3ptMCA5LjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41elwiPjwvcGF0aD48L3N2Zz4nO1xuY29uc3QgZG9uZUljb24gPSAnPHN2ZyBmb2N1c2FibGU9XCJmYWxzZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB0YWJpbmRleD1cIi0xXCI+PHBhdGggZD1cIm0xOCA3LTEuNDEtMS40MS02LjM0IDYuMzQgMS40MSAxLjQxTDE4IDd6bTQuMjQtMS40MUwxMS42NiAxNi4xNyA3LjQ4IDEybC0xLjQxIDEuNDFMMTEuNjYgMTlsMTItMTItMS40Mi0xLjQxek0uNDEgMTMuNDEgNiAxOWwxLjQxLTEuNDFMMS44MyAxMiAuNDEgMTMuNDF6XCI+PC9wYXRoPjwvc3ZnPic7XG5jb25zdCBWZXJkb2NzU2VuZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5zZW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJzZW5kXCIsIDcpO1xuICAgIHRoaXMuY2FuY2VsID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYW5jZWxcIiwgNyk7XG4gICAgdGhpcy5zZGtFcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwic2RrRXJyb3JcIiwgNyk7XG4gICAgdGhpcy5sZXZlbHMgPSBbXTtcbiAgICB0aGlzLmVuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcbiAgICB0aGlzLnRlbXBsYXRlSWQgPSBudWxsO1xuICAgIHRoaXMuY29udGFpbmVySWQgPSBgdmVyZG9jcy1zZW5kLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKX1gO1xuICAgIHRoaXMucm9sZXNBdExldmVsID0ge307XG4gICAgdGhpcy5zaG93UGlja2VyRm9ySWQgPSAnJztcbiAgICB0aGlzLnNlc3Npb25Db250YWN0cyA9IFtdO1xuICAgIHRoaXMucm9sZXNDb21wbGV0ZWQgPSB7fTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJvbGVzQ29tcGxldGVkID0ge307XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCBsb2FkU2Vzc2lvblJlc3VsdCA9IHRoaXMuZW5kcG9pbnQubG9hZFNlc3Npb24oKTtcbiAgICBpZiAoIXRoaXMudGVtcGxhdGVJZCkge1xuICAgICAgY29uc29sZS5sb2coYFtTRU5EXSBNaXNzaW5nIHJlcXVpcmVkIHRlbXBsYXRlIElEICR7dGhpcy50ZW1wbGF0ZUlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFtTRU5EXSBMb2FkaW5nIHRlbXBsYXRlICR7dGhpcy50ZW1wbGF0ZUlkfWApO1xuICAgICAgYXdhaXQgbG9hZFRlbXBsYXRlKHRoaXMuZW5kcG9pbnQsIHRoaXMudGVtcGxhdGVJZCk7XG4gICAgICBpZiAoKF9hID0gc3RhdGUudGVtcGxhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yb2xlcykge1xuICAgICAgICBjb25zdCByb2xlc0F0TGV2ZWwgPSB7fTtcbiAgICAgICAgdGhpcy5yb2xlc0NvbXBsZXRlZCA9IHt9O1xuICAgICAgICBzdGF0ZS50ZW1wbGF0ZS5yb2xlcy5mb3JFYWNoKHJvbGUgPT4ge1xuICAgICAgICAgIGNvbnN0IGxldmVsID0gcm9sZS5zZXF1ZW5jZSAtIDE7XG4gICAgICAgICAgcm9sZXNBdExldmVsW2xldmVsXSB8fCAocm9sZXNBdExldmVsW2xldmVsXSA9IFtdKTtcbiAgICAgICAgICBjb25zdCBpZCA9IGByLSR7bGV2ZWx9LSR7cm9sZXNBdExldmVsW2xldmVsXS5sZW5ndGh9YDtcbiAgICAgICAgICByb2xlc0F0TGV2ZWxbbGV2ZWxdLnB1c2goeyAuLi5yb2xlLCBpZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm9sZXNBdExldmVsID0gcm9sZXNBdExldmVsO1xuICAgICAgICB0aGlzLmxldmVscyA9IE9iamVjdC5rZXlzKHJvbGVzQXRMZXZlbCkubWFwKGxldmVsU3RyID0+ICtsZXZlbFN0cik7XG4gICAgICAgIHRoaXMubGV2ZWxzLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbU0VORF0gRXJyb3IgbG9hZGluZyB0ZW1wbGF0ZScsIGUpO1xuICAgICAgKF9iID0gdGhpcy5zZGtFcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgKF9jID0gZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnN0YXR1cywgKF9kID0gZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmRhdGEpKTtcbiAgICB9XG4gICAgaWYgKChfZSA9IGxvYWRTZXNzaW9uUmVzdWx0LnNlc3Npb24pID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5wcm9maWxlKSB7XG4gICAgICB0aGlzLnNlc3Npb25Db250YWN0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGxvYWRTZXNzaW9uUmVzdWx0LnNlc3Npb24ucHJvZmlsZS5pZCxcbiAgICAgICAgbmFtZTogYCR7bG9hZFNlc3Npb25SZXN1bHQuc2Vzc2lvbi5wcm9maWxlLmZpcnN0X25hbWV9ICR7bG9hZFNlc3Npb25SZXN1bHQuc2Vzc2lvbi5wcm9maWxlLmxhc3RfbmFtZX1gLFxuICAgICAgICBlbWFpbDogbG9hZFNlc3Npb25SZXN1bHQuc2Vzc2lvbi5wcm9maWxlLmVtYWlsLFxuICAgICAgICBwaG9uZTogbG9hZFNlc3Npb25SZXN1bHQuc2Vzc2lvbi5wcm9maWxlLnBob25lLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGdldExldmVsSWNvbihsZXZlbCkge1xuICAgIGlmIChsZXZlbCA8IDApIHtcbiAgICAgIHJldHVybiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwibGV2ZWwtaWNvblwiLCBpbm5lckhUTUw6IHN0YXJ0SWNvbiB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGV2ZWwgPj0gdGhpcy5sZXZlbHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcImxldmVsLWljb25cIiwgaW5uZXJIVE1MOiBkb25lSWNvbiB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcImxldmVsLWljb25cIiwgaW5uZXJIVE1MOiBzdGVwSWNvbiB9KTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlU2VsZWN0Q29udGFjdChlLCByb2xlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucm9sZXNDb21wbGV0ZWRbcm9sZS5pZF0gPSB7IC4uLnJvbGUsIC4uLmUuZGV0YWlsIH07XG4gICAgdGhpcy5zaG93UGlja2VyRm9ySWQgPSAnJztcbiAgfVxuICBoYW5kbGVDbGlja1JvbGUoZSwgcm9sZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5zaG93UGlja2VyRm9ySWQgPSByb2xlLmlkO1xuICB9XG4gIGhhbmRsZVNlbmQoZSkge1xuICAgIHZhciBfYTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIChfYSA9IHRoaXMuc2VuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoeyByb2xlczogT2JqZWN0LnZhbHVlcyh0aGlzLnJvbGVzQ29tcGxldGVkKSwgbmFtZTogc3RhdGUudGVtcGxhdGUubmFtZSwgdGVtcGxhdGVfaWQ6IHRoaXMudGVtcGxhdGVJZCB9KTtcbiAgfVxuICBoYW5kbGVDYW5jZWwoZSkge1xuICAgIHZhciBfYTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIChfYSA9IHRoaXMuY2FuY2VsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByb2xlTmFtZXMgPSBzdGF0ZS50ZW1wbGF0ZS5yb2xlcy5tYXAocm9sZSA9PiByb2xlLm5hbWUpIHx8IFtdO1xuICAgIGNvbnN0IHJvbGVzQXNzaWduZWQgPSBPYmplY3QudmFsdWVzKHRoaXMucm9sZXNDb21wbGV0ZWQpLmZpbHRlcihyZWNpcGllbnQgPT4gaXNWYWxpZEVtYWlsKHJlY2lwaWVudC5lbWFpbCkgfHwgaXNWYWxpZFBob25lKHJlY2lwaWVudC5waG9uZSkpO1xuICAgIGNvbnN0IGFsbFJvbGVzQXNzaWduZWQgPSByb2xlc0Fzc2lnbmVkLmxlbmd0aCA+PSByb2xlTmFtZXMubGVuZ3RoO1xuICAgIGNvbnNvbGUubG9nKCdyJywgdGhpcy5yb2xlc0NvbXBsZXRlZCwgYWxsUm9sZXNBc3NpZ25lZCwgcm9sZXNBc3NpZ25lZCk7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgY2xhc3M6IHt9IH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyZWNpcGllbnRzXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImxlZnQtbGluZVwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IGBsZXZlbCBsZXZlbC1zdGFydGAgfSwgdGhpcy5nZXRMZXZlbEljb24oLTEpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29tcGxldGVcIiB9LCBcIlNlbmQgRW52ZWxvcGVcIikpLCB0aGlzLmxldmVscy5tYXAobGV2ZWwgPT4gKGgoXCJkaXZcIiwgeyBjbGFzczogYGxldmVsIGxldmVsLSR7bGV2ZWx9YCB9LCB0aGlzLmdldExldmVsSWNvbihsZXZlbCksIHRoaXMucm9sZXNBdExldmVsW2xldmVsXS5tYXAocm9sZSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInJlY2lwaWVudFwiLCBzdHlsZTogeyBiYWNrZ3JvdW5kQ29sb3I6IGdldFJHQkEoZ2V0Um9sZUluZGV4KHJvbGVOYW1lcywgcm9sZS5uYW1lKSkgfSwgb25DbGljazogZSA9PiB0aGlzLmhhbmRsZUNsaWNrUm9sZShlLCByb2xlKSB9LCAoX2IgPSAoX2EgPSB0aGlzLnJvbGVzQ29tcGxldGVkW3JvbGUuaWRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZnVsbF9uYW1lKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiByb2xlLm5hbWUsIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpY29uXCIsIGlubmVySFRNTDogZWRpdEljb24gfSksIHRoaXMuc2hvd1BpY2tlckZvcklkID09PSByb2xlLmlkICYmIChoKFwidmVyZG9jcy1jb250YWN0LXBpY2tlclwiLCB7IG9uQ2FuY2VsOiAoKSA9PiAodGhpcy5zaG93UGlja2VyRm9ySWQgPSAnJyksIG9uTmV4dDogZSA9PiB0aGlzLmhhbmRsZVNlbGVjdENvbnRhY3QoZSwgcm9sZSksIGNvbnRhY3RTdWdnZXN0aW9uczogdGhpcy5zZXNzaW9uQ29udGFjdHMsIHRlbXBsYXRlUm9sZTogKF9jID0gdGhpcy5yb2xlc0NvbXBsZXRlZFtyb2xlLmlkXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogcm9sZSwgb25TZWFyY2hDb250YWN0czogZSA9PiBjb25zb2xlLmxvZygnU2VhcmNoJywgZS5kZXRhaWwpIH0pKSkpO1xuICAgIH0pKSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IGBsZXZlbCBsZXZlbC1kb25lYCB9LCB0aGlzLmdldExldmVsSWNvbih0aGlzLmxldmVscy5sZW5ndGgpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29tcGxldGVcIiB9LCBcIlNpZ25pbmcgQ29tcGxldGVcIikpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImJ1dHRvbnNcIiB9LCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJDYW5jZWxcIiwgc2l6ZTogXCJzbWFsbFwiLCB2YXJpYW50OiBcIm91dGxpbmVcIiwgb25DbGljazogZSA9PiB0aGlzLmhhbmRsZUNhbmNlbChlKSB9KSwgaChcInZlcmRvY3MtYnV0dG9uXCIsIHsgbGFiZWw6IFwiU2VuZFwiLCBzaXplOiBcInNtYWxsXCIsIGRpc2FibGVkOiAhYWxsUm9sZXNBc3NpZ25lZCwgb25DbGljazogZSA9PiB0aGlzLmhhbmRsZVNlbmQoZSkgfSkpKSk7XG4gIH1cbn07XG5WZXJkb2NzU2VuZC5zdHlsZSA9IHZlcmRvY3NTZW5kQ3NzO1xuXG5leHBvcnQgeyBWZXJkb2NzU2VuZCBhcyB2ZXJkb2NzX3NlbmQgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=