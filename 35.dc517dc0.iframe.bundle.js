/*! For license information please see 35.dc517dc0.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/verdocs-sign.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_sign",(function(){return VerdocsSign}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./dist/esm/Envelopes-8038ca25.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_39__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/Validators-f110bae2.js")),_VerdocsEndpoint_dac04424_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./dist/esm/VerdocsEndpoint-dac04424.js"),_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./dist/esm/utils-2e6beff8.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/index-fd7b8a34.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},createSignature=function createSignature(endpoint,name,signature){var data=new FormData;return data.append("signature",signature,name),endpoint.api.post("/signatures",data).then((function(r){return r.data}))},createInitials=function createInitials(endpoint,name,initials){var data=new FormData;return data.append("initial",initials,name),endpoint.api.post("/initials",data).then((function(r){return r.data}))},VerdocsSign=function(){function VerdocsSign(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSign),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.e)(this,"sdkError",7),this.fieldUpdated=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.e)(this,"fieldUpdated",7),this.endpoint=null,this.recipientIndex=-1,this.fields=[],this.envelopeId=null,this.roleId=null,this.inviteCode=null,this.recipient=null,this.signerToken=null,this.hasSignature=!1,this.nextButtonLabel="Start",this.errorMessage="",this.focusedField="",this.finishLater=!1,this.showFinishLater=!1}var _handleFieldChange,_handleOptionSelected,_savePDF,_componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSign,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint=new _VerdocsEndpoint_dac04424_js__WEBPACK_IMPORTED_MODULE_40__.a({sessionType:"signing"})}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,_d,_e,_f,_yield$getSigningSess,session,recipient,signerToken,_this=this;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.envelopeId){_context.next=3;break}return null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__.a("[SIGN] Missing required envelopId",500,"")),_context.abrupt("return");case 3:if(this.roleId){_context.next=6;break}return null===(_b=this.sdkError)||void 0===_b||_b.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__.a("[SIGN] Missing required roleId",500,"")),_context.abrupt("return");case 6:if(this.inviteCode){_context.next=9;break}return null===(_c=this.sdkError)||void 0===_c||_c.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__.a("[SIGN] Missing required inviteCode",500,"")),_context.abrupt("return");case 9:return _context.prev=9,console.log("[SIGN] Processing invite code for "+this.envelopeId+" / "+this.roleId),_context.next=13,Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.e)(this.endpoint,{envelopeId:this.envelopeId,roleId:this.roleId,inviteCode:this.inviteCode});case 13:return _yield$getSigningSess=_context.sent,session=_yield$getSigningSess.session,recipient=_yield$getSigningSess.recipient,signerToken=_yield$getSigningSess.signerToken,console.log("[SIGN] Loaded signing session "+session.email+" / "+session.profile_id),this.recipient=recipient,this.signerToken=signerToken,this.endpoint.setToken(signerToken),this.recipient.agreed&&(this.nextButtonLabel="Next"),_context.next=24,Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.a)(this.endpoint,this.envelopeId);case 24:this.recipientIndex=_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.recipients.findIndex((function(recipient){return recipient.role_name==_this.roleId})),this.recipientIndex>-1&&(this.recipient=_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.recipients[this.recipientIndex],this.fields=this.recipient.fields),_context.next=32;break;case 28:_context.prev=28,_context.t0=_context.catch(9),console.log("Error with signing session",_context.t0),null===(_d=this.sdkError)||void 0===_d||_d.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__.a(_context.t0.message,null===(_e=_context.t0.response)||void 0===_e?void 0:_e.status,null===(_f=_context.t0.response)||void 0===_f?void 0:_f.data));case 32:case"end":return _context.stop()}}),_callee,this,[[9,28]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"handleClickAgree",value:function handleClickAgree(){var _this2=this;(function updateRecipientStatus(endpoint,envelopeId,roleName,action,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/recipients/").concat(roleName),__assign({role_name:roleName,action:action},params||{})).then((function(r){return r.data}))]}))}))})(this.endpoint,this.envelopeId,this.roleId,"update",{agreed:!0}).then((function(r){_this2.nextButtonLabel="Next",_this2.recipient=r})).catch((function(e){var _a,_b,_c;console.log("Update failure",e),null===(_a=_this2.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data))}))}},{key:"savePDF",value:(_savePDF=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var fileName,data,xhr;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return fileName=_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.name+" - "+_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.updated_at.split("T")[0]+".pdf",_context2.next=3,Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.b)(this.endpoint,this.envelopeId,_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.envelope_document_id);case 3:data=_context2.sent,(xhr=new XMLHttpRequest).responseType="blob",xhr.onload=function(){var a=document.createElement("a");a.href=window.URL.createObjectURL(xhr.response),a.download=fileName,a.style.display="none",document.body.appendChild(a),a.click(),a.remove()},xhr.open("GET","data:application/pdf;base64,"+data),xhr.send();case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function savePDF(){return _savePDF.apply(this,arguments)})},{key:"handleOptionSelected",value:(_handleOptionSelected=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(e){return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.t0=e.detail.id,_context3.next="later"===_context3.t0?3:"claim"===_context3.t0?6:"decline"===_context3.t0?7:"print"===_context3.t0?8:"download"===_context3.t0?9:11;break;case 3:return this.finishLater=!0,this.showFinishLater=!0,_context3.abrupt("break",11);case 6:case 7:case 8:return _context3.abrupt("break",11);case 9:return this.savePDF().catch((function(){})),_context3.abrupt("break",11);case 11:case"end":return _context3.stop()}}),_callee3,this)}))),function handleOptionSelected(_x){return _handleOptionSelected.apply(this,arguments)})},{key:"saveFieldChange",value:function saveFieldChange(fieldName,fields){var _this3=this;Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.g)(this.endpoint,this.envelopeId,fieldName,fields).catch((function(e){var _a,_b,_c,_d,_e,_f;401===(null===(_a=e.response)||void 0===_a?void 0:_a.status)&&"jwt expired"===(null===(_c=null===(_b=e.response)||void 0===_b?void 0:_b.data)||void 0===_c?void 0:_c.error)?(console.log("[SIGN] Signing session expired"),_this3.errorMessage="Signing session expired."):console.log("[SIGN] Server error",e),null===(_d=_this3.sdkError)||void 0===_d||_d.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_42__.a(e.message,null===(_e=e.response)||void 0===_e?void 0:_e.status,null===(_f=e.response)||void 0===_f?void 0:_f.data))}))}},{key:"handleFieldChange",value:(_handleFieldChange=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(field,e,optionId){var _e$target,value,checked,options,initialsBlob,signatureBlob,iso,_this4=this;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:console.log("fieldChange",field,e),_e$target=e.target,value=_e$target.value,checked=_e$target.checked,_context4.t0=field.type,_context4.next="textbox"===_context4.t0?5:"checkbox_group"===_context4.t0?6:"radio_button_group"===_context4.t0?7:"dropdown"===_context4.t0?9:"initial"===_context4.t0?10:"signature"===_context4.t0?16:"date"===_context4.t0?22:24;break;case 5:return _context4.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:value}));case 6:return _context4.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:{options:[{id:optionId,checked:checked}]}}));case 7:return options=field.settings.options.map((function(option){return{id:option.id,selected:optionId===option.id}})),_context4.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:{options:options}}));case 9:return _context4.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:e.detail}));case 10:return _context4.next=12,fetch(e.detail);case 12:return _context4.next=14,_context4.sent.blob();case 14:return initialsBlob=_context4.sent,_context4.abrupt("return",createInitials(this.endpoint,"initial",initialsBlob).then((function(newInitials){console.log("New initials",field.name,newInitials),Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.d)(_this4.endpoint,_this4.envelopeId,field.name,newInitials.id)})));case 16:return _context4.next=18,fetch(e.detail);case 18:return _context4.next=20,_context4.sent.blob();case 20:return signatureBlob=_context4.sent,_context4.abrupt("return",createSignature(this.endpoint,"signature",signatureBlob).then((function(newSignature){console.log("New sign",field.name,newSignature),Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.c)(_this4.endpoint,_this4.envelopeId,field.name,newSignature.id)})));case 22:return iso=e.target.getAttribute("iso"),_context4.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:iso}));case 24:return console.log("Unhandled field update",{value:value,checked:checked},field),_context4.abrupt("break",26);case 26:case"end":return _context4.stop()}}),_callee4,this)}))),function handleFieldChange(_x2,_x3,_x4){return _handleFieldChange.apply(this,arguments)})},{key:"isFieldValid",value:function isFieldValid(field){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o;switch(field.type){case"textbox":switch((null===(_a=field.settings)||void 0===_a?void 0:_a.validator)||""){case"email":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_39__.b)((null===(_b=field.settings)||void 0===_b?void 0:_b.result)||"");case"phone":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_39__.a)((null===(_c=field.settings)||void 0===_c?void 0:_c.result)||"");default:return!!(null===(_d=field.settings)||void 0===_d?void 0:_d.result)}case"signature":case"initial":return!!(null===(_e=field.settings)||void 0===_e?void 0:_e.base64);case"textarea":case"date":case"timestamp":case"attachment":return!!(null===(_f=field.settings)||void 0===_f?void 0:_f.result);case"dropdown":return!!(null===(_g=field.settings)||void 0===_g?void 0:_g.value);case"checkbox_group":var checked=((null===(_j=null===(_h=field.settings)||void 0===_h?void 0:_h.options)||void 0===_j?void 0:_j.filter((function(option){return option.checked})))||[]).length;return checked>=((null===(_k=field.settings)||void 0===_k?void 0:_k.minimum_checked)||0)&&checked<=((null===(_l=field.settings)||void 0===_l?void 0:_l.maximum_checked)||999);case"radio_button_group":return((null===(_o=null===(_m=field.settings)||void 0===_m?void 0:_m.options)||void 0===_o?void 0:_o.filter((function(option){return option.selected})))||[]).length>0;default:return!1}}},{key:"handleNext",value:function handleNext(){var _a,_this5=this,requiredFields=this.fields.filter((function(field){return field.required})),nextFocusedIndex=requiredFields.findIndex((function(field){return field.name===_this5.focusedField}))+1;nextFocusedIndex>=requiredFields.length&&(nextFocusedIndex=0);var nextRequiredField=requiredFields[nextFocusedIndex],skips=0;if(skips<requiredFields.length&&["signature","initial"].includes(nextRequiredField.type)&&"signed"===(null===(_a=nextRequiredField.settings)||void 0===_a?void 0:_a.result)&&(skips++,++nextFocusedIndex>=requiredFields.length&&(nextFocusedIndex=0),nextRequiredField=requiredFields[nextFocusedIndex]),skips>=requiredFields.length&&(nextRequiredField=null),nextRequiredField){var id=Object(_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__.b)(nextRequiredField),el=document.getElementById(id);null==el||el.focusField(),this.focusedField=nextRequiredField.name}}},{key:"handlePageRendered",value:function handlePageRendered(e){var _this6=this,pageInfo=e.detail;console.log("[SIGN] Page rendered, adding fields",pageInfo);var roleIndex=Object(_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__.a)(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.roleNames,this.recipient.role_name);this.recipient.fields.filter((function(field){return field.page===pageInfo.pageNumber})).forEach((function(field){var _a,el=Object(_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__.f)(field,pageInfo,roleIndex,{disabled:!1,editable:!1,draggable:!1});el&&(el.addEventListener("input",(function(e){_this6.handleFieldChange(field,e).catch((function(){}))})),el.addEventListener("fieldChange",(function(e){_this6.handleFieldChange(field,e).catch((function(){}))})),el.setAttribute("roleindex",roleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale),el.setAttribute("initials",_this6.recipient?Object(_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__.c)(_this6.recipient.full_name):""),el.setAttribute("name",(null===(_a=_this6.recipient)||void 0===_a?void 0:_a.full_name)||""))})),_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.recipients.filter((function(recipient){return recipient.role_name!==_this6.recipient.role_name})).map((function(otherRecipient){var otherRoleIndex=Object(_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__.a)(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.roleNames,otherRecipient.role_name);console.log("Rendering fields for other recipient",otherRoleIndex,otherRecipient);var recipientFields=otherRecipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Fields on page",recipientFields),recipientFields.forEach((function(field){var el=Object(_utils_2e6beff8_js__WEBPACK_IMPORTED_MODULE_41__.f)(field,pageInfo,otherRoleIndex,{disabled:!0,editable:!1,draggable:!1});el&&(el.setAttribute("roleindex",otherRoleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale))}))}))}},{key:"render",value:function render(){var _a,_b,_c,_d,_this7=this;if(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.loading||!_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope)return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-loader",null));return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.b,{class:{agreed:null===(_a=this.recipient)||void 0===_a?void 0:_a.agreed}},!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"intro"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"inner"},"Please review and act on these documents.")),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"header"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"inner"},!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"toolbar"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"tools"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-dropdown",{options:[{id:"later",label:"Finish Later"},{id:"claim",label:"Claim the Document",disabled:!0},{id:"decline",label:"Decline to Sign"},{id:"print",label:"Print Without Signing",disabled:!0},{id:"download",label:"Download"}],onOptionSelected:function onOptionSelected(e){return _this7.handleOptionSelected(e)}}),(null===(_b=this.recipient)||void 0===_b?void 0:_b.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{style:{flex:"1"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"agree"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-checkbox",{name:"agree",label:"I agree to use electronic records and signatures.",onInput:function onInput(){return _this7.handleClickAgree()}})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-button",{size:"small",label:this.nextButtonLabel,disabled:!(null===(_c=this.recipient)||void 0===_c?void 0:_c.agreed),onClick:function onClick(){return _this7.handleNext()}}))))),(null===(_d=this.recipient)||void 0===_d?void 0:_d.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{style:{display:"none"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"cover"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("div",{class:"document"},(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_37__.f.envelope.documents||[]).map((function(envelopeDocument){var pages=_toConsumableArray((null==envelopeDocument?void 0:envelopeDocument.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),console.log("p",envelopeDocument,pages),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.a,null,pages.map((function(page){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-document-page",{pageImageUri:page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,onPageRendered:function onPageRendered(e){return _this7.handlePageRendered(e)},layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})})))}))),this.showFinishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-ok-dialog",{heading:"You've saved your document to finish later.",message:"To complete the document, use the link in the original email notification inviting you to review and finish the document.",onNext:function onNext(){return _this7.showFinishLater=!1}}),this.errorMessage&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_36__.h)("verdocs-ok-dialog",{heading:"Network Error",message:this.errorMessage,onNext:function onNext(){return _this7.errorMessage=""}}))}}]),VerdocsSign}();VerdocsSign.style='verdocs-sign{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-sign div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-sign .header{-ms-flex:0;flex:0;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex-align:center;align-items:center;-webkit-transition:all 0.25s;transition:all 0.25s;-ms-flex-pack:center;justify-content:center;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}verdocs-sign .header .inner{width:100%;max-width:1028px}verdocs-sign .intro{width:100%;height:60px;display:-ms-flexbox;display:flex;background:#ffffff;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-sign .intro .inner{width:100%;color:#111111;padding:0 14px;font-size:20px;font-weight:500;line-height:28px;max-width:1024px}verdocs-sign .toolbar{width:100%;margin:0 auto;padding:0 14px;position:relative}verdocs-sign .tools{width:100%;color:#fff;height:56px;display:-ms-flexbox;display:flex;font-size:12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;background-color:#33354c}verdocs-sign .cover{top:0;left:0;right:0;bottom:0;z-index:999;position:absolute;background:rgba(0, 0, 0, 0.5)}verdocs-sign .document{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}verdocs-sign .document .inner{width:100%;max-width:1028px}verdocs-sign .agree{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding:0 15px}verdocs-sign .agree .intro{display:none}verdocs-sign .agree .header{-ms-flex:0 0 56px;flex:0 0 56px}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVmFsaWRhdG9ycy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvUmVjaXBpZW50cy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvU2lnbmF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvSW5pdGlhbHMuanMiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VtYmVkcy92ZXJkb2NzLXNpZ24vdmVyZG9jcy1zaWduLnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtc2lnbi92ZXJkb2NzLXNpZ24uc2NzcyJdLCJuYW1lcyI6WyJFTUFJTF9SRUdFWCIsImlzVmFsaWRFbWFpbCIsImVtYWlsIiwidGVzdCIsIlBIT05FX1JFR0VYIiwiaXNWYWxpZFBob25lIiwicGhvbmUiLCJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsImFkb3B0IiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsImNyZWF0ZVNpZ25hdHVyZSIsImVuZHBvaW50IiwibmFtZSIsInNpZ25hdHVyZSIsImRhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImFwaSIsInBvc3QiLCJyIiwiY3JlYXRlSW5pdGlhbHMiLCJpbml0aWFscyIsIlZlcmRvY3NTaWduIiwicmVjaXBpZW50SW5kZXgiLCJmaWVsZHMiLCJjb21wb25lbnRXaWxsTG9hZCIsIlZlcmRvY3NFbmRwb2ludCIsInNlc3Npb25UeXBlIiwiZW52ZWxvcGVJZCIsInNka0Vycm9yIiwiZW1pdCIsIlNES0Vycm9yIiwicm9sZUlkIiwiaW52aXRlQ29kZSIsImNvbnNvbGUiLCJsb2ciLCJFbnZlbG9wZXMuZ2V0U2lnbmluZ1Nlc3Npb24iLCJzZXNzaW9uIiwicmVjaXBpZW50Iiwic2lnbmVyVG9rZW4iLCJwcm9maWxlX2lkIiwic2V0VG9rZW4iLCJhZ3JlZWQiLCJuZXh0QnV0dG9uTGFiZWwiLCJnZXRFbnZlbG9wZUJ5SWQiLCJFbnZlbG9wZVN0b3JlIiwiZW52ZWxvcGUiLCJyZWNpcGllbnRzIiwiZmluZEluZGV4Iiwicm9sZV9uYW1lIiwibWVzc2FnZSIsInJlc3BvbnNlIiwic3RhdHVzIiwiaGFuZGxlQ2xpY2tBZ3JlZSIsInVwZGF0ZVJlY2lwaWVudFN0YXR1cyIsInJvbGVOYW1lIiwiYWN0aW9uIiwicGFyYW1zIiwiX2EiLCJwdXQiLCJjb25jYXQiLCJmaWxlTmFtZSIsInVwZGF0ZWRfYXQiLCJzcGxpdCIsIkVudmVsb3Blcy5nZXRFbnZlbG9wZUZpbGUiLCJlbnZlbG9wZV9kb2N1bWVudF9pZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwiYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJ3aW5kb3ciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmUiLCJvcGVuIiwic2VuZCIsImRldGFpbCIsImlkIiwiZmluaXNoTGF0ZXIiLCJzaG93RmluaXNoTGF0ZXIiLCJzYXZlUERGIiwic2F2ZUZpZWxkQ2hhbmdlIiwiZmllbGROYW1lIiwiRW52ZWxvcGVzLnVwZGF0ZUVudmVsb3BlRmllbGQiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsImZpZWxkIiwib3B0aW9uSWQiLCJ0YXJnZXQiLCJjaGVja2VkIiwidHlwZSIsInByZXBhcmVkIiwib3B0aW9ucyIsInNldHRpbmdzIiwibWFwIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJmZXRjaCIsImJsb2IiLCJpbml0aWFsc0Jsb2IiLCJuZXdJbml0aWFscyIsInVwZGF0ZUVudmVsb3BlRmllbGRJbml0aWFscyIsInNpZ25hdHVyZUJsb2IiLCJuZXdTaWduYXR1cmUiLCJ1cGRhdGVFbnZlbG9wZUZpZWxkU2lnbmF0dXJlIiwiaXNvIiwiZ2V0QXR0cmlidXRlIiwiaXNGaWVsZFZhbGlkIiwidmFsaWRhdG9yIiwiYmFzZTY0IiwiZmlsdGVyIiwibWluaW11bV9jaGVja2VkIiwibWF4aW11bV9jaGVja2VkIiwiaGFuZGxlTmV4dCIsInJlcXVpcmVkRmllbGRzIiwicmVxdWlyZWQiLCJuZXh0Rm9jdXNlZEluZGV4IiwiZm9jdXNlZEZpZWxkIiwibmV4dFJlcXVpcmVkRmllbGQiLCJza2lwcyIsImluY2x1ZGVzIiwiZ2V0RmllbGRJZCIsImVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJmb2N1c0ZpZWxkIiwiaGFuZGxlUGFnZVJlbmRlcmVkIiwicGFnZUluZm8iLCJyb2xlSW5kZXgiLCJnZXRSb2xlSW5kZXgiLCJyb2xlTmFtZXMiLCJwYWdlIiwicGFnZU51bWJlciIsImZvckVhY2giLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZGlzYWJsZWQiLCJlZGl0YWJsZSIsImRyYWdnYWJsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVGaWVsZENoYW5nZSIsInNldEF0dHJpYnV0ZSIsInhTY2FsZSIsInlTY2FsZSIsImZ1bGxOYW1lVG9Jbml0aWFscyIsImZ1bGxfbmFtZSIsIm90aGVyUmVjaXBpZW50Iiwib3RoZXJSb2xlSW5kZXgiLCJyZWNpcGllbnRGaWVsZHMiLCJyZW5kZXIiLCJsb2FkaW5nIiwiaCIsIkhvc3QiLCJjbGFzcyIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJoYW5kbGVPcHRpb25TZWxlY3RlZCIsImZsZXgiLCJvbklucHV0Iiwic2l6ZSIsIm9uQ2xpY2siLCJkb2N1bWVudHMiLCJlbnZlbG9wZURvY3VtZW50IiwicGFnZXMiLCJzb3J0IiwiYiIsInNlcXVlbmNlIiwiRnJhZ21lbnQiLCJwYWdlSW1hZ2VVcmkiLCJkaXNwbGF5X3VyaSIsInZpcnR1YWxXaWR0aCIsInZpcnR1YWxIZWlnaHQiLCJvblBhZ2VSZW5kZXJlZCIsImxheWVycyIsImhlYWRpbmciLCJvbk5leHQiXSwibWFwcGluZ3MiOiI7b0tBQUEsa0tBbUJBLElBQUlBLFlBQWMseUpBQ1BDLGFBQWUsU0FBZkEsYUFBeUJDLE9BQVMsUUFBU0EsT0FBU0YsWUFBWUcsS0FBS0QsTUFBTyxFQUVuRkUsWUFBYyw0TUFDUEMsYUFBZSxTQUFmQSxhQUF5QkMsT0FBUyxRQUFTQSxPQUFTRixZQUFZRCxLQUFLRyxNQUFPLEMsd3JnQkN2QnZGLElBQUlDLFNBQXNDLFdBU3RDLE9BUkFBLFNBQVdDLE9BQU9DLFFBQVUsU0FBU0MsR0FDakMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FDekROLEVBQUVNLEdBQUtMLEVBQUVLLElBRWpCLE9BQU9OLENBQ2YsRUFDV0gsU0FBU2EsTUFBTUMsS0FBTVAsVUFDaEMsRUFDSVEsVUFBd0MsU0FBVUMsUUFBU0MsV0FBWUMsRUFBR0MsV0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLFFBQVNDLFFBQy9DLFNBQVNDLFVBQVVDLE9BQVMsSUFBTUMsS0FB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LEtBQU0sT0FBUXVGLEtBQU0sVUFDckIsQ0FBQ3ZGLEtBQU0sV0FBWXVGLEtBQU0sU0FFM0IsSSxLQU9YOUgsS0FBS21ILGlCQUNKc0UsZ0ZBQ0VzQixRQUFRLDhDQUNSbEksUUFBUSw0SEFDUm1JLE9BQVEseUJBQU8sT0FBSzdGLGlCQUFrQixDQUFLLElBSTlDbkgsS0FBS3lILGNBQWdCZ0UsZ0ZBQW1Cc0IsUUFBUSxnQkFBZ0JsSSxRQUFTN0UsS0FBS3lILGFBQWN1RixPQUFRLHlCQUFPLE9BQUt2RixhQUFlLEVBQUUsSSxLQUd2SSxZQXBjcUIsRyxrQkNyQ0QsbXNFIiwiZmlsZSI6IjM1LmRjNTE3ZGMwLmlmcmFtZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdldCBhbGwgZGVmaW5lZCB2YWxpZGF0b3JzXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtEb2N1bWVudHN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IERvY3VtZW50cy5nZXREb2N1bWVudHModGVtcGxhdGVJRCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRWYWxpZGF0b3JzID0gZnVuY3Rpb24gKGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KCcvdmFsaWRhdG9ycycpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbmV4cG9ydCB2YXIgZ2V0VmFsaWRhdG9yID0gZnVuY3Rpb24gKGVuZHBvaW50LCB2YWxpZGF0b3JOYW1lKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3ZhbGlkYXRvcnMvXCIuY29uY2F0KHZhbGlkYXRvck5hbWUpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG52YXIgRU1BSUxfUkVHRVggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbmV4cG9ydCB2YXIgaXNWYWxpZEVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7IHJldHVybiAhIWVtYWlsICYmIEVNQUlMX1JFR0VYLnRlc3QoZW1haWwpOyB9O1xuLy8gQHNlZSBodHRwczovL3d3dy5yZWdleHRlc3Rlci5jb20vMTk3OFxudmFyIFBIT05FX1JFR0VYID0gLygoPzpcXCt8MDApWzE3XSg/OiB8XFwtKT98KD86XFwrfDAwKVsxLTldXFxkezAsMn0oPzogfFxcLSk/fCg/OlxcK3wwMCkxXFwtXFxkezN9KD86IHxcXC0pPyk/KDBcXGR8XFwoWzAtOV17M31cXCl8WzEtOV17MCwzfSkoPzooKD86IHxcXC0pWzAtOV17Mn0pezR9fCgoPzpbMC05XXsyfSl7NH0pfCgoPzogfFxcLSlbMC05XXszfSg/OiB8XFwtKVswLTldezR9KXwoWzAtOV17N30pKS87XG5leHBvcnQgdmFyIGlzVmFsaWRQaG9uZSA9IGZ1bmN0aW9uIChwaG9uZSkgeyByZXR1cm4gISFwaG9uZSAmJiBQSE9ORV9SRUdFWC50ZXN0KHBob25lKTsgfTtcbmV4cG9ydCB2YXIgaXNWYWxpZFJvbGVOYW1lID0gZnVuY3Rpb24gKHZhbHVlLCByb2xlcykgeyByZXR1cm4gcm9sZXMuZmluZEluZGV4KGZ1bmN0aW9uIChyb2xlKSB7IHJldHVybiByb2xlLm5hbWUgPT09IHZhbHVlOyB9KSAhPT0gLTE7IH07XG52YXIgVGFnUmVnRXggPSAvXlthLXpBLVowLTktXXswLDMyfSQvO1xuZXhwb3J0IHZhciBpc1ZhbGlkVGFnID0gZnVuY3Rpb24gKHZhbHVlLCB0YWdzKSB7IHJldHVybiBUYWdSZWdFeC50ZXN0KHZhbHVlKSB8fCB0YWdzLmZpbmRJbmRleChmdW5jdGlvbiAodGFnKSB7IHJldHVybiB0YWcubmFtZSA9PT0gdmFsdWU7IH0pICE9PSAtMTsgfTtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBVcGRhdGUgYSByZWNpcGllbnQncyBzdGF0dXMgYmxvY2tcbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVSZWNpcGllbnRTdGF0dXMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lLCBhY3Rpb24sIHBhcmFtcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucHV0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCwgXCIvcmVjaXBpZW50cy9cIikuY29uY2F0KHJvbGVOYW1lKSwgX19hc3NpZ24oeyByb2xlX25hbWU6IHJvbGVOYW1lLCBhY3Rpb246IGFjdGlvbiB9LCAocGFyYW1zIHx8IHt9KSkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG5leHBvcnQgdmFyIGdldFNpZ25lclRva2VuID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCByb2xlTmFtZSkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocm9sZU5hbWUpLCBcIi9zaWduZXItdG9rZW5cIikpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbmV4cG9ydCB2YXIgZ2V0SW5QZXJzb25MaW5rID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCByb2xlTmFtZSkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocm9sZU5hbWUpLCBcIj9pbl9wZXJzb25fbGluaz10cnVlXCIpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4iLCIvKipcbiAqIENyZWF0ZSBhIHNpZ25hdHVyZSBibG9jay4gSW4gYSB0eXBpY2FsIHNpZ25pbmcgd29ya2Zsb3csIHRoZSB1c2VyIGlzIGFza2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHByb2Nlc3MgdG8gXCJhZG9wdFwiXG4gKiBhIHNpZ25hdHVyZSBibG9jayB0byBiZSB1c2VkIGZvciBhbGwgc2lnbmF0dXJlIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuIFRodXMsIHRoaXMgaXMgdHlwaWNhbGx5IGNhbGxlZCBvbmUgdGltZSB0b1xuICogY3JlYXRlIGFuZCBzdG9yZSBhIHNpZ25hdHVyZSBibG9jay4gVGhlcmVhZnRlciwgdGhlIElEIG9mIHRoZSBzaWduYXR1cmUgYmxvY2sgbWF5IGJlIHJlLXVzZWQgZm9yIGVhY2ggc2lnbmF0dXJlIGZpZWxkXG4gKiB0byBiZSBcInN0YW1wZWRcIiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVTaWduYXR1cmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIG5hbWUsIHNpZ25hdHVyZSkge1xuICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZGF0YS5hcHBlbmQoJ3NpZ25hdHVyZScsIHNpZ25hdHVyZSwgbmFtZSk7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdChcIi9zaWduYXR1cmVzXCIsIGRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogR2V0IHRoZSBhdmFpbGJhYmxlIHNpZ25hdHVyZXMgZm9yIGEgdXNlci5cbiAqL1xuZXhwb3J0IHZhciBnZXRTaWduYXR1cmVzID0gZnVuY3Rpb24gKGVuZHBvaW50KSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KCcvc2lnbmF0dXJlcycpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogR2V0IGEgdXNlcidzIHNpZ25hdHVyZSBieSBJRC5cbiAqL1xuZXhwb3J0IHZhciBnZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHNpZ25hdHVyZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3NpZ25hdHVyZXMvXCIuY29uY2F0KHNpZ25hdHVyZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBEZWxldGUgYSB1c2VyJ3Mgc2lnbmF0dXJlLlxuICovXG5leHBvcnQgdmFyIGRlbGV0ZVNpZ25hdHVyZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgc2lnbmF0dXJlSWQpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5kZWxldGUoXCIvc2lnbmF0dXJlcy9cIi5jb25jYXQoc2lnbmF0dXJlSWQpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4iLCIvKipcbiAqIENyZWF0ZSBhbiBpbml0aWFscyBibG9jay4gSW4gYSB0eXBpY2FsIHNpZ25pbmcgd29ya2Zsb3csIHRoZSB1c2VyIGlzIGFza2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHByb2Nlc3MgdG8gXCJhZG9wdFwiXG4gKiBhbiBpbml0aWFscyBibG9jayB0byBiZSB1c2VkIGZvciBhbGwgaW5pdGlhbHMgZmllbGRzIGluIHRoZSBkb2N1bWVudC4gVGh1cywgdGhpcyBpcyB0eXBpY2FsbHkgY2FsbGVkIG9uZSB0aW1lIHRvXG4gKiBjcmVhdGUgYW5kIHN0b3JlIGFuIGluaXRpYWxzIGJsb2NrLiBUaGVyZWFmdGVyLCB0aGUgSUQgb2YgdGhlIGluaXRpYWxzIGJsb2NrIG1heSBiZSByZS11c2VkIGZvciBlYWNoIGluaXRpYWxzIGZpZWxkXG4gKiB0byBiZSBcInN0YW1wZWRcIiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVJbml0aWFscyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgbmFtZSwgaW5pdGlhbHMpIHtcbiAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGRhdGEuYXBwZW5kKCdpbml0aWFsJywgaW5pdGlhbHMsIG5hbWUpO1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoXCIvaW5pdGlhbHNcIiwgZGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiaW1wb3J0IHtWZXJkb2NzRW5kcG9pbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkayc7XG5pbXBvcnQge0VudmVsb3Blc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcyc7XG5pbXBvcnQge2NyZWF0ZUluaXRpYWxzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL0luaXRpYWxzJztcbmltcG9ydCB7Y3JlYXRlU2lnbmF0dXJlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1NpZ25hdHVyZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZCwgSVJlY2lwaWVudH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge3VwZGF0ZVJlY2lwaWVudFN0YXR1c30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9SZWNpcGllbnRzJztcbmltcG9ydCB7aXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVmFsaWRhdG9ycyc7XG5pbXBvcnQge0V2ZW50LCBFdmVudEVtaXR0ZXIsIEhvc3QsIEZyYWdtZW50LCBDb21wb25lbnQsIFByb3AsIFN0YXRlLCBofSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7dXBkYXRlRW52ZWxvcGVGaWVsZEluaXRpYWxzLCB1cGRhdGVFbnZlbG9wZUZpZWxkU2lnbmF0dXJlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL0VudmVsb3Blcyc7XG5pbXBvcnQge2Z1bGxOYW1lVG9Jbml0aWFscywgZ2V0RmllbGRJZCwgZ2V0Um9sZUluZGV4LCByZW5kZXJEb2N1bWVudEZpZWxkfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQge2dldEVudmVsb3BlQnlJZH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvRW52ZWxvcGVzJztcbmltcG9ydCBFbnZlbG9wZVN0b3JlIGZyb20gJy4uLy4uLy4uL3V0aWxzL2VudmVsb3BlU3RvcmUnO1xuaW1wb3J0IHtJRG9jdW1lbnRQYWdlSW5mb30gZnJvbSAnLi4vLi4vLi4vdXRpbHMvVHlwZXMnO1xuaW1wb3J0IHtTREtFcnJvcn0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZXJyb3JzJztcblxuLyoqXG4gKiBEaXNwbGF5IGFuIGVudmVsb3BlIHNpZ25pbmcgZXhwZXJpZW5jZS4gVGhpcyB3aWxsIGRpc3BsYXkgdGhlIGVudmVsb3BlJ3MgYXR0YWNoZWRcbiAqIGRvY3VtZW50cyB3aXRoIHNpZ25pbmcgZmllbGRzIG92ZXJsYWlkIG9uIGVhY2ggcGFnZS5cbiAqXG4gKiBUaGUgY29tcG9uZW50IHdpbGwgYXR0ZW1wdCB0byBpbml0aWF0ZSBhIHNpZ25pbmcgc2Vzc2lvbiBhbmQgbG9hZCB0aGUgc3BlY2lmaWVkXG4gKiBlbnZlbG9wZS4gSWYgc3VjY2Vzc2Z1bCwgdGhlIHJlY2lwaWVudCdzIGZpZWxkcyB3aWxsIGJlIGVuYWJsZWQgYW5kIHRoZSB1c2VyIHdpbGxcbiAqIGJlIGFibGUgdG8gc2lnbiB0aGUgZW52ZWxvcGUncyBhdHRhY2hlZCBkb2N1bWVudHMuIElmIG5vdCwgYW4gYHNka0Vycm9yYCB3aWxsIGJlXG4gKiB0aHJvd24gYW5kIHRoZSBjb21wb25lbnQgd2lsbCBiZSBibGFuay9lbXB0eS4gVG8gcHJvdmlkZSB0aGUgYmVzdCB1c2VyIGV4cGVyaWVuY2UsXG4gKiBhcHBsaWNhdGlvbnMgc2hvdWxkIGNhcHR1cmUgYW5kIGhhbmRsZSB0aGlzIGVycm9yIHRvIHByb3ZpZGUgdGhlIHVzZXIgd2l0aFxuICogaW5zdHJ1Y3Rpb25zL29wdGlvbnMgZm9yIG5leHQgc3RlcHMgYmFzZWQgb24gdGhlIGFwcGxpY2F0aW9uJ3MgZGVzaWduIGFuZCB3b3JrZmxvdy5cbiAqXG4gKiBVbmxpa2Ugb3RoZXIgY29tcG9uZW50cywgdGhpcyB3aWxsIGFsd2F5cyBjcmVhdGUgaXRzIG93biBlbmRwb2ludCB0byBtYW5hZ2UgdGhlXG4gKiBzZXNzaW9uIHNlc3Npb24uIFRoaXMgZW5kcG9pbnQgd2lsbCBiZSBpbmNsdWRlZCBpbiBldmVudCBjYWxsYmFja3MgZm9yIHRoZVxuICogY29udmVuaWVuY2Ugb2YgaG9zdCBhcHBsaWNhdGlvbnMgdGhhdCBtYXkgd2lzaCB0byBtYWtlIHNlcnZlciBjYWxscyB1c2luZyB0aGVcbiAqIHNpZ25lcidzIGNyZWRlbnRpYWxzIG9uY2Ugc2lnbmluZyBpcyBjb21wbGV0ZSAoZS5nLiB0byBvYnRhaW4gY29waWVzIG9mXG4gKiB0aGUgc2lnbmVkIGF0dGFjaG1lbnRzLilcbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3Mtc2lnbicsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1zaWduLnNjc3MnLFxuICBzaGFkb3c6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBWZXJkb2NzU2lnbiB7XG4gIGVuZHBvaW50OiBWZXJkb2NzRW5kcG9pbnQgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGVudmVsb3BlIHRvIHNpZ24uXG4gICAqL1xuICBAUHJvcCgpIGVudmVsb3BlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJvbGUgdGhhdCB3aWxsIGJlIHNpZ25pbmcgZS5nLiAnUmVjaXBpZW50IDEnXG4gICAqL1xuICBAUHJvcCgpIHJvbGVJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnZpdGUgY29kZSBmb3IgdGhlIHNpZ25lci5cbiAgICovXG4gIEBQcm9wKCkgaW52aXRlQ29kZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIGlmIGFuIGVycm9yIG9jY3Vycy4gVGhlIGV2ZW50IGRldGFpbHMgd2lsbCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gTW9zdCBlcnJvcnMgd2lsbFxuICAgKiB0ZXJtaW5hdGUgdGhlIHByb2Nlc3MsIGFuZCB0aGUgY2FsbGluZyBhcHBsaWNhdGlvbiBzaG91bGQgY29ycmVjdCB0aGUgY29uZGl0aW9uIGFuZCByZS1yZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBzZGtFcnJvcjogRXZlbnRFbWl0dGVyPFNES0Vycm9yPjtcblxuICAvKipcbiAgICogRXZlbnQgZmlyZWQgd2hlbiBhbnkgZmllbGQgaXMgdXBkYXRlZC4gTm90ZSB0aGF0IHRoZSBjdXJyZW50IGFjdGl2ZSBlbmRwb2ludCBpc1xuICAgKiBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciBhcyBhIGNvbnZlbmllbmNlIGZvciBjYWxsZXJzIHdoZW4gdGhpcyBjb2ltcG9uZW50XG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgZmllbGRVcGRhdGVkOiBFdmVudEVtaXR0ZXI8e2VuZHBvaW50OiBWZXJkb2NzRW5kcG9pbnR9PjtcblxuICBAU3RhdGUoKSByZWNpcGllbnQ6IElSZWNpcGllbnQgfCBudWxsID0gbnVsbDtcbiAgQFN0YXRlKCkgc2lnbmVyVG9rZW4gPSBudWxsO1xuICAvLyBAU3RhdGUoKSBlbnZlbG9wZTogSUVudmVsb3BlIHwgbnVsbCA9IG51bGw7XG4gIC8vIEBTdGF0ZSgpIGZpZWxkczogSURvY3VtZW50RmllbGRbXSA9IFtdO1xuICBAU3RhdGUoKSBoYXNTaWduYXR1cmUgPSBmYWxzZTtcbiAgQFN0YXRlKCkgbmV4dEJ1dHRvbkxhYmVsID0gJ1N0YXJ0JztcbiAgQFN0YXRlKCkgZXJyb3JNZXNzYWdlID0gJyc7XG4gIEBTdGF0ZSgpIGZvY3VzZWRGaWVsZCA9ICcnO1xuXG4gIEBTdGF0ZSgpIGZpbmlzaExhdGVyID0gZmFsc2U7XG4gIEBTdGF0ZSgpIHNob3dGaW5pc2hMYXRlciA9IGZhbHNlO1xuXG4gIHJlY2lwaWVudEluZGV4OiBudW1iZXIgPSAtMTtcbiAgZmllbGRzOiBJRG9jdW1lbnRGaWVsZFtdID0gW107XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoe3Nlc3Npb25UeXBlOiAnc2lnbmluZyd9KTtcbiAgfVxuXG4gIGFzeW5jIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgaWYgKCF0aGlzLmVudmVsb3BlSWQpIHtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKCdbU0lHTl0gTWlzc2luZyByZXF1aXJlZCBlbnZlbG9wSWQnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnJvbGVJZCkge1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoJ1tTSUdOXSBNaXNzaW5nIHJlcXVpcmVkIHJvbGVJZCcsIDUwMCwgJycpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaW52aXRlQ29kZSkge1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoJ1tTSUdOXSBNaXNzaW5nIHJlcXVpcmVkIGludml0ZUNvZGUnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBbU0lHTl0gUHJvY2Vzc2luZyBpbnZpdGUgY29kZSBmb3IgJHt0aGlzLmVudmVsb3BlSWR9IC8gJHt0aGlzLnJvbGVJZH1gKTtcbiAgICAgIGNvbnN0IHtzZXNzaW9uLCByZWNpcGllbnQsIHNpZ25lclRva2VufSA9IGF3YWl0IEVudmVsb3Blcy5nZXRTaWduaW5nU2Vzc2lvbih0aGlzLmVuZHBvaW50LCB7XG4gICAgICAgIGVudmVsb3BlSWQ6IHRoaXMuZW52ZWxvcGVJZCxcbiAgICAgICAgcm9sZUlkOiB0aGlzLnJvbGVJZCxcbiAgICAgICAgaW52aXRlQ29kZTogdGhpcy5pbnZpdGVDb2RlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBbU0lHTl0gTG9hZGVkIHNpZ25pbmcgc2Vzc2lvbiAke3Nlc3Npb24uZW1haWx9IC8gJHtzZXNzaW9uLnByb2ZpbGVfaWR9YCk7XG5cbiAgICAgIHRoaXMucmVjaXBpZW50ID0gcmVjaXBpZW50O1xuICAgICAgdGhpcy5zaWduZXJUb2tlbiA9IHNpZ25lclRva2VuO1xuICAgICAgdGhpcy5lbmRwb2ludC5zZXRUb2tlbihzaWduZXJUb2tlbik7XG5cbiAgICAgIGlmICh0aGlzLnJlY2lwaWVudC5hZ3JlZWQpIHtcbiAgICAgICAgdGhpcy5uZXh0QnV0dG9uTGFiZWwgPSAnTmV4dCc7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGdldEVudmVsb3BlQnlJZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQpO1xuICAgICAgLy8gY29uc3QgZW52ZWxvcGUgPSBhd2FpdCBFbnZlbG9wZXMuZ2V0RW52ZWxvcGUodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkKTtcbiAgICAgIC8vIHRoaXMuZW52ZWxvcGUgPSBlbnZlbG9wZTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdbU0lHTl0gTG9hZGVkIGVudmVsb3BlJywgZW52ZWxvcGUpO1xuXG4gICAgICB0aGlzLnJlY2lwaWVudEluZGV4ID0gRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5yZWNpcGllbnRzLmZpbmRJbmRleChyZWNpcGllbnQgPT4gcmVjaXBpZW50LnJvbGVfbmFtZSA9PSB0aGlzLnJvbGVJZCk7XG4gICAgICBpZiAodGhpcy5yZWNpcGllbnRJbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMucmVjaXBpZW50ID0gRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5yZWNpcGllbnRzW3RoaXMucmVjaXBpZW50SW5kZXhdO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IHRoaXMucmVjaXBpZW50LmZpZWxkcztcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETzogRml4IHNlcnZpY2UgdG8gYWxsb3cgdGhpcz9cbiAgICAgIC8vIGNvbnN0IHNpZ3MgPSBhd2FpdCBnZXRTaWduYXR1cmVzKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnc2lncycsIHNpZ3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB3aXRoIHNpZ25pbmcgc2Vzc2lvbicsIGUpO1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDbGlja0FncmVlKCkge1xuICAgIHVwZGF0ZVJlY2lwaWVudFN0YXR1cyh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIHRoaXMucm9sZUlkLCAndXBkYXRlJywge2FncmVlZDogdHJ1ZX0pXG4gICAgICAudGhlbihyID0+IHtcbiAgICAgICAgdGhpcy5uZXh0QnV0dG9uTGFiZWwgPSAnTmV4dCc7XG4gICAgICAgIHRoaXMucmVjaXBpZW50ID0gcjtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGUgZmFpbHVyZScsIGUpO1xuICAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyBzYXZlUERGKCkge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7RW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5uYW1lfSAtICR7RW52ZWxvcGVTdG9yZS5lbnZlbG9wZS51cGRhdGVkX2F0LnNwbGl0KCdUJylbMF19LnBkZmA7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IEVudmVsb3Blcy5nZXRFbnZlbG9wZUZpbGUodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLmVudmVsb3BlX2RvY3VtZW50X2lkKTtcblxuICAgIC8vIFRoaXMgaXMgYmV0dGVyIGluIFJlYWN0IHRoYW4gZG9pbmcgd2luZG93LmhyZWY9IG9yIHNpbWlsYXIgdG8gdHJpZ2dlciBhIGRvd25sb2FkLiBGb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgdGVjaG5pcXVlXG4gICAgLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzgxMjY2MjMvZG93bmxvYWRpbmctY2FudmFzLWVsZW1lbnQtdG8tYW4taW1hZ2VcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh4aHIucmVzcG9uc2UpO1xuICAgICAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgICAgYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgIGEuY2xpY2soKTtcbiAgICAgIGEucmVtb3ZlKCk7XG4gICAgfTtcblxuICAgIHhoci5vcGVuKCdHRVQnLCBgZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LCR7ZGF0YX1gKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlT3B0aW9uU2VsZWN0ZWQoZSkge1xuICAgIHN3aXRjaCAoZS5kZXRhaWwuaWQpIHtcbiAgICAgIGNhc2UgJ2xhdGVyJzpcbiAgICAgICAgdGhpcy5maW5pc2hMYXRlciA9IHRydWU7XG4gICAgICAgIHRoaXMuc2hvd0ZpbmlzaExhdGVyID0gdHJ1ZTtcbiAgICAgICAgLy8gdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2B2aWV3L3NpZ24vJHt0aGlzLmVudmVsb3BlSWR9L3JvbGUvJHt0aGlzLnJvbGVOYW1lfS9zYXZlZGBdKTtcbiAgICAgICAgLy8gaWYgKCF3aW5kb3c/LlsnU1RPUllCT09LX0VOViddKSB7XG4gICAgICAgIC8vICAgd2luZG93LmFsZXJ0KCdVc2VyIGludGVuZHMgdG8gc2lnbiBsYXRlci4nKTtcbiAgICAgICAgLy8gfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NsYWltJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkZWNsaW5lJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwcmludCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZG93bmxvYWQnOlxuICAgICAgICB0aGlzLnNhdmVQREYoKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHNhdmVGaWVsZENoYW5nZShmaWVsZE5hbWU6IHN0cmluZywgZmllbGRzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgRW52ZWxvcGVzLnVwZGF0ZUVudmVsb3BlRmllbGQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZE5hbWUsIGZpZWxkcykgLy9cbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgaWYgKGUucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAxICYmIGUucmVzcG9uc2U/LmRhdGE/LmVycm9yID09PSAnand0IGV4cGlyZWQnKSB7XG4gICAgICAgICAgLy8gVE9ETzogRG8gd2Ugd2FudCB0byBpbXByb3ZlIHRoZSBpbnN0cnVjdGlvbnMgaGVyZT9cbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIFNpZ25pbmcgc2Vzc2lvbiBleHBpcmVkJyk7XG4gICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnU2lnbmluZyBzZXNzaW9uIGV4cGlyZWQuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIFNlcnZlciBlcnJvcicsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQ6IElEb2N1bWVudEZpZWxkLCBlOiBhbnksIG9wdGlvbklkPzogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ2ZpZWxkQ2hhbmdlJywgZmllbGQsIGUpO1xuICAgIGNvbnN0IHt2YWx1ZSwgY2hlY2tlZH0gPSBlLnRhcmdldDtcblxuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAndGV4dGJveCc6XG4gICAgICAgIHJldHVybiB0aGlzLnNhdmVGaWVsZENoYW5nZShmaWVsZC5uYW1lLCB7cHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZX0pO1xuXG4gICAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgICAgIHJldHVybiB0aGlzLnNhdmVGaWVsZENoYW5nZShmaWVsZC5uYW1lLCB7cHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZToge29wdGlvbnM6IFt7aWQ6IG9wdGlvbklkLCBjaGVja2VkfV19fSk7XG5cbiAgICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBmaWVsZC5zZXR0aW5ncy5vcHRpb25zLm1hcChvcHRpb24gPT4gKHtpZDogb3B0aW9uLmlkLCBzZWxlY3RlZDogb3B0aW9uSWQgPT09IG9wdGlvbi5pZH0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUZpZWxkQ2hhbmdlKGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uc319KTtcblxuICAgICAgY2FzZSAnZHJvcGRvd24nOlxuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSk7XG5cbiAgICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgICBjb25zdCBpbml0aWFsc0Jsb2IgPSBhd2FpdCAoYXdhaXQgZmV0Y2goZS5kZXRhaWwpKS5ibG9iKCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbml0aWFscyh0aGlzLmVuZHBvaW50LCAnaW5pdGlhbCcsIGluaXRpYWxzQmxvYikgLy9cbiAgICAgICAgICAudGhlbihuZXdJbml0aWFscyA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTmV3IGluaXRpYWxzJywgZmllbGQubmFtZSwgbmV3SW5pdGlhbHMpO1xuICAgICAgICAgICAgdXBkYXRlRW52ZWxvcGVGaWVsZEluaXRpYWxzKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGQubmFtZSwgbmV3SW5pdGlhbHMuaWQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgICAgICBjb25zdCBzaWduYXR1cmVCbG9iID0gYXdhaXQgKGF3YWl0IGZldGNoKGUuZGV0YWlsKSkuYmxvYigpO1xuICAgICAgICByZXR1cm4gY3JlYXRlU2lnbmF0dXJlKHRoaXMuZW5kcG9pbnQsICdzaWduYXR1cmUnLCBzaWduYXR1cmVCbG9iKSAvL1xuICAgICAgICAgIC50aGVuKG5ld1NpZ25hdHVyZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTmV3IHNpZ24nLCBmaWVsZC5uYW1lLCBuZXdTaWduYXR1cmUpO1xuICAgICAgICAgICAgdXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZSh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIG5ld1NpZ25hdHVyZS5pZCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICBjb25zdCBpc28gPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lzbycpO1xuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGlzb30pO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnVW5oYW5kbGVkIGZpZWxkIHVwZGF0ZScsIHt2YWx1ZSwgY2hlY2tlZH0sIGZpZWxkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaXNGaWVsZFZhbGlkKGZpZWxkOiBJRG9jdW1lbnRGaWVsZCkge1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAndGV4dGJveCc6XG4gICAgICAgIHN3aXRjaCAoZmllbGQuc2V0dGluZ3M/LnZhbGlkYXRvciB8fCAnJykge1xuICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkRW1haWwoZmllbGQuc2V0dGluZ3M/LnJlc3VsdCB8fCAnJyk7XG4gICAgICAgICAgY2FzZSAncGhvbmUnOlxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRQaG9uZShmaWVsZC5zZXR0aW5ncz8ucmVzdWx0IHx8ICcnKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICEhZmllbGQuc2V0dGluZ3M/LnJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICAgIHJldHVybiAhIWZpZWxkLnNldHRpbmdzPy5iYXNlNjQ7XG5cbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAndGltZXN0YW1wJzpcbiAgICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgICAgICByZXR1cm4gISFmaWVsZC5zZXR0aW5ncz8ucmVzdWx0O1xuXG4gICAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICAgIHJldHVybiAhIWZpZWxkLnNldHRpbmdzPy52YWx1ZTtcblxuICAgICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgICAgICBjb25zdCBjaGVja2VkID0gKGZpZWxkLnNldHRpbmdzPy5vcHRpb25zPy5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5jaGVja2VkKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgICByZXR1cm4gY2hlY2tlZCA+PSAoZmllbGQuc2V0dGluZ3M/Lm1pbmltdW1fY2hlY2tlZCB8fCAwKSAmJiBjaGVja2VkIDw9IChmaWVsZC5zZXR0aW5ncz8ubWF4aW11bV9jaGVja2VkIHx8IDk5OSk7XG5cbiAgICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICAgIHJldHVybiAoZmllbGQuc2V0dGluZ3M/Lm9wdGlvbnM/LmZpbHRlcihvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkKSB8fCBbXSkubGVuZ3RoID4gMDtcbiAgICAgIC8vIFRPRE9cbiAgICAgIC8vIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIC8vICAgcmV0dXJuIDx2ZXJkb2NzLWZpZWxkLWNoZWNrYm94IHN0eWxlPXtzdHlsZX0gdmFsdWU9e3Jlc3VsdCB8fCAnJ30gaWQ9e2lkfSAvPjtcbiAgICAgIC8vIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgLy8gICByZXR1cm4gPHZlcmRvY3MtZmllbGQtcGF5bWVudCBzdHlsZT17c3R5bGV9IGZpZWxkPXtmaWVsZH0gaWQ9e2lkfSAvPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVOZXh0KCkge1xuICAgIC8vIEZpbmQgYW5kIGZvY3VzIHRoZSBuZXh0IGluY29tcGxldGUgcmVxdWlyZWQgZmllbGRcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IHRoaXMuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5yZXF1aXJlZCk7XG4gICAgY29uc3QgZm9jdXNlZEluZGV4ID0gcmVxdWlyZWRGaWVsZHMuZmluZEluZGV4KGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IHRoaXMuZm9jdXNlZEZpZWxkKTtcblxuICAgIGxldCBuZXh0Rm9jdXNlZEluZGV4ID0gZm9jdXNlZEluZGV4ICsgMTtcbiAgICBpZiAobmV4dEZvY3VzZWRJbmRleCA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIG5leHRGb2N1c2VkSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGxldCBuZXh0UmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGRzW25leHRGb2N1c2VkSW5kZXhdO1xuXG4gICAgLy8gU2tpcCBzaWduYXR1cmUgYW5kIGluaXRpYWwgZmllbGRzIHRoYXQgYXJlIGFscmVhZHkgZmlsbGVkIGluLiBXZSBoYXZlIHRvIGNvdW50IG91ciBcInNraXBzXCIganVzdCBpbiBjYXNlLCB0byBhdm9pZCBpbmZpbml0ZSBsb29wcy5cbiAgICBsZXQgc2tpcHMgPSAwO1xuICAgIGlmIChza2lwcyA8IHJlcXVpcmVkRmllbGRzLmxlbmd0aCAmJiBbJ3NpZ25hdHVyZScsICdpbml0aWFsJ10uaW5jbHVkZXMobmV4dFJlcXVpcmVkRmllbGQudHlwZSkgJiYgbmV4dFJlcXVpcmVkRmllbGQuc2V0dGluZ3M/LnJlc3VsdCA9PT0gJ3NpZ25lZCcpIHtcbiAgICAgIHNraXBzKys7XG4gICAgICBuZXh0Rm9jdXNlZEluZGV4Kys7XG4gICAgICBpZiAobmV4dEZvY3VzZWRJbmRleCA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEZvY3VzZWRJbmRleCA9IDA7XG4gICAgICB9XG4gICAgICBuZXh0UmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGRzW25leHRGb2N1c2VkSW5kZXhdO1xuICAgIH1cblxuICAgIGlmIChza2lwcyA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIG5leHRSZXF1aXJlZEZpZWxkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobmV4dFJlcXVpcmVkRmllbGQpIHtcbiAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRJZChuZXh0UmVxdWlyZWRGaWVsZCk7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBhbnk7XG4gICAgICBlbD8uZm9jdXNGaWVsZCgpO1xuICAgICAgdGhpcy5mb2N1c2VkRmllbGQgPSBuZXh0UmVxdWlyZWRGaWVsZC5uYW1lO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVBhZ2VSZW5kZXJlZChlKSB7XG4gICAgY29uc3QgcGFnZUluZm8gPSBlLmRldGFpbCBhcyBJRG9jdW1lbnRQYWdlSW5mbztcbiAgICBjb25zb2xlLmxvZygnW1NJR05dIFBhZ2UgcmVuZGVyZWQsIGFkZGluZyBmaWVsZHMnLCBwYWdlSW5mbyk7XG5cbiAgICBjb25zdCByb2xlSW5kZXggPSBnZXRSb2xlSW5kZXgoRW52ZWxvcGVTdG9yZS5yb2xlTmFtZXMsIHRoaXMucmVjaXBpZW50LnJvbGVfbmFtZSk7XG4gICAgY29uc3QgcmVjaXBpZW50RmllbGRzID0gdGhpcy5yZWNpcGllbnQuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5wYWdlID09PSBwYWdlSW5mby5wYWdlTnVtYmVyKTtcbiAgICByZWNpcGllbnRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICBjb25zdCBlbCA9IHJlbmRlckRvY3VtZW50RmllbGQoZmllbGQsIHBhZ2VJbmZvLCByb2xlSW5kZXgsIHtkaXNhYmxlZDogZmFsc2UsIGVkaXRhYmxlOiBmYWxzZSwgZHJhZ2dhYmxlOiBmYWxzZX0pO1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIH0pO1xuXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZENoYW5nZScsIGUgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICB9KTtcblxuICAgICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCd4U2NhbGUnLCBwYWdlSW5mby54U2NhbGUpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCd5U2NhbGUnLCBwYWdlSW5mby55U2NhbGUpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdpbml0aWFscycsIHRoaXMucmVjaXBpZW50ID8gZnVsbE5hbWVUb0luaXRpYWxzKHRoaXMucmVjaXBpZW50LmZ1bGxfbmFtZSkgOiAnJyk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLnJlY2lwaWVudD8uZnVsbF9uYW1lIHx8ICcnKTtcblxuICAgICAgLy8gaW50ZXJhY3QoZWwpLmRyYWdnYWJsZSh7XG4gICAgICAvLyAgIGxpc3RlbmVyczoge1xuICAgICAgLy8gICAgIHN0YXJ0KGV2ZW50KSB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnW0ZJRUxEU10gRHJhZyBzdGFydGVkJywgZXZlbnQudHlwZSwgZXZlbnQudGFyZ2V0KTtcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgIC8vICAgICAgIGNvbnN0IG9sZFggPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Bvc1gnKSB8fCAwKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IG9sZFkgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Bvc1knKSB8fCAwKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IHhTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneFNjYWxlJykgfHwgMSk7XG4gICAgICAvLyAgICAgICBjb25zdCB5U2NhbGUgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3lTY2FsZScpIHx8IDEpO1xuICAgICAgLy8gICAgICAgY29uc3QgbmV3WCA9IGV2ZW50LmR4IC8geFNjYWxlICsgb2xkWDtcbiAgICAgIC8vICAgICAgIGNvbnN0IG5ld1kgPSBldmVudC5keSAvIHlTY2FsZSArIG9sZFk7XG4gICAgICAvLyAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3NYJywgbmV3WCk7XG4gICAgICAvLyAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3N5JywgbmV3WSk7XG4gICAgICAvLyAgICAgICB1cGRhdGVDc3NUcmFuc2Zvcm0oZXZlbnQudGFyZ2V0LCAndHJhbnNsYXRlJywgYCR7bmV3WH1weCwgJHtuZXdZfXB4YCk7XG4gICAgICAvLyAgICAgfSxcbiAgICAgIC8vICAgICBlbmQoZXZlbnQpIHtcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIGVuZGVkJywgZXZlbnQpO1xuICAgICAgLy8gICAgICAgLy8gZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zWCcsIDApO1xuICAgICAgLy8gICAgICAgLy8gZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zeScsIDApO1xuICAgICAgLy8gICAgICAgLy8gdXBkYXRlQ3NzVHJhbnNmb3JtKGV2ZW50LnRhcmdldCwgJ3RyYW5zbGF0ZScsIGAkezB9cHgsICR7MH1weGApO1xuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgIH0sXG4gICAgICAvLyB9KTtcbiAgICB9KTtcblxuICAgIEVudmVsb3BlU3RvcmUuZW52ZWxvcGUucmVjaXBpZW50c1xuICAgICAgLmZpbHRlcihyZWNpcGllbnQgPT4gcmVjaXBpZW50LnJvbGVfbmFtZSAhPT0gdGhpcy5yZWNpcGllbnQucm9sZV9uYW1lKVxuICAgICAgLm1hcChvdGhlclJlY2lwaWVudCA9PiB7XG4gICAgICAgIGNvbnN0IG90aGVyUm9sZUluZGV4ID0gZ2V0Um9sZUluZGV4KEVudmVsb3BlU3RvcmUucm9sZU5hbWVzLCBvdGhlclJlY2lwaWVudC5yb2xlX25hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnUmVuZGVyaW5nIGZpZWxkcyBmb3Igb3RoZXIgcmVjaXBpZW50Jywgb3RoZXJSb2xlSW5kZXgsIG90aGVyUmVjaXBpZW50KTtcbiAgICAgICAgY29uc3QgcmVjaXBpZW50RmllbGRzID0gb3RoZXJSZWNpcGllbnQuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5wYWdlID09PSBwYWdlSW5mby5wYWdlTnVtYmVyKTtcbiAgICAgICAgLy8gY29uc3QgZmllbGRzID0gdGhpcy5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLnBhZ2Vfc2VxdWVuY2UgPT09IHBhZ2VJbmZvLnJlbmRlcmVkUGFnZS5wYWdlTnVtYmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBGaWVsZHMgb24gcGFnZScsIHJlY2lwaWVudEZpZWxkcyk7XG4gICAgICAgIHJlY2lwaWVudEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgICAgICBjb25zdCBlbCA9IHJlbmRlckRvY3VtZW50RmllbGQoZmllbGQsIHBhZ2VJbmZvLCBvdGhlclJvbGVJbmRleCwge2Rpc2FibGVkOiB0cnVlLCBlZGl0YWJsZTogZmFsc2UsIGRyYWdnYWJsZTogZmFsc2V9KTtcbiAgICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCBvdGhlclJvbGVJbmRleCk7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd4U2NhbGUnLCBwYWdlSW5mby54U2NhbGUpO1xuICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgneVNjYWxlJywgcGFnZUluZm8ueVNjYWxlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoRW52ZWxvcGVTdG9yZS5sb2FkaW5nIHx8ICFFbnZlbG9wZVN0b3JlLmVudmVsb3BlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SG9zdD5cbiAgICAgICAgICA8dmVyZG9jcy1sb2FkZXIgLz5cbiAgICAgICAgPC9Ib3N0PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZW51T3B0aW9ucyA9IFtcbiAgICAgIHtpZDogJ2xhdGVyJywgbGFiZWw6ICdGaW5pc2ggTGF0ZXInfSwgLy9cbiAgICAgIHtpZDogJ2NsYWltJywgbGFiZWw6ICdDbGFpbSB0aGUgRG9jdW1lbnQnLCBkaXNhYmxlZDogdHJ1ZX0sXG4gICAgICB7aWQ6ICdkZWNsaW5lJywgbGFiZWw6ICdEZWNsaW5lIHRvIFNpZ24nfSxcbiAgICAgIHtpZDogJ3ByaW50JywgbGFiZWw6ICdQcmludCBXaXRob3V0IFNpZ25pbmcnLCBkaXNhYmxlZDogdHJ1ZX0sXG4gICAgICB7aWQ6ICdkb3dubG9hZCcsIGxhYmVsOiAnRG93bmxvYWQnfSxcbiAgICBdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxIb3N0IGNsYXNzPXt7YWdyZWVkOiB0aGlzLnJlY2lwaWVudD8uYWdyZWVkfX0+XG4gICAgICAgIHshdGhpcy5maW5pc2hMYXRlciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImludHJvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJcIj5QbGVhc2UgcmV2aWV3IGFuZCBhY3Qgb24gdGhlc2UgZG9jdW1lbnRzLjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJcIj5cbiAgICAgICAgICAgIHshdGhpcy5maW5pc2hMYXRlciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2xzXCI+XG4gICAgICAgICAgICAgICAgICA8dmVyZG9jcy1kcm9wZG93biBvcHRpb25zPXttZW51T3B0aW9uc30gb25PcHRpb25TZWxlY3RlZD17ZSA9PiB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGVkKGUpfSAvPlxuXG4gICAgICAgICAgICAgICAgICB7IXRoaXMucmVjaXBpZW50Py5hZ3JlZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZ3JlZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDx2ZXJkb2NzLWNoZWNrYm94IG5hbWU9XCJhZ3JlZVwiIGxhYmVsPVwiSSBhZ3JlZSB0byB1c2UgZWxlY3Ryb25pYyByZWNvcmRzIGFuZCBzaWduYXR1cmVzLlwiIG9uSW5wdXQ9eygpID0+IHRoaXMuaGFuZGxlQ2xpY2tBZ3JlZSgpfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmbGV4OiAnMSd9fSAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDx2ZXJkb2NzLWJ1dHRvbiBzaXplPVwic21hbGxcIiBsYWJlbD17dGhpcy5uZXh0QnV0dG9uTGFiZWx9IGRpc2FibGVkPXshdGhpcy5yZWNpcGllbnQ/LmFncmVlZH0gb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVOZXh0KCl9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgeyF0aGlzLnJlY2lwaWVudD8uYWdyZWVkID8gPGRpdiBjbGFzcz1cImNvdmVyXCIgLz4gOiA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz59XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRvY3VtZW50XCI+XG4gICAgICAgICAgeyhFbnZlbG9wZVN0b3JlLmVudmVsb3BlLmRvY3VtZW50cyB8fCBbXSkubWFwKGVudmVsb3BlRG9jdW1lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBbLi4uKGVudmVsb3BlRG9jdW1lbnQ/LnBhZ2VzIHx8IFtdKV07XG4gICAgICAgICAgICBwYWdlcy5zb3J0KChhLCBiKSA9PiBhLnNlcXVlbmNlIC0gYi5zZXF1ZW5jZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncCcsIGVudmVsb3BlRG9jdW1lbnQsIHBhZ2VzKTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgICAgICAgIHtwYWdlcy5tYXAocGFnZSA9PiAoXG4gICAgICAgICAgICAgICAgICA8dmVyZG9jcy1kb2N1bWVudC1wYWdlXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VJbWFnZVVyaT17cGFnZS5kaXNwbGF5X3VyaX1cbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbFdpZHRoPXs2MTJ9XG4gICAgICAgICAgICAgICAgICAgIHZpcnR1YWxIZWlnaHQ9ezc5Mn1cbiAgICAgICAgICAgICAgICAgICAgcGFnZU51bWJlcj17cGFnZS5zZXF1ZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgb25QYWdlUmVuZGVyZWQ9e2UgPT4gdGhpcy5oYW5kbGVQYWdlUmVuZGVyZWQoZSl9XG4gICAgICAgICAgICAgICAgICAgIGxheWVycz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAncGFnZScsIHR5cGU6ICdjYW52YXMnfSxcbiAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ2NvbnRyb2xzJywgdHlwZTogJ2Rpdid9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnNob3dGaW5pc2hMYXRlciAmJiAoXG4gICAgICAgICAgPHZlcmRvY3Mtb2stZGlhbG9nXG4gICAgICAgICAgICBoZWFkaW5nPVwiWW91J3ZlIHNhdmVkIHlvdXIgZG9jdW1lbnQgdG8gZmluaXNoIGxhdGVyLlwiXG4gICAgICAgICAgICBtZXNzYWdlPVwiVG8gY29tcGxldGUgdGhlIGRvY3VtZW50LCB1c2UgdGhlIGxpbmsgaW4gdGhlIG9yaWdpbmFsIGVtYWlsIG5vdGlmaWNhdGlvbiBpbnZpdGluZyB5b3UgdG8gcmV2aWV3IGFuZCBmaW5pc2ggdGhlIGRvY3VtZW50LlwiXG4gICAgICAgICAgICBvbk5leHQ9eygpID0+ICh0aGlzLnNob3dGaW5pc2hMYXRlciA9IGZhbHNlKX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuXG4gICAgICAgIHt0aGlzLmVycm9yTWVzc2FnZSAmJiA8dmVyZG9jcy1vay1kaWFsb2cgaGVhZGluZz1cIk5ldHdvcmsgRXJyb3JcIiBtZXNzYWdlPXt0aGlzLmVycm9yTWVzc2FnZX0gb25OZXh0PXsoKSA9PiAodGhpcy5lcnJvck1lc3NhZ2UgPSAnJyl9IC8+fVxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXNpZ24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1pbi1oZWlnaHQ6IDYwMHB4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuXG4gIGRpdiB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuXG4gIC5oZWFkZXIge1xuICAgIGZsZXg6IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB6LWluZGV4OiAxMDAwO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMjVzO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRtZWRpdW0tYmc7XG4gICAgYm94LXNoYWRvdzogMCA0cHggNHB4IDAgcmdiKDAgMCAwIC8gMjQlKSwgMCAwIDRweCAwIHJnYigwIDAgMCAvIDEyJSk7XG5cbiAgICAuaW5uZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXgtd2lkdGg6IDEwMjhweDtcbiAgICB9XG4gIH1cblxuICAuaW50cm8ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNjBweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgLmlubmVyIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgY29sb3I6ICMxMTExMTE7XG4gICAgICBwYWRkaW5nOiAwIDE0cHg7XG4gICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgICBtYXgtd2lkdGg6IDEwMjRweDtcbiAgICB9XG4gIH1cblxuICAmLmFncmVlZCB7XG4gICAgLmludHJvIHtcbiAgICAgIC8vZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cblxuICAudG9vbGJhciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZzogMCAxNHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuXG4gIC50b29scyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgaGVpZ2h0OiA1NnB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbWVkaXVtLWJnO1xuICB9XG5cbiAgLmNvdmVyIHtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgei1pbmRleDogOTk5O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gIH1cblxuICAuZG9jdW1lbnQge1xuICAgIGZsZXg6IDE7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgcGFkZGluZzogMTVweDtcbiAgICByb3ctZ2FwOiAxNXB4O1xuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cbiAgICAuaW5uZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXgtd2lkdGg6IDEwMjhweDtcbiAgICB9XG4gIH1cblxuICAuYWdyZWUge1xuICAgIGZsZXg6IDE7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMCAxNXB4O1xuXG4gICAgLmludHJvIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgLmhlYWRlciB7XG4gICAgICBmbGV4OiAwIDAgNTZweDtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=