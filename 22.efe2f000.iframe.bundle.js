(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/utils-1a27bb94.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"e",(function(){return integerSequence})),__webpack_require__.d(__webpack_exports__,"f",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"g",(function(){return updateCssTransform}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match-all.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function rescale(r,n){return r*n}var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")},setControlStyles=function setControlStyles(el,field,xScale,yScale,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?function defaultWidth(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 82}return 150}(field):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?function defaultHeight(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 41}return 50}(field):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")"},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,fieldOptions){var _fieldOptions$disable=fieldOptions.disabled,disabled=void 0!==_fieldOptions$disable&&_fieldOptions$disable,_fieldOptions$editabl=fieldOptions.editable,editable=void 0!==_fieldOptions$editabl&&_fieldOptions$editabl,_fieldOptions$draggab=fieldOptions.draggable,draggable=void 0!==_fieldOptions$draggab&&_fieldOptions$draggab,controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return void setControlStyles(existingField,field,docPage.xScale,docPage.yScale);var el=document.createElement("verdocs-field-"+field.type);return el.field=field,el.setAttribute("id",id),el.setAttribute("roleIndex",roleIndex),disabled?(el.setAttribute("tabindex",-1),el.setAttribute("disabled",!0)):el.setAttribute("tabIndex",1),editable&&el.setAttribute("editable",!0),draggable&&el.setAttribute("draggable",!0),setControlStyles(el,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(el),el;case"checkbox_group":return(field.settings||field.setting||{}).options.map((function(_,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-checkbox");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleIndex",roleIndex),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,checkboxIndex),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));case"radio_button_group":return(field.settings||field.setting||{}).options.map((function(_,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(!existingField){var radioEl=document.createElement("verdocs-field-radio-button");return radioEl.field=field,radioEl.setAttribute("id",id),radioEl.setAttribute("roleIndex",roleIndex),radioEl.setAttribute("option",buttonIndex),disabled&&radioEl.setAttribute("disabled",!0),setControlStyles(radioEl,field,docPage.xScale,docPage.yScale,buttonIndex),controlsDiv.appendChild(radioEl),radioEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));default:return console.log("[PREVIEW] Skipping unsupported field type",field),null}},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}},updateCssTransform=function updateCssTransform(el,key,value){var components=_toConsumableArray(el.style.transform.matchAll(/(\w+)\(([^)]*)\)/gi));el.style.transform=[components.filter((function(component){return component[1]!==key})).map((function(component){return component[0]})),key+"("+value+")"].join(" ")}},"./dist/esm/verdocs-field-payment.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_payment",(function(){return VerdocsFieldPayment}));__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_utils_1a27bb94_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./dist/esm/utils-1a27bb94.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsFieldPayment=function(){function VerdocsFieldPayment(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsFieldPayment),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.j)(this,hostRef),this.signatureComplete=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.e)(this,"signatureComplete",7),this.initialComplete=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.e)(this,"initialComplete",7),this._fields=[],this.signatureFile=null,this.initialFile=null,this.focusOrderNumber=-1,this.focusFieldName="",this.activeElement=null,this.showError={pageNum:-1,fieldIndex:-1,type:null},this.dialogOpened=!1,this.closeAllErrors=!1,this.fieldsMap={},this.fieldsForCurrentSigner=[],this.fontSize=11,this.averageFontWidth=5,this.requiredFields=[],this.field=null,this.disabled=!1,this.fields=void 0,this.pageNum=void 0,this.roleName=void 0,this.fieldId=void 0,this.recipients=void 0,this.selectedRoleName=void 0,this.pdfPages=void 0,this.currentSignature=void 0,this.currentSignatureId=void 0,this.currentInitial=void 0,this.currentInitialId=void 0,this.focused=!1,this.signed=!1,this.preparedMessage=void 0,this.signatureUrl="",this.roleindex=0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsFieldPayment,[{key:"componentWillLoad",value:function componentWillLoad(){if(console.log("sign field",this.field),this.recipients&&this.recipients.length>0){var preparer=this.recipients.find((function(r){return"preparer"===r.type}));console.log("Found preparer",preparer),preparer&&(this.preparedMessage="Prepared by "+preparer.full_name)}}},{key:"render",value:function render(){var _a,_b,settings=Object(_utils_1a27bb94_js__WEBPACK_IMPORTED_MODULE_10__.d)(this.field),disabled=null!==(_b=null!==(_a=this.disabled)&&void 0!==_a?_a:settings.disabled)&&void 0!==_b&&_b;console.log("Payment field",settings);var backgroundColor=this.field.rgba||Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__.a)(this.roleindex);return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.b,{class:{focused:this.focused,disabled:disabled},style:{backgroundColor:backgroundColor}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("button",{class:{hide:this.signed}},"$"),this.signed?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("div",{class:"frame"}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("div",{style:{display:"none"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("img",{width:"100%",height:"100%",src:this.signatureUrl}))}}]),VerdocsFieldPayment}();VerdocsFieldPayment.style='verdocs-field-payment{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:24px;height:24px;display:block;font-size:11px;position:relative;border:1px solid #cfa;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-payment.disabled{opacity:0.5}verdocs-field-payment button,verdocs-field-payment div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-field-payment button{color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-payment button.hide{display:none}verdocs-field-payment input{float:left;font-family:Arial, sans-serif}verdocs-field-payment select{position:absolute;font-family:Arial, sans-serif;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-payment .frame{width:100%;height:100%;background-size:contain;text-align:left}verdocs-field-payment .frame img{position:absolute;height:auto;width:100%}verdocs-field-payment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}'},"./node_modules/core-js/modules/es.string.match-all.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this-clause.js"),createIteratorConstructor=__webpack_require__("./node_modules/core-js/internals/iterator-create-constructor.js"),createIterResultObject=__webpack_require__("./node_modules/core-js/internals/create-iter-result-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isNullOrUndefined=__webpack_require__("./node_modules/core-js/internals/is-null-or-undefined.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),getRegExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-get-flags.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),defineBuiltIn=__webpack_require__("./node_modules/core-js/internals/define-built-in.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),MATCH_ALL=wellKnownSymbol("matchAll"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("RegExp String Iterator"),RegExpPrototype=RegExp.prototype,$TypeError=TypeError,stringIndexOf=uncurryThis("".indexOf),nativeMatchAll=uncurryThis("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails((function(){nativeMatchAll("a",/./)})),$RegExpStringIterator=createIteratorConstructor((function RegExpStringIterator(regexp,string,$global,fullUnicode){setInternalState(this,{type:"RegExp String Iterator",regexp:regexp,string:string,global:$global,unicode:fullUnicode,done:!1})}),"RegExp String",(function next(){var state=getInternalState(this);if(state.done)return createIterResultObject(void 0,!0);var R=state.regexp,S=state.string,match=regExpExec(R,S);return null===match?(state.done=!0,createIterResultObject(void 0,!0)):state.global?(""===toString(match[0])&&(R.lastIndex=advanceStringIndex(S,toLength(R.lastIndex),state.unicode)),createIterResultObject(match,!1)):(state.done=!0,createIterResultObject(match,!1))})),$matchAll=function(string){var matcher,$global,fullUnicode,R=anObject(this),S=toString(string),C=speciesConstructor(R,RegExp),flags=toString(getRegExpFlags(R));return matcher=new C(C===RegExp?R.source:R,flags),$global=!!~stringIndexOf(flags,"g"),fullUnicode=!!~stringIndexOf(flags,"u"),matcher.lastIndex=toLength(R.lastIndex),new $RegExpStringIterator(matcher,S,$global,fullUnicode)};$({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function matchAll(regexp){var flags,S,matcher,rx,O=requireObjectCoercible(this);if(isNullOrUndefined(regexp)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp)}else{if(isRegExp(regexp)&&(flags=toString(requireObjectCoercible(getRegExpFlags(regexp))),!~stringIndexOf(flags,"g")))throw $TypeError("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp);if(void 0===(matcher=getMethod(regexp,MATCH_ALL))&&IS_PURE&&"RegExp"==classof(regexp)&&(matcher=$matchAll),matcher)return call(matcher,regexp,O)}return S=toString(O),rx=new RegExp(regexp,"g"),IS_PURE?call($matchAll,rx,S):rx[MATCH_ALL](S)}}),IS_PURE||MATCH_ALL in RegExpPrototype||defineBuiltIn(RegExpPrototype,MATCH_ALL,$matchAll)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVXRpbHMvRmllbGRzLmpzIiwid2VicGFjazovLy9zcmMvdXRpbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtcGF5bWVudC92ZXJkb2NzLWZpZWxkLXBheW1lbnQuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1maWVsZC1wYXltZW50L3ZlcmRvY3MtZmllbGQtcGF5bWVudC50c3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2gtYWxsLmpzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJyZXNjYWxlIiwiciIsIm4iLCJpbnRlZ2VyU2VxdWVuY2UiLCJzdGFydCIsImNvdW50IiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiXyIsImluZGV4IiwiZnVsbE5hbWVUb0luaXRpYWxzIiwibmFtZSIsInNwbGl0Iiwid29yZCIsImpvaW4iLCJzZXRDb250cm9sU3R5bGVzIiwiZWwiLCJmaWVsZCIsInhTY2FsZSIsInlTY2FsZSIsIm9wdGlvbiIsInNldHRpbmdzIiwic2V0dGluZyIsIngiLCJ5Iiwid2lkdGgiLCJkZWZhdWx0V2lkdGgiLCJ0eXBlIiwiaGVpZ2h0IiwiZGVmYXVsdEhlaWdodCIsIm9wdGlvblNldHRpbmdzIiwidW5kZWZpbmVkIiwib3B0aW9ucyIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwiYm90dG9tIiwidHJhbnNmb3JtIiwiZ2V0RmllbGRJZCIsImdldEZpZWxkT3B0aW9uSWQiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZG9jUGFnZSIsImZpZWxkT3B0aW9ucyIsImRpc2FibGVkIiwiZWRpdGFibGUiLCJkcmFnZ2FibGUiLCJjb250cm9sc0RpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250YWluZXJJZCIsImlkIiwiZXhpc3RpbmdGaWVsZCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImNoZWNrYm94SW5kZXgiLCJjYkVsIiwiYnV0dG9uSW5kZXgiLCJyYWRpb0VsIiwiY29uc29sZSIsImxvZyIsImdldFJvbGVJbmRleCIsInJvbGVzIiwicm9sZSIsImluZGV4T2YiLCJnZXRGaWVsZFNldHRpbmdzIiwicmVxdWlyZWQiLCJyZXN1bHQiLCJ2YWx1ZSIsInVwZGF0ZUNzc1RyYW5zZm9ybSIsImtleSIsImNvbXBvbmVudHMiLCJtYXRjaEFsbCIsImZpbHRlciIsImNvbXBvbmVudCIsIlZlcmRvY3NGaWVsZFBheW1lbnQiLCJfZmllbGRzIiwic2lnbmF0dXJlRmlsZSIsImluaXRpYWxGaWxlIiwiZm9jdXNPcmRlck51bWJlciIsImZvY3VzRmllbGROYW1lIiwiYWN0aXZlRWxlbWVudCIsInNob3dFcnJvciIsInBhZ2VOdW0iLCJmaWVsZEluZGV4IiwiZGlhbG9nT3BlbmVkIiwiY2xvc2VBbGxFcnJvcnMiLCJmaWVsZHNNYXAiLCJmaWVsZHNGb3JDdXJyZW50U2lnbmVyIiwiZm9udFNpemUiLCJhdmVyYWdlRm9udFdpZHRoIiwicmVxdWlyZWRGaWVsZHMiLCJjb21wb25lbnRXaWxsTG9hZCIsInRoaXMiLCJyZWNpcGllbnRzIiwibGVuZ3RoIiwicHJlcGFyZXIiLCJmaW5kIiwicHJlcGFyZWRNZXNzYWdlIiwicmVuZGVyIiwiYmFja2dyb3VuZENvbG9yIiwicm9sZWluZGV4IiwiaCIsIkhvc3QiLCJjbGFzcyIsImZvY3VzZWQiLCJoaWRlIiwic2lnbmVkIiwiZGlzcGxheSIsInNyYyIsInNpZ25hdHVyZVVybCIsIiQiLCJjYWxsIiwidW5jdXJyeVRoaXMiLCJjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yIiwiY3JlYXRlSXRlclJlc3VsdE9iamVjdCIsInJlcXVpcmVPYmplY3RDb2VyY2libGUiLCJ0b0xlbmd0aCIsInRvU3RyaW5nIiwiYW5PYmplY3QiLCJpc051bGxPclVuZGVmaW5lZCIsImNsYXNzb2YiLCJpc1JlZ0V4cCIsImdldFJlZ0V4cEZsYWdzIiwiZ2V0TWV0aG9kIiwiZGVmaW5lQnVpbHRJbiIsImZhaWxzIiwid2VsbEtub3duU3ltYm9sIiwic3BlY2llc0NvbnN0cnVjdG9yIiwiYWR2YW5jZVN0cmluZ0luZGV4IiwicmVnRXhwRXhlYyIsIkludGVybmFsU3RhdGVNb2R1bGUiLCJJU19QVVJFIiwiTUFUQ0hfQUxMIiwic2V0SW50ZXJuYWxTdGF0ZSIsInNldCIsImdldEludGVybmFsU3RhdGUiLCJnZXR0ZXJGb3IiLCJSRUdFWFBfU1RSSU5HIiwiUmVnRXhwUHJvdG90eXBlIiwiUmVnRXhwIiwicHJvdG90eXBlIiwiJFR5cGVFcnJvciIsIlR5cGVFcnJvciIsInN0cmluZ0luZGV4T2YiLCJuYXRpdmVNYXRjaEFsbCIsIldPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCIsIiRSZWdFeHBTdHJpbmdJdGVyYXRvciIsIlJlZ0V4cFN0cmluZ0l0ZXJhdG9yIiwicmVnZXhwIiwic3RyaW5nIiwiJGdsb2JhbCIsImZ1bGxVbmljb2RlIiwiZ2xvYmFsIiwidW5pY29kZSIsImRvbmUiLCJuZXh0Iiwic3RhdGUiLCJSIiwiUyIsIm1hdGNoIiwibGFzdEluZGV4IiwiJG1hdGNoQWxsIiwibWF0Y2hlciIsIkMiLCJmbGFncyIsInNvdXJjZSIsInRhcmdldCIsInByb3RvIiwiZm9yY2VkIiwicngiLCJPIl0sIm1hcHBpbmdzIjoiZ0tBOEJPLFNBQVNBLFFBQVFDLFdBQ3BCLE9BQVFBLFVBQVksSUFDaEIsS0FBSyxFQUNELE9BQXFCLElBQWRBLFVBQWtCLHlCQUEyQiwyQkFDeEQsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNE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S0FDdENGLFFBQVFGLFVBQVk1QyxTQUFTeUMsRUFBRUcsV0FDeEIsSUFBSWQsc0JBQXNCZ0IsUUFBU0osRUFBR1IsUUFBU0MsWUFDeEQsRUFJQXpDLEVBQUUsQ0FBRXdELE9BQVEsU0FBVUMsT0FBTyxFQUFNQyxPQUFRdkIsNkJBQStCLENBQ3hFMUUsU0FBVSxTQUFTQSxTQUFTNkUsUUFDMUIsSUFDSWdCLE1BQU9OLEVBQUdJLFFBQVNPLEdBRG5CQyxFQUFJdkQsdUJBQXVCdkIsTUFFL0IsR0FBSzJCLGtCQUFrQjZCLFNBU2hCLEdBQUlILDRCQUE2QixPQUFPRCxlQUFlMEIsRUFBR3RCLFlBVGpDLENBQzlCLEdBQUkzQixTQUFTMkIsVUFDWGdCLE1BQVEvQyxTQUFTRix1QkFBdUJPLGVBQWUwQixZQUNqREwsY0FBY3FCLE1BQU8sTUFBTSxNQUFNdkIsV0FBVyxpREFFcEQsR0FBSUksNEJBQTZCLE9BQU9ELGVBQWUwQixFQUFHdEIsUUFHMUQsUUFEZ0J0SCxLQURoQm9JLFFBQVV2QyxVQUFVeUIsT0FBUWhCLGFBQ0NELFNBQThCLFVBQW5CWCxRQUFRNEIsVUFBcUJjLFFBQVVELFdBQzNFQyxRQUFTLE9BQU9uRCxLQUFLbUQsUUFBU2QsT0FBUXNCLEVBQzVDLENBR0EsT0FGQVosRUFBSXpDLFNBQVNxRCxHQUNiRCxHQUFLLElBQUk5QixPQUFPUyxPQUFRLEtBQ2pCakIsUUFBVXBCLEtBQUtrRCxVQUFXUSxHQUFJWCxHQUFLVyxHQUFHckMsV0FBVzBCLEVBQzFELElBR0YzQixTQUFXQyxhQUFhTSxpQkFBbUJkLGNBQWNjLGdCQUFpQk4sVUFBVzZCLFUiLCJmaWxlIjoiMjIuZWZlMmYwMDAuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l2ZW4gYSBgcmdiYShyLGcsYixhKWAgc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudCwgZHJvcHBpbmcgdGhlIGFscGhhIGNoYW5uZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0IocmdiYSkge1xuICAgIHZhciByZ2JOdW1iZXJzID0gcmdiYS5yZXBsYWNlKCdyZ2JhKCcsICcnKS5yZXBsYWNlKCcpJywgJycpLnNwbGl0KCcsJyk7XG4gICAgdmFyIHJnYk9iamVjdCA9IHtcbiAgICAgICAgcmVkOiArcmdiTnVtYmVyc1swXSxcbiAgICAgICAgZ3JlZW46ICtyZ2JOdW1iZXJzWzFdLFxuICAgICAgICBibHVlOiArcmdiTnVtYmVyc1syXSxcbiAgICAgICAgYWxwaGE6ICtyZ2JOdW1iZXJzWzNdLFxuICAgIH07XG4gICAgdmFyIGFscGhhID0gMSAtIHJnYk9iamVjdC5hbHBoYTtcbiAgICB2YXIgcmVkID0gTWF0aC5yb3VuZCgocmdiT2JqZWN0LmFscGhhICogKHJnYk9iamVjdC5yZWQgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICB2YXIgZ3JlZW4gPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmdyZWVuIC8gMjU1KSArIGFscGhhKSAqIDI1NSk7XG4gICAgdmFyIGJsdWUgPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmJsdWUgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICByZXR1cm4gJyMnICsgcmdiVG9IZXgocmVkKSArIHJnYlRvSGV4KGdyZWVuKSArIHJnYlRvSGV4KGJsdWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhbiBSR0Igc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudC5cbiAqL1xuZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XG4gICAgdmFyIGhleCA9IHJnYi50b1N0cmluZygxNik7XG4gICAgaWYgKGhleC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0JBKHJvbGVJbmRleCkge1xuICAgIHN3aXRjaCAocm9sZUluZGV4ICUgMTApIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJbmRleCA9PT0gMCA/ICdyZ2JhKDI1NSwgMTkzLCA3LCAwLjQpJyA6ICdyZ2JhKDEzNCwgMTM0LCAxMzQsIDAuMyknOyAvLyAjRkZFNjlDXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxNTYsIDM5LCAxNzYsIC40KSc7IC8vICcjRTNDM0U5J1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMzMsIDE1MCwgMjQzLCAuNCknOyAvLyAnI0MxRTFGQidcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyMCwgMjMxLCAxMTcsIDAuMyknO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTIxLCAxMzQsIDIwMywgMC4zKSc7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg3NywgMTgyLCAxNzIsIDAuMyknO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyMDIsIDE2NSwgMC4zKSc7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyLCAyNDcsIDE5MCwgMC4zKSc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDEzOCwgMTAxLCAwLjMpJztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDgyLCAyNTUsIDc5LCAwLjMpJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjksIDExNSwgMTU1LCAwLjMpJztcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGEgcm9sZSBuYW1lLCByZXR1cm4gYSBjb2xvciBjb2RlIGZvciBpdC4gVGhpcyB3b3JrcyBieSBjb21wdXRpbmcgYSBoYXNoIGNvZGUgc28gdGhlIHNwZWNpZmljIGNvbG9yIHJldHVybmVkXG4gKiBpcyBub3Qgc3BlY2lmaWVkIGV4cGxpY2l0bHksIGJ1dCB3aWxsIGJlIHRoZSBzYW1lIGZvciBldmVyeSBjYWxsIHdpdGggdGhlIHNhbWUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYW1lVG9SR0JBKHN0cikge1xuICAgIGlmICghIXN0cikge1xuICAgICAgICB2YXIgdmFsaWROdW0gPSBwYXJzZUludChzdHIuc2xpY2UoLTEpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4odmFsaWROdW0pKSB7XG4gICAgICAgICAgICBzdHIgKz0gKHZhbGlkTnVtICogOTkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc2ggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzaCA9IE1hdGgucm91bmQoaGFzaCAvIDEuMyk7XG4gICAgICAgIHZhciBjID0gKGhhc2ggJiAweDAwZmZmZjA4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgdmFyIGhleCA9ICcjJyArICcwMDAwMCcuc3Vic3RyaW5nKDAsIDYgLSBjLmxlbmd0aCkgKyBjO1xuICAgICAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgICAgIHZhciBjb2xvciA9IHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIi5jb25jYXQoY29sb3IuciwgXCIsIFwiKS5jb25jYXQoY29sb3IuZywgXCIsIFwiKS5jb25jYXQoY29sb3IuYiwgXCIsIDAuMilcIik7XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gb2J0YWluIGEgY29sb3IgY29kZSBnaXZlbiBhIHJvbGUgbmFtZSBnaXZlbiB2YXJpb3VzIHBvc3NpYmxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvbGVDb2xvcihuYW1lLCByb2xlcywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGdldFJHQkEoaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciByb2xlSW5kZXggPSByb2xlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHJvbGUpIHsgcmV0dXJuIHJvbGUubmFtZSA9PT0gbmFtZTsgfSk7XG4gICAgICAgIGlmIChyb2xlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvbGVzW3JvbGVJbmRleF0ucmdiYSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZVRvUkdCQShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hbWVUb1JHQkEobmFtZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFJUb3AoeSwgZmllbGRIZWlnaHQsIGlUZXh0SGVpZ2h0LCB5UmF0aW8pIHtcbiAgICByZXR1cm4gaVRleHRIZWlnaHQgLSAoeSArIGZpZWxkSGVpZ2h0KSAqIHlSYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSTGVmdCh4LCByYXRpbykge1xuICAgIHJldHVybiB4ICogcmF0aW87XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UlZhbHVlKHksIHJhdGlvKSB7XG4gICAgcmV0dXJuIHkgKiByYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBibG9iVG9CYXNlNjQoaW1hZ2UpIHtcbiAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ1Byb2JsZW0gcmVhZGluZyBibG9iLicpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvbHZlKGZpbGVSZWFkZXIucmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNjYWxlKHIsIG4pIHtcbiAgICByZXR1cm4gciAqIG47XG59XG4iLCIvLyBUaGVzZSBzaG91bGQgcHJvYmFibHkgYWxsIG1vdmUgdG8gSlMtU0RLXG5pbXBvcnQge3Jlc2NhbGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9VdGlscy9GaWVsZHMnO1xuLy8gaW1wb3J0IHtnZXRSR0JBfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvQ29sb3JzJztcbmltcG9ydCB7SVRlbXBsYXRlRmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge0lEb2N1bWVudFBhZ2VJbmZvfSBmcm9tICcuL1R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGludGVnZXJTZXF1ZW5jZSA9IChzdGFydDogbnVtYmVyLCBjb3VudDogbnVtYmVyKTogbnVtYmVyW10gPT5cbiAgQXJyYXkoY291bnQpXG4gICAgLmZpbGwoMSlcbiAgICAubWFwKChfLCBpbmRleCkgPT4gaW5kZXggKyBzdGFydCk7XG5cbmV4cG9ydCBjb25zdCBmdWxsTmFtZVRvSW5pdGlhbHMgPSAobmFtZTogc3RyaW5nKSA9PlxuICBuYW1lXG4gICAgLnNwbGl0KCcgJylcbiAgICAubWFwKHdvcmQgPT4gd29yZFswXSlcbiAgICAuam9pbignJyk7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0V2lkdGggPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICByZXR1cm4gODI7XG4gIH1cblxuICByZXR1cm4gMTUwO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRIZWlnaHQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICByZXR1cm4gNDE7XG4gIH1cblxuICByZXR1cm4gNTA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0Q29udHJvbFN0eWxlcyA9IChlbDogSFRNTEVsZW1lbnQsIGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkLCB4U2NhbGU6IG51bWJlciwgeVNjYWxlOiBudW1iZXIsIG9wdGlvbj86IG51bWJlcikgPT4ge1xuICBjb25zdCBzZXR0aW5ncyA9IChmaWVsZCBhcyBJVGVtcGxhdGVGaWVsZCkuc2V0dGluZyB8fCAoZmllbGQgYXMgSURvY3VtZW50RmllbGQpLnNldHRpbmdzO1xuICBsZXQge3ggPSAwLCB5ID0gMCwgd2lkdGggPSBkZWZhdWx0V2lkdGgoZmllbGQpLCBoZWlnaHQgPSBkZWZhdWx0SGVpZ2h0KGZpZWxkKX0gPSBzZXR0aW5ncztcblxuICBjb25zdCBvcHRpb25TZXR0aW5ncyA9IG9wdGlvbiAhPT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm9wdGlvbnNbb3B0aW9uXSA/IHNldHRpbmdzLm9wdGlvbnNbb3B0aW9uXSA6IG51bGw7XG4gIGlmIChvcHRpb25TZXR0aW5ncykge1xuICAgIHggPSBvcHRpb25TZXR0aW5ncy54ID8/IHg7XG4gICAgeSA9IG9wdGlvblNldHRpbmdzLnkgPz8geTtcbiAgICB3aWR0aCA9IG9wdGlvblNldHRpbmdzLndpZHRoID8/IHdpZHRoO1xuICAgIGhlaWdodCA9IG9wdGlvblNldHRpbmdzLmhlaWdodCA/PyBoZWlnaHQ7XG4gIH1cblxuICBlbC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgZWwuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICBlbC5zdHlsZS5sZWZ0ID0gYCR7cmVzY2FsZSh4U2NhbGUsIHgpfXB4YDtcbiAgZWwuc3R5bGUuYm90dG9tID0gYCR7cmVzY2FsZSh5U2NhbGUsIHkpfXB4YDtcbiAgZWwuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7eFNjYWxlfSwgJHt5U2NhbGV9KWA7XG4gIC8vIGVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZpZWxkWydyZ2JhJ10gfHwgZ2V0UkdCQShyb2xlSW5kZXgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpZWxkSWQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgcmV0dXJuIGB2ZXJkb2NzLWRvYy1mbGQtJHtmaWVsZC5uYW1lfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRPcHRpb25JZCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9LSR7aW5kZXh9YDtcbn07XG5cbmludGVyZmFjZSBJRmllbGRPcHRpb25zIHtcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBlZGl0YWJsZT86IGJvb2xlYW47XG4gIGRyYWdnYWJsZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCByZW5kZXJEb2N1bWVudEZpZWxkID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkLCBkb2NQYWdlOiBJRG9jdW1lbnRQYWdlSW5mbywgcm9sZUluZGV4OiBudW1iZXIsIGZpZWxkT3B0aW9uczogSUZpZWxkT3B0aW9ucykgPT4ge1xuICBjb25zdCB7ZGlzYWJsZWQgPSBmYWxzZSwgZWRpdGFibGUgPSBmYWxzZSwgZHJhZ2dhYmxlID0gZmFsc2V9ID0gZmllbGRPcHRpb25zO1xuICBjb25zdCBjb250cm9sc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvY1BhZ2UuY29udGFpbmVySWQgKyAnLWNvbnRyb2xzJyk7XG4gIGlmICghY29udHJvbHNEaXYpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICBjYXNlICdkYXRlJzpcbiAgICBjYXNlICdkcm9wZG93bic6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICBjYXNlICd0aW1lc3RhbXAnOlxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICBjYXNlICd0ZXh0Ym94Jzoge1xuICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZElkKGZpZWxkKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVsOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB2ZXJkb2NzLWZpZWxkLSR7ZmllbGQudHlwZX1gKTtcbiAgICAgIGVsLmZpZWxkID0gZmllbGQ7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlSW5kZXgnLCByb2xlSW5kZXgpO1xuXG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsIDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZHJhZ2dhYmxlKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBzZXRDb250cm9sU3R5bGVzKGVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGVsKTtcblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICAgIHJldHVybiAoKGZpZWxkIGFzIGFueSkuc2V0dGluZ3MgfHwgKGZpZWxkIGFzIGFueSkuc2V0dGluZyB8fCB7fSkub3B0aW9ucy5tYXAoKF8sIGNoZWNrYm94SW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZE9wdGlvbklkKGZpZWxkLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNiRWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtY2hlY2tib3hgKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdyb2xlSW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgY2hlY2tib3hJbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoY2JFbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSwgY2hlY2tib3hJbmRleCk7XG4gICAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGNiRWwpO1xuXG4gICAgICAgIHJldHVybiBjYkVsO1xuICAgICAgfSk7XG5cbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuICgoZmllbGQgYXMgYW55KS5zZXR0aW5ncyB8fCAoZmllbGQgYXMgYW55KS5zZXR0aW5nIHx8IHt9KS5vcHRpb25zLm1hcCgoXywgYnV0dG9uSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZE9wdGlvbklkKGZpZWxkLCBidXR0b25JbmRleCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0ZpZWxkKSB7XG4gICAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhleGlzdGluZ0ZpZWxkLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYWRpb0VsOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB2ZXJkb2NzLWZpZWxkLXJhZGlvLWJ1dHRvbmApO1xuICAgICAgICByYWRpb0VsLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIHJhZGlvRWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgICAgcmFkaW9FbC5zZXRBdHRyaWJ1dGUoJ3JvbGVJbmRleCcsIHJvbGVJbmRleCk7XG4gICAgICAgIHJhZGlvRWwuc2V0QXR0cmlidXRlKCdvcHRpb24nLCBidXR0b25JbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIHJhZGlvRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMocmFkaW9FbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSwgYnV0dG9uSW5kZXgpO1xuICAgICAgICBjb250cm9sc0Rpdi5hcHBlbmRDaGlsZChyYWRpb0VsKTtcblxuICAgICAgICByZXR1cm4gcmFkaW9FbDtcbiAgICAgIH0pO1xuXG4gICAgLy8gY2FzZSAnYXR0YWNobWVudCc6XG4gICAgLy8gICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZlcmRvY3MtZmllbGQtYXR0YWNobWVudCcpO1xuICAgIC8vICAgZWwuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3VsdCB8fCAnJyk7XG4gICAgLy8gICBicmVhaztcbiAgICAvLyBjYXNlICdwYXltZW50JzpcbiAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1wYXltZW50Jyk7XG4gICAgLy8gICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coJ1tQUkVWSUVXXSBTa2lwcGluZyB1bnN1cHBvcnRlZCBmaWVsZCB0eXBlJywgZmllbGQpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRSb2xlSW5kZXggPSAocm9sZXM6IHN0cmluZ1tdLCByb2xlOiBzdHJpbmcpID0+IHJvbGVzLmluZGV4T2Yocm9sZSkgfHwgMDtcblxuLy8gVE9ETzogV2UgY2FuIGNsZWFuIHRoaXMgdXAgYSBsb3QgaWYgd2UgYWx0ZXIgdGhlIEFQSSB0byBlbWl0IGJvdGggc2V0dGluZyBhbmQgc2V0dGluZ3MgcmVnYXJkbGVzcyBvZiB0aGUgc291cmNlIHR5cGUsXG4vLyAgIGJ1dCB0aGVuIG1lcmdlIHRoZSBTREsgdHlwZXMgdG8gZW5jb3VyYWdlIGRldmVsb3BlcnMgdG8gdXNlIGp1c3QgYHNldHRpbmdzYC5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZFNldHRpbmdzID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkKSA9PiB7XG4gIGlmICgoZmllbGQgYXMgSVRlbXBsYXRlRmllbGQpLnNldHRpbmcpIHtcbiAgICByZXR1cm4gKGZpZWxkIGFzIElUZW1wbGF0ZUZpZWxkKS5zZXR0aW5nO1xuICB9XG5cbiAgaWYgKChmaWVsZCBhcyBJRG9jdW1lbnRGaWVsZCkuc2V0dGluZ3MpIHtcbiAgICByZXR1cm4gKGZpZWxkIGFzIElEb2N1bWVudEZpZWxkKS5zZXR0aW5ncztcbiAgfVxuXG4gIHJldHVybiB7eDogMCwgeTogMCwgcmVxdWlyZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UsIHJlc3VsdDogJycsIHZhbHVlOiAnJ307XG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgc2V0L3VwZGF0ZSBjb21wb25lbnRzIGluIGEgQ1NTIHRyYW5zZm9ybSBhdHRyaWJ1dGUuIFRyYW5zZm9ybSBpcyBub3JtYWxseSBzZXQgYXMgYSBzdHJpbmcgb2ZcbiAqIGBvcGVyYXRpb24xKHBhcmFtKSBvcGVyYXRpb24yKHBhcmFtKSAuLi5gIGNvbXBvbmVudHMsIHdoaWNoIG1ha2VzIHVwZGF0aW5nIHRoZW0gYSBiaXQgb2YgYSBwYWluLiBUaGlzIHdpbGwgcmVtb3ZlIHRoZVxuICogc3BlY2lmaWVkIGNvbXBvbmVudCBpZiBpdCdzIGFscmVhZHkgc2V0IGFuZCByZXBsYWNlIGl0IHdpdGggdGhlIG5ldyB2YWx1ZSwgd2l0aG91dCB0b3VjaGluZyB0aGUgb3RoZXIgY29tcG9uZW50cyB0aGF0XG4gKiBtYXkgYWxyZWFkeSBiZSBzZXQuIE5vdGUgdGhhdCB0aGlzIG9wZXJhdGlvbiBtb3ZlcyB0aGUgY29tcG9uZW50IHRvIHRoZSBlbmQgb2YgdGhlIHRyYW5zZm9ybSBjaGFpbiBzbyBpdCdzIG5vdCBtZWFudFxuICogdG8gYmUgdXNlZCBmb3Igb3JkZXItc2Vuc2l0aXZlIGNvbXBvbmVudHMgZS5nLiB0cmFuc2xhdGUtdGhlbi1yb3RhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVDc3NUcmFuc2Zvcm0gPSAoZWw6IEhUTUxFbGVtZW50LCBrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAvLyBlLmcuICdzY2FsZSgxLjg3OTA4LCAxLjg3OTA4KSB0cmFuc2xhdGUoMHB4LCAwcHgpOydcbiAgY29uc3QgY3VycmVudFRyYW5zZm9ybSA9IGVsLnN0eWxlLnRyYW5zZm9ybTtcbiAgLy8gZS5nLiBbJ3NjYWxlKDEuODc5MDgsIDEuODc5MDgpJywgJ3NjYWxlJywgJzEuODc5MDgsIDEuODc5MDgnLCAuLi5dLCBbICd0cmFuc2xhdGUoMHB4LCAwcHgpJywgJ3RyYW5zbGF0ZScsICcwcHgsIDBweCddXVxuICBjb25zdCBjb21wb25lbnRzID0gWy4uLmN1cnJlbnRUcmFuc2Zvcm0ubWF0Y2hBbGwoLyhcXHcrKVxcKChbXildKilcXCkvZ2kpXTtcbiAgZWwuc3R5bGUudHJhbnNmb3JtID0gW1xuICAgIGNvbXBvbmVudHMgLy9cbiAgICAgIC5maWx0ZXIoY29tcG9uZW50ID0+IGNvbXBvbmVudFsxXSAhPT0ga2V5KSAvLyBSZW1vdmUgdGhlIGVudHJ5IGlmIGl0J3MgYWxyZWFkeSBzZXRcbiAgICAgIC5tYXAoY29tcG9uZW50ID0+IGNvbXBvbmVudFswXSksIC8vIENvbnZlcnQgYmFjayB0aGUgcmVtYWluaW5nIGVudHJpZXNcbiAgICBgJHtrZXl9KCR7dmFsdWV9KWAsXG4gIF0uam9pbignICcpO1xufTtcbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLWZpZWxkLXBheW1lbnQge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuICB3aWR0aDogMjRweDtcbiAgaGVpZ2h0OiAyNHB4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgZm9udC1zaXplOiAxMXB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjZmE7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcblxuICAmLmRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cblxuICBidXR0b24sXG4gIGRpdiB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuXG4gIGJ1dHRvbiB7XG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XG4gICAgLy9iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIyNSwgMjU1LCAyNTUsIDAuNSk7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuXG4gICAgJi5oaWRlIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgaW5wdXQge1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgfVxuXG4gIHNlbGVjdCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNTVkZWcsIHRyYW5zcGFyZW50IDUwJSwgIzMzMyA1MCUpLCBsaW5lYXItZ3JhZGllbnQoMTI1ZGVnLCAjMzMzIDUwJSwgdHJhbnNwYXJlbnQgNTAlKSwgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCB0cmFuc3BhcmVudCwgdHJhbnNwYXJlbnQpO1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNhbGMoMTAwJSAtIDdweCkgNHB4LCBjYWxjKDEwMCUgLSAzcHgpIDRweCwgMTAwJSAwO1xuICAgIGJhY2tncm91bmQtc2l6ZTogNXB4IDVweCwgNXB4IDVweCwgMi41ZW0gMi41ZW07XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBhcHBlYXJhbmNlOiBub25lO1xuICB9XG5cbiAgLmZyYW1lIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG5cbiAgICBpbWcge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICB9XG5cbiAgJi5mb2N1c2VkIHtcbiAgICBhbmltYXRpb246IHZlcmRvY3MtZmllbGQtcHVsc2UgMC43NXMgMjtcbiAgfVxufVxuIiwiaW1wb3J0IHtnZXRSR0JBfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvQ29sb3JzJztcbmltcG9ydCB7SVRlbXBsYXRlRmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge0NvbXBvbmVudCwgaCwgSG9zdCwgUHJvcCwgRXZlbnQsIEV2ZW50RW1pdHRlciwgU3RhdGV9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IHtnZXRGaWVsZFNldHRpbmdzfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5cbi8qKlxuICogRGlzcGxheXMgYSBzaWduYXR1cmUgZmllbGQuIFZhcmlvdXMgZmllbGQgdHlwZXMgYXJlIHN1cHBvcnRlZCwgaW5jbHVkaW5nIHRyYWRpdGlvbmFsIFNpZ25hdHVyZSBhbmQgSW5pdGlhbHMgdHlwZXMgYXMgd2VsbCBhc1xuICogaW5wdXQgdHlwZXMgbGlrZSB0ZXh0IGFuZCBjaGVja2JveC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3MtZmllbGQtcGF5bWVudCcsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1maWVsZC1wYXltZW50LnNjc3MnLFxuICBzaGFkb3c6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBWZXJkb2NzRmllbGRQYXltZW50IHtcbiAgLyoqXG4gICAqIFRoZSBkb2N1bWVudCBvciB0ZW1wbGF0ZSBmaWVsZCB0byBkaXNwbGF5LlxuICAgKi9cbiAgQFByb3AoKSBmaWVsZDogSURvY3VtZW50RmllbGQgfCBJVGVtcGxhdGVGaWVsZCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQsIG92ZXJyaWRlcyB0aGUgZmllbGQncyBzZXR0aW5ncyBvYmplY3QuIFByaW1hcmlseSB1c2VkIHRvIHN1cHBvcnQgXCJwcmV2aWV3XCIgbW9kZXMgd2hlcmUgYWxsIGZpZWxkcyBhcmUgZGlzYWJsZWQuXG4gICAqL1xuICBAUHJvcCgpIGRpc2FibGVkPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBQcm9wKCkgZmllbGRzOiBhbnlbXTtcbiAgQFByb3AoKSBwYWdlTnVtOiBudW1iZXI7XG4gIEBQcm9wKCkgcm9sZU5hbWU6IHN0cmluZztcbiAgQFByb3AoKSBmaWVsZElkOiBzdHJpbmc7XG4gIEBQcm9wKCkgcmVjaXBpZW50czogYW55O1xuICBAUHJvcCgpIHNlbGVjdGVkUm9sZU5hbWU6IHN0cmluZztcbiAgQFByb3AoKSBwZGZQYWdlczogYW55W107XG4gIEBQcm9wKCkgY3VycmVudFNpZ25hdHVyZTogc3RyaW5nO1xuICBAUHJvcCgpIGN1cnJlbnRTaWduYXR1cmVJZDogc3RyaW5nO1xuICBAUHJvcCgpIGN1cnJlbnRJbml0aWFsOiBzdHJpbmc7XG4gIEBQcm9wKCkgY3VycmVudEluaXRpYWxJZDogc3RyaW5nO1xuICBAUHJvcCgpIGZvY3VzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQFByb3AoKSBzaWduZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgc2lnbmF0dXJlQ29tcGxldGU6IEV2ZW50RW1pdHRlcjxzdHJpbmc+O1xuXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBpbml0aWFsQ29tcGxldGU6IEV2ZW50RW1pdHRlcjxzdHJpbmc+O1xuXG4gIEBTdGF0ZSgpIHByZXBhcmVkTWVzc2FnZTogc3RyaW5nO1xuICBAU3RhdGUoKSBzaWduYXR1cmVVcmw6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQsIHRoZSBmaWVsZCB3aWxsIGJlIGNvbG9yZWQgdXNpbmcgdGhpcyBpbmRleCB2YWx1ZSB0byBzZWxlY3QgdGhlIGJhY2tncm91bmQgY29sb3IuXG4gICAqL1xuICBAUHJvcCgpIHJvbGVpbmRleD86IG51bWJlciA9IDA7XG5cbiAgX2ZpZWxkczogYW55W10gPSBbXTtcbiAgLy8gZW52ZWxvcGVGaWVsZHNGb3JtR3JvdXA6IEZvcm1Hcm91cDtcbiAgc2lnbmF0dXJlRmlsZTogYW55ID0gbnVsbDtcbiAgaW5pdGlhbEZpbGU6IGFueSA9IG51bGw7XG4gIHRvZGF5OiBzdHJpbmc7XG4gIGZvY3VzT3JkZXJOdW1iZXIgPSAtMTtcbiAgZm9jdXNGaWVsZE5hbWU6IHN0cmluZyA9ICcnO1xuICB0aW1lcjogYW55O1xuICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgc2hvd0Vycm9yID0ge1xuICAgIHBhZ2VOdW06IC0xLFxuICAgIGZpZWxkSW5kZXg6IC0xLFxuICAgIHR5cGU6IG51bGwsXG4gIH07XG4gIGRpYWxvZ09wZW5lZCA9IGZhbHNlO1xuICBjbG9zZUFsbEVycm9ycyA9IGZhbHNlO1xuICBmaWVsZHNNYXA6IGFueSA9IHt9O1xuICBtb2RlOiBzdHJpbmc7XG5cbiAgZmllbGRzRm9yQ3VycmVudFNpZ25lcjogYW55W10gPSBbXTtcblxuICB2YWxpZGF0b3JzO1xuICBmb250U2l6ZSA9IDExO1xuICBhdmVyYWdlRm9udFdpZHRoID0gNTtcbiAgcmVxdWlyZWRGaWVsZHM6IGFueVtdID0gW107XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgLy8gTG9hZCB2YWxpZGF0b3JzXG4gICAgLy8gTG9hZCBmaWVsZHNcbiAgICAvLyBHZXQgcm9sZSBuYW1lc1xuICAgIGNvbnNvbGUubG9nKCdzaWduIGZpZWxkJywgdGhpcy5maWVsZCk7XG5cbiAgICBpZiAodGhpcy5yZWNpcGllbnRzICYmIHRoaXMucmVjaXBpZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwcmVwYXJlciA9IHRoaXMucmVjaXBpZW50cy5maW5kKHIgPT4gci50eXBlID09PSAncHJlcGFyZXInKTtcbiAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBwcmVwYXJlcicsIHByZXBhcmVyKTtcbiAgICAgIGlmIChwcmVwYXJlcikge1xuICAgICAgICB0aGlzLnByZXBhcmVkTWVzc2FnZSA9IGBQcmVwYXJlZCBieSAke3ByZXBhcmVyWydmdWxsX25hbWUnXX1gO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFt0YWJJbmRleF09XCJmaWVsZC5yb2xlICE9PSByb2xlTmFtZSA/IC0xIDogMVwiXG4gIC8vIFtuZ1N0eWxlXT1cImZpZWxkLmVsZW1lbnRfc3R5bGVcIlxuICAvLyBbdmFsdWVdPVwiZmllbGQudmFsdWVcIlxuICAvLyAoY2xpY2spPVwiaW5pdGlhdGVTaWduKGZpZWxkKVwiXG4gIC8vIChibHVyKT1cInZhbGlkYXRlQ2hhbmdlcyhmaWVsZClcIlxuICAvLyBbZGlzYWJsZWRdPVwiZmllbGQucm9sZSE9PXJvbGVOYW1lXCJcbiAgLy8gW2lkXT1cImZpZWxkLmtleVwiXG5cbiAgLy8gPGJ1dHRvbiBfbmdjb250ZW50LWFwcC1yb290LWMzNDI9XCJcIiBjbGFzcz1cImVudmVsb3BlX19maWVsZFwiIHRhYmluZGV4PVwiMVwiIG5nLXJlZmxlY3Qtbmctc3R5bGU9XCJbb2JqZWN0IE9iamVjdF1cIlxuICAvLyBuZy1yZWZsZWN0LW5nLWNsYXNzPVwiW29iamVjdCBPYmplY3RdXCIgdmFsdWU9XCJcIiBpZD1cInNpZ25hdHVyZVA1LTFcIlxuICAvLyBzdHlsZT1cImhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6IG5vbmU7IGZvbnQtc2l6ZTogMTFweDsgYm9yZGVyOiAxcHggc29saWQgcmdiKDIwNCwgMCwgMCk7XCI+IFNpZ25hdHVyZSA8L2J1dHRvbj5cblxuICAvLyAgICAgYm90dG9tOiAyMjkuMzMzXG4gIC8vIHB4XG4gIC8vIDtcbiAgLy8gICAgIGxlZnQ6IDE2OS4zMzNcbiAgLy8gcHhcbiAgLy8gO1xuICAvLyAgICAgaGVpZ2h0OiA0MVxuICAvLyBweFxuICAvLyA7XG4gIC8vICAgICB3aWR0aDogODJcbiAgLy8gcHhcbiAgLy8gO1xuICAvLyAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTYsIDM5LCAxNzYsIDAuNCk7XG4gIC8vICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMzMzMzMsIDEuMzMzMzMpO1xuICAvLyB9XG4gIC8vIDxzdHlsZT5cbiAgLy8gLmVudmVsb3BlX19pdGVtW19uZ2NvbnRlbnQtYXBwLXJvb3QtYzM0Ml0ge1xuICAvLyAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAvLyAgICAgdHJhbnNmb3JtLW9yaWdpbjogYm90dG9tIGxlZnQ7XG4gIC8vICAgICBvcGFjaXR5OiAxO1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGdldEZpZWxkU2V0dGluZ3ModGhpcy5maWVsZCk7XG4gICAgY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkID8/IHNldHRpbmdzLmRpc2FibGVkID8/IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKCdQYXltZW50IGZpZWxkJywgc2V0dGluZ3MpO1xuICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHRoaXMuZmllbGRbJ3JnYmEnXSB8fCBnZXRSR0JBKHRoaXMucm9sZWluZGV4KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8SG9zdCBjbGFzcz17e2ZvY3VzZWQ6IHRoaXMuZm9jdXNlZCwgZGlzYWJsZWR9fSBzdHlsZT17e2JhY2tncm91bmRDb2xvcn19PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPXt7aGlkZTogdGhpcy5zaWduZWR9fT4kPC9idXR0b24+XG4gICAgICAgIHt0aGlzLnNpZ25lZCA/IDxkaXYgY2xhc3M9XCJmcmFtZVwiIC8+IDogPGRpdiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+fVxuICAgICAgICA8aW1nIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiBzcmM9e3RoaXMuc2lnbmF0dXJlVXJsfSAvPlxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN0cmluZy1wcm90b3R5cGUtbWF0Y2hhbGwgLS0gc2FmZSAqL1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzLWNsYXVzZScpO1xudmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItY3JlYXRlLWNvbnN0cnVjdG9yJyk7XG52YXIgY3JlYXRlSXRlclJlc3VsdE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtaXRlci1yZXN1bHQtb2JqZWN0Jyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBpc051bGxPclVuZGVmaW5lZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1udWxsLW9yLXVuZGVmaW5lZCcpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcbnZhciBpc1JlZ0V4cCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1yZWdleHAnKTtcbnZhciBnZXRSZWdFeHBGbGFncyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZ2V0LWZsYWdzJyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciBhZHZhbmNlU3RyaW5nSW5kZXggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWR2YW5jZS1zdHJpbmctaW5kZXgnKTtcbnZhciByZWdFeHBFeGVjID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xuXG52YXIgTUFUQ0hfQUxMID0gd2VsbEtub3duU3ltYm9sKCdtYXRjaEFsbCcpO1xudmFyIFJFR0VYUF9TVFJJTkcgPSAnUmVnRXhwIFN0cmluZyc7XG52YXIgUkVHRVhQX1NUUklOR19JVEVSQVRPUiA9IFJFR0VYUF9TVFJJTkcgKyAnIEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFJFR0VYUF9TVFJJTkdfSVRFUkFUT1IpO1xudmFyIFJlZ0V4cFByb3RvdHlwZSA9IFJlZ0V4cC5wcm90b3R5cGU7XG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbnZhciBzdHJpbmdJbmRleE9mID0gdW5jdXJyeVRoaXMoJycuaW5kZXhPZik7XG52YXIgbmF0aXZlTWF0Y2hBbGwgPSB1bmN1cnJ5VGhpcygnJy5tYXRjaEFsbCk7XG5cbnZhciBXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVggPSAhIW5hdGl2ZU1hdGNoQWxsICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIG5hdGl2ZU1hdGNoQWxsKCdhJywgLy4vKTtcbn0pO1xuXG52YXIgJFJlZ0V4cFN0cmluZ0l0ZXJhdG9yID0gY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihmdW5jdGlvbiBSZWdFeHBTdHJpbmdJdGVyYXRvcihyZWdleHAsIHN0cmluZywgJGdsb2JhbCwgZnVsbFVuaWNvZGUpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogUkVHRVhQX1NUUklOR19JVEVSQVRPUixcbiAgICByZWdleHA6IHJlZ2V4cCxcbiAgICBzdHJpbmc6IHN0cmluZyxcbiAgICBnbG9iYWw6ICRnbG9iYWwsXG4gICAgdW5pY29kZTogZnVsbFVuaWNvZGUsXG4gICAgZG9uZTogZmFsc2VcbiAgfSk7XG59LCBSRUdFWFBfU1RSSU5HLCBmdW5jdGlvbiBuZXh0KCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QodW5kZWZpbmVkLCB0cnVlKTtcbiAgdmFyIFIgPSBzdGF0ZS5yZWdleHA7XG4gIHZhciBTID0gc3RhdGUuc3RyaW5nO1xuICB2YXIgbWF0Y2ggPSByZWdFeHBFeGVjKFIsIFMpO1xuICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgICByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdCh1bmRlZmluZWQsIHRydWUpO1xuICB9XG4gIGlmIChzdGF0ZS5nbG9iYWwpIHtcbiAgICBpZiAodG9TdHJpbmcobWF0Y2hbMF0pID09PSAnJykgUi5sYXN0SW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgdG9MZW5ndGgoUi5sYXN0SW5kZXgpLCBzdGF0ZS51bmljb2RlKTtcbiAgICByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdChtYXRjaCwgZmFsc2UpO1xuICB9XG4gIHN0YXRlLmRvbmUgPSB0cnVlO1xuICByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdChtYXRjaCwgZmFsc2UpO1xufSk7XG5cbnZhciAkbWF0Y2hBbGwgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHZhciBSID0gYW5PYmplY3QodGhpcyk7XG4gIHZhciBTID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgdmFyIEMgPSBzcGVjaWVzQ29uc3RydWN0b3IoUiwgUmVnRXhwKTtcbiAgdmFyIGZsYWdzID0gdG9TdHJpbmcoZ2V0UmVnRXhwRmxhZ3MoUikpO1xuICB2YXIgbWF0Y2hlciwgJGdsb2JhbCwgZnVsbFVuaWNvZGU7XG4gIG1hdGNoZXIgPSBuZXcgQyhDID09PSBSZWdFeHAgPyBSLnNvdXJjZSA6IFIsIGZsYWdzKTtcbiAgJGdsb2JhbCA9ICEhfnN0cmluZ0luZGV4T2YoZmxhZ3MsICdnJyk7XG4gIGZ1bGxVbmljb2RlID0gISF+c3RyaW5nSW5kZXhPZihmbGFncywgJ3UnKTtcbiAgbWF0Y2hlci5sYXN0SW5kZXggPSB0b0xlbmd0aChSLmxhc3RJbmRleCk7XG4gIHJldHVybiBuZXcgJFJlZ0V4cFN0cmluZ0l0ZXJhdG9yKG1hdGNoZXIsIFMsICRnbG9iYWwsIGZ1bGxVbmljb2RlKTtcbn07XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLm1hdGNoQWxsYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5tYXRjaGFsbFxuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IFdPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCB9LCB7XG4gIG1hdGNoQWxsOiBmdW5jdGlvbiBtYXRjaEFsbChyZWdleHApIHtcbiAgICB2YXIgTyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG4gICAgdmFyIGZsYWdzLCBTLCBtYXRjaGVyLCByeDtcbiAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgIGlmIChpc1JlZ0V4cChyZWdleHApKSB7XG4gICAgICAgIGZsYWdzID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZShnZXRSZWdFeHBGbGFncyhyZWdleHApKSk7XG4gICAgICAgIGlmICghfnN0cmluZ0luZGV4T2YoZmxhZ3MsICdnJykpIHRocm93ICRUeXBlRXJyb3IoJ2AubWF0Y2hBbGxgIGRvZXMgbm90IGFsbG93IG5vbi1nbG9iYWwgcmVnZXhlcycpO1xuICAgICAgfVxuICAgICAgaWYgKFdPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCkgcmV0dXJuIG5hdGl2ZU1hdGNoQWxsKE8sIHJlZ2V4cCk7XG4gICAgICBtYXRjaGVyID0gZ2V0TWV0aG9kKHJlZ2V4cCwgTUFUQ0hfQUxMKTtcbiAgICAgIGlmIChtYXRjaGVyID09PSB1bmRlZmluZWQgJiYgSVNfUFVSRSAmJiBjbGFzc29mKHJlZ2V4cCkgPT0gJ1JlZ0V4cCcpIG1hdGNoZXIgPSAkbWF0Y2hBbGw7XG4gICAgICBpZiAobWF0Y2hlcikgcmV0dXJuIGNhbGwobWF0Y2hlciwgcmVnZXhwLCBPKTtcbiAgICB9IGVsc2UgaWYgKFdPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCkgcmV0dXJuIG5hdGl2ZU1hdGNoQWxsKE8sIHJlZ2V4cCk7XG4gICAgUyA9IHRvU3RyaW5nKE8pO1xuICAgIHJ4ID0gbmV3IFJlZ0V4cChyZWdleHAsICdnJyk7XG4gICAgcmV0dXJuIElTX1BVUkUgPyBjYWxsKCRtYXRjaEFsbCwgcngsIFMpIDogcnhbTUFUQ0hfQUxMXShTKTtcbiAgfVxufSk7XG5cbklTX1BVUkUgfHwgTUFUQ0hfQUxMIGluIFJlZ0V4cFByb3RvdHlwZSB8fCBkZWZpbmVCdWlsdEluKFJlZ0V4cFByb3RvdHlwZSwgTUFUQ0hfQUxMLCAkbWF0Y2hBbGwpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==