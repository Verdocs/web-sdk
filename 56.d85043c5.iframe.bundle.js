/*! For license information please see 56.d85043c5.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"./dist/esm/verdocs-view.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_view",(function(){return VerdocsView}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./dist/esm/Envelopes-8038ca25.js"),_VerdocsEndpoint_dac04424_js__WEBPACK_IMPORTED_MODULE_32__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-dac04424.js")),_utils_1a27bb94_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/utils-1a27bb94.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/index-fd7b8a34.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsView=function(){function VerdocsView(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsView),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"sdkError",7),this.endpoint=_VerdocsEndpoint_dac04424_js__WEBPACK_IMPORTED_MODULE_32__.a.getDefault(),this.envelopeId=""}var _handleFieldChange,_componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsView,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint.loadSession()}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.envelopeId){_context.next=3;break}return console.error("[VIEW] Missing reuqired envelopeId"),_context.abrupt("return");case 3:return _context.prev=3,_context.next=6,Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.a)(this.endpoint,this.envelopeId);case 6:_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(3),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(_context.t0.message,null===(_b=_context.t0.response)||void 0===_b?void 0:_b.status,null===(_c=_context.t0.response)||void 0===_c?void 0:_c.data));case 11:case"end":return _context.stop()}}),_callee,this,[[3,8]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"handleFieldChange",value:(_handleFieldChange=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(field,e,optionId){var options,_this=this;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:console.log("fieldChange",field,e),_context2.t0=field.type,_context2.next="textbox"===_context2.t0?4:"checkbox_group"===_context2.t0?6:"radio_button_group"===_context2.t0?8:"dropdown"===_context2.t0?11:"initial"===_context2.t0?13:"signature"===_context2.t0?15:17;break;case 4:return Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.g)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:e.detail}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c,_d,_e,_f;null===(_a=_this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),401===(null===(_d=e.response)||void 0===_d?void 0:_d.status)&&"jwt expired"===(null===(_f=null===(_e=e.response)||void 0===_e?void 0:_e.data)||void 0===_f?void 0:_f.error)&&console.log("jwt expired"),console.log("Error updating",e)})),_context2.abrupt("break",17);case 6:return Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.g)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:{options:[{id:optionId,checked:e.detail}]}}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context2.abrupt("break",17);case 8:return options=field.settings.options.map((function(option){return{id:option.id,selected:optionId===option.id}})),Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.g)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:{options:options}}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context2.abrupt("break",17);case 11:return Object(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.g)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:e.detail}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context2.abrupt("break",17);case 13:return console.log("Got initial",e.detail),_context2.abrupt("break",17);case 15:return console.log("Got signature",e.detail),_context2.abrupt("break",17);case 17:case"end":return _context2.stop()}}),_callee2,this)}))),function handleFieldChange(_x,_x2,_x3){return _handleFieldChange.apply(this,arguments)})},{key:"handlePageRendered",value:function handlePageRendered(e){var _this2=this,pageInfo=e.detail;console.log("[SIGN] Page rendered",pageInfo),_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.envelope.recipients.map((function(recipient){var fields=recipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Fields on page",fields),fields.forEach((function(field){var el=Object(_utils_1a27bb94_js__WEBPACK_IMPORTED_MODULE_33__.f)(field,pageInfo,Object(_utils_1a27bb94_js__WEBPACK_IMPORTED_MODULE_33__.a)(_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.roleNames,field.recipient_role),{disabled:!0,editable:!1,draggable:!1});el&&(el.addEventListener("input",(function(e){console.log("Field input",e.target.value,e.target),_this2.handleFieldChange(field,e)})),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale))}))}))}},{key:"render",value:function render(){var _a,_this3=this;return console.log("[VIEW] Rendering",_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.error,_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.loading,_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.envelope),_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.loading||!_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.envelope?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("verdocs-loader",null)):_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.error?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",null,_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.error)):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,((null===(_a=_Envelopes_8038ca25_js__WEBPACK_IMPORTED_MODULE_30__.f.envelope)||void 0===_a?void 0:_a.documents)||[]).map((function(envelopeDocument){var pages=_toConsumableArray((null==envelopeDocument?void 0:envelopeDocument.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.a,null,pages.map((function(page){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("verdocs-document-page",{pageImageUri:page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,onPageRendered:function onPageRendered(e){return _this3.handlePageRendered(e)},layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})})))})))}},{key:"component",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.c)(this)}}]),VerdocsView}();VerdocsView.style='verdocs-view{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column}verdocs-view div,verdocs-view canvas{-webkit-box-sizing:border-box;box-sizing:border-box}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtdmlldy92ZXJkb2NzLXZpZXcuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtdmlldy92ZXJkb2NzLXZpZXcudHN4Il0sIm5hbWVzIjpbIlZlcmRvY3NWaWV3IiwiVmVyZG9jc0VuZHBvaW50IiwiZ2V0RGVmYXVsdCIsImNvbXBvbmVudFdpbGxMb2FkIiwidGhpcyIsImVuZHBvaW50IiwibG9hZFNlc3Npb24iLCJlbnZlbG9wZUlkIiwiY29uc29sZSIsImVycm9yIiwiZ2V0RW52ZWxvcGVCeUlkIiwic2RrRXJyb3IiLCJlbWl0IiwiU0RLRXJyb3IiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJkYXRhIiwiZmllbGQiLCJlIiwib3B0aW9uSWQiLCJsb2ciLCJ0eXBlIiwiRW52ZWxvcGVzLnVwZGF0ZUVudmVsb3BlRmllbGQiLCJuYW1lIiwicHJlcGFyZWQiLCJ2YWx1ZSIsImRldGFpbCIsInRoZW4iLCJyIiwib3B0aW9ucyIsImlkIiwiY2hlY2tlZCIsInNldHRpbmdzIiwibWFwIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJoYW5kbGVQYWdlUmVuZGVyZWQiLCJwYWdlSW5mbyIsIkVudmVsb3BlU3RvcmUiLCJlbnZlbG9wZSIsInJlY2lwaWVudHMiLCJyZWNpcGllbnQiLCJmaWVsZHMiLCJmaWx0ZXIiLCJwYWdlIiwicGFnZU51bWJlciIsImZvckVhY2giLCJlbCIsInJlbmRlckRvY3VtZW50RmllbGQiLCJnZXRSb2xlSW5kZXgiLCJyb2xlTmFtZXMiLCJyZWNpcGllbnRfcm9sZSIsImRpc2FibGVkIiwiZWRpdGFibGUiLCJkcmFnZ2FibGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiaGFuZGxlRmllbGRDaGFuZ2UiLCJzZXRBdHRyaWJ1dGUiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJyZW5kZXIiLCJsb2FkaW5nIiwiaCIsIkhvc3QiLCJkb2N1bWVudHMiLCJlbnZlbG9wZURvY3VtZW50IiwicGFnZXMiLCJzb3J0IiwiYSIsImIiLCJzZXF1ZW5jZSIsIkZyYWdtZW50IiwicGFnZUltYWdlVXJpIiwiZGlzcGxheV91cmkiLCJ2aXJ0dWFsV2lkdGgiLCJ2aXJ0dWFsSGVpZ2h0Iiwib25QYWdlUmVuZGVyZWQiLCJsYXllcnMiXSwibWFwcGluZ3MiOiI7b29mQUFBLElDa0JhQSxZQUFXLFcsbVhBTWNDLDZEQUFnQkMsYSxnQkFLdkIsRSxnV0FRN0IsU0FBQUMsb0JBQ0VDLEtBQUtDLFNBQVNDLGEsa0dBS2hCLG9KQUNPRixLQUFLRyxXQUFZLENBQUYsc0JBQ2tDLE9BQXBEQyxRQUFRQyxNQUFNLHNDQUFzQyx3RUFLOUNDLCtEQUFnQk4sS0FBS0MsU0FBVUQsS0FBS0csWUFBVyxtRkFFeEMsUUFBYixHQUFBSCxLQUFLTyxnQkFBUSxXQUFFQyxLQUFLLElBQUlDLG9EQUFTLFlBQUVDLFFBQW1CLFFBQVYsZUFBRUMsZ0JBQVEsaUJBQUVDLE9BQWtCLFFBQVYsZUFBRUQsZ0JBQVEsaUJBQUVFLE9BQU8sc0VBRXRGLDhFLGlHQTZIRCxrQkFBd0JDLE1BQXVCQyxFQUFRQyxVQUFpQiw0SUFDdEVaLFFBQVFhLElBQUksY0FBZUgsTUFBT0MsR0FBRyxhQUM3QkQsTUFBTUksS0FBSSxlQUNYLFlBRFcsYUFDRixFQVlULG1CQVpTLGFBWU8sRUFTaEIsdUJBVGdCLGFBU0ksRUFVcEIsYUFWb0IsYUFVVixHQVNWLFlBVFUsYUFTRCxHQUlULGNBSlMsYUFJRSxtQkFuQ1QsT0FSTEMsK0RBQThCbkIsS0FBS0MsU0FBVUQsS0FBS0csV0FBWVcsTUFBTU0sS0FBTSxDQUFDQyxVQUFVLEVBQU9DLE1BQU9QLEVBQUVRLFNBQ2xHQyxNQUFLLFNBQUFDLEdBQUMsT0FBSXJCLFFBQVFhLElBQUksZ0JBQWlCUSxFQUFFLElBQUMsT0FDcEMsU0FBQVYsRyxzQkFDUSxRQUFiLFNBQUtSLGdCQUFRLFdBQUVDLEtBQUssSUFBSUMsb0RBQVNNLEVBQUVMLFFBQW1CLFFBQVYs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QUFJLGNBQWVGLEVBQUVzQyxPQUFPL0IsTUFBT1AsRUFBRXNDLFFBQzdDLE9BQUtDLGtCQUFrQnhDLE1BQU9DLEUsSUFHaEM2QixHQUFHVyxhQUFhLFNBQVVyQixTQUFTc0IsUUFDbkNaLEdBQUdXLGFBQWEsU0FBVXJCLFNBQVN1QixRLFNBNEJ4QyxvQkFFRCxTQUFBQyxTQUFNLEksR0FBQSxZQUVKLE9BREF0RCxRQUFRYSxJQUFJLG1CQUFvQmtCLHVEQUFjOUIsTUFBTzhCLHVEQUFjd0IsUUFBU3hCLHVEQUFjQyxVQUN0RkQsdURBQWN3QixVQUFZeEIsdURBQWNDLFNBRXhDd0IsMkRBQUNDLG1EQUFJLEtBQ0hELG1GQUtGekIsdURBQWM5QixNQUVkdUQsMkRBQUNDLG1EQUFJLEtBQ0hELHNFQUFNekIsdURBQWM5QixRQU14QnVELDJEQUFDQyxtREFBSSxPQUNxQixRQUF0QiwwREFBY3pCLGdCQUFRLGlCQUFFMEIsWUFBYSxJQUFJaEMsS0FBSSxTQUFBaUMsa0JBQzdDLElBQU1DLE1BQVEsb0JBQUtELDRCQUFnQixFQUFoQkEsaUJBQWtCQyxRQUFTLElBRzlDLE9BRkFBLE1BQU1DLE1BQUssU0FBQ0MsRUFBR0MsR0FBQyxPQUFLRCxFQUFFRSxTQUFXRCxFQUFFQyxRQUFRLElBRzFDUiwyREFBQ1MsbURBQVEsS0FDTkwsTUFBTWxDLEtBQUksU0FBQVcsTUFBSSxPQUNibUIsb0ZBQ0VVLGFBQWM3QixLQUFLOEIsWUFDbkJDLGFBQWMsSUFDZEMsY0FBZSxJQUNmL0IsV0FBWUQsS0FBSzJCLFNBQ2pCTSxlQUFnQix3QkFBQTNELEdBQUMsT0FBSSxPQUFLa0IsbUJBQW1CbEIsRUFBRSxFQUMvQzRELE9BQVEsQ0FDTixDQUFDdkQsS0FBTSxPQUFRRixLQUFNLFVBQ3JCLENBQUNFLEtBQU0sV0FBWUYsS0FBTSxTQUUzQixJLE9BT2Ysb0Msd0ZBcFRxQixHLGtCRGxCRCwwYSIsImZpbGUiOiI1Ni5kODUwNDNjNS5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtdmlldyB7XG4gIGZvbnQtZmFtaWx5OiAkdmVyZG9jcy1wcmltYXJ5LWZvbnQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIHJvdy1nYXA6IDE1cHg7XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgZGl2LFxuICBjYW52YXMge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cbn1cbiIsImltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuaW1wb3J0IHtFbnZlbG9wZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge0NvbXBvbmVudCwgaCwgRWxlbWVudCwgRXZlbnQsIEhvc3QsIFByb3AsIEV2ZW50RW1pdHRlciwgRnJhZ21lbnR9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IHtnZXRSb2xlSW5kZXgsIHJlbmRlckRvY3VtZW50RmllbGR9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7Z2V0RW52ZWxvcGVCeUlkfSBmcm9tICcuLi8uLi8uLi91dGlscy9FbnZlbG9wZXMnO1xuaW1wb3J0IEVudmVsb3BlU3RvcmUgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZW52ZWxvcGVTdG9yZSc7XG5pbXBvcnQge0lEb2N1bWVudFBhZ2VJbmZvfSBmcm9tICcuLi8uLi8uLi91dGlscy9UeXBlcyc7XG5pbXBvcnQge1NES0Vycm9yfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMnO1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZG9jdW1lbnRzIGF0dGFjaGVkIHRvIGFuIGVudmVsb3BlIGluIHJlYWQtb25seSAodmlldykgbW9kZS4gQWxsIGRvY3VtZW50cyBhcmUgZGlzcGxheWVkIGluIG9yZGVyLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy12aWV3JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXZpZXcuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NWaWV3IHtcbiAgQEVsZW1lbnQoKSBjb21wb25lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBUaGUgZW5kcG9pbnQgdG8gdXNlIHRvIGNvbW11bmljYXRlIHdpdGggVmVyZG9jcy4gSWYgbm90IHNldCwgdGhlIGRlZmF1bHQgZW5kcG9pbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgQFByb3AoKSBlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcblxuICAvKipcbiAgICogVGhlIGVudmVsb3BlIElEIHRvIHJlbmRlci4gU2V0IE9ORSBPRiB0ZW1wbGF0ZUlkIG9yIGVudmVsb3BlSWQuIElmIGJvdGggYXJlIHNldCwgZW52ZWxvcGVJZCB3aWxsIGJlIGlnbm9yZWQuXG4gICAqL1xuICBAUHJvcCgpIGVudmVsb3BlSWQ6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCBpZiBhbiBlcnJvciBvY2N1cnMuIFRoZSBldmVudCBkZXRhaWxzIHdpbGwgY29udGFpbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuIE1vc3QgZXJyb3JzIHdpbGxcbiAgICogdGVybWluYXRlIHRoZSBwcm9jZXNzLCBhbmQgdGhlIGNhbGxpbmcgYXBwbGljYXRpb24gc2hvdWxkIGNvcnJlY3QgdGhlIGNvbmRpdGlvbiBhbmQgcmUtcmVuZGVyIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgc2RrRXJyb3I6IEV2ZW50RW1pdHRlcjxTREtFcnJvcj47XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludC5sb2FkU2Vzc2lvbigpO1xuICB9XG5cbiAgLy8gVE9ETzogSGFuZGxpbmcgc2lnbmluZyB2cyBwcmV2aWV3LWFzLXVzZXIgY2FzZXNcbiAgLy8gVE9ETzogSGFuZGxlIGFub255bW91cyBjYXNlIGFuZCBmYWlsdXJlIHRvIGxvYWQgZHVlIHRvIG5vdCBiZWluZyBsb2dnZWQgaW5cbiAgYXN5bmMgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuZW52ZWxvcGVJZCkge1xuICAgICAgY29uc29sZS5lcnJvcihgW1ZJRVddIE1pc3NpbmcgcmV1cWlyZWQgZW52ZWxvcGVJZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBnZXRFbnZlbG9wZUJ5SWQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGEgcGFnZSBpcyBcInJvdGF0ZWRcIiAoaW4gZWl0aGVyIGRpcmVjdGlvbilcbiAgLy8gaXNSb3RhdGVkKHJvdGF0aW9uKSB7XG4gIC8vICAgcmV0dXJuIHJvdGF0aW9uICE9PSAwICYmIHJvdGF0aW9uICUgMTgwICE9PSAwO1xuICAvLyB9XG5cbiAgLy8gUmVuZGVyIG9uZSBkb2N1bWVudCBwYWdlLiBOb3RlIHRoYXQgcGFnZU51bWJlciBpcyAxLWJhc2VkLlxuICAvLyBhc3luYyByZW5kZXJQYWdlKHBhZ2VOdW1iZXI6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAvLyAgIGNvbnN0IGRvbVBhZ2UgPSB0aGlzLmRvbVBhZ2VzW3BhZ2VOdW1iZXJdO1xuICAvL1xuICAvLyAgIC8vIFR3byBhc3luYyBvcGVyYXRpb25zIGhhcHBlbiBoZXJlLCBsb2FkaW5nIHRoZSBQREYgYW5kIHJlbmRlcmluZyB0aGUgRE9NIGRpdi9jYW52YXMgcGxhY2Vob2xkZXJzIHRvIGRyYXcgdGhlIHBhZ2VzIG9uLlxuICAvLyAgIGlmICghZG9tUGFnZSkge1xuICAvLyAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBTa2lwcGluZyByZW5kZXJpbmcgcGFnZSBub3QgeWV0IGluIERPTScsIHtwYWdlTnVtYmVyfSk7XG4gIC8vICAgICByZXR1cm47XG4gIC8vICAgfVxuICAvL1xuICAvLyAgIGNvbnN0IHBhZ2VNZXRyaWNzID0gdGhpcy5zb3VyY2VQYWdlTWV0cmljc1twYWdlTnVtYmVyXTtcbiAgLy9cbiAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIFJlbmRlcmluZyBwYWdlJywge3BhZ2VOdW1iZXIsIHBhZ2VNZXRyaWNzLCBkb21QYWdlfSk7XG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIC8vIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCB0aGlzLnBkZkRvY3VtZW50LmdldFBhZ2UocGFnZU51bWJlcik7XG4gIC8vICAgICAvLyBjb25zdCB2aWV3cG9ydCA9IHBkZlBhZ2UuZ2V0Vmlld3BvcnQoe3NjYWxlOiBkb21QYWdlLnhTY2FsZX0pO1xuICAvLyAgICAgLy8gY29uc29sZS5sb2coJ1tWSUVXXSBQYWdlIHZpZXdwb3J0JywgZG9tUGFnZS54U2NhbGUsIHZpZXdwb3J0KTtcbiAgLy9cbiAgLy8gICAgIC8vIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2RvbVBhZ2UuY29udGFpbmVySWR9LXBhZ2VgKSBhcyBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw7XG4gIC8vICAgICAvLyBpZiAoIWNhbnZhcykge1xuICAvLyAgICAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIFVuYWJsZSB0byBmaW5kIGNhbnZhcyBlbGVtZW50Jyk7XG4gIC8vICAgICAvLyAgIHJldHVybjtcbiAgLy8gICAgIC8vIH1cbiAgLy8gICAgIC8vXG4gIC8vICAgICAvLyBjYW52YXMud2lkdGggPSBkb21QYWdlLnJlbmRlcmVkV2lkdGg7XG4gIC8vICAgICAvLyBjYW52YXMuaGVpZ2h0ID0gZG9tUGFnZS5yZW5kZXJlZEhlaWdodDtcbiAgLy8gICAgIC8vIGNvbnN0IGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgLy8gICAgIC8vIGNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGRvbVBhZ2UucmVuZGVyZWRXaWR0aCwgZG9tUGFnZS5yZW5kZXJlZEhlaWdodCk7XG4gIC8vICAgICAvLyBhd2FpdCBwZGZQYWdlLnJlbmRlcih7Y2FudmFzQ29udGV4dCwgdmlld3BvcnR9KTtcbiAgLy9cbiAgLy8gICAgIHRoaXMucGFnZVJlbmRlcmVkLmVtaXQoe1xuICAvLyAgICAgICByZW5kZXJlZFBhZ2U6IGRvbVBhZ2UsXG4gIC8vICAgICAgIHNvdXJjZVBhZ2VNZXRyaWNzOiBwYWdlTWV0cmljcyxcbiAgLy8gICAgICAgcGFnZXM6IHRoaXMuZG9tUGFnZXMsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9IGNhdGNoIChlKSB7XG4gIC8vICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgY29uc29sZS53YXJuKCdbVklFV10gRXJyb3IgcmVuZGVyaW5nIHBhZ2UnLCBlKTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBhc3luYyByZW5kZXJQYWdlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHRoaXMubnVtUGFnZXMpO1xuICAvLyAgIGZvciBhd2FpdCAobGV0IHBhZ2VOdW1iZXIgb2YgcGFnZU51bWJlcnNUb1JlbmRlcikge1xuICAvLyAgICAgdHJ5IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKHBhZ2VOdW1iZXIpO1xuICAvLyAgICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgICBjb25zb2xlLndhcm4oJ1tWSUVXXSBFcnJvciByZW5kZXJpbmcgcGFnZXMnLCBlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBvblByb2dyZXNzKHByb2dyZXNzOiBPblByb2dyZXNzUGFyYW1ldGVycykge1xuICAvLyAgIGNvbnNvbGUubG9nKGBbVklFV10gUHJvZ3Jlc3MgJHtNYXRoLmZsb29yKChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDApfSAoJHtwcm9ncmVzcy5sb2FkZWR9IC8gJHtwcm9ncmVzcy50b3RhbH0pYCk7XG4gIC8vICAgdGhpcy5sb2FkUHJvZ3Jlc3MgPSBNYXRoLmZsb29yKCgxMDAgKiBwcm9ncmVzcy5sb2FkZWQpIC8gcHJvZ3Jlc3MudG90YWwpO1xuICAvLyB9XG5cbiAgLy8gQWZ0ZXIgYSBkb2N1bWVudCBpcyBkb25lIGxvYWRpbmcsIGdvIHRocm91Z2ggaXRzIHBhZ2VzIHRvIGdldCB0aGVpciBkaW1lbnNpb25zXG4gIC8vIGFzeW5jIHBhcnNlUGFnZU1ldHJpY3MocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpIHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHBkZkRvY3VtZW50Lm51bVBhZ2VzKTtcbiAgLy9cbiAgLy8gICBmb3IgYXdhaXQgKGxldCBwYWdlTnVtYmVyIG9mIHBhZ2VOdW1iZXJzVG9SZW5kZXIpIHtcbiAgLy8gICAgIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCBwZGZEb2N1bWVudC5nZXRQYWdlKDEpO1xuICAvLyAgICAgY29uc3QgW3BhZ2VYMCwgcGFnZVkwLCBwYWdlWDEsIHBhZ2VZMV0gPSBwZGZQYWdlLnZpZXc7XG4gIC8vICAgICB0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdID0ge3dpZHRoOiBwYWdlWDEgLSBwYWdlWDAsIGhlaWdodDogcGFnZVkxIC0gcGFnZVkwfTtcbiAgLy8gICB9XG4gIC8vXG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBQYXJzZWQgcGFnZSBtZXRyaWNzJywgdGhpcy5zb3VyY2VQYWdlTWV0cmljcyk7XG4gIC8vIH1cblxuICAvLyBsb2FkQW5kUmVuZGVyKHNyYzogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nJywgc3JjKTtcbiAgLy9cbiAgLy8gICBjb25zdCB0b2tlbiA9IHRoaXMuZW5kcG9pbnQuZ2V0VG9rZW4oKTtcbiAgLy8gICBjb25zdCBodHRwSGVhZGVycyA9IHRva2VuID8ge0F1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gfSA6IHt9O1xuICAvL1xuICAvLyAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgLy8gICAgIHVybDogc3JjLFxuICAvLyAgICAgY01hcFVybDogQ01BUFNfVVJMLFxuICAvLyAgICAgY01hcFBhY2tlZDogdHJ1ZSxcbiAgLy8gICAgIGh0dHBIZWFkZXJzLFxuICAvLyAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAvLyAgICAgc3RvcEF0RXJyb3JzOiB0cnVlLFxuICAvLyAgICAgdmVyYm9zaXR5OiBwZGZqc0xpYi5WZXJib3NpdHlMZXZlbC5XQVJOSU5HUyxcbiAgLy8gICAgIC8vIHZlcmJvc2l0eTogcGRmanNMaWIuVmVyYm9zaXR5TGV2ZWwuSU5GT1MsXG4gIC8vICAgfSBhcyBEb2N1bWVudEluaXRQYXJhbWV0ZXJzO1xuICAvL1xuICAvLyAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICBjb25zdCBsb2FkaW5nVGFzayA9IHBkZi5nZXREb2N1bWVudChzb3VyY2UsIG51bGwsIG51bGwsIHRoaXMub25Qcm9ncmVzcyk7XG4gIC8vICAgbG9hZGluZ1Rhc2sub25Qcm9ncmVzcyA9IHRoaXMub25Qcm9ncmVzcztcbiAgLy8gICBsb2FkaW5nVGFzay5wcm9taXNlXG4gIC8vICAgICAudGhlbihhc3luYyAocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpID0+IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5wYXJzZVBhZ2VNZXRyaWNzKHBkZkRvY3VtZW50KTtcbiAgLy9cbiAgLy8gICAgICAgdGhpcy5wZGZEb2N1bWVudCA9IHBkZkRvY3VtZW50O1xuICAvLyAgICAgICB0aGlzLm51bVBhZ2VzID0gcGRmRG9jdW1lbnQubnVtUGFnZXM7XG4gIC8vICAgICAgIHRoaXMuZmluZ2VycHJpbnRzID0gcGRmRG9jdW1lbnQuZmluZ2VycHJpbnRzO1xuICAvLyAgICAgICBjb25zb2xlLmxvZyhgW1ZJRVddIEdvdCBQREYgZG9jdW1lbnQgZmluZ2VycHJpbnRzIFwiJHt0aGlzLmZpbmdlcnByaW50cy5qb2luKCcsICcpfVwiLCAke3RoaXMubnVtUGFnZXN9IHBhZ2UocylgKTtcbiAgLy9cbiAgLy8gICAgICAgLy8gV2UgZG9uJ3QgdHJ5IHRvIHJlbmRlciB0aGUgcGFnZXMgaGVyZSwgc2V0dGluZyBsb2FkUHJvdHJlc3MgdHJpZ2dlcnMgdGhhdCBieSBhZGRpbmcgdGhlIGluZGl2aWR1YWwgcGFnZSBlbnRyaWVzIGluXG4gIC8vICAgICAgIC8vIERPTSBpbiByZW5kZXIoKSBiZWxvdy4gRWFjaCBwYWdlIHRoZW4gZmlyZXMgb25QYWdlUmVuZGVyZWQgd2hlbiBpdCBpcyByZWFkeSB0byByZWNlaXZlIGNvbnRlbnQuXG4gIC8vICAgICAgIHRoaXMubG9hZFByb2dyZXNzID0gMTAwO1xuICAvLyAgICAgfSlcbiAgLy8gICAgIC5jYXRjaChlID0+IHtcbiAgLy8gICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgLy8gICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nIGVycm9yJywgZSk7XG4gIC8vICAgICB9KTtcbiAgLy8gfVxuXG4gIC8vIGFzeW5jIGhhbmRsZVBhZ2VSZW5kZXJlZChlOiBhbnkpIHtcbiAgLy8gICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAvL1xuICAvLyAgIGNvbnN0IGRvbVBhZ2UgPSBlLmRldGFpbCBhcyBJRG9jdW1lbnRQYWdlSW5mbztcbiAgLy8gICB0aGlzLmRvbVBhZ2VzW2RvbVBhZ2UucGFnZU51bWJlcl0gPSBkb21QYWdlO1xuICAvLyAgIGF3YWl0IHRoaXMucmVuZGVyUGFnZShkb21QYWdlLnBhZ2VOdW1iZXIpO1xuICAvLyB9XG5cbiAgYXN5bmMgaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQ6IElEb2N1bWVudEZpZWxkLCBlOiBhbnksIG9wdGlvbklkPzogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ2ZpZWxkQ2hhbmdlJywgZmllbGQsIGUpO1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAndGV4dGJveCc6XG4gICAgICAgIEVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSAmJiBlLnJlc3BvbnNlPy5kYXRhPy5lcnJvciA9PT0gJ2p3dCBleHBpcmVkJykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnand0IGV4cGlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgICAgICBFbnZlbG9wZXMudXBkYXRlRW52ZWxvcGVGaWVsZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uczogW3tpZDogb3B0aW9uSWQsIGNoZWNrZWQ6IGUuZGV0YWlsfV19fSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkLnNldHRpbmdzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiAoe2lkOiBvcHRpb24uaWQsIHNlbGVjdGVkOiBvcHRpb25JZCA9PT0gb3B0aW9uLmlkfSkpO1xuICAgICAgICBFbnZlbG9wZXMudXBkYXRlRW52ZWxvcGVGaWVsZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uc319KVxuICAgICAgICAgIC50aGVuKHIgPT4gY29uc29sZS5sb2coJ1VwZGF0ZSByZXN1bHQnLCByKSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHVwZGF0aW5nJywgZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICAgIEVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb3QgaW5pdGlhbCcsIGUuZGV0YWlsKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb3Qgc2lnbmF0dXJlJywgZS5kZXRhaWwpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQYWdlUmVuZGVyZWQoZSkge1xuICAgIGNvbnN0IHBhZ2VJbmZvID0gZS5kZXRhaWwgYXMgSURvY3VtZW50UGFnZUluZm87XG4gICAgY29uc29sZS5sb2coJ1tTSUdOXSBQYWdlIHJlbmRlcmVkJywgcGFnZUluZm8pO1xuXG4gICAgRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5yZWNpcGllbnRzLm1hcChyZWNpcGllbnQgPT4ge1xuICAgICAgY29uc3QgZmllbGRzID0gcmVjaXBpZW50LmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZSA9PT0gcGFnZUluZm8ucGFnZU51bWJlcik7XG4gICAgICAvLyBjb25zdCBmaWVsZHMgPSB0aGlzLmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZV9zZXF1ZW5jZSA9PT0gcGFnZUluZm8ucmVuZGVyZWRQYWdlLnBhZ2VOdW1iZXIpO1xuICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBGaWVsZHMgb24gcGFnZScsIGZpZWxkcyk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gcmVuZGVyRG9jdW1lbnRGaWVsZChmaWVsZCwgcGFnZUluZm8sIGdldFJvbGVJbmRleChFbnZlbG9wZVN0b3JlLnJvbGVOYW1lcywgZmllbGQucmVjaXBpZW50X3JvbGUpLCB7ZGlzYWJsZWQ6IHRydWUsIGVkaXRhYmxlOiBmYWxzZSwgZHJhZ2dhYmxlOiBmYWxzZX0pO1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRmllbGQgaW5wdXQnLCBlLnRhcmdldC52YWx1ZSwgZS50YXJnZXQpO1xuICAgICAgICAgIHRoaXMuaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3hTY2FsZScsIHBhZ2VJbmZvLnhTY2FsZSk7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgneVNjYWxlJywgcGFnZUluZm8ueVNjYWxlKTtcblxuICAgICAgICAvLyBpbnRlcmFjdChlbCkuZHJhZ2dhYmxlKHtcbiAgICAgICAgLy8gICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgLy8gICAgIHN0YXJ0KGV2ZW50KSB7XG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIHN0YXJ0ZWQnLCBldmVudC50eXBlLCBldmVudC50YXJnZXQpO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgICAgLy8gICAgICAgY29uc3Qgb2xkWCA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgncG9zWCcpIHx8IDApO1xuICAgICAgICAvLyAgICAgICBjb25zdCBvbGRZID0gKyhldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3NZJykgfHwgMCk7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IHhTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneFNjYWxlJykgfHwgMSk7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IHlTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneVNjYWxlJykgfHwgMSk7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IG5ld1ggPSBldmVudC5keCAvIHhTY2FsZSArIG9sZFg7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IG5ld1kgPSBldmVudC5keSAvIHlTY2FsZSArIG9sZFk7XG4gICAgICAgIC8vICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Bvc1gnLCBuZXdYKTtcbiAgICAgICAgLy8gICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zeScsIG5ld1kpO1xuICAgICAgICAvLyAgICAgICB1cGRhdGVDc3NUcmFuc2Zvcm0oZXZlbnQudGFyZ2V0LCAndHJhbnNsYXRlJywgYCR7bmV3WH1weCwgJHtuZXdZfXB4YCk7XG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgZW5kKGV2ZW50KSB7XG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIGVuZGVkJywgZXZlbnQpO1xuICAgICAgICAvLyAgICAgICAvLyBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3NYJywgMCk7XG4gICAgICAgIC8vICAgICAgIC8vIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Bvc3knLCAwKTtcbiAgICAgICAgLy8gICAgICAgLy8gdXBkYXRlQ3NzVHJhbnNmb3JtKGV2ZW50LnRhcmdldCwgJ3RyYW5zbGF0ZScsIGAkezB9cHgsICR7MH1weGApO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICB9LFxuICAgICAgICAvLyB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnNvbGUubG9nKCdbVklFV10gUmVuZGVyaW5nJywgRW52ZWxvcGVTdG9yZS5lcnJvciwgRW52ZWxvcGVTdG9yZS5sb2FkaW5nLCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlKTtcbiAgICBpZiAoRW52ZWxvcGVTdG9yZS5sb2FkaW5nIHx8ICFFbnZlbG9wZVN0b3JlLmVudmVsb3BlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SG9zdD5cbiAgICAgICAgICA8dmVyZG9jcy1sb2FkZXIgLz5cbiAgICAgICAgPC9Ib3N0PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoRW52ZWxvcGVTdG9yZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEhvc3Q+XG4gICAgICAgICAgPGRpdj57RW52ZWxvcGVTdG9yZS5lcnJvcn08L2Rpdj5cbiAgICAgICAgPC9Ib3N0PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3Q+XG4gICAgICAgIHsoRW52ZWxvcGVTdG9yZS5lbnZlbG9wZT8uZG9jdW1lbnRzIHx8IFtdKS5tYXAoZW52ZWxvcGVEb2N1bWVudCA9PiB7XG4gICAgICAgICAgY29uc3QgcGFnZXMgPSBbLi4uKGVudmVsb3BlRG9jdW1lbnQ/LnBhZ2VzIHx8IFtdKV07XG4gICAgICAgICAgcGFnZXMuc29ydCgoYSwgYikgPT4gYS5zZXF1ZW5jZSAtIGIuc2VxdWVuY2UpO1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICAgICAge3BhZ2VzLm1hcChwYWdlID0+IChcbiAgICAgICAgICAgICAgICA8dmVyZG9jcy1kb2N1bWVudC1wYWdlXG4gICAgICAgICAgICAgICAgICBwYWdlSW1hZ2VVcmk9e3BhZ2UuZGlzcGxheV91cml9XG4gICAgICAgICAgICAgICAgICB2aXJ0dWFsV2lkdGg9ezYxMn1cbiAgICAgICAgICAgICAgICAgIHZpcnR1YWxIZWlnaHQ9ezc5Mn1cbiAgICAgICAgICAgICAgICAgIHBhZ2VOdW1iZXI9e3BhZ2Uuc2VxdWVuY2V9XG4gICAgICAgICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17ZSA9PiB0aGlzLmhhbmRsZVBhZ2VSZW5kZXJlZChlKX1cbiAgICAgICAgICAgICAgICAgIGxheWVycz17W1xuICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ3BhZ2UnLCB0eXBlOiAnY2FudmFzJ30sXG4gICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnY29udHJvbHMnLCB0eXBlOiAnZGl2J30sXG4gICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvSG9zdD5cbiAgICApO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9