(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/verdocs-field-payment.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_payment",(function(){return VerdocsFieldPayment}));__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_utils_3d95c588_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./dist/esm/utils-3d95c588.js");__webpack_require__("./dist/esm/Envelopes-130fd6ea.js"),__webpack_require__("./dist/esm/Token-54690789.js"),__webpack_require__("./dist/esm/Files-70a192df.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsFieldPayment=function(){function VerdocsFieldPayment(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsFieldPayment),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.j)(this,hostRef),this.signatureComplete=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.e)(this,"signatureComplete",7),this.initialComplete=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.e)(this,"initialComplete",7),this._fields=[],this.signatureFile=null,this.initialFile=null,this.focusOrderNumber=-1,this.focusFieldName="",this.activeElement=null,this.showError={pageNum:-1,fieldIndex:-1,type:null},this.dialogOpened=!1,this.closeAllErrors=!1,this.fieldsMap={},this.fieldsForCurrentSigner=[],this.fontSize=11,this.averageFontWidth=5,this.requiredFields=[],this.field=null,this.disabled=!1,this.fields=void 0,this.pageNum=void 0,this.roleName=void 0,this.fieldId=void 0,this.recipients=void 0,this.selectedRoleName=void 0,this.pdfPages=void 0,this.currentSignature=void 0,this.currentSignatureId=void 0,this.currentInitial=void 0,this.currentInitialId=void 0,this.focused=!1,this.signed=!1,this.preparedMessage=void 0,this.signatureUrl="",this.roleindex=0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsFieldPayment,[{key:"componentWillLoad",value:function componentWillLoad(){if(console.log("sign field",this.field),this.recipients&&this.recipients.length>0){var preparer=this.recipients.find((function(r){return"preparer"===r.type}));console.log("Found preparer",preparer),preparer&&(this.preparedMessage="Prepared by "+preparer.full_name)}}},{key:"render",value:function render(){var _a,_b,settings=Object(_utils_3d95c588_js__WEBPACK_IMPORTED_MODULE_10__.f)(this.field),disabled=null!==(_b=null!==(_a=this.disabled)&&void 0!==_a?_a:settings.disabled)&&void 0!==_b&&_b;console.log("Payment field",settings);var backgroundColor=this.field.rgba||Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__.a)(this.roleindex);return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.b,{class:{focused:this.focused,disabled:disabled},style:{backgroundColor:backgroundColor}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("button",{class:{hide:this.signed}},"$"),this.signed?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("div",{class:"frame"}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("div",{style:{display:"none"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("img",{width:"100%",height:"100%",src:this.signatureUrl}))}}]),VerdocsFieldPayment}();VerdocsFieldPayment.style='verdocs-field-payment{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:24px;height:24px;display:block;font-size:11px;position:relative;border:1px solid #cfa;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-payment.disabled{opacity:0.5}verdocs-field-payment button,verdocs-field-payment div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-field-payment button{color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-payment button.hide{display:none}verdocs-field-payment input{float:left;font-family:Arial, sans-serif}verdocs-field-payment select{position:absolute;font-family:Arial, sans-serif;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-payment .frame{width:100%;height:100%;background-size:contain;text-align:left}verdocs-field-payment .frame img{position:absolute;height:auto;width:100%}verdocs-field-payment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}'},"./node_modules/core-js/modules/es.string.match-all.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this-clause.js"),createIteratorConstructor=__webpack_require__("./node_modules/core-js/internals/iterator-create-constructor.js"),createIterResultObject=__webpack_require__("./node_modules/core-js/internals/create-iter-result-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isNullOrUndefined=__webpack_require__("./node_modules/core-js/internals/is-null-or-undefined.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),getRegExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-get-flags.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),defineBuiltIn=__webpack_require__("./node_modules/core-js/internals/define-built-in.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),MATCH_ALL=wellKnownSymbol("matchAll"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("RegExp String Iterator"),RegExpPrototype=RegExp.prototype,$TypeError=TypeError,stringIndexOf=uncurryThis("".indexOf),nativeMatchAll=uncurryThis("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails((function(){nativeMatchAll("a",/./)})),$RegExpStringIterator=createIteratorConstructor((function RegExpStringIterator(regexp,string,$global,fullUnicode){setInternalState(this,{type:"RegExp String Iterator",regexp:regexp,string:string,global:$global,unicode:fullUnicode,done:!1})}),"RegExp String",(function next(){var state=getInternalState(this);if(state.done)return createIterResultObject(void 0,!0);var R=state.regexp,S=state.string,match=regExpExec(R,S);return null===match?(state.done=!0,createIterResultObject(void 0,!0)):state.global?(""===toString(match[0])&&(R.lastIndex=advanceStringIndex(S,toLength(R.lastIndex),state.unicode)),createIterResultObject(match,!1)):(state.done=!0,createIterResultObject(match,!1))})),$matchAll=function(string){var matcher,$global,fullUnicode,R=anObject(this),S=toString(string),C=speciesConstructor(R,RegExp),flags=toString(getRegExpFlags(R));return matcher=new C(C===RegExp?R.source:R,flags),$global=!!~stringIndexOf(flags,"g"),fullUnicode=!!~stringIndexOf(flags,"u"),matcher.lastIndex=toLength(R.lastIndex),new $RegExpStringIterator(matcher,S,$global,fullUnicode)};$({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function matchAll(regexp){var flags,S,matcher,rx,O=requireObjectCoercible(this);if(isNullOrUndefined(regexp)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp)}else{if(isRegExp(regexp)&&(flags=toString(requireObjectCoercible(getRegExpFlags(regexp))),!~stringIndexOf(flags,"g")))throw $TypeError("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp);if(void 0===(matcher=getMethod(regexp,MATCH_ALL))&&IS_PURE&&"RegExp"==classof(regexp)&&(matcher=$matchAll),matcher)return call(matcher,regexp,O)}return S=toString(O),rx=new RegExp(regexp,"g"),IS_PURE?call($matchAll,rx,S):rx[MATCH_ALL](S)}}),IS_PURE||MATCH_ALL in RegExpPrototype||defineBuiltIn(RegExpPrototype,MATCH_ALL,$matchAll)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9Db2xvcnMtMWIyOTgwOTIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdmVyZG9jcy1maWVsZC1wYXltZW50LmVudHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLWFsbC5qcyJdLCJuYW1lcyI6WyJnZXRSR0JBIiwicm9sZUluZGV4IiwiVmVyZG9jc0ZpZWxkUGF5bWVudCIsImhvc3RSZWYiLCJyZWdpc3Rlckluc3RhbmNlIiwidGhpcyIsInNpZ25hdHVyZUNvbXBsZXRlIiwiY3JlYXRlRXZlbnQiLCJpbml0aWFsQ29tcGxldGUiLCJfZmllbGRzIiwic2lnbmF0dXJlRmlsZSIsImluaXRpYWxGaWxlIiwiZm9jdXNPcmRlck51bWJlciIsImZvY3VzRmllbGROYW1lIiwiYWN0aXZlRWxlbWVudCIsInNob3dFcnJvciIsInBhZ2VOdW0iLCJmaWVsZEluZGV4IiwidHlwZSIsImRpYWxvZ09wZW5lZCIsImNsb3NlQWxsRXJyb3JzIiwiZmllbGRzTWFwIiwiZmllbGRzRm9yQ3VycmVudFNpZ25lciIsImZvbnRTaXplIiwiYXZlcmFnZUZvbnRXaWR0aCIsInJlcXVpcmVkRmllbGRzIiwiZmllbGQiLCJkaXNhYmxlZCIsImZpZWxkcyIsInVuZGVmaW5lZCIsInJvbGVOYW1lIiwiZmllbGRJZCIsInJlY2lwaWVudHMiLCJzZWxlY3RlZFJvbGVOYW1lIiwicGRmUGFnZXMiLCJjdXJyZW50U2lnbmF0dXJlIiwiY3VycmVudFNpZ25hdHVyZUlkIiwiY3VycmVudEluaXRpYWwiLCJjdXJyZW50SW5pdGlhbElkIiwiZm9jdXNlZCIsInNpZ25lZCIsInByZXBhcmVkTWVzc2FnZSIsInNpZ25hdHVyZVVybCIsInJvbGVpbmRleCIsImNvbXBvbmVudFdpbGxMb2FkIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInByZXBhcmVyIiwiZmluZCIsInIiLCJyZW5kZXIiLCJfYSIsIl9iIiwic2V0dGluZ3MiLCJnZXRGaWVsZFNldHRpbmdzIiwiYmFja2dyb3VuZENvbG9yIiwiaCIsIkhvc3QiLCJjbGFzcyIsInN0eWxlIiwiaGlkZSIsImRpc3BsYXkiLCJ3aWR0aCIsImhlaWdodCIsInNyYyIsIiQiLCJjYWxsIiwidW5jdXJyeVRoaXMiLCJjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yIiwiY3JlYXRlSXRlclJlc3VsdE9iamVjdCIsInJlcXVpcmVPYmplY3RDb2VyY2libGUiLCJ0b0xlbmd0aCIsInRvU3RyaW5nIiwiYW5PYmplY3QiLCJpc051bGxPclVuZGVmaW5lZCIsImNsYXNzb2YiLCJpc1JlZ0V4cCIsImdldFJlZ0V4cEZsYWdzIiwiZ2V0TWV0aG9kIiwiZGVmaW5lQnVpbHRJbiIsImZhaWxzIiwid2VsbEtub3duU3ltYm9sIiwic3BlY2llc0NvbnN0cnVjdG9yIiwiYWR2YW5jZVN0cmluZ0luZGV4IiwicmVnRXhwRXhlYyIsIkludGVybmFsU3RhdGVNb2R1bGUiLCJJU19QVVJFIiwiTUFUQ0hfQUxMIiwic2V0SW50ZXJuYWxTdGF0ZSIsInNldCIsImdldEludGVybmFsU3RhdGUiLCJnZXR0ZXJGb3IiLCJSRUdFWFBfU1RSSU5HIiwiUmVnRXhwUHJvdG90eXBlIiwiUmVnRXhwIiwicHJvdG90eXBlIiwiJFR5cGVFcnJvciIsIlR5cGVFcnJvciIsInN0cmluZ0luZGV4T2YiLCJpbmRleE9mIiwibmF0aXZlTWF0Y2hBbGwiLCJtYXRjaEFsbCIsIldPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCIsIiRSZWdFeHBTdHJpbmdJdGVyYXRvciIsIlJlZ0V4cFN0cmluZ0l0ZXJhdG9yIiwicmVnZXhwIiwic3RyaW5nIiwiJGdsb2JhbCIsImZ1bGxVbmljb2RlIiwiZ2xvYmFsIiwidW5pY29kZSIsImRvbmUiLCJuZXh0Iiwic3RhdGUiLCJSIiwiUyIsIm1hdGNoIiwibGFzdEluZGV4IiwiJG1hdGNoQWxsIiwibWF0Y2hlciIsIkMiLCJmbGFncyIsInNvdXJjZSIsInRhcmdl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QVNBLFNBQVNJLFFBQzFCLElBQ0lnQixNQUFPTixFQUFHSSxRQUFTTyxHQURuQkMsRUFBSXpELHVCQUF1QmxFLE1BRS9CLEdBQUtzRSxrQkFBa0IrQixTQVNoQixHQUFJSCw0QkFBNkIsT0FBT0YsZUFBZTJCLEVBQUd0QixZQVRqQyxDQUM5QixHQUFJN0IsU0FBUzZCLFVBQ1hnQixNQUFRakQsU0FBU0YsdUJBQXVCTyxlQUFlNEIsWUFDakRQLGNBQWN1QixNQUFPLE1BQU0sTUFBTXpCLFdBQVcsaURBRXBELEdBQUlNLDRCQUE2QixPQUFPRixlQUFlMkIsRUFBR3RCLFFBRzFELFFBRGdCN0UsS0FEaEIyRixRQUFVekMsVUFBVTJCLE9BQVFsQixhQUNDRCxTQUE4QixVQUFuQlgsUUFBUThCLFVBQXFCYyxRQUFVRCxXQUMzRUMsUUFBUyxPQUFPckQsS0FBS3FELFFBQVNkLE9BQVFzQixFQUM1QyxDQUdBLE9BRkFaLEVBQUkzQyxTQUFTdUQsR0FDYkQsR0FBSyxJQUFJaEMsT0FBT1csT0FBUSxLQUNqQm5CLFFBQVVwQixLQUFLb0QsVUFBV1EsR0FBSVgsR0FBS1csR0FBR3ZDLFdBQVc0QixFQUMxRCxJQUdGN0IsU0FBV0MsYUFBYU0saUJBQW1CZCxjQUFjYyxnQkFBaUJOLFVBQVcrQixVIiwiZmlsZSI6IjMxLjA1ZjQ4NDY5LmlmcmFtZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdpdmVuIGEgYHJnYmEocixnLGIsYSlgIHN0cmluZyB2YWx1ZSwgcmV0dXJucyB0aGUgaGV4IGVxdWl2YWxlbnQsIGRyb3BwaW5nIHRoZSBhbHBoYSBjaGFubmVsLlxuICovXG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmZ1bmN0aW9uIGdldFJHQkEocm9sZUluZGV4KSB7XG4gICAgc3dpdGNoIChyb2xlSW5kZXggJSAxMCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gcm9sZUluZGV4ID09PSAwID8gJ3JnYmEoMjU1LCAxOTMsIDcsIDAuNCknIDogJ3JnYmEoMTM0LCAxMzQsIDEzNCwgMC4zKSc7IC8vICNGRkU2OUNcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDE1NiwgMzksIDE3NiwgLjQpJzsgLy8gJyNFM0MzRTknXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgzMywgMTUwLCAyNDMsIC40KSc7IC8vICcjQzFFMUZCJ1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjIwLCAyMzEsIDExNywgMC4zKSc7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxMjEsIDEzNCwgMjAzLCAwLjMpJztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDc3LCAxODIsIDE3MiwgMC4zKSc7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDIwMiwgMTY1LCAwLjMpJztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIsIDI0NywgMTkwLCAwLjMpJztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDI1NSwgMTM4LCAxMDEsIDAuMyknO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoODIsIDI1NSwgNzksIDAuMyknO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyOSwgMTE1LCAxNTUsIDAuMyknO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgZ2V0UkdCQSBhcyBnIH07XG4iLCJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCB9IGZyb20gJy4vaW5kZXgtZjc4ZDE2M2QuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRSR0JBIH0gZnJvbSAnLi9Db2xvcnMtMWIyOTgwOTIuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRGaWVsZFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy0zZDk1YzU4OC5qcyc7XG5pbXBvcnQgJy4vRW52ZWxvcGVzLTEzMGZkNmVhLmpzJztcbmltcG9ydCAnLi9Ub2tlbi01NDY5MDc4OS5qcyc7XG5pbXBvcnQgJy4vRmlsZXMtNzBhMTkyZGYuanMnO1xuXG5jb25zdCB2ZXJkb2NzRmllbGRQYXltZW50Q3NzID0gXCJ2ZXJkb2NzLWZpZWxkLXBheW1lbnR7Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxMXB4O3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgI2NmYTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b20gbGVmdDt0cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbSBsZWZ0fXZlcmRvY3MtZmllbGQtcGF5bWVudC5kaXNhYmxlZHtvcGFjaXR5OjAuNX12ZXJkb2NzLWZpZWxkLXBheW1lbnQgYnV0dG9uLHZlcmRvY3MtZmllbGQtcGF5bWVudCBkaXZ7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fXZlcmRvY3MtZmllbGQtcGF5bWVudCBidXR0b257Y29sb3I6cmdiYSgwLCAwLCAwLCAwLjg3KTtmb250LXdlaWdodDo1MDA7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjAgMDt0cmFuc2Zvcm0tb3JpZ2luOjAgMDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO2JhY2tncm91bmQ6bm9uZTtmb250LXNpemU6MTFweH12ZXJkb2NzLWZpZWxkLXBheW1lbnQgYnV0dG9uLmhpZGV7ZGlzcGxheTpub25lfXZlcmRvY3MtZmllbGQtcGF5bWVudCBpbnB1dHtmbG9hdDpsZWZ0O2ZvbnQtZmFtaWx5OkFyaWFsLCBzYW5zLXNlcmlmfXZlcmRvY3MtZmllbGQtcGF5bWVudCBzZWxlY3R7cG9zaXRpb246YWJzb2x1dGU7Zm9udC1mYW1pbHk6QXJpYWwsIHNhbnMtc2VyaWY7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoNTVkZWcsIHRyYW5zcGFyZW50IDUwJSwgIzMzMyA1MCUpLCBsaW5lYXItZ3JhZGllbnQoMTI1ZGVnLCAjMzMzIDUwJSwgdHJhbnNwYXJlbnQgNTAlKSwgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCB0cmFuc3BhcmVudCwgdHJhbnNwYXJlbnQpO2JhY2tncm91bmQtcG9zaXRpb246Y2FsYygxMDAlIC0gN3B4KSA0cHgsIGNhbGMoMTAwJSAtIDNweCkgNHB4LCAxMDAlIDA7YmFja2dyb3VuZC1zaXplOjVweCA1cHgsIDVweCA1cHgsIDIuNWVtIDIuNWVtO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmV9dmVyZG9jcy1maWVsZC1wYXltZW50IC5mcmFtZXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtc2l6ZTpjb250YWluO3RleHQtYWxpZ246bGVmdH12ZXJkb2NzLWZpZWxkLXBheW1lbnQgLmZyYW1lIGltZ3twb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6YXV0bzt3aWR0aDoxMDAlfXZlcmRvY3MtZmllbGQtcGF5bWVudC5mb2N1c2Vkey13ZWJraXQtYW5pbWF0aW9uOnZlcmRvY3MtZmllbGQtcHVsc2UgMC43NXMgMjthbmltYXRpb246dmVyZG9jcy1maWVsZC1wdWxzZSAwLjc1cyAyfVwiO1xuXG5jb25zdCBWZXJkb2NzRmllbGRQYXltZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLnNpZ25hdHVyZUNvbXBsZXRlID0gY3JlYXRlRXZlbnQodGhpcywgXCJzaWduYXR1cmVDb21wbGV0ZVwiLCA3KTtcbiAgICB0aGlzLmluaXRpYWxDb21wbGV0ZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW5pdGlhbENvbXBsZXRlXCIsIDcpO1xuICAgIHRoaXMuX2ZpZWxkcyA9IFtdO1xuICAgIC8vIGVudmVsb3BlRmllbGRzRm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gICAgdGhpcy5zaWduYXR1cmVGaWxlID0gbnVsbDtcbiAgICB0aGlzLmluaXRpYWxGaWxlID0gbnVsbDtcbiAgICB0aGlzLmZvY3VzT3JkZXJOdW1iZXIgPSAtMTtcbiAgICB0aGlzLmZvY3VzRmllbGROYW1lID0gJyc7XG4gICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnNob3dFcnJvciA9IHtcbiAgICAgIHBhZ2VOdW06IC0xLFxuICAgICAgZmllbGRJbmRleDogLTEsXG4gICAgICB0eXBlOiBudWxsLFxuICAgIH07XG4gICAgdGhpcy5kaWFsb2dPcGVuZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsb3NlQWxsRXJyb3JzID0gZmFsc2U7XG4gICAgdGhpcy5maWVsZHNNYXAgPSB7fTtcbiAgICB0aGlzLmZpZWxkc0ZvckN1cnJlbnRTaWduZXIgPSBbXTtcbiAgICB0aGlzLmZvbnRTaXplID0gMTE7XG4gICAgdGhpcy5hdmVyYWdlRm9udFdpZHRoID0gNTtcbiAgICB0aGlzLnJlcXVpcmVkRmllbGRzID0gW107XG4gICAgdGhpcy5maWVsZCA9IG51bGw7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZmllbGRzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucGFnZU51bSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJvbGVOYW1lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZmllbGRJZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlY2lwaWVudHMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zZWxlY3RlZFJvbGVOYW1lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucGRmUGFnZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jdXJyZW50U2lnbmF0dXJlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY3VycmVudFNpZ25hdHVyZUlkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY3VycmVudEluaXRpYWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jdXJyZW50SW5pdGlhbElkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2lnbmVkID0gZmFsc2U7XG4gICAgdGhpcy5wcmVwYXJlZE1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zaWduYXR1cmVVcmwgPSAnJztcbiAgICB0aGlzLnJvbGVpbmRleCA9IDA7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgLy8gTG9hZCB2YWxpZGF0b3JzXG4gICAgLy8gTG9hZCBmaWVsZHNcbiAgICAvLyBHZXQgcm9sZSBuYW1lc1xuICAgIGNvbnNvbGUubG9nKCdzaWduIGZpZWxkJywgdGhpcy5maWVsZCk7XG4gICAgaWYgKHRoaXMucmVjaXBpZW50cyAmJiB0aGlzLnJlY2lwaWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcHJlcGFyZXIgPSB0aGlzLnJlY2lwaWVudHMuZmluZChyID0+IHIudHlwZSA9PT0gJ3ByZXBhcmVyJyk7XG4gICAgICBjb25zb2xlLmxvZygnRm91bmQgcHJlcGFyZXInLCBwcmVwYXJlcik7XG4gICAgICBpZiAocHJlcGFyZXIpIHtcbiAgICAgICAgdGhpcy5wcmVwYXJlZE1lc3NhZ2UgPSBgUHJlcGFyZWQgYnkgJHtwcmVwYXJlclsnZnVsbF9uYW1lJ119YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gW3RhYkluZGV4XT1cImZpZWxkLnJvbGUgIT09IHJvbGVOYW1lID8gLTEgOiAxXCJcbiAgLy8gW25nU3R5bGVdPVwiZmllbGQuZWxlbWVudF9zdHlsZVwiXG4gIC8vIFt2YWx1ZV09XCJmaWVsZC52YWx1ZVwiXG4gIC8vIChjbGljayk9XCJpbml0aWF0ZVNpZ24oZmllbGQpXCJcbiAgLy8gKGJsdXIpPVwidmFsaWRhdGVDaGFuZ2VzKGZpZWxkKVwiXG4gIC8vIFtkaXNhYmxlZF09XCJmaWVsZC5yb2xlIT09cm9sZU5hbWVcIlxuICAvLyBbaWRdPVwiZmllbGQua2V5XCJcbiAgLy8gPGJ1dHRvbiBfbmdjb250ZW50LWFwcC1yb290LWMzNDI9XCJcIiBjbGFzcz1cImVudmVsb3BlX19maWVsZFwiIHRhYmluZGV4PVwiMVwiIG5nLXJlZmxlY3Qtbmctc3R5bGU9XCJbb2JqZWN0IE9iamVjdF1cIlxuICAvLyBuZy1yZWZsZWN0LW5nLWNsYXNzPVwiW29iamVjdCBPYmplY3RdXCIgdmFsdWU9XCJcIiBpZD1cInNpZ25hdHVyZVA1LTFcIlxuICAvLyBzdHlsZT1cImhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6IG5vbmU7IGZvbnQtc2l6ZTogMTFweDsgYm9yZGVyOiAxcHggc29saWQgcmdiKDIwNCwgMCwgMCk7XCI+IFNpZ25hdHVyZSA8L2J1dHRvbj5cbiAgLy8gICAgIGJvdHRvbTogMjI5LjMzM1xuICAvLyBweFxuICAvLyA7XG4gIC8vICAgICBsZWZ0OiAxNjkuMzMzXG4gIC8vIHB4XG4gIC8vIDtcbiAgLy8gICAgIGhlaWdodDogNDFcbiAgLy8gcHhcbiAgLy8gO1xuICAvLyAgICAgd2lkdGg6IDgyXG4gIC8vIHB4XG4gIC8vIDtcbiAgLy8gICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTU2LCAzOSwgMTc2LCAwLjQpO1xuICAvLyAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjMzMzMzLCAxLjMzMzMzKTtcbiAgLy8gfVxuICAvLyA8c3R5bGU+XG4gIC8vIC5lbnZlbG9wZV9faXRlbVtfbmdjb250ZW50LWFwcC1yb290LWMzNDJdIHtcbiAgLy8gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgLy8gICAgIHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSBsZWZ0O1xuICAvLyAgICAgb3BhY2l0eTogMTtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRGaWVsZFNldHRpbmdzKHRoaXMuZmllbGQpO1xuICAgIGNvbnN0IGRpc2FibGVkID0gKF9iID0gKF9hID0gdGhpcy5kaXNhYmxlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc2V0dGluZ3MuZGlzYWJsZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKCdQYXltZW50IGZpZWxkJywgc2V0dGluZ3MpO1xuICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHRoaXMuZmllbGRbJ3JnYmEnXSB8fCBnZXRSR0JBKHRoaXMucm9sZWluZGV4KTtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczogeyBmb2N1c2VkOiB0aGlzLmZvY3VzZWQsIGRpc2FibGVkIH0sIHN0eWxlOiB7IGJhY2tncm91bmRDb2xvciB9IH0sIGgoXCJidXR0b25cIiwgeyBjbGFzczogeyBoaWRlOiB0aGlzLnNpZ25lZCB9IH0sIFwiJFwiKSwgdGhpcy5zaWduZWQgPyBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZnJhbWVcIiB9KSA6IGgoXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSB9KSwgaChcImltZ1wiLCB7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgc3JjOiB0aGlzLnNpZ25hdHVyZVVybCB9KSkpO1xuICB9XG59O1xuVmVyZG9jc0ZpZWxkUGF5bWVudC5zdHlsZSA9IHZlcmRvY3NGaWVsZFBheW1lbnRDc3M7XG5cbmV4cG9ydCB7IFZlcmRvY3NGaWVsZFBheW1lbnQgYXMgdmVyZG9jc19maWVsZF9wYXltZW50IH07XG4iLCIndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zdHJpbmctcHJvdG90eXBlLW1hdGNoYWxsIC0tIHNhZmUgKi9cbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcy1jbGF1c2UnKTtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9yLWNyZWF0ZS1jb25zdHJ1Y3RvcicpO1xudmFyIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLWl0ZXItcmVzdWx0LW9iamVjdCcpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgaXNSZWdFeHAgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcmVnZXhwJyk7XG52YXIgZ2V0UmVnRXhwRmxhZ3MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWdldC1mbGFncycpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgYWR2YW5jZVN0cmluZ0luZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgcmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcblxudmFyIE1BVENIX0FMTCA9IHdlbGxLbm93blN5bWJvbCgnbWF0Y2hBbGwnKTtcbnZhciBSRUdFWFBfU1RSSU5HID0gJ1JlZ0V4cCBTdHJpbmcnO1xudmFyIFJFR0VYUF9TVFJJTkdfSVRFUkFUT1IgPSBSRUdFWFBfU1RSSU5HICsgJyBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihSRUdFWFBfU1RSSU5HX0lURVJBVE9SKTtcbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG52YXIgc3RyaW5nSW5kZXhPZiA9IHVuY3VycnlUaGlzKCcnLmluZGV4T2YpO1xudmFyIG5hdGl2ZU1hdGNoQWxsID0gdW5jdXJyeVRoaXMoJycubWF0Y2hBbGwpO1xuXG52YXIgV09SS1NfV0lUSF9OT05fR0xPQkFMX1JFR0VYID0gISFuYXRpdmVNYXRjaEFsbCAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICBuYXRpdmVNYXRjaEFsbCgnYScsIC8uLyk7XG59KTtcblxudmFyICRSZWdFeHBTdHJpbmdJdGVyYXRvciA9IGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IoZnVuY3Rpb24gUmVnRXhwU3RyaW5nSXRlcmF0b3IocmVnZXhwLCBzdHJpbmcsICRnbG9iYWwsIGZ1bGxVbmljb2RlKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IFJFR0VYUF9TVFJJTkdfSVRFUkFUT1IsXG4gICAgcmVnZXhwOiByZWdleHAsXG4gICAgc3RyaW5nOiBzdHJpbmcsXG4gICAgZ2xvYmFsOiAkZ2xvYmFsLFxuICAgIHVuaWNvZGU6IGZ1bGxVbmljb2RlLFxuICAgIGRvbmU6IGZhbHNlXG4gIH0pO1xufSwgUkVHRVhQX1NUUklORywgZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgaWYgKHN0YXRlLmRvbmUpIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIHZhciBSID0gc3RhdGUucmVnZXhwO1xuICB2YXIgUyA9IHN0YXRlLnN0cmluZztcbiAgdmFyIG1hdGNoID0gcmVnRXhwRXhlYyhSLCBTKTtcbiAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgc3RhdGUuZG9uZSA9IHRydWU7XG4gICAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QodW5kZWZpbmVkLCB0cnVlKTtcbiAgfVxuICBpZiAoc3RhdGUuZ2xvYmFsKSB7XG4gICAgaWYgKHRvU3RyaW5nKG1hdGNoWzBdKSA9PT0gJycpIFIubGFzdEluZGV4ID0gYWR2YW5jZVN0cmluZ0luZGV4KFMsIHRvTGVuZ3RoKFIubGFzdEluZGV4KSwgc3RhdGUudW5pY29kZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QobWF0Y2gsIGZhbHNlKTtcbiAgfVxuICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QobWF0Y2gsIGZhbHNlKTtcbn0pO1xuXG52YXIgJG1hdGNoQWxsID0gZnVuY3Rpb24gKHN0cmluZykge1xuICB2YXIgUiA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgUyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKFIsIFJlZ0V4cCk7XG4gIHZhciBmbGFncyA9IHRvU3RyaW5nKGdldFJlZ0V4cEZsYWdzKFIpKTtcbiAgdmFyIG1hdGNoZXIsICRnbG9iYWwsIGZ1bGxVbmljb2RlO1xuICBtYXRjaGVyID0gbmV3IEMoQyA9PT0gUmVnRXhwID8gUi5zb3VyY2UgOiBSLCBmbGFncyk7XG4gICRnbG9iYWwgPSAhIX5zdHJpbmdJbmRleE9mKGZsYWdzLCAnZycpO1xuICBmdWxsVW5pY29kZSA9ICEhfnN0cmluZ0luZGV4T2YoZmxhZ3MsICd1Jyk7XG4gIG1hdGNoZXIubGFzdEluZGV4ID0gdG9MZW5ndGgoUi5sYXN0SW5kZXgpO1xuICByZXR1cm4gbmV3ICRSZWdFeHBTdHJpbmdJdGVyYXRvcihtYXRjaGVyLCBTLCAkZ2xvYmFsLCBmdWxsVW5pY29kZSk7XG59O1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaEFsbGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUubWF0Y2hhbGxcbiQoeyB0YXJnZXQ6ICdTdHJpbmcnLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVggfSwge1xuICBtYXRjaEFsbDogZnVuY3Rpb24gbWF0Y2hBbGwocmVnZXhwKSB7XG4gICAgdmFyIE8gPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlKHRoaXMpO1xuICAgIHZhciBmbGFncywgUywgbWF0Y2hlciwgcng7XG4gICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChyZWdleHApKSB7XG4gICAgICBpZiAoaXNSZWdFeHAocmVnZXhwKSkge1xuICAgICAgICBmbGFncyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoZ2V0UmVnRXhwRmxhZ3MocmVnZXhwKSkpO1xuICAgICAgICBpZiAoIX5zdHJpbmdJbmRleE9mKGZsYWdzLCAnZycpKSB0aHJvdyAkVHlwZUVycm9yKCdgLm1hdGNoQWxsYCBkb2VzIG5vdCBhbGxvdyBub24tZ2xvYmFsIHJlZ2V4ZXMnKTtcbiAgICAgIH1cbiAgICAgIGlmIChXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVgpIHJldHVybiBuYXRpdmVNYXRjaEFsbChPLCByZWdleHApO1xuICAgICAgbWF0Y2hlciA9IGdldE1ldGhvZChyZWdleHAsIE1BVENIX0FMTCk7XG4gICAgICBpZiAobWF0Y2hlciA9PT0gdW5kZWZpbmVkICYmIElTX1BVUkUgJiYgY2xhc3NvZihyZWdleHApID09ICdSZWdFeHAnKSBtYXRjaGVyID0gJG1hdGNoQWxsO1xuICAgICAgaWYgKG1hdGNoZXIpIHJldHVybiBjYWxsKG1hdGNoZXIsIHJlZ2V4cCwgTyk7XG4gICAgfSBlbHNlIGlmIChXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVgpIHJldHVybiBuYXRpdmVNYXRjaEFsbChPLCByZWdleHApO1xuICAgIFMgPSB0b1N0cmluZyhPKTtcbiAgICByeCA9IG5ldyBSZWdFeHAocmVnZXhwLCAnZycpO1xuICAgIHJldHVybiBJU19QVVJFID8gY2FsbCgkbWF0Y2hBbGwsIHJ4LCBTKSA6IHJ4W01BVENIX0FMTF0oUyk7XG4gIH1cbn0pO1xuXG5JU19QVVJFIHx8IE1BVENIX0FMTCBpbiBSZWdFeHBQcm90b3R5cGUgfHwgZGVmaW5lQnVpbHRJbihSZWdFeHBQcm90b3R5cGUsIE1BVENIX0FMTCwgJG1hdGNoQWxsKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=