/*! For license information please see 14.e19ae3bb.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"./dist/esm/verdocs-field-date.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_date",(function(){return VerdocsFieldDate}));__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.string.pad-start.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js");var _index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__("./dist/esm/index-542510c1.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function hasProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function lastItemOf(arr){return arr[arr.length-1]}function pushUnique(arr){for(var _len=arguments.length,items=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)items[_key-1]=arguments[_key];return items.forEach((function(item){arr.includes(item)||arr.push(item)})),arr}function stringToArray(str,separator){return str?str.split(separator):[]}function isInRange(testVal,min,max){return(void 0===min||testVal>=min)&&(void 0===max||testVal<=max)}function limitToRange(val,min,max){return val<min?min:val>max?max:val}function createTagRepeat(tagName,repeat){var attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},index=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,html=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",openTagSrc=Object.keys(attributes).reduce((function(src,attr){var val=attributes[attr];return"function"==typeof val&&(val=val(index)),src+" "+attr+'="'+val+'"'}),tagName);html+="<"+openTagSrc+"></"+tagName+">";var next=index+1;return next<repeat?createTagRepeat(tagName,repeat,attributes,next,html):html}function optimizeTemplateHTML(html){return html.replace(/>\s+/g,">").replace(/\s+</,"<")}function stripTime(timeValue){return new Date(timeValue).setHours(0,0,0,0)}function today(){return(new Date).setHours(0,0,0,0)}function dateValue(){switch(arguments.length){case 0:return today();case 1:return stripTime(arguments.length<=0?void 0:arguments[0])}var newDate=new Date(0);return newDate.setFullYear.apply(newDate,arguments),newDate.setHours(0,0,0,0)}function addDays(date,amount){var newDate=new Date(date);return newDate.setDate(newDate.getDate()+amount)}function addMonths(date,amount){var newDate=new Date(date),monthsToSet=newDate.getMonth()+amount,expectedMonth=monthsToSet%12;expectedMonth<0&&(expectedMonth+=12);var time=newDate.setMonth(monthsToSet);return newDate.getMonth()!==expectedMonth?newDate.setDate(0):time}function addYears(date,amount){var newDate=new Date(date),expectedMonth=newDate.getMonth(),time=newDate.setFullYear(newDate.getFullYear()+amount);return 1===expectedMonth&&2===newDate.getMonth()?newDate.setDate(0):time}function dayDiff(day,from){return(day-from+7)%7}function dayOfTheWeekOf(baseDate,dayOfWeek){var weekStart=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,baseDay=new Date(baseDate).getDay();return addDays(baseDate,dayDiff(dayOfWeek,weekStart)-dayDiff(baseDay,weekStart))}function startOfYearPeriod(date,years){var year=new Date(date).getFullYear();return Math.floor(year/years)*years}function regularizeDate(date,timeSpan,useLastDate){if(1!==timeSpan&&2!==timeSpan)return date;var newDate=new Date(date);return 1===timeSpan?useLastDate?newDate.setMonth(newDate.getMonth()+1,0):newDate.setDate(1):useLastDate?newDate.setFullYear(newDate.getFullYear()+1,0,0):newDate.setMonth(0,1),newDate.setHours(0,0,0,0)}var reFormatTokens=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,reNonDateParts=/[\s!-/:-@[-`{-~年月日]+/,knownFormats={},parseFns={y:function y(date,year){return new Date(date).setFullYear(parseInt(year,10))},m:function m(date,month,locale){var newDate=new Date(date),monthIndex=parseInt(month,10)-1;if(isNaN(monthIndex)){if(!month)return NaN;var monthName=month.toLowerCase(),compareNames=function compareNames(name){return name.toLowerCase().startsWith(monthName)};if((monthIndex=locale.monthsShort.findIndex(compareNames))<0&&(monthIndex=locale.months.findIndex(compareNames)),monthIndex<0)return NaN}return newDate.setMonth(monthIndex),newDate.getMonth()!==normalizeMonth(monthIndex)?newDate.setDate(0):newDate.getTime()},d:function d(date,day){return new Date(date).setDate(parseInt(day,10))}},formatFns={d:function d(date){return date.getDate()},dd:function dd(date){return padZero(date.getDate(),2)},D:function D(date,locale){return locale.daysShort[date.getDay()]},DD:function DD(date,locale){return locale.days[date.getDay()]},m:function m(date){return date.getMonth()+1},mm:function mm(date){return padZero(date.getMonth()+1,2)},M:function M(date,locale){return locale.monthsShort[date.getMonth()]},MM:function MM(date,locale){return locale.months[date.getMonth()]},y:function y(date){return date.getFullYear()},yy:function yy(date){return padZero(date.getFullYear(),2).slice(-2)},yyyy:function yyyy(date){return padZero(date.getFullYear(),4)}};function normalizeMonth(monthIndex){return monthIndex>-1?monthIndex%12:normalizeMonth(monthIndex+12)}function padZero(num,length){return num.toString().padStart(length,"0")}function parseFormatString(format){if("string"!=typeof format)throw new Error("Invalid date format.");if(format in knownFormats)return knownFormats[format];var separators=format.split(reFormatTokens),parts=format.match(new RegExp(reFormatTokens,"g"));if(0===separators.length||!parts)throw new Error("Invalid date format.");var partFormatters=parts.map((function(token){return formatFns[token]})),partParserKeys=Object.keys(parseFns).reduce((function(keys,key){return parts.find((function(part){return"D"!==part[0]&&part[0].toLowerCase()===key}))&&keys.push(key),keys}),[]);return knownFormats[format]={parser:function parser(dateStr,locale){var dateParts=dateStr.split(reNonDateParts).reduce((function(dtParts,part,index){if(part.length>0&&parts[index]){var token=parts[index][0];"M"===token?dtParts.m=part:"D"!==token&&(dtParts[token]=part)}return dtParts}),{});return partParserKeys.reduce((function(origDate,key){var newDate=parseFns[key](origDate,dateParts[key],locale);return isNaN(newDate)?origDate:newDate}),today())},formatter:function formatter(date,locale){return partFormatters.reduce((function(str,fn,index){return str+""+separators[index]+fn(date,locale)}),"")+lastItemOf(separators)}}}function _parseDate(dateStr,format,locale){if(dateStr instanceof Date||"number"==typeof dateStr){var date=stripTime(dateStr);return isNaN(date)?void 0:date}if(dateStr){if("today"===dateStr)return today();if(format&&format.toValue){var _date=format.toValue(dateStr,format,locale);return isNaN(_date)?void 0:stripTime(_date)}return parseFormatString(format).parser(dateStr,locale)}}function _formatDate(date,format,locale){if(isNaN(date)||!date&&0!==date)return"";var dateObj="number"==typeof date?new Date(date):date;return format.toDisplay?format.toDisplay(dateObj,format,locale):parseFormatString(format).formatter(dateObj,locale)}var range=document.createRange();function parseHTML(html){return range.createContextualFragment(html)}function getParent(el){return el.parentElement||(el.parentNode instanceof ShadowRoot?el.parentNode.host:void 0)}function isActiveElement(el){return el.getRootNode().activeElement===el}function hideElement(el){"none"!==el.style.display&&(el.style.display&&(el.dataset.styleDisplay=el.style.display),el.style.display="none")}function showElement(el){"none"===el.style.display&&(el.dataset.styleDisplay?(el.style.display=el.dataset.styleDisplay,delete el.dataset.styleDisplay):el.style.display="")}function emptyChildNodes(el){el.firstChild&&(el.removeChild(el.firstChild),emptyChildNodes(el))}var listenerRegistry=new WeakMap,_EventTarget$prototyp=EventTarget.prototype,addEventListener=_EventTarget$prototyp.addEventListener,removeEventListener=_EventTarget$prototyp.removeEventListener;function registerListeners(keyObj,listeners){var registered=listenerRegistry.get(keyObj);registered||(registered=[],listenerRegistry.set(keyObj,registered)),listeners.forEach((function(listener){addEventListener.call.apply(addEventListener,_toConsumableArray(listener)),registered.push(listener)}))}if(!Event.prototype.composedPath){var getComposedPath=function getComposedPath(node){var parent,path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return path.push(node),node.parentNode?parent=node.parentNode:node.host?parent=node.host:node.defaultView&&(parent=node.defaultView),parent?getComposedPath(parent,path):path};Event.prototype.composedPath=function(){return getComposedPath(this.target)}}function findFromPath(path,criteria,currentTarget){var _path=function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest()}(path),node=_path[0],rest=_path.slice(1);return criteria(node)?node:node!==currentTarget&&"HTML"!==node.tagName&&0!==rest.length?findFromPath(rest,criteria,currentTarget):void 0}function findElementInEventPath(ev,selector){var criteria="function"==typeof selector?selector:function(el){return el instanceof Element&&el.matches(selector)};return findFromPath(ev.composedPath(),criteria,ev.currentTarget)}var locales={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},defaultOptions={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},defaultLang=defaultOptions.language,defaultFormat=defaultOptions.format,defaultWeekStart=defaultOptions.weekStart;function sanitizeDOW(dow,day){return dow.length<6&&day>=0&&day<7?pushUnique(dow,day):dow}function calcEndOfWeek(startOfWeek){return(startOfWeek+6)%7}function validateDate(value,format,locale,origValue){var date=_parseDate(value,format,locale);return void 0!==date?date:origValue}function validateViewId(value,origValue){var max=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,viewId=parseInt(value,10);return viewId>=0&&viewId<=max?viewId:origValue}function processOptions(options,datepicker){var lang,inOpts=Object.assign({},options),config={},locales=datepicker.constructor.locales,rangeSideIndex=datepicker.rangeSideIndex,_ref=datepicker.config||{},format=_ref.format,language=_ref.language,locale=_ref.locale,maxDate=_ref.maxDate,maxView=_ref.maxView,minDate=_ref.minDate,pickLevel=_ref.pickLevel,startView=_ref.startView,weekStart=_ref.weekStart;if(inOpts.language&&(inOpts.language!==language&&(locales[inOpts.language]?lang=inOpts.language:void 0===locales[lang=inOpts.language.split("-")[0]]&&(lang=!1)),delete inOpts.language,lang)){language=config.language=lang;var origLocale=locale||locales[defaultLang];locale=Object.assign({format:defaultFormat,weekStart:defaultWeekStart},locales[defaultLang]),language!==defaultLang&&Object.assign(locale,locales[language]),config.locale=locale,format===origLocale.format&&(format=config.format=locale.format),weekStart===origLocale.weekStart&&(weekStart=config.weekStart=locale.weekStart,config.weekEnd=calcEndOfWeek(locale.weekStart))}if(inOpts.format){var hasToDisplay="function"==typeof inOpts.format.toDisplay,hasToValue="function"==typeof inOpts.format.toValue,validFormatString=reFormatTokens.test(inOpts.format);(hasToDisplay&&hasToValue||validFormatString)&&(format=config.format=inOpts.format),delete inOpts.format}var newPickLevel=pickLevel;void 0!==inOpts.pickLevel&&(newPickLevel=validateViewId(inOpts.pickLevel,2),delete inOpts.pickLevel),newPickLevel!==pickLevel&&(newPickLevel>pickLevel&&(void 0===inOpts.minDate&&(inOpts.minDate=minDate),void 0===inOpts.maxDate&&(inOpts.maxDate=maxDate)),inOpts.datesDisabled||(inOpts.datesDisabled=[]),pickLevel=config.pickLevel=newPickLevel);var minDt=minDate,maxDt=maxDate;if(void 0!==inOpts.minDate){var defaultMinDt=dateValue(0,0,1);(minDt=null===inOpts.minDate?defaultMinDt:validateDate(inOpts.minDate,format,locale,minDt))!==defaultMinDt&&(minDt=regularizeDate(minDt,pickLevel,!1)),delete inOpts.minDate}if(void 0!==inOpts.maxDate&&(void 0!==(maxDt=null===inOpts.maxDate?void 0:validateDate(inOpts.maxDate,format,locale,maxDt))&&(maxDt=regularizeDate(maxDt,pickLevel,!0)),delete inOpts.maxDate),maxDt<minDt?(minDate=config.minDate=maxDt,maxDate=config.maxDate=minDt):(minDate!==minDt&&(minDate=config.minDate=minDt),maxDate!==maxDt&&(maxDate=config.maxDate=maxDt)),inOpts.datesDisabled&&(config.datesDisabled=inOpts.datesDisabled.reduce((function(dates,dt){var date=_parseDate(dt,format,locale);return void 0!==date?pushUnique(dates,regularizeDate(date,pickLevel,rangeSideIndex)):dates}),[]),delete inOpts.datesDisabled),void 0!==inOpts.defaultViewDate){var viewDate=_parseDate(inOpts.defaultViewDate,format,locale);void 0!==viewDate&&(config.defaultViewDate=viewDate),delete inOpts.defaultViewDate}if(void 0!==inOpts.weekStart){var wkStart=Number(inOpts.weekStart)%7;isNaN(wkStart)||(weekStart=config.weekStart=wkStart,config.weekEnd=calcEndOfWeek(wkStart)),delete inOpts.weekStart}if(inOpts.daysOfWeekDisabled&&(config.daysOfWeekDisabled=inOpts.daysOfWeekDisabled.reduce(sanitizeDOW,[]),delete inOpts.daysOfWeekDisabled),inOpts.daysOfWeekHighlighted&&(config.daysOfWeekHighlighted=inOpts.daysOfWeekHighlighted.reduce(sanitizeDOW,[]),delete inOpts.daysOfWeekHighlighted),void 0!==inOpts.maxNumberOfDates){var maxNumberOfDates=parseInt(inOpts.maxNumberOfDates,10);maxNumberOfDates>=0&&(config.maxNumberOfDates=maxNumberOfDates,config.multidate=1!==maxNumberOfDates),delete inOpts.maxNumberOfDates}inOpts.dateDelimiter&&(config.dateDelimiter=String(inOpts.dateDelimiter),delete inOpts.dateDelimiter);var newMaxView=maxView;void 0!==inOpts.maxView&&(newMaxView=validateViewId(inOpts.maxView,maxView),delete inOpts.maxView),(newMaxView=pickLevel>newMaxView?pickLevel:newMaxView)!==maxView&&(maxView=config.maxView=newMaxView);var newStartView=startView;if(void 0!==inOpts.startView&&(newStartView=validateViewId(inOpts.startView,newStartView),delete inOpts.startView),newStartView<pickLevel?newStartView=pickLevel:newStartView>maxView&&(newStartView=maxView),newStartView!==startView&&(config.startView=newStartView),inOpts.prevArrow){var prevArrow=parseHTML(inOpts.prevArrow);prevArrow.childNodes.length>0&&(config.prevArrow=prevArrow.childNodes),delete inOpts.prevArrow}if(inOpts.nextArrow){var nextArrow=parseHTML(inOpts.nextArrow);nextArrow.childNodes.length>0&&(config.nextArrow=nextArrow.childNodes),delete inOpts.nextArrow}if(void 0!==inOpts.disableTouchKeyboard&&(config.disableTouchKeyboard="ontouchstart"in document&&!!inOpts.disableTouchKeyboard,delete inOpts.disableTouchKeyboard),inOpts.orientation){var orientation=inOpts.orientation.toLowerCase().split(/\s+/g);config.orientation={x:orientation.find((function(x){return"left"===x||"right"===x}))||"auto",y:orientation.find((function(y){return"top"===y||"bottom"===y}))||"auto"},delete inOpts.orientation}if(void 0!==inOpts.todayBtnMode){switch(inOpts.todayBtnMode){case 0:case 1:config.todayBtnMode=inOpts.todayBtnMode}delete inOpts.todayBtnMode}return Object.keys(inOpts).forEach((function(key){void 0!==inOpts[key]&&hasProperty(defaultOptions,key)&&(config[key]=inOpts[key])})),config}var pickerTemplate=optimizeTemplateHTML('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),daysTemplate=optimizeTemplateHTML('<div class="days">\n  <div class="days-of-week">'+createTagRepeat("span",7,{class:"dow"})+'</div>\n  <div class="datepicker-grid">'+createTagRepeat("span",42)+"</div>\n</div>"),calendarWeeksTemplate=optimizeTemplateHTML('<div class="calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">'+createTagRepeat("span",6,{class:"week"})+"</div>\n</div>"),View=function(){function View(picker,config){_classCallCheck(this,View),Object.assign(this,config,{picker:picker,element:parseHTML('<div class="datepicker-view"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return _createClass(View,[{key:"init",value:function init(options){void 0!==options.pickLevel&&(this.isMinView=this.id===options.pickLevel),this.setOptions(options),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function performBeforeHook(el,current,timeValue){var result=this.beforeShow(new Date(timeValue));switch(typeof result){case"boolean":result={enabled:result};break;case"string":result={classes:result}}if(result){if(!1===result.enabled&&(el.classList.add("disabled"),pushUnique(this.disabled,current)),result.classes){var _el$classList,extraClasses=result.classes.split(/\s+/);(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(extraClasses)),extraClasses.includes("disabled")&&pushUnique(this.disabled,current)}result.content&&function replaceChildNodes(el,newChildNodes){emptyChildNodes(el),newChildNodes instanceof DocumentFragment?el.appendChild(newChildNodes):"string"==typeof newChildNodes?el.appendChild(parseHTML(newChildNodes)):"function"==typeof newChildNodes.forEach&&newChildNodes.forEach((function(node){el.appendChild(node)}))}(el,result.content)}}}]),View}(),DaysView=function(_View){_inherits(DaysView,_View);var _super=_createSuper(DaysView);function DaysView(picker){return _classCallCheck(this,DaysView),_super.call(this,picker,{id:0,name:"days",cellClass:"day"})}return _createClass(DaysView,[{key:"init",value:function init(options){var onConstruction=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(onConstruction){var inner=parseHTML(daysTemplate).firstChild;this.dow=inner.firstChild,this.grid=inner.lastChild,this.element.appendChild(inner)}_get(_getPrototypeOf(DaysView.prototype),"init",this).call(this,options)}},{key:"setOptions",value:function setOptions(options){var updateDOW,_this=this;if(hasProperty(options,"minDate")&&(this.minDate=options.minDate),hasProperty(options,"maxDate")&&(this.maxDate=options.maxDate),options.datesDisabled&&(this.datesDisabled=options.datesDisabled),options.daysOfWeekDisabled&&(this.daysOfWeekDisabled=options.daysOfWeekDisabled,updateDOW=!0),options.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=options.daysOfWeekHighlighted),void 0!==options.todayHighlight&&(this.todayHighlight=options.todayHighlight),void 0!==options.weekStart&&(this.weekStart=options.weekStart,this.weekEnd=options.weekEnd,updateDOW=!0),options.locale){var locale=this.locale=options.locale;this.dayNames=locale.daysMin,this.switchLabelFormat=locale.titleFormat,updateDOW=!0}if(void 0!==options.beforeShowDay&&(this.beforeShow="function"==typeof options.beforeShowDay?options.beforeShowDay:void 0),void 0!==options.calendarWeeks)if(options.calendarWeeks&&!this.calendarWeeks){var weeksElem=parseHTML(calendarWeeksTemplate).firstChild;this.calendarWeeks={element:weeksElem,dow:weeksElem.firstChild,weeks:weeksElem.lastChild},this.element.insertBefore(weeksElem,this.element.firstChild)}else this.calendarWeeks&&!options.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==options.showDaysOfWeek&&(options.showDaysOfWeek?(showElement(this.dow),this.calendarWeeks&&showElement(this.calendarWeeks.dow)):(hideElement(this.dow),this.calendarWeeks&&hideElement(this.calendarWeeks.dow))),updateDOW&&Array.from(this.dow.children).forEach((function(el,index){var dow=(_this.weekStart+index)%7;el.textContent=_this.dayNames[dow],el.className=_this.daysOfWeekDisabled.includes(dow)?"dow disabled":"dow"}))}},{key:"updateFocus",value:function updateFocus(){var viewDate=new Date(this.picker.viewDate),viewYear=viewDate.getFullYear(),viewMonth=viewDate.getMonth(),firstOfMonth=dateValue(viewYear,viewMonth,1),start=dayOfTheWeekOf(firstOfMonth,this.weekStart,this.weekStart);this.first=firstOfMonth,this.last=dateValue(viewYear,viewMonth+1,0),this.start=start,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function updateSelection(){var _this$picker$datepick=this.picker.datepicker,dates=_this$picker$datepick.dates,rangepicker=_this$picker$datepick.rangepicker;this.selected=dates,rangepicker&&(this.range=rangepicker.dates)}},{key:"render",value:function render(){var _this2=this;this.today=this.todayHighlight?today():void 0,this.disabled=_toConsumableArray(this.datesDisabled);var switchLabel=_formatDate(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(switchLabel),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var startOfWeek=dayOfTheWeekOf(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(el,index){el.textContent=function getWeek(date){var thuOfTheWeek=dayOfTheWeekOf(date,4,1),firstThu=dayOfTheWeekOf(new Date(thuOfTheWeek).setMonth(0,4),4,1);return Math.round((thuOfTheWeek-firstThu)/6048e5)+1}(function addWeeks(date,amount){return addDays(date,7*amount)}(startOfWeek,index))}))}Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList,current=addDays(_this2.start,index),date=new Date(current),day=date.getDay();if(el.className="datepicker-cell "+_this2.cellClass,el.dataset.date=current,el.textContent=date.getDate(),current<_this2.first?classList.add("prev"):current>_this2.last&&classList.add("next"),_this2.today===current&&classList.add("today"),(current<_this2.minDate||current>_this2.maxDate||_this2.disabled.includes(current))&&classList.add("disabled"),_this2.daysOfWeekDisabled.includes(day)&&(classList.add("disabled"),pushUnique(_this2.disabled,current)),_this2.daysOfWeekHighlighted.includes(day)&&classList.add("highlighted"),_this2.range){var _this2$range=_slicedToArray(_this2.range,2),rangeStart=_this2$range[0],rangeEnd=_this2$range[1];current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end")}_this2.selected.includes(current)&&classList.add("selected"),current===_this2.focused&&classList.add("focused"),_this2.beforeShow&&_this2.performBeforeHook(el,current,current)}))}},{key:"refresh",value:function refresh(){var _this3=this,_ref3=_slicedToArray(this.range||[],2),rangeStart=_ref3[0],rangeEnd=_ref3[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(el){el.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((function(el){var current=Number(el.dataset.date),classList=el.classList;current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end"),_this3.selected.includes(current)&&classList.add("selected"),current===_this3.focused&&classList.add("focused")}))}},{key:"refreshFocus",value:function refreshFocus(){var index=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(el){el.classList.remove("focused")})),this.grid.children[index].classList.add("focused")}}]),DaysView}(View);function computeMonthRange(range,thisYear){if(range&&range[0]&&range[1]){var _range=_slicedToArray(range,2),_range$=_slicedToArray(_range[0],2),startY=_range$[0],startM=_range$[1],_range$2=_slicedToArray(_range[1],2),endY=_range$2[0],endM=_range$2[1];if(!(startY>thisYear||endY<thisYear))return[startY===thisYear?startM:-1,endY===thisYear?endM:12]}}var MonthsView=function(_View2){_inherits(MonthsView,_View2);var _super2=_createSuper(MonthsView);function MonthsView(picker){return _classCallCheck(this,MonthsView),_super2.call(this,picker,{id:1,name:"months",cellClass:"month"})}return _createClass(MonthsView,[{key:"init",value:function init(options){var onConstruction=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];onConstruction&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(parseHTML(createTagRepeat("span",12,{"data-month":function dataMonth(ix){return ix}})))),_get(_getPrototypeOf(MonthsView.prototype),"init",this).call(this,options)}},{key:"setOptions",value:function setOptions(options){if(options.locale&&(this.monthNames=options.locale.monthsShort),hasProperty(options,"minDate"))if(void 0===options.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var minDateObj=new Date(options.minDate);this.minYear=minDateObj.getFullYear(),this.minMonth=minDateObj.getMonth(),this.minDate=minDateObj.setDate(1)}if(hasProperty(options,"maxDate"))if(void 0===options.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var maxDateObj=new Date(options.maxDate);this.maxYear=maxDateObj.getFullYear(),this.maxMonth=maxDateObj.getMonth(),this.maxDate=dateValue(this.maxYear,this.maxMonth+1,0)}this.isMinView?options.datesDisabled&&(this.datesDisabled=options.datesDisabled):this.datesDisabled=[],void 0!==options.beforeShowMonth&&(this.beforeShow="function"==typeof options.beforeShowMonth?options.beforeShowMonth:void 0)}},{key:"updateFocus",value:function updateFocus(){var viewDate=new Date(this.picker.viewDate);this.year=viewDate.getFullYear(),this.focused=viewDate.getMonth()}},{key:"updateSelection",value:function updateSelection(){var _this$picker$datepick2=this.picker.datepicker,dates=_this$picker$datepick2.dates,rangepicker=_this$picker$datepick2.rangepicker;this.selected=dates.reduce((function(selected,timeValue){var date=new Date(timeValue),year=date.getFullYear(),month=date.getMonth();return void 0===selected[year]?selected[year]=[month]:pushUnique(selected[year],month),selected}),{}),rangepicker&&rangepicker.dates&&(this.range=rangepicker.dates.map((function(timeValue){var date=new Date(timeValue);return isNaN(date)?void 0:[date.getFullYear(),date.getMonth()]})))}},{key:"render",value:function render(){var _this4=this;this.disabled=this.datesDisabled.reduce((function(arr,disabled){var dt=new Date(disabled);return _this4.year===dt.getFullYear()&&arr.push(dt.getMonth()),arr}),[]),this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var selected=this.selected[this.year]||[],yrOutOfRange=this.year<this.minYear||this.year>this.maxYear,isMinYear=this.year===this.minYear,isMaxYear=this.year===this.maxYear,range=computeMonthRange(this.range,this.year);Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList,date=dateValue(_this4.year,index,1);if(el.className="datepicker-cell "+_this4.cellClass,_this4.isMinView&&(el.dataset.date=date),el.textContent=_this4.monthNames[index],(yrOutOfRange||isMinYear&&index<_this4.minMonth||isMaxYear&&index>_this4.maxMonth||_this4.disabled.includes(index))&&classList.add("disabled"),range){var _range2=_slicedToArray(range,2),rangeStart=_range2[0],rangeEnd=_range2[1];index>rangeStart&&index<rangeEnd&&classList.add("range"),index===rangeStart&&classList.add("range-start"),index===rangeEnd&&classList.add("range-end")}selected.includes(index)&&classList.add("selected"),index===_this4.focused&&classList.add("focused"),_this4.beforeShow&&_this4.performBeforeHook(el,index,date)}))}},{key:"refresh",value:function refresh(){var _this5=this,selected=this.selected[this.year]||[],_ref5=_slicedToArray(computeMonthRange(this.range,this.year)||[],2),rangeStart=_ref5[0],rangeEnd=_ref5[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(el){el.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList;index>rangeStart&&index<rangeEnd&&classList.add("range"),index===rangeStart&&classList.add("range-start"),index===rangeEnd&&classList.add("range-end"),selected.includes(index)&&classList.add("selected"),index===_this5.focused&&classList.add("focused")}))}},{key:"refreshFocus",value:function refreshFocus(){this.grid.querySelectorAll(".focused").forEach((function(el){el.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}]),MonthsView}(View);function toTitleCase(word){return _toConsumableArray(word).reduce((function(str,ch,ix){return str+(ix?ch:ch.toUpperCase())}),"")}var YearsView=function(_View3){_inherits(YearsView,_View3);var _super3=_createSuper(YearsView);function YearsView(picker,config){return _classCallCheck(this,YearsView),_super3.call(this,picker,config)}return _createClass(YearsView,[{key:"init",value:function init(options){var onConstruction=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];onConstruction&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow"+toTitleCase(this.cellClass),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(parseHTML(createTagRepeat("span",12)))),_get(_getPrototypeOf(YearsView.prototype),"init",this).call(this,options)}},{key:"setOptions",value:function setOptions(options){if(hasProperty(options,"minDate")&&(void 0===options.minDate?this.minYear=this.minDate=void 0:(this.minYear=startOfYearPeriod(options.minDate,this.step),this.minDate=dateValue(this.minYear,0,1))),hasProperty(options,"maxDate")&&(void 0===options.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=startOfYearPeriod(options.maxDate,this.step),this.maxDate=dateValue(this.maxYear,11,31))),this.isMinView?options.datesDisabled&&(this.datesDisabled=options.datesDisabled):this.datesDisabled=[],void 0!==options[this.beforeShowOption]){var beforeShow=options[this.beforeShowOption];this.beforeShow="function"==typeof beforeShow?beforeShow:void 0}}},{key:"updateFocus",value:function updateFocus(){var viewDate=new Date(this.picker.viewDate),first=startOfYearPeriod(viewDate,this.navStep),last=first+9*this.step;this.first=first,this.last=last,this.start=first-this.step,this.focused=startOfYearPeriod(viewDate,this.step)}},{key:"updateSelection",value:function updateSelection(){var _this6=this,_this$picker$datepick3=this.picker.datepicker,dates=_this$picker$datepick3.dates,rangepicker=_this$picker$datepick3.rangepicker;this.selected=dates.reduce((function(years,timeValue){return pushUnique(years,startOfYearPeriod(timeValue,_this6.step))}),[]),rangepicker&&rangepicker.dates&&(this.range=rangepicker.dates.map((function(timeValue){if(void 0!==timeValue)return startOfYearPeriod(timeValue,_this6.step)})))}},{key:"render",value:function render(){var _this7=this;this.disabled=this.datesDisabled.map((function(disabled){return new Date(disabled).getFullYear()})),this.picker.setViewSwitchLabel(this.first+"-"+this.last),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList,current=_this7.start+index*_this7.step,date=dateValue(current,0,1);if(el.className="datepicker-cell "+_this7.cellClass,_this7.isMinView&&(el.dataset.date=date),el.textContent=el.dataset.year=current,0===index?classList.add("prev"):11===index&&classList.add("next"),(current<_this7.minYear||current>_this7.maxYear||_this7.disabled.includes(current))&&classList.add("disabled"),_this7.range){var _this7$range=_slicedToArray(_this7.range,2),rangeStart=_this7$range[0],rangeEnd=_this7$range[1];current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end")}_this7.selected.includes(current)&&classList.add("selected"),current===_this7.focused&&classList.add("focused"),_this7.beforeShow&&_this7.performBeforeHook(el,current,date)}))}},{key:"refresh",value:function refresh(){var _this8=this,_ref7=_slicedToArray(this.range||[],2),rangeStart=_ref7[0],rangeEnd=_ref7[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(el){el.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((function(el){var current=Number(el.textContent),classList=el.classList;current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end"),_this8.selected.includes(current)&&classList.add("selected"),current===_this8.focused&&classList.add("focused")}))}},{key:"refreshFocus",value:function refreshFocus(){var index=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(el){el.classList.remove("focused")})),this.grid.children[index].classList.add("focused")}}]),YearsView}(View);function triggerDatepickerEvent(datepicker,type){var detail={date:datepicker.getDate(),viewDate:new Date(datepicker.picker.viewDate),viewId:datepicker.picker.currentView.id,datepicker:datepicker};datepicker.element.dispatchEvent(new CustomEvent(type,{detail:detail}))}function goToPrevOrNext(datepicker,direction){var newViewDate,_datepicker$config=datepicker.config,minDate=_datepicker$config.minDate,maxDate=_datepicker$config.maxDate,_datepicker$picker=datepicker.picker,currentView=_datepicker$picker.currentView,viewDate=_datepicker$picker.viewDate;switch(currentView.id){case 0:newViewDate=addMonths(viewDate,direction);break;case 1:newViewDate=addYears(viewDate,direction);break;default:newViewDate=addYears(viewDate,direction*currentView.navStep)}newViewDate=limitToRange(newViewDate,minDate,maxDate),datepicker.picker.changeFocus(newViewDate).render()}function switchView(datepicker){var viewId=datepicker.picker.currentView.id;viewId!==datepicker.config.maxView&&datepicker.picker.changeView(viewId+1).render()}function unfocus(datepicker){datepicker.config.updateOnBlur?datepicker.update({revert:!0}):datepicker.refresh("input"),datepicker.hide()}function goToSelectedMonthOrYear(datepicker,selection){var picker=datepicker.picker,viewDate=new Date(picker.viewDate),viewId=picker.currentView.id,newDate=1===viewId?addMonths(viewDate,selection-viewDate.getMonth()):addYears(viewDate,selection-viewDate.getFullYear());picker.changeFocus(newDate).changeView(viewId-1).render()}function onClickTodayBtn(datepicker){var picker=datepicker.picker,currentDate=today();if(1===datepicker.config.todayBtnMode){if(datepicker.config.autohide)return void datepicker.setDate(currentDate);datepicker.setDate(currentDate,{render:!1}),picker.update()}picker.viewDate!==currentDate&&picker.changeFocus(currentDate),picker.changeView(0).render()}function onClickClearBtn(datepicker){datepicker.setDate({clear:!0})}function onClickViewSwitch(datepicker){switchView(datepicker)}function onClickPrevBtn(datepicker){goToPrevOrNext(datepicker,-1)}function onClickNextBtn(datepicker){goToPrevOrNext(datepicker,1)}function onClickView(datepicker,ev){var target=findElementInEventPath(ev,".datepicker-cell");if(target&&!target.classList.contains("disabled")){var _datepicker$picker$cu=datepicker.picker.currentView,id=_datepicker$picker$cu.id;_datepicker$picker$cu.isMinView?datepicker.setDate(Number(target.dataset.date)):goToSelectedMonthOrYear(datepicker,Number(1===id?target.dataset.month:target.dataset.year))}}function onMousedownPicker(ev){ev.preventDefault()}var orientClasses=["left","top","right","bottom"].reduce((function(obj,key){return obj[key]="datepicker-orient-"+key,obj}),{}),toPx=function toPx(num){return num?num+"px":num};function processPickerOptions(picker,options){if(void 0!==options.title&&(options.title?(picker.controls.title.textContent=options.title,showElement(picker.controls.title)):(picker.controls.title.textContent="",hideElement(picker.controls.title))),options.prevArrow){var prevBtn=picker.controls.prevBtn;emptyChildNodes(prevBtn),options.prevArrow.forEach((function(node){prevBtn.appendChild(node.cloneNode(!0))}))}if(options.nextArrow){var nextBtn=picker.controls.nextBtn;emptyChildNodes(nextBtn),options.nextArrow.forEach((function(node){nextBtn.appendChild(node.cloneNode(!0))}))}if(options.locale&&(picker.controls.todayBtn.textContent=options.locale.today,picker.controls.clearBtn.textContent=options.locale.clear),void 0!==options.todayBtn&&(options.todayBtn?showElement(picker.controls.todayBtn):hideElement(picker.controls.todayBtn)),hasProperty(options,"minDate")||hasProperty(options,"maxDate")){var _picker$datepicker$co=picker.datepicker.config,minDate=_picker$datepicker$co.minDate,maxDate=_picker$datepicker$co.maxDate;picker.controls.todayBtn.disabled=!isInRange(today(),minDate,maxDate)}void 0!==options.clearBtn&&(options.clearBtn?showElement(picker.controls.clearBtn):hideElement(picker.controls.clearBtn))}function computeResetViewDate(datepicker){var dates=datepicker.dates,config=datepicker.config;return limitToRange(dates.length>0?lastItemOf(dates):config.defaultViewDate,config.minDate,config.maxDate)}function setViewDate(picker,newDate){var oldViewDate=new Date(picker.viewDate),newViewDate=new Date(newDate),_picker$currentView=picker.currentView,id=_picker$currentView.id,year=_picker$currentView.year,first=_picker$currentView.first,last=_picker$currentView.last,viewYear=newViewDate.getFullYear();switch(picker.viewDate=newDate,viewYear!==oldViewDate.getFullYear()&&triggerDatepickerEvent(picker.datepicker,"changeYear"),newViewDate.getMonth()!==oldViewDate.getMonth()&&triggerDatepickerEvent(picker.datepicker,"changeMonth"),id){case 0:return newDate<first||newDate>last;case 1:return viewYear!==year;default:return viewYear<first||viewYear>last}}function getTextDirection(el){return window.getComputedStyle(el).direction}function findScrollParents(el){var parent=getParent(el);if(parent!==document.body&&parent)return"visible"!==window.getComputedStyle(parent).overflow?parent:findScrollParents(parent)}var Picker=function(){function Picker(datepicker){_classCallCheck(this,Picker);var config=(this.datepicker=datepicker).config,template=pickerTemplate.replace(/%buttonClass%/g,config.buttonClass),element=this.element=parseHTML(template).firstChild,_element$firstChild$c=_slicedToArray(element.firstChild.children,3),header=_element$firstChild$c[0],main=_element$firstChild$c[1],footer=_element$firstChild$c[2],title=header.firstElementChild,_header$lastElementCh=_slicedToArray(header.lastElementChild.children,3),prevBtn=_header$lastElementCh[0],viewSwitch=_header$lastElementCh[1],nextBtn=_header$lastElementCh[2],_footer$firstChild$ch=_slicedToArray(footer.firstChild.children,2),controls={title:title,prevBtn:prevBtn,viewSwitch:viewSwitch,nextBtn:nextBtn,todayBtn:_footer$firstChild$ch[0],clearBtn:_footer$firstChild$ch[1]};this.main=main,this.controls=controls;var elementClass=datepicker.inline?"inline":"dropdown";element.classList.add("datepicker-"+elementClass),processPickerOptions(this,config),this.viewDate=computeResetViewDate(datepicker),registerListeners(datepicker,[[element,"mousedown",onMousedownPicker],[main,"click",onClickView.bind(null,datepicker)],[controls.viewSwitch,"click",onClickViewSwitch.bind(null,datepicker)],[controls.prevBtn,"click",onClickPrevBtn.bind(null,datepicker)],[controls.nextBtn,"click",onClickNextBtn.bind(null,datepicker)],[controls.todayBtn,"click",onClickTodayBtn.bind(null,datepicker)],[controls.clearBtn,"click",onClickClearBtn.bind(null,datepicker)]]),this.views=[new DaysView(this),new MonthsView(this),new YearsView(this,{id:2,name:"years",cellClass:"year",step:1}),new YearsView(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),config.container?config.container.appendChild(this.element):datepicker.inputField.after(this.element)}return _createClass(Picker,[{key:"setOptions",value:function setOptions(options){processPickerOptions(this,options),this.views.forEach((function(view){view.init(options,!1)})),this.currentView.render()}},{key:"detach",value:function detach(){this.element.remove()}},{key:"show",value:function show(){if(!this.active){var datepicker=this.datepicker,element=this.element;if(datepicker.inline)element.classList.add("active");else{var inputDirection=getTextDirection(datepicker.inputField);inputDirection!==getTextDirection(getParent(element))?element.dir=inputDirection:element.dir&&element.removeAttribute("dir"),element.style.visiblity="hidden",element.classList.add("active"),this.place(),element.style.visiblity="",datepicker.config.disableTouchKeyboard&&datepicker.inputField.blur()}this.active=!0,triggerDatepickerEvent(datepicker,"show")}}},{key:"hide",value:function hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,triggerDatepickerEvent(this.datepicker,"hide"))}},{key:"place",value:function place(){var _this$element=this.element,classList=_this$element.classList,offsetParent=_this$element.offsetParent,style=_this$element.style,_this$datepicker2=this.datepicker,config=_this$datepicker2.config,inputField=_this$datepicker2.inputField,_this$element$getBoun=this.element.getBoundingClientRect(),calendarWidth=_this$element$getBoun.width,calendarHeight=_this$element$getBoun.height,_inputField$getBoundi=inputField.getBoundingClientRect(),inputLeft=_inputField$getBoundi.left,inputTop=_inputField$getBoundi.top,inputRight=_inputField$getBoundi.right,inputBottom=_inputField$getBoundi.bottom,inputWidth=_inputField$getBoundi.width,inputHeight=_inputField$getBoundi.height,_config$orientation=config.orientation,orientX=_config$orientation.x,orientY=_config$orientation.y,left=inputLeft,top=inputTop;if(offsetParent!==document.body&&offsetParent){var offsetParentRect=offsetParent.getBoundingClientRect();left-=offsetParentRect.left-offsetParent.scrollLeft,top-=offsetParentRect.top-offsetParent.scrollTop}else left+=window.scrollX,top+=window.scrollY;var scrollParent=findScrollParents(inputField),scrollAreaLeft=0,scrollAreaTop=0,_document$documentEle=document.documentElement,scrollAreaRight=_document$documentEle.clientWidth,scrollAreaBottom=_document$documentEle.clientHeight;if(scrollParent){var scrollParentRect=scrollParent.getBoundingClientRect();scrollParentRect.top>0&&(scrollAreaTop=scrollParentRect.top),scrollParentRect.left>0&&(scrollAreaLeft=scrollParentRect.left),scrollParentRect.right<scrollAreaRight&&(scrollAreaRight=scrollParentRect.right),scrollParentRect.bottom<scrollAreaBottom&&(scrollAreaBottom=scrollParentRect.bottom)}var adjustment=0;"auto"===orientX&&(inputLeft<scrollAreaLeft?(orientX="left",adjustment=scrollAreaLeft-inputLeft):inputLeft+calendarWidth>scrollAreaRight?(orientX="right",scrollAreaRight<inputRight&&(adjustment=scrollAreaRight-inputRight)):orientX="rtl"===getTextDirection(inputField)?inputRight-calendarWidth<scrollAreaLeft?"left":"right":"left"),"right"===orientX&&(left+=inputWidth-calendarWidth),left+=adjustment,"auto"===orientY&&(orientY=inputTop-calendarHeight>scrollAreaTop&&inputBottom+calendarHeight>scrollAreaBottom?"top":"bottom"),"top"===orientY?top-=calendarHeight:top+=inputHeight,classList.remove.apply(classList,_toConsumableArray(Object.values(orientClasses))),classList.add(orientClasses[orientX],orientClasses[orientY]),style.left=toPx(left),style.top=toPx(top)}},{key:"setViewSwitchLabel",value:function setViewSwitchLabel(labelText){this.controls.viewSwitch.textContent=labelText}},{key:"setPrevBtnDisabled",value:function setPrevBtnDisabled(disabled){this.controls.prevBtn.disabled=disabled}},{key:"setNextBtnDisabled",value:function setNextBtnDisabled(disabled){this.controls.nextBtn.disabled=disabled}},{key:"changeView",value:function changeView(viewId){var oldView=this.currentView,newView=this.views[viewId];return newView.id!==oldView.id&&(this.currentView=newView,this._renderMethod="render",triggerDatepickerEvent(this.datepicker,"changeView"),this.main.replaceChild(newView.element,oldView.element)),this}},{key:"changeFocus",value:function changeFocus(newViewDate){return this._renderMethod=setViewDate(this,newViewDate)?"render":"refreshFocus",this.views.forEach((function(view){view.updateFocus()})),this}},{key:"update",value:function update(){var newViewDate=computeResetViewDate(this.datepicker);return this._renderMethod=setViewDate(this,newViewDate)?"render":"refresh",this.views.forEach((function(view){view.updateFocus(),view.updateSelection()})),this}},{key:"render",value:function render(){var quickRender=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],renderMethod=quickRender&&this._renderMethod||"render";delete this._renderMethod,this.currentView[renderMethod]()}}]),Picker}();function findNextAvailableOne(date,addFn,increase,testFn,min,max){if(isInRange(date,min,max))return testFn(date)?findNextAvailableOne(addFn(date,increase),addFn,increase,testFn,min,max):date}function moveByArrowKey(datepicker,ev,direction,vertical){var addFn,testFn,picker=datepicker.picker,currentView=picker.currentView,step=currentView.step||1,viewDate=picker.viewDate;switch(currentView.id){case 0:viewDate=vertical?addDays(viewDate,7*direction):ev.ctrlKey||ev.metaKey?addYears(viewDate,direction):addDays(viewDate,direction),addFn=addDays,testFn=function testFn(date){return currentView.disabled.includes(date)};break;case 1:viewDate=addMonths(viewDate,vertical?4*direction:direction),addFn=addMonths,testFn=function testFn(date){var dt=new Date(date),year=currentView.year,disabled=currentView.disabled;return dt.getFullYear()===year&&disabled.includes(dt.getMonth())};break;default:viewDate=addYears(viewDate,direction*(vertical?4:1)*step),addFn=addYears,testFn=function testFn(date){return currentView.disabled.includes(startOfYearPeriod(date,step))}}void 0!==(viewDate=findNextAvailableOne(viewDate,addFn,direction<0?-step:step,testFn,currentView.minDate,currentView.maxDate))&&picker.changeFocus(viewDate).render()}function onKeydown(datepicker,ev){var key=ev.key;if("Tab"!==key){var picker=datepicker.picker,_picker$currentView2=picker.currentView,id=_picker$currentView2.id,isMinView=_picker$currentView2.isMinView;if(picker.active){if(datepicker.editMode)return void("Enter"===key?datepicker.exitEditMode({update:!0,autohide:datepicker.config.autohide}):"Escape"===key&&picker.hide());if("ArrowLeft"===key)if(ev.ctrlKey||ev.metaKey)goToPrevOrNext(datepicker,-1);else{if(ev.shiftKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,-1,!1)}else if("ArrowRight"===key)if(ev.ctrlKey||ev.metaKey)goToPrevOrNext(datepicker,1);else{if(ev.shiftKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,1,!1)}else if("ArrowUp"===key)if(ev.ctrlKey||ev.metaKey)switchView(datepicker);else{if(ev.shiftKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,-1,!0)}else if("ArrowDown"===key){if(ev.shiftKey&&!ev.ctrlKey&&!ev.metaKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,1,!0)}else{if("Enter"!==key)return void("Escape"===key?picker.hide():"Backspace"!==key&&"Delete"!==key&&(1!==key.length||ev.ctrlKey||ev.metaKey)||datepicker.enterEditMode());if(isMinView)return void datepicker.setDate(picker.viewDate);picker.changeView(id-1).render()}}else{if("ArrowDown"!==key)return void("Enter"===key?datepicker.update():"Escape"===key&&picker.show());picker.show()}ev.preventDefault()}else unfocus(datepicker)}function onFocus(datepicker){datepicker.config.showOnFocus&&!datepicker._showing&&datepicker.show()}function onMousedown(datepicker,ev){var el=ev.target;(datepicker.picker.active||datepicker.config.showOnClick)&&(el._active=isActiveElement(el),el._clicking=setTimeout((function(){delete el._active,delete el._clicking}),2e3))}function onClickInput(datepicker,ev){var el=ev.target;el._clicking&&(clearTimeout(el._clicking),delete el._clicking,el._active&&datepicker.enterEditMode(),delete el._active,datepicker.config.showOnClick&&datepicker.show())}function onPaste(datepicker,ev){ev.clipboardData.types.includes("text/plain")&&datepicker.enterEditMode()}function onClickOutside(datepicker,ev){var element=datepicker.element,picker=datepicker.picker;if(picker.active||isActiveElement(element)){var pickerElem=picker.element;findElementInEventPath(ev,(function(el){return el===element||el===pickerElem}))||unfocus(datepicker)}}function stringifyDates(dates,config){return dates.map((function(dt){return _formatDate(dt,config.format,config.locale)})).join(config.dateDelimiter)}function processInputDates(datepicker,inputDates){var clear=arguments.length>2&&void 0!==arguments[2]&&arguments[2],config=datepicker.config,origDates=datepicker.dates,rangeSideIndex=datepicker.rangeSideIndex;if(0===inputDates.length)return clear?[]:void 0;var newDates=inputDates.reduce((function(dates,dt){var date=_parseDate(dt,config.format,config.locale);return void 0===date||!isInRange(date=regularizeDate(date,config.pickLevel,rangeSideIndex),config.minDate,config.maxDate)||dates.includes(date)||config.datesDisabled.includes(date)||!(config.pickLevel>0)&&config.daysOfWeekDisabled.includes(new Date(date).getDay())||dates.push(date),dates}),[]);return 0!==newDates.length?(config.multidate&&!clear&&(newDates=newDates.reduce((function(dates,date){return origDates.includes(date)||dates.push(date),dates}),origDates.filter((function(date){return!newDates.includes(date)})))),config.maxNumberOfDates&&newDates.length>config.maxNumberOfDates?newDates.slice(-1*config.maxNumberOfDates):newDates):void 0}function refreshUI(datepicker){var mode=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,quickRender=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],config=datepicker.config,picker=datepicker.picker,inputField=datepicker.inputField;if(2&mode){var newView=picker.active?config.pickLevel:config.startView;picker.update().changeView(newView).render(quickRender)}1&mode&&inputField&&(inputField.value=stringifyDates(datepicker.dates,config))}function _setDate(datepicker,inputDates,options){var clear=options.clear,render=options.render,autohide=options.autohide,revert=options.revert;void 0===render&&(render=!0),render?void 0===autohide&&(autohide=datepicker.config.autohide):autohide=!1;var newDates=processInputDates(datepicker,inputDates,clear);(newDates||revert)&&(newDates&&newDates.toString()!==datepicker.dates.toString()?(datepicker.dates=newDates,refreshUI(datepicker,render?3:1),triggerDatepickerEvent(datepicker,"changeDate")):refreshUI(datepicker,1),autohide&&datepicker.hide())}var Datepicker=function(){function Datepicker(element){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rangepicker=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;_classCallCheck(this,Datepicker),element.datepicker=this,this.element=element;var inputField,initialDates,config=this.config=Object.assign({buttonClass:options.buttonClass&&String(options.buttonClass)||"button",container:null,defaultViewDate:today(),maxDate:void 0,minDate:void 0},processOptions(defaultOptions,this)),inline=this.inline="INPUT"!==element.tagName;if(inline?config.container=element:(options.container&&(config.container=options.container instanceof HTMLElement?options.container:document.querySelector(options.container)),(inputField=this.inputField=element).classList.add("datepicker-input")),rangepicker){var index=rangepicker.inputs.indexOf(inputField),datepickers=rangepicker.datepickers;if(index<0||index>1||!Array.isArray(datepickers))throw Error("Invalid rangepicker object.");datepickers[index]=this,Object.defineProperty(this,"rangepicker",{get:function get(){return rangepicker}}),Object.defineProperty(this,"rangeSideIndex",{get:function get(){return index}})}this._options=options,Object.assign(config,processOptions(options,this)),inline?(initialDates=stringToArray(element.dataset.date,config.dateDelimiter),delete element.dataset.date):initialDates=stringToArray(inputField.value,config.dateDelimiter),this.dates=[];var inputDateValues=processInputDates(this,initialDates);inputDateValues&&inputDateValues.length>0&&(this.dates=inputDateValues),inputField&&(inputField.value=stringifyDates(this.dates,config));var picker=this.picker=new Picker(this);if(inline)this.show();else{var onMousedownDocument=onClickOutside.bind(null,this),listeners=[[inputField,"keydown",onKeydown.bind(null,this)],[inputField,"focus",onFocus.bind(null,this)],[inputField,"mousedown",onMousedown.bind(null,this)],[inputField,"click",onClickInput.bind(null,this)],[inputField,"paste",onPaste.bind(null,this)],[document,"mousedown",onMousedownDocument],[document,"touchstart",onMousedownDocument],[window,"resize",picker.place.bind(picker)]];registerListeners(this,listeners)}}return _createClass(Datepicker,[{key:"active",get:function get(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function get(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function setOptions(options){var picker=this.picker,newOptions=processOptions(options,this);Object.assign(this._options,options),Object.assign(this.config,newOptions),picker.setOptions(newOptions),refreshUI(this,3)}},{key:"show",value:function show(){if(this.inputField){if(this.inputField.disabled)return;isActiveElement(this.inputField)||this.config.disableTouchKeyboard||(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function destroy(){return this.hide(),function unregisterListeners(keyObj){var listeners=listenerRegistry.get(keyObj);listeners&&(listeners.forEach((function(listener){removeEventListener.call.apply(removeEventListener,_toConsumableArray(listener))})),listenerRegistry.delete(keyObj))}(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function getDate(){var _this9=this,format=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,callback=format?function(date){return _formatDate(date,format,_this9.config.locale)}:function(date){return new Date(date)};return this.config.multidate?this.dates.map(callback):this.dates.length>0?callback(this.dates[0]):void 0}},{key:"setDate",value:function setDate(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var dates=[].concat(args),opts={},lastArg=lastItemOf(args);"object"!=typeof lastArg||Array.isArray(lastArg)||lastArg instanceof Date||!lastArg||Object.assign(opts,dates.pop());var inputDates=Array.isArray(dates[0])?dates[0]:dates;_setDate(this,inputDates,opts)}},{key:"update",value:function update(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var opts=Object.assign(options||{},{clear:!0,render:!0}),inputDates=stringToArray(this.inputField.value,this.config.dateDelimiter);_setDate(this,inputDates,opts)}}},{key:"refresh",value:function refresh(){var target=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,forceRender=arguments.length>1&&void 0!==arguments[1]&&arguments[1];target&&"string"!=typeof target&&(forceRender=target,target=void 0),refreshUI(this,"picker"===target?2:"input"===target?1:3,!forceRender)}},{key:"enterEditMode",value:function enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit"))}},{key:"exitEditMode",value:function exitEditMode(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var opts=Object.assign({update:!1},options);delete this.editMode,this.inputField.classList.remove("in-edit"),opts.update&&this.update(opts)}}}],[{key:"formatDate",value:function formatDate(date,format,lang){return _formatDate(date,format,lang&&locales[lang]||locales.en)}},{key:"parseDate",value:function parseDate(dateStr,format,lang){return _parseDate(dateStr,format,lang&&locales[lang]||locales.en)}},{key:"locales",get:function get(){return locales}}]),Datepicker}(),VerdocsFieldDate=function(){function VerdocsFieldDate(hostRef){_classCallCheck(this,VerdocsFieldDate),Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.h)(this,hostRef),this.fieldFocus=Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.d)(this,"fieldFocus",7),this.fieldBlur=Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.d)(this,"fieldBlur",7),this.fieldChange=Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.d)(this,"fieldChange",7),this.fieldInput=Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.d)(this,"fieldInput",7),this.field=null,this.focused=!1}var _focusField;return _createClass(VerdocsFieldDate,[{key:"focusField",value:(_focusField=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.focused=!0,this.el.focus(),this.fieldFocus.emit(!0);case 3:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"componentDidLoad",value:function componentDidLoad(){new Datepicker(this.el,{autohide:!0,todayHighlight:!0}),this.el.addEventListener("changeDate",(function(e){console.log("changeDate",e.detail.date.toISOString())}))}},{key:"handleBlur",value:function handleBlur(){this.focused=!1,this.fieldBlur.emit(!0)}},{key:"handleFocus",value:function handleFocus(){this.focused=!0,this.fieldFocus.emit(!0)}},{key:"handleChange",value:function handleChange(e){this.fieldChange.emit(e.target.value)}},{key:"handleInput",value:function handleInput(e){this.fieldInput.emit(e.target.value)}},{key:"render",value:function render(){var _a,_b,_this10=this,settings={x:0,y:0};return"settings"in this.field&&(null===(_a=this.field)||void 0===_a?void 0:_a.settings)?settings=this.field.settings:"setting"in this.field&&(null===(_b=this.field)||void 0===_b?void 0:_b.setting)&&(settings=this.field.setting),Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.f)(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.b,{class:{focused:this.focused,required:settings.required,storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV)}},Object(_index_542510c1_js__WEBPACK_IMPORTED_MODULE_54__.f)("input",{type:"text",value:"",placeholder:settings.placeholder,required:settings.required,ref:function ref(el){return _this10.el=el},onBlur:function onBlur(){return _this10.handleBlur()},onFocus:function onFocus(){return _this10.handleFocus()},onChange:function onChange(e){return _this10.handleChange(e)},onInput:function onInput(e){return _this10.handleInput(e)}}))}}]),VerdocsFieldDate}();VerdocsFieldDate.style='.datepicker{display:none}.datepicker.active{display:block}.datepicker-dropdown{position:absolute;top:0;left:0;z-index:20;padding-top:4px}.datepicker-dropdown.datepicker-orient-top{padding-top:0;padding-bottom:4px}.datepicker-picker{display:inline-block;border-radius:4px;background-color:white}.datepicker-dropdown .datepicker-picker{-webkit-box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)}.datepicker-picker span{display:block;-ms-flex:1;flex:1;border:0;border-radius:4px;cursor:default;text-align:center;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.datepicker-main{padding:2px}.datepicker-footer{-webkit-box-shadow:inset 0 1px 1px rgba(10, 10, 10, 0.1);box-shadow:inset 0 1px 1px rgba(10, 10, 10, 0.1);background-color:whitesmoke}.datepicker-grid,.datepicker-view .days-of-week,.datepicker-view,.datepicker-controls{display:-ms-flexbox;display:flex}.datepicker-grid{-ms-flex-wrap:wrap;flex-wrap:wrap}.datepicker-view .days .datepicker-cell,.datepicker-view .dow{-ms-flex-preferred-size:14.2857142857%;flex-basis:14.2857142857%}.datepicker-view.datepicker-grid .datepicker-cell{-ms-flex-preferred-size:25%;flex-basis:25%}.datepicker-cell,.datepicker-view .week{height:2.25rem;line-height:2.25rem}.datepicker-title{-webkit-box-shadow:inset 0 -1px 1px rgba(10, 10, 10, 0.1);box-shadow:inset 0 -1px 1px rgba(10, 10, 10, 0.1);background-color:whitesmoke;padding:0.375rem 0.75rem;text-align:center;font-weight:700}.datepicker-header .datepicker-controls{padding:2px 2px 0}.datepicker-controls .button{display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:0;border:1px solid #dbdbdb;border-radius:4px;-webkit-box-shadow:none;box-shadow:none;background-color:white;cursor:pointer;padding:calc(0.375em - 1px) 0.75em;height:2.25em;vertical-align:top;text-align:center;line-height:1.5;white-space:nowrap;color:#363636;font-size:1rem}.datepicker-controls .button:focus,.datepicker-controls .button:active{outline:none}.datepicker-controls .button:hover{border-color:#b5b5b5;color:#363636}.datepicker-controls .button:focus{border-color:#3273dc;color:#363636}.datepicker-controls .button:focus:not(:active){-webkit-box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25);box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25)}.datepicker-controls .button:active{border-color:#4a4a4a;color:#363636}.datepicker-controls .button[disabled]{cursor:not-allowed}.datepicker-header .datepicker-controls .button{border-color:transparent;font-weight:bold}.datepicker-header .datepicker-controls .button:hover{background-color:#f9f9f9}.datepicker-header .datepicker-controls .button:focus:not(:active){-webkit-box-shadow:0 0 0 0.125em rgba(255, 255, 255, 0.25);box-shadow:0 0 0 0.125em rgba(255, 255, 255, 0.25)}.datepicker-header .datepicker-controls .button:active{background-color:#f2f2f2}.datepicker-header .datepicker-controls .button[disabled]{-webkit-box-shadow:none;box-shadow:none}.datepicker-footer .datepicker-controls .button{margin:calc(0.375rem - 1px) 0.375rem;border-radius:2px;width:100%;font-size:0.75rem}.datepicker-controls .view-switch{-ms-flex:auto;flex:auto}.datepicker-controls .prev-btn,.datepicker-controls .next-btn{padding-right:0.375rem;padding-left:0.375rem;width:2.25rem}.datepicker-controls .prev-btn.disabled,.datepicker-controls .next-btn.disabled{visibility:hidden}.datepicker-view .dow{height:1.5rem;line-height:1.5rem;font-size:0.875rem;font-weight:700}.datepicker-view .week{width:2.25rem;color:#b5b5b5;font-size:0.75rem}@media (max-width: 22.5rem){.datepicker-view .week{width:1.96875rem}}.datepicker-grid{width:15.75rem}@media (max-width: 22.5rem){.calendar-weeks+.days .datepicker-grid{width:13.78125rem}}.datepicker-cell:not(.disabled):hover{background-color:#f9f9f9;cursor:pointer}.datepicker-cell.focused:not(.selected){background-color:#e8e8e8}.datepicker-cell.selected,.datepicker-cell.selected:hover{background-color:#3273dc;color:#fff;font-weight:600}.datepicker-cell.disabled{color:#dbdbdb}.datepicker-cell.prev:not(.disabled),.datepicker-cell.next:not(.disabled){color:#7a7a7a}.datepicker-cell.prev.selected,.datepicker-cell.next.selected{color:#e6e6e6}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today){border-radius:0;background-color:whitesmoke}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today):not(.disabled):hover{background-color:#eeeeee}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today).focused{background-color:#e8e8e8}.datepicker-cell.today:not(.selected){background-color:#00d1b2}.datepicker-cell.today:not(.selected):not(.disabled){color:#fff}.datepicker-cell.today.focused:not(.selected){background-color:#00c4a7}.datepicker-cell.range-end:not(.selected),.datepicker-cell.range-start:not(.selected){background-color:#b5b5b5;color:#fff}.datepicker-cell.range-end.focused:not(.selected),.datepicker-cell.range-start.focused:not(.selected){background-color:#afafaf}.datepicker-cell.range-start{border-radius:4px 0 0 4px}.datepicker-cell.range-end{border-radius:0 4px 4px 0}.datepicker-cell.range{border-radius:0;background-color:#dbdbdb}.datepicker-cell.range:not(.disabled):not(.focused):not(.today):hover{background-color:#d5d5d5}.datepicker-cell.range.disabled{color:#c2c2c2}.datepicker-cell.range.focused{background-color:#cfcfcf}.datepicker-view.datepicker-grid .datepicker-cell{height:4.5rem;line-height:4.5rem}.datepicker-input.in-edit{border-color:#2366d1}.datepicker-input.in-edit:focus,.datepicker-input.in-edit:active{-webkit-box-shadow:0 0 0.25em 0.25em rgba(35, 102, 209, 0.2);box-shadow:0 0 0.25em 0.25em rgba(35, 102, 209, 0.2)}verdocs-field-date{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:64px;height:15px;display:block;font-size:11px;position:relative;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-date input{-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px;border:1px solid #ccc;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-date input.hide{display:none}verdocs-field-date.required input{border:1px solid #cc0000}verdocs-field-date.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}'},"./node_modules/core-js/internals/array-reduce.js":function(module,exports,__webpack_require__){var aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),IndexedObject=__webpack_require__("./node_modules/core-js/internals/indexed-object.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),$TypeError=TypeError,createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aCallable(callbackfn);var O=toObject(that),self=IndexedObject(O),length=lengthOfArrayLike(O),index=IS_RIGHT?length-1:0,i=IS_RIGHT?-1:1;if(argumentsLength<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,IS_RIGHT?index<0:length<=index)throw $TypeError("Reduce of empty array with no initial value")}for(;IS_RIGHT?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}};module.exports={left:createMethod(!1),right:createMethod(!0)}},"./node_modules/core-js/internals/date-to-iso-string.js":function(module,exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),padStart=__webpack_require__("./node_modules/core-js/internals/string-pad.js").start,$RangeError=RangeError,abs=Math.abs,DatePrototype=Date.prototype,n$DateToISOString=DatePrototype.toISOString,getTime=uncurryThis(DatePrototype.getTime),getUTCDate=uncurryThis(DatePrototype.getUTCDate),getUTCFullYear=uncurryThis(DatePrototype.getUTCFullYear),getUTCHours=uncurryThis(DatePrototype.getUTCHours),getUTCMilliseconds=uncurryThis(DatePrototype.getUTCMilliseconds),getUTCMinutes=uncurryThis(DatePrototype.getUTCMinutes),getUTCMonth=uncurryThis(DatePrototype.getUTCMonth),getUTCSeconds=uncurryThis(DatePrototype.getUTCSeconds);module.exports=fails((function(){return"0385-07-25T07:06:39.999Z"!=n$DateToISOString.call(new Date(-50000000000001))}))||!fails((function(){n$DateToISOString.call(new Date(NaN))}))?function toISOString(){if(!isFinite(getTime(this)))throw $RangeError("Invalid time value");var year=getUTCFullYear(this),milliseconds=getUTCMilliseconds(this),sign=year<0?"-":year>9999?"+":"";return sign+padStart(abs(year),sign?6:4,0)+"-"+padStart(getUTCMonth(this)+1,2,0)+"-"+padStart(getUTCDate(this),2,0)+"T"+padStart(getUTCHours(this),2,0)+":"+padStart(getUTCMinutes(this),2,0)+":"+padStart(getUTCSeconds(this),2,0)+"."+padStart(milliseconds,3,0)+"Z"}:n$DateToISOString},"./node_modules/core-js/internals/number-parse-int.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),trim=__webpack_require__("./node_modules/core-js/internals/string-trim.js").trim,whitespaces=__webpack_require__("./node_modules/core-js/internals/whitespaces.js"),$parseInt=global.parseInt,Symbol=global.Symbol,ITERATOR=Symbol&&Symbol.iterator,hex=/^[+-]?0x/i,exec=uncurryThis(hex.exec),FORCED=8!==$parseInt(whitespaces+"08")||22!==$parseInt(whitespaces+"0x16")||ITERATOR&&!fails((function(){$parseInt(Object(ITERATOR))}));module.exports=FORCED?function parseInt(string,radix){var S=trim(toString(string));return $parseInt(S,radix>>>0||(exec(hex,S)?16:10))}:$parseInt},"./node_modules/core-js/internals/string-pad-webkit-bug.js":function(module,exports,__webpack_require__){var userAgent=__webpack_require__("./node_modules/core-js/internals/engine-user-agent.js");module.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent)},"./node_modules/core-js/internals/string-pad.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),$repeat=__webpack_require__("./node_modules/core-js/internals/string-repeat.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),repeat=uncurryThis($repeat),stringSlice=uncurryThis("".slice),ceil=Math.ceil,createMethod=function(IS_END){return function($this,maxLength,fillString){var fillLen,stringFiller,S=toString(requireObjectCoercible($this)),intMaxLength=toLength(maxLength),stringLength=S.length,fillStr=void 0===fillString?" ":toString(fillString);return intMaxLength<=stringLength||""==fillStr?S:((stringFiller=repeat(fillStr,ceil((fillLen=intMaxLength-stringLength)/fillStr.length))).length>fillLen&&(stringFiller=stringSlice(stringFiller,0,fillLen)),IS_END?S+stringFiller:stringFiller+S)}};module.exports={start:createMethod(!1),end:createMethod(!0)}},"./node_modules/core-js/modules/es.array.reduce.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$reduce=__webpack_require__("./node_modules/core-js/internals/array-reduce.js").left,arrayMethodIsStrict=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js"),CHROME_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js");$({target:"Array",proto:!0,forced:!arrayMethodIsStrict("reduce")||!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83},{reduce:function reduce(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.date.to-iso-string.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),toISOString=__webpack_require__("./node_modules/core-js/internals/date-to-iso-string.js");$({target:"Date",proto:!0,forced:Date.prototype.toISOString!==toISOString},{toISOString:toISOString})},"./node_modules/core-js/modules/es.parse-int.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$parseInt=__webpack_require__("./node_modules/core-js/internals/number-parse-int.js");$({global:!0,forced:parseInt!=$parseInt},{parseInt:$parseInt})},"./node_modules/core-js/modules/es.string.pad-start.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$padStart=__webpack_require__("./node_modules/core-js/internals/string-pad.js").start;$({target:"String",proto:!0,forced:__webpack_require__("./node_modules/core-js/internals/string-pad-webkit-bug.js")},{padStart:function padStart(maxLength){return $padStart(this,maxLength,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL2xpYi9kYXRlLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvbGliL2RhdGUtZm9ybWF0LmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvbGliL2RvbS5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL2xpYi9ldmVudC5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL2kxOG4vYmFzZS1sb2NhbGVzLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvb3B0aW9ucy9kZWZhdWx0T3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL29wdGlvbnMvcHJvY2Vzc09wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92YW5pbGxhanMtZGF0ZXBpY2tlci9qcy9waWNrZXIvdGVtcGxhdGVzL3BpY2tlclRlbXBsYXRlLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvcGlja2VyL3RlbXBsYXRlcy9kYXlzVGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92YW5pbGxhanMtZGF0ZXBpY2tlci9qcy9waWNrZXIvdGVtcGxhdGVzL2NhbGVuZGFyV2Vla3NUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL3BpY2tlci92aWV3cy9WaWV3LmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvcGlja2VyL3ZpZXdzL0RheXNWaWV3LmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvcGlja2VyL3ZpZXdzL01vbnRoc1ZpZXcuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92YW5pbGxhanMtZGF0ZXBpY2tlci9qcy9waWNrZXIvdmlld3MvWWVhcnNWaWV3LmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvZXZlbnRzL2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL3ZhbmlsbGFqcy1kYXRlcGlja2VyL2pzL2V2ZW50cy9waWNrZXJMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92YW5pbGxhanMtZGF0ZXBpY2tlci9qcy9waWNrZXIvUGlja2VyLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvanMvZXZlbnRzL2lucHV0RmllbGRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92YW5pbGxhanMtZGF0ZXBpY2tlci9qcy9ldmVudHMvb3RoZXJMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92YW5pbGxhanMtZGF0ZXBpY2tlci9qcy9EYXRlcGlja2VyLmpzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy92ZXJkb2NzLWZpZWxkLWRhdGUvdmVyZG9jcy1maWVsZC1kYXRlLnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1maWVsZC1kYXRlL3ZlcmRvY3MtZmllbGQtZGF0ZS5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RhdGUtdG8taXNvLXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbnVtYmVyLXBhcnNlLWludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3RyaW5nLXBhZC13ZWJraXQtYnVnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zdHJpbmctcGFkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1pc28tc3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyJdLCJuYW1lcyI6WyJoYXNQcm9wZXJ0eSIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJsYXN0SXRlbU9mIiwiYXJyIiwibGVuZ3RoIiwicHVzaFVuaXF1ZSIsIml0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmNsdWRlcyIsInB1c2giLCJzdHJpbmdUb0FycmF5Iiwic3RyIiwic2VwYXJhdG9yIiwic3BsaXQiLCJpc0luUmFuZ2UiLCJ0ZXN0VmFsIiwibWluIiwibWF4IiwidW5kZWZpbmVkIiwibGltaXRUb1JhbmdlIiwidmFsIiwiY3JlYXRlVGFnUmVwZWF0IiwidGFnTmFtZSIsInJlcGVhdCIsImF0dHJpYnV0ZXMiLCJpbmRleCIsImh0bWwiLCJvcGVuVGFnU3JjIiwia2V5cyIsInJlZHVjZSIsInNyYyIsImF0dHIiLCJuZXh0Iiwib3B0aW1pemVUZW1wbGF0ZUhUTUwiLCJyZXBsYWNlIiwic3RyaXBUaW1lIiwidGltZVZhbHVlIiwiRGF0ZSIsInNldEhvdXJzIiwidG9kYXkiLCJkYXRlVmFsdWUiLCJuZXdEYXRlIiwic2V0RnVsbFllYXIiLCJhZGREYXlzIiwiZGF0ZSIsImFtb3VudCIsInNldERhdGUiLCJnZXREYXRlIiwiYWRkTW9udGhzIiwibW9udGhzVG9TZXQiLCJnZXRNb250aCIsImV4cGVjdGVkTW9udGgiLCJ0aW1lIiwic2V0TW9udGgiLCJhZGRZZWFycyIsImdldEZ1bGxZZWFyIiwiZGF5RGlmZiIsImRheSIsImZyb20iLCJkYXlPZlRoZVdlZWtPZiIsImJhc2VEYXRlIiwiZGF5T2ZXZWVrIiwid2Vla1N0YXJ0IiwiYmFzZURheSIsImdldERheSIsInN0YXJ0T2ZZZWFyUGVyaW9kIiwieWVhcnMiLCJ5ZWFyIiwiTWF0aCIsImZsb29yIiwicmVndWxhcml6ZURhdGUiLCJ0aW1lU3BhbiIsInVzZUxhc3REYXRlIiwicmVGb3JtYXRUb2tlbnMiLCJyZU5vbkRhdGVQYXJ0cyIsImtub3duRm9ybWF0cyIsInBhcnNlRm5zIiwieSIsInBhcnNlSW50IiwibSIsIm1vbnRoIiwibG9jYWxlIiwibW9udGhJbmRleCIsImlzTmFOIiwiTmFOIiwibW9udGhOYW1lIiwidG9Mb3dlckNhc2UiLCJjb21wYXJlTmFtZXMiLCJuYW1lIiwic3RhcnRzV2l0aCIsIm1vbnRoc1Nob3J0IiwiZmluZEluZGV4IiwibW9udGhzIiwibm9ybWFsaXplTW9udGgiLCJnZXRUaW1lIiwiZCIsImZvcm1hdEZucyIsImRkIiwicGFkWmVybyIsIkQiLCJkYXlzU2hvcnQiLCJERCIsImRheXMiLCJtbSIsIk0iLCJNTSIsInl5Iiwic2xpY2UiLCJ5eXl5IiwibnVtIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInBhcnNlRm9ybWF0U3RyaW5nIiwiZm9ybWF0IiwiRXJyb3IiLCJzZXBhcmF0b3JzIiwicGFydHMiLCJtYXRjaCIsIlJlZ0V4cCIsInBhcnRGb3JtYXR0ZXJzIiwibWFwIiwidG9rZW4iLCJwYXJ0UGFyc2VyS2V5cyIsImtleSIsImZpbmQiLCJwYXJ0IiwicGFyc2VyIiwiZGF0ZVN0ciIsImRhdGVQYXJ0cyIsImR0UGFydHMiLCJvcmlnRGF0ZSIsImZvcm1hdHRlciIsImZuIiwicGFyc2VEYXRlIiwidG9WYWx1ZSIsImZvcm1hdERhdGUiLCJkYXRlT2JqIiwidG9EaXNwbGF5IiwicmFuZ2UiLCJkb2N1bWVudCIsImNyZWF0ZVJhbmdlIiwicGFyc2VIVE1MIiwiY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IiwiZ2V0UGFyZW50IiwiZWwiLCJwYXJlbnRFbGVtZW50IiwicGFyZW50Tm9kZSIsIlNoYWRvd1Jvb3QiLCJob3N0IiwiaXNBY3RpdmVFbGVtZW50IiwiZ2V0Um9vdE5vZGUiLCJhY3RpdmVFbGVtZW50IiwiaGlkZUVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJkYXRhc2V0Iiwic3R5bGVEaXNwbGF5Iiwic2hvd0VsZW1lbnQiLCJlbXB0eUNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJsaXN0ZW5lclJlZ2lzdHJ5IiwiV2Vha01hcCIsIkV2ZW50VGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWdpc3Rlckxpc3RlbmVycyIsImtleU9iaiIsImxpc3RlbmVycyIsInJlZ2lzdGVyZWQiLCJnZXQiLCJzZXQiLCJsaXN0ZW5lciIsIkV2ZW50IiwiY29tcG9zZWRQYXRoIiwiZ2V0Q29tcG9zZWRQYXRoIiwibm9kZSIsInBhcmVudCIsInBhdGgiLCJkZWZhdWx0VmlldyIsInRoaXMiLCJ0YXJnZXQiLCJmaW5kRnJvbVBhdGgiLCJjcml0ZXJpYSIsImN1cnJlbnRUYXJnZXQiLCJyZXN0IiwiZmluZEVsZW1lbnRJbkV2ZW50UGF0aCIsImV2Iiwic2VsZWN0b3IiLCJFbGVtZW50IiwibWF0Y2hlcyIsImxvY2FsZXMiLCJlbiIsImRheXNNaW4iLCJjbGVhciIsInRpdGxlRm9ybWF0IiwiZGVmYXVsdE9wdGlvbnMiLCJhdXRvaGlkZSIsImJlZm9yZVNob3dEYXkiLCJiZWZvcmVTaG93RGVjYWRlIiwiYmVmb3JlU2hvd01vbnRoIiwiYmVmb3JlU2hvd1llYXIiLCJjYWxlbmRhcldlZWtzIiwiY2xlYXJCdG4iLCJkYXRlRGVsaW1pdGVyIiwiZGF0ZXNEaXNhYmxlZCIsImRheXNPZldlZWtEaXNhYmxlZCIsImRheXNPZldlZWtIaWdobGlnaHRlZCIsImRlZmF1bHRWaWV3RGF0ZSIsImRpc2FibGVUb3VjaEtleWJvYXJkIiwibGFuZ3VhZ2UiLCJtYXhEYXRlIiwibWF4TnVtYmVyT2ZEYXRlcyIsIm1heFZpZXciLCJtaW5EYXRlIiwibmV4dEFycm93Iiwib3JpZW50YXRpb24iLCJwaWNrTGV2ZWwiLCJwcmV2QXJyb3ciLCJzaG93RGF5c09mV2VlayIsInNob3dPbkNsaWNrIiwic2hvd09uRm9jdXMiLCJzdGFydFZpZXciLCJ0aXRsZSIsInRvZGF5QnRuIiwidG9kYXlCdG5Nb2RlIiwidG9kYXlIaWdobGlnaHQiLCJ1cGRhdGVPbkJsdXIiLCJkZWZhdWx0TGFuZyIsImRlZmF1bHRGb3JtYXQiLCJkZWZhdWx0V2Vla1N0YXJ0Iiwic2FuaXRpemVET1ciLCJkb3ciLCJjYWxjRW5kT2ZXZWVrIiwic3RhcnRPZldlZWsiLCJ2YWxpZGF0ZURhdGUiLCJ2YWx1ZSIsIm9yaWdWYWx1ZSIsInZhbGlkYXRlVmlld0lkIiwidmlld0lkIiwicHJvY2Vzc09wdGlvbnMiLCJvcHRpb25zIiwiZGF0ZXBpY2tlciIsImxhbmciLCJpbk9wdHMiLCJhc3NpZ24iLCJjb25maWciLCJjb25zdHJ1Y3RvciIsInJhbmdlU2lkZUluZGV4Iiwib3JpZ0xvY2FsZSIsIndlZWtFbmQiLCJoYXNUb0Rpc3BsYXkiLCJoYXNUb1ZhbHVlIiwidmFsaWRGb3JtYXRTdHJpbmciLCJ0ZXN0IiwibmV3UGlja0xldmVsIiwibWluRHQiLCJtYXhEdCIsImRlZmF1bHRNaW5EdCIsImRhdGVzIiwiZHQiLCJ2aWV3RGF0ZSIsIndrU3RhcnQiLCJOdW1iZXIiLCJtdWx0aWRhdGUiLCJTdHJpbmciLCJuZXdNYXhWaWV3IiwibmV3U3RhcnRWaWV3IiwiY2hpbGROb2RlcyIsIngiLCJwaWNrZXJUZW1wbGF0ZSIsImRheXNUZW1wbGF0ZSIsImNsYXNzIiwiY2FsZW5kYXJXZWVrc1RlbXBsYXRlIiwiVmlldyIsInBpY2tlciIsImVsZW1lbnQiLCJzZWxlY3RlZCIsImluaXQiLCJpc01pblZpZXciLCJpZCIsInNldE9wdGlvbnMiLCJ1cGRhdGVGb2N1cyIsInVwZGF0ZVNlbGVjdGlvbiIsInBlcmZvcm1CZWZvcmVIb29rIiwiY3VycmVudCIsInJlc3VsdCIsImJlZm9yZVNob3ciLCJlbmFibGVkIiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsImFkZCIsImRpc2FibGVkIiwiZXh0cmFDbGFzc2VzIiwiY29udGVudCIsInJlcGxhY2VDaGlsZE5vZGVzIiwibmV3Q2hpbGROb2RlcyIsIkRvY3VtZW50RnJhZ21lbnQiLCJhcHBlbmRDaGlsZCIsIkRheXNWaWV3IiwiY2VsbENsYXNzIiwib25Db25zdHJ1Y3Rpb24iLCJpbm5lciIsImdyaWQiLCJsYXN0Q2hpbGQiLCJ1cGRhdGVET1ciLCJkYXlOYW1lcyIsInN3aXRjaExhYmVsRm9ybWF0Iiwid2Vla3NFbGVtIiwid2Vla3MiLCJpbnNlcnRCZWZvcmUiLCJBcnJheSIsImNoaWxkcmVuIiwidGV4dENvbnRlbnQiLCJjbGFzc05hbWUiLCJ2aWV3WWVhciIsInZpZXdNb250aCIsImZpcnN0T2ZNb250aCIsInN0YXJ0IiwiZmlyc3QiLCJsYXN0IiwiZm9jdXNlZCIsInJhbmdlcGlja2VyIiwicmVuZGVyIiwic3dpdGNoTGFiZWwiLCJzZXRWaWV3U3dpdGNoTGFiZWwiLCJzZXRQcmV2QnRuRGlzYWJsZWQiLCJzZXROZXh0QnRuRGlzYWJsZWQiLCJnZXRXZWVrIiwidGh1T2ZUaGVXZWVrIiwiZmlyc3RUaHUiLCJyb3VuZCIsImFkZFdlZWtzIiwicmFuZ2VTdGFydCIsInJhbmdlRW5kIiwicmVmcmVzaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmUiLCJyZWZyZXNoRm9jdXMiLCJjb21wdXRlTW9udGhSYW5nZSIsInRoaXNZZWFyIiwic3RhcnRZIiwic3RhcnRNIiwiZW5kWSIsImVuZE0iLCJNb250aHNWaWV3IiwiaXgiLCJtb250aE5hbWVzIiwibWluWWVhciIsIm1pbk1vbnRoIiwibWluRGF0ZU9iaiIsIm1heFllYXIiLCJtYXhNb250aCIsIm1heERhdGVPYmoiLCJ5ck91dE9mUmFuZ2UiLCJpc01pblllYXIiLCJpc01heFllYXIiLCJ0b1RpdGxlQ2FzZSIsIndvcmQiLCJjaCIsInRvVXBwZXJDYXNlIiwiWWVhcnNWaWV3IiwibmF2U3RlcCIsInN0ZXAiLCJiZWZvcmVTaG93T3B0aW9uIiwidHJpZ2dlckRhdGVwaWNrZXJFdmVudCIsInR5cGUiLCJkZXRhaWwiLCJjdXJyZW50VmlldyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImdvVG9QcmV2T3JOZXh0IiwiZGlyZWN0aW9uIiwibmV3Vmlld0RhdGUiLCJjaGFuZ2VGb2N1cyIsInN3aXRjaFZpZXciLCJjaGFuZ2VWaWV3IiwidW5mb2N1cyIsInVwZGF0ZSIsInJldmVydCIsImhpZGUiLCJnb1RvU2VsZWN0ZWRNb250aE9yWWVhciIsInNlbGVjdGlvbiIsIm9uQ2xpY2tUb2RheUJ0biIsImN1cnJlbnREYXRlIiwib25DbGlja0NsZWFyQnRuIiwib25DbGlja1ZpZXdTd2l0Y2giLCJvbkNsaWNrUHJldkJ0biIsIm9uQ2xpY2tOZXh0QnRuIiwib25DbGlja1ZpZXciLCJjb250YWlucyIsIm9uTW91c2Vkb3duUGlja2VyIiwicHJldmVudERlZmF1bHQiLCJvcmllbnRDbGFzc2VzIiwidG9QeCIsInByb2Nlc3NQaWNrZXJPcHRpb25zIiwiY29udHJvbHMiLCJwcmV2QnRuIiwiY2xvbmVOb2RlIiwibmV4dEJ0biIsImNvbXB1dGVSZXNldFZpZXdEYXRlIiwic2V0Vmlld0RhdGUiLCJvbGRWaWV3RGF0ZSIsImdldFRleHREaXJlY3Rpb24iLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiZmluZFNjcm9sbFBhcmVudHMiLCJib2R5Iiwib3ZlcmZsb3ciLCJQaWNrZXIiLCJ0ZW1wbGF0ZSIsImJ1dHRvbkNsYXNzIiwiaGVhZGVyIiwibWFpbiIsImZvb3RlciIsImZpcnN0RWxlbWVudENoaWxkIiwibGFzdEVsZW1lbnRDaGlsZCIsInZpZXdTd2l0Y2giLCJlbGVtZW50Q2xhc3MiLCJpbmxpbmUiLCJiaW5kIiwidmlld3MiLCJjb250YWluZXIiLCJpbnB1dEZpZWxkIiwiYWZ0ZXIiLCJ2aWV3IiwiZGV0YWNoIiwic2hvdyIsImFjdGl2ZSIsImlucHV0RGlyZWN0aW9uIiwiZGlyIiwicmVtb3ZlQXR0cmlidXRlIiwidmlzaWJsaXR5IiwicGxhY2UiLCJibHVyIiwiZXhpdEVkaXRNb2RlIiwib2Zmc2V0UGFyZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2FsZW5kYXJXaWR0aCIsIndpZHRoIiwiY2FsZW5kYXJIZWlnaHQiLCJoZWlnaHQiLCJpbnB1dExlZnQiLCJsZWZ0IiwiaW5wdXRUb3AiLCJ0b3AiLCJpbnB1dFJpZ2h0IiwicmlnaHQiLCJpbnB1dEJvdHRvbSIsImJvdHRvbSIsImlucHV0V2lkdGgiLCJpbnB1dEhlaWdodCIsIm9yaWVudFgiLCJvcmllbnRZIiwib2Zmc2V0UGFyZW50UmVjdCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxYIiwic2Nyb2xsWSIsInNjcm9sbFBhcmVudCIsInNjcm9sbEFyZWFMZWZ0Iiwic2Nyb2xsQXJlYVRvcCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbEFyZWFSaWdodCIsImNsaWVudFdpZHRoIiwic2Nyb2xsQXJlYUJvdHRvbSIsImNsaWVudEhlaWdodCIsInNjcm9sbFBhcmVudFJlY3QiLCJhZGp1c3RtZW50IiwidmFsdWVzIiwibGFiZWxUZXh0Iiwib2xkVmlldyIsIm5ld1ZpZXciLCJfcmVuZGVyTWV0aG9kIiwicmVwbGFjZUNoaWxkIiwicXVpY2tSZW5kZXIiLCJyZW5kZXJNZXRob2QiLCJmaW5kTmV4dEF2YWlsYWJsZU9uZSIsImFkZEZuIiwiaW5jcmVhc2UiLCJ0ZXN0Rm4iLCJtb3ZlQnlBcnJvd0tleSIsInZlcnRpY2FsIiwiY3RybEtleSIsIm1ldGFLZXkiLCJvbktleWRvd24iLCJlZGl0TW9kZSIsInNoaWZ0S2V5IiwiZW50ZXJFZGl0TW9kZSIsIm9uRm9jdXMiLCJfc2hvd2luZyIsIm9uTW91c2Vkb3duIiwiX2FjdGl2ZSIsIl9jbGlja2luZyIsInNldFRpbWVvdXQiLCJvbkNsaWNrSW5wdXQiLCJjbGVhclRpbWVvdXQiLCJvblBhc3RlIiwiY2xpcGJvYXJkRGF0YSIsInR5cGVzIiwib25DbGlja091dHNpZGUiLCJwaWNrZXJFbGVtIiwic3RyaW5naWZ5RGF0ZXMiLCJqb2luIiwicHJvY2Vzc0lucHV0RGF0ZXMiLCJpbnB1dERhdGVzIiwib3JpZ0RhdGVzIiwibmV3RGF0ZXMiLCJmaWx0ZXIiLCJyZWZyZXNoVUkiLCJtb2RlIiwiRGF0ZXBpY2tlciIsImluaXRpYWxEYXRlcyIsIkhUTUxFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0cyIsImluZGV4T2YiLCJkYXRlcGlja2VycyIsImlzQXJyYXkiLCJkZWZpbmVQcm9wZXJ0eSIsIl9vcHRpb25zIiwiaW5wdXREYXRlVmFsdWVzIiwib25Nb3VzZWRvd25Eb2N1bWVudCIsIm5ld09wdGlvbnMiLCJmb2N1cyIsImRlc3Ryb3kiLCJ1bnJlZ2lzdGVyTGlzdGVuZXJzIiwiY2FsbGJhY2siLCJhcmdzIiwib3B0cyIsImxhc3RBcmciLCJwb3AiLCJmb3JjZVJlbmRlciIsIlZlcmRvY3NGaWVsZERhdGUiLCJmaWVsZCIsImZpZWxkRm9jdXMiLCJlbWl0IiwiY29tcG9uZW50RGlkTG9hZCIsImUiLCJjb25zb2xlIiwibG9nIiwidG9JU09TdHJpbmciLCJoYW5kbGVCbHVyIiwiZmllbGRCbHVyIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVDaGFuZ2UiLCJmaWVsZENoYW5nZSIsImhhbmRsZUlucHV0IiwiZmllbGRJbnB1dCIsInNldHRpbmdzIiwiX2EiLCJfYiIsInNldHRpbmciLCJoIiwiSG9zdCIsInJlcXVpcmVkIiwic3Rvcnlib29rIiwicGxhY2Vob2xkZXIiLCJyZWYiLCJvbkJsdXIiLCJvbkNoYW5nZSIsIm9uSW5wdXQiLCJhQ2FsbGFibGUiLCJ0b09iamVjdCIsIkluZGV4ZWRPYmplY3QiLCJsZW5ndGhPZkFycmF5TGlrZSIsIiRUeXBlRXJyb3IiLCJUeXBlRXJyb3IiLCJjcmVhdGVNZXRob2QiLCJJU19SSUdIVCIsInRoYXQiLCJjYWxsYmFja2ZuIiwiYXJndW1lbnRzTGVuZ3RoIiwibWVtbyIsIk8iLCJzZWxmIiwiaSIsIm1vZHVsZSIsImV4cG9ydHMiLCJ1bmN1cnJ5VGhpcyIsImZhaWxzIiwiJFJhbmdlRXJyb3IiLCJSYW5nZUVycm9yIiwiYWJzIiwiRGF0ZVByb3RvdHlwZSIsIm4kRGF0ZVRvSVNPU3RyaW5nIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VVRDSG91cnMiLCJnZXRVVENNaWxsaXNlY29uZHMiLCJnZXRVVENNaW51dGVzIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENTZWNvbmRzIiwiaXNGaW5pdGUiLCJtaWxsaXNlY29uZHMiLCJzaWduIiwiZ2xvYmFsIiwidHJpbSIsIndoaXRlc3BhY2VzIiwiJHBhcnNlSW50IiwiU3ltYm9sIiwiSVRFUkFUT1IiLCJpdGVyYXRvciIsImhleCIsImV4ZWMiLCJGT1JDRUQiLCJzdHJpbmciLCJyYWRpeCIsIlMiLCJ1c2VyQWdlbnQiLCJ0b0xlbmd0aCIsIiRyZXBlYXQiLCJyZXF1aXJlT2JqZWN0Q29lcmNpYmxlIiwic3RyaW5nU2xpY2UiLCJjZWlsIiwiSVNfRU5EIiwiJHRoaXMiLCJtYXhMZW5ndGgiLCJmaWxsU3RyaW5nIiwiZmlsbExlbiIsInN0cmluZ0ZpbGxlciIsImludE1heExlbmd0aCIsInN0cmluZ0xlbmd0aCIsImZpbGxTdHIiLCJlbmQiLCIkIiwiJHJlZHVjZSIsImFycmF5TWV0aG9kSXNTdHJpY3QiLCJDSFJPTUVfVkVSU0lPTiIsIklTX05PREUiLCJwcm90byIsImZvcmNl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QkFBUSx3REFJeEIwQixFQUFFLENBQUU3QixRQUFRLEVBQU1tQyxPQUFRemlCLFVBQVl5Z0IsV0FBYSxDQUNqRHpnQixTQUFVeWdCLFcsb0hDTFosSUFBSTBCLEVBQUksb0JBQVEsOENBQ1pRLFVBQVksb0JBQVEsa0RBQTJCM1QsTUFLbkRtVCxFQUFFLENBQUU1YixPQUFRLFNBQVVpYyxPQUFPLEVBQU1DLE9BSmxCLG9CQUFRLDhEQUlnQyxDQUN2RHhnQixTQUFVLFNBQVNBLFNBQVMwZixXQUMxQixPQUFPZ0IsVUFBVXJjLEtBQU1xYixVQUFXZSxVQUFVcm5CLE9BQVMsRUFBSXFuQixVQUFVLFFBQUt0bUIsRUFDMUUsRyIsImZpbGUiOiIxNC5lMTlhZTNiYi5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0SXRlbU9mKGFycikge1xuICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cblxuLy8gcHVzaCBvbmx5IHRoZSBpdGVtcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5XG5leHBvcnQgZnVuY3Rpb24gcHVzaFVuaXF1ZShhcnIsIC4uLml0ZW1zKSB7XG4gIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpZiAoYXJyLmluY2x1ZGVzKGl0ZW0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFyci5wdXNoKGl0ZW0pO1xuICB9KTtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyLCBzZXBhcmF0b3IpIHtcbiAgLy8gY29udmVydCBlbXB0eSBzdHJpbmcgdG8gYW4gZW1wdHkgYXJyYXlcbiAgcmV0dXJuIHN0ciA/IHN0ci5zcGxpdChzZXBhcmF0b3IpIDogW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0luUmFuZ2UodGVzdFZhbCwgbWluLCBtYXgpIHtcbiAgY29uc3QgbWluT0sgPSBtaW4gPT09IHVuZGVmaW5lZCB8fCB0ZXN0VmFsID49IG1pbjtcbiAgY29uc3QgbWF4T0sgPSBtYXggPT09IHVuZGVmaW5lZCB8fCB0ZXN0VmFsIDw9IG1heDtcbiAgcmV0dXJuIG1pbk9LICYmIG1heE9LO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGltaXRUb1JhbmdlKHZhbCwgbWluLCBtYXgpIHtcbiAgaWYgKHZhbCA8IG1pbikge1xuICAgIHJldHVybiBtaW47XG4gIH1cbiAgaWYgKHZhbCA+IG1heCkge1xuICAgIHJldHVybiBtYXg7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhZ1JlcGVhdCh0YWdOYW1lLCByZXBlYXQsIGF0dHJpYnV0ZXMgPSB7fSwgaW5kZXggPSAwLCBodG1sID0gJycpIHtcbiAgY29uc3Qgb3BlblRhZ1NyYyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLnJlZHVjZSgoc3JjLCBhdHRyKSA9PiB7XG4gICAgbGV0IHZhbCA9IGF0dHJpYnV0ZXNbYXR0cl07XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbCA9IHZhbChpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBgJHtzcmN9ICR7YXR0cn09XCIke3ZhbH1cImA7XG4gIH0sIHRhZ05hbWUpO1xuICBodG1sICs9IGA8JHtvcGVuVGFnU3JjfT48LyR7dGFnTmFtZX0+YDtcblxuICBjb25zdCBuZXh0ID0gaW5kZXggKyAxO1xuICByZXR1cm4gbmV4dCA8IHJlcGVhdFxuICAgID8gY3JlYXRlVGFnUmVwZWF0KHRhZ05hbWUsIHJlcGVhdCwgYXR0cmlidXRlcywgbmV4dCwgaHRtbClcbiAgICA6IGh0bWw7XG59XG5cbi8vIFJlbW92ZSB0aGUgc3BhY2luZyBzdXJyb3VuZGluZyB0YWdzIGZvciBIVE1MIHBhcnNlciBub3QgdG8gY3JlYXRlIHRleHQgbm9kZXNcbi8vIGJlZm9yZS9hZnRlciBlbGVtZW50c1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplVGVtcGxhdGVIVE1MKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZSgvPlxccysvZywgJz4nKS5yZXBsYWNlKC9cXHMrPC8sICc8Jyk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc3RyaXBUaW1lKHRpbWVWYWx1ZSkge1xuICByZXR1cm4gbmV3IERhdGUodGltZVZhbHVlKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZGF5KCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbn1cblxuLy8gR2V0IHRoZSB0aW1lIHZhbHVlIG9mIHRoZSBzdGFydCBvZiBnaXZlbiBkYXRlIG9yIHllYXIsIG1vbnRoIGFuZCBkYXlcbmV4cG9ydCBmdW5jdGlvbiBkYXRlVmFsdWUoLi4uYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHRvZGF5KCk7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHN0cmlwVGltZShhcmdzWzBdKTtcbiAgfVxuXG4gIC8vIHVzZSBzZXRGdWxsWWVhcigpIHRvIGtlZXAgMi1kaWdpdCB5ZWFyIGZyb20gYmVpbmcgbWFwcGVkIHRvIDE5MDAtMTk5OVxuICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoMCk7XG4gIG5ld0RhdGUuc2V0RnVsbFllYXIoLi4uYXJncyk7XG4gIHJldHVybiBuZXdEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRGF5cyhkYXRlLCBhbW91bnQpIHtcbiAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICByZXR1cm4gbmV3RGF0ZS5zZXREYXRlKG5ld0RhdGUuZ2V0RGF0ZSgpICsgYW1vdW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFdlZWtzKGRhdGUsIGFtb3VudCkge1xuICByZXR1cm4gYWRkRGF5cyhkYXRlLCBhbW91bnQgKiA3KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1vbnRocyhkYXRlLCBhbW91bnQpIHtcbiAgLy8gSWYgdGhlIGRheSBvZiB0aGUgZGF0ZSBpcyBub3QgaW4gdGhlIG5ldyBtb250aCwgdGhlIGxhc3QgZGF5IG9mIHRoZSBuZXdcbiAgLy8gbW9udGggd2lsbCBiZSByZXR1cm5lZC4gZS5nLiBKYW4gMzEgKyAxIG1vbnRoIOKGkiBGZWIgMjggKG5vdCBNYXIgMDMpXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgY29uc3QgbW9udGhzVG9TZXQgPSBuZXdEYXRlLmdldE1vbnRoKCkgKyBhbW91bnQ7XG4gIGxldCBleHBlY3RlZE1vbnRoID0gbW9udGhzVG9TZXQgJSAxMjtcbiAgaWYgKGV4cGVjdGVkTW9udGggPCAwKSB7XG4gICAgZXhwZWN0ZWRNb250aCArPSAxMjtcbiAgfVxuXG4gIGNvbnN0IHRpbWUgPSBuZXdEYXRlLnNldE1vbnRoKG1vbnRoc1RvU2V0KTtcbiAgcmV0dXJuIG5ld0RhdGUuZ2V0TW9udGgoKSAhPT0gZXhwZWN0ZWRNb250aCA/IG5ld0RhdGUuc2V0RGF0ZSgwKSA6IHRpbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRZZWFycyhkYXRlLCBhbW91bnQpIHtcbiAgLy8gSWYgdGhlIGRhdGUgaXMgRmViIDI5IGFuZCB0aGUgbmV3IHllYXIgaXMgbm90IGEgbGVhcCB5ZWFyLCBGZWIgMjggb2YgdGhlXG4gIC8vIG5ldyB5ZWFyIHdpbGwgYmUgcmV0dXJuZWQuXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgY29uc3QgZXhwZWN0ZWRNb250aCA9IG5ld0RhdGUuZ2V0TW9udGgoKTtcbiAgY29uc3QgdGltZSA9IG5ld0RhdGUuc2V0RnVsbFllYXIobmV3RGF0ZS5nZXRGdWxsWWVhcigpICsgYW1vdW50KTtcbiAgcmV0dXJuIGV4cGVjdGVkTW9udGggPT09IDEgJiYgbmV3RGF0ZS5nZXRNb250aCgpID09PSAyID8gbmV3RGF0ZS5zZXREYXRlKDApIDogdGltZTtcbn1cblxuLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBiZXR0d2VuIDIgZGF5cyBvZiB0aGUgd2Vla1xuZnVuY3Rpb24gZGF5RGlmZihkYXksIGZyb20pIHtcbiAgcmV0dXJuIChkYXkgLSBmcm9tICsgNykgJSA3O1xufVxuXG4vLyBHZXQgdGhlIGRhdGUgb2YgdGhlIHNwZWNpZmllZCBkYXkgb2YgdGhlIHdlZWsgb2YgZ2l2ZW4gYmFzZSBkYXRlXG5leHBvcnQgZnVuY3Rpb24gZGF5T2ZUaGVXZWVrT2YoYmFzZURhdGUsIGRheU9mV2Vlaywgd2Vla1N0YXJ0ID0gMCkge1xuICBjb25zdCBiYXNlRGF5ID0gbmV3IERhdGUoYmFzZURhdGUpLmdldERheSgpO1xuICByZXR1cm4gYWRkRGF5cyhiYXNlRGF0ZSwgZGF5RGlmZihkYXlPZldlZWssIHdlZWtTdGFydCkgLSBkYXlEaWZmKGJhc2VEYXksIHdlZWtTdGFydCkpO1xufVxuXG4vLyBHZXQgdGhlIElTTyB3ZWVrIG9mIGEgZGF0ZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWsoZGF0ZSkge1xuICAvLyBzdGFydCBvZiBJU08gd2VlayBpcyBNb25kYXlcbiAgY29uc3QgdGh1T2ZUaGVXZWVrID0gZGF5T2ZUaGVXZWVrT2YoZGF0ZSwgNCwgMSk7XG4gIC8vIDFzdCB3ZWVrID09IHRoZSB3ZWVrIHdoZXJlIHRoZSA0dGggb2YgSmFudWFyeSBpcyBpblxuICBjb25zdCBmaXJzdFRodSA9IGRheU9mVGhlV2Vla09mKG5ldyBEYXRlKHRodU9mVGhlV2Vlaykuc2V0TW9udGgoMCwgNCksIDQsIDEpO1xuICByZXR1cm4gTWF0aC5yb3VuZCgodGh1T2ZUaGVXZWVrIC0gZmlyc3RUaHUpIC8gNjA0ODAwMDAwKSArIDE7XG59XG5cbi8vIEdldCB0aGUgc3RhcnQgeWVhciBvZiB0aGUgcGVyaW9kIG9mIHllYXJzIHRoYXQgaW5jbHVkZXMgZ2l2ZW4gZGF0ZVxuLy8geWVhcnM6IGxlbmd0aCBvZiB0aGUgeWVhciBwZXJpb2RcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mWWVhclBlcmlvZChkYXRlLCB5ZWFycykge1xuICAvKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1llYXJfemVybyNJU09fODYwMSAqL1xuICBjb25zdCB5ZWFyID0gbmV3IERhdGUoZGF0ZSkuZ2V0RnVsbFllYXIoKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoeWVhciAvIHllYXJzKSAqIHllYXJzO1xufVxuXG4vLyBDb252ZXJ0IGRhdGUgdG8gdGhlIGZpcnN0L2xhc3QgZGF0ZSBvZiB0aGUgbW9udGgveWVhciBvZiB0aGUgZGF0ZVxuZXhwb3J0IGZ1bmN0aW9uIHJlZ3VsYXJpemVEYXRlKGRhdGUsIHRpbWVTcGFuLCB1c2VMYXN0RGF0ZSkge1xuICBpZiAodGltZVNwYW4gIT09IDEgJiYgdGltZVNwYW4gIT09IDIpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gIGlmICh0aW1lU3BhbiA9PT0gMSkge1xuICAgIHVzZUxhc3REYXRlXG4gICAgICA/IG5ld0RhdGUuc2V0TW9udGgobmV3RGF0ZS5nZXRNb250aCgpICsgMSwgMClcbiAgICAgIDogbmV3RGF0ZS5zZXREYXRlKDEpO1xuICB9IGVsc2Uge1xuICAgIHVzZUxhc3REYXRlXG4gICAgICA/IG5ld0RhdGUuc2V0RnVsbFllYXIobmV3RGF0ZS5nZXRGdWxsWWVhcigpICsgMSwgMCwgMClcbiAgICAgIDogbmV3RGF0ZS5zZXRNb250aCgwLCAxKTtcbiAgfVxuICByZXR1cm4gbmV3RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbn1cbiIsImltcG9ydCB7c3RyaXBUaW1lLCB0b2RheX0gZnJvbSAnLi9kYXRlLmpzJztcbmltcG9ydCB7bGFzdEl0ZW1PZn0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8vIHBhdHRlcm4gZm9yIGZvcm1hdCBwYXJ0c1xuZXhwb3J0IGNvbnN0IHJlRm9ybWF0VG9rZW5zID0gL2RkP3xERD98bW0/fE1NP3x5eT8oPzp5eSk/Lztcbi8vIHBhdHRlcm4gZm9yIG5vbiBkYXRlIHBhcnRzXG5leHBvcnQgY29uc3QgcmVOb25EYXRlUGFydHMgPSAvW1xccyEtLzotQFstYHstfuW5tOaciOaXpV0rLztcbi8vIGNhY2hlIGZvciBwZXJzZWQgZm9ybWF0c1xubGV0IGtub3duRm9ybWF0cyA9IHt9O1xuLy8gcGFyc2UgZnVudGlvbnMgZm9yIGRhdGUgcGFydHNcbmNvbnN0IHBhcnNlRm5zID0ge1xuICB5KGRhdGUsIHllYXIpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkuc2V0RnVsbFllYXIocGFyc2VJbnQoeWVhciwgMTApKTtcbiAgfSxcbiAgbShkYXRlLCBtb250aCwgbG9jYWxlKSB7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIGxldCBtb250aEluZGV4ID0gcGFyc2VJbnQobW9udGgsIDEwKSAtIDE7XG5cbiAgICBpZiAoaXNOYU4obW9udGhJbmRleCkpIHtcbiAgICAgIGlmICghbW9udGgpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbW9udGhOYW1lID0gbW9udGgudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGNvbXBhcmVOYW1lcyA9IG5hbWUgPT4gbmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgobW9udGhOYW1lKTtcbiAgICAgIC8vIGNvbXBhcmUgd2l0aCBib3RoIHNob3J0IGFuZCBmdWxsIG5hbWVzIGJlY2F1c2Ugc29tZSBsb2NhbGVzIGhhdmUgcGVyaW9kc1xuICAgICAgLy8gaW4gdGhlIHNob3J0IG5hbWVzIChub3QgZXF1YWwgdG8gdGhlIGZpcnN0IFggbGV0dGVycyBvZiB0aGUgZnVsbCBuYW1lcylcbiAgICAgIG1vbnRoSW5kZXggPSBsb2NhbGUubW9udGhzU2hvcnQuZmluZEluZGV4KGNvbXBhcmVOYW1lcyk7XG4gICAgICBpZiAobW9udGhJbmRleCA8IDApIHtcbiAgICAgICAgbW9udGhJbmRleCA9IGxvY2FsZS5tb250aHMuZmluZEluZGV4KGNvbXBhcmVOYW1lcyk7XG4gICAgICB9XG4gICAgICBpZiAobW9udGhJbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXdEYXRlLnNldE1vbnRoKG1vbnRoSW5kZXgpO1xuICAgIHJldHVybiBuZXdEYXRlLmdldE1vbnRoKCkgIT09IG5vcm1hbGl6ZU1vbnRoKG1vbnRoSW5kZXgpXG4gICAgICA/IG5ld0RhdGUuc2V0RGF0ZSgwKVxuICAgICAgOiBuZXdEYXRlLmdldFRpbWUoKTtcbiAgfSxcbiAgZChkYXRlLCBkYXkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkuc2V0RGF0ZShwYXJzZUludChkYXksIDEwKSk7XG4gIH0sXG59O1xuLy8gZm9ybWF0IGZ1bmN0aW9ucyBmb3IgZGF0ZSBwYXJ0c1xuY29uc3QgZm9ybWF0Rm5zID0ge1xuICBkKGRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XG4gIH0sXG4gIGRkKGRhdGUpIHtcbiAgICByZXR1cm4gcGFkWmVybyhkYXRlLmdldERhdGUoKSwgMik7XG4gIH0sXG4gIEQoZGF0ZSwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5kYXlzU2hvcnRbZGF0ZS5nZXREYXkoKV07XG4gIH0sXG4gIEREKGRhdGUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuZGF5c1tkYXRlLmdldERheSgpXTtcbiAgfSxcbiAgbShkYXRlKSB7XG4gICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gIH0sXG4gIG1tKGRhdGUpIHtcbiAgICByZXR1cm4gcGFkWmVybyhkYXRlLmdldE1vbnRoKCkgKyAxLCAyKTtcbiAgfSxcbiAgTShkYXRlLCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0W2RhdGUuZ2V0TW9udGgoKV07XG4gIH0sXG4gIE1NKGRhdGUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzW2RhdGUuZ2V0TW9udGgoKV07XG4gIH0sXG4gIHkoZGF0ZSkge1xuICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIH0sXG4gIHl5KGRhdGUpIHtcbiAgICByZXR1cm4gcGFkWmVybyhkYXRlLmdldEZ1bGxZZWFyKCksIDIpLnNsaWNlKC0yKTtcbiAgfSxcbiAgeXl5eShkYXRlKSB7XG4gICAgcmV0dXJuIHBhZFplcm8oZGF0ZS5nZXRGdWxsWWVhcigpLCA0KTtcbiAgfSxcbn07XG5cbi8vIGdldCBtb250aCBpbmRleCBpbiBub3JtYWwgcmFuZ2UgKDAgLSAxMSkgZnJvbSBhbnkgbnVtYmVyXG5mdW5jdGlvbiBub3JtYWxpemVNb250aChtb250aEluZGV4KSB7XG4gIHJldHVybiBtb250aEluZGV4ID4gLTEgPyBtb250aEluZGV4ICUgMTIgOiBub3JtYWxpemVNb250aChtb250aEluZGV4ICsgMTIpO1xufVxuXG5mdW5jdGlvbiBwYWRaZXJvKG51bSwgbGVuZ3RoKSB7XG4gIHJldHVybiBudW0udG9TdHJpbmcoKS5wYWRTdGFydChsZW5ndGgsICcwJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRm9ybWF0U3RyaW5nKGZvcm1hdCkge1xuICBpZiAodHlwZW9mIGZvcm1hdCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGUgZm9ybWF0LlwiKTtcbiAgfVxuICBpZiAoZm9ybWF0IGluIGtub3duRm9ybWF0cykge1xuICAgIHJldHVybiBrbm93bkZvcm1hdHNbZm9ybWF0XTtcbiAgfVxuXG4gIC8vIHNwcml0IHRoZSBmb3JtYXQgc3RyaW5nIGludG8gcGFydHMgYW5kIHNlcHJhdG9yc1xuICBjb25zdCBzZXBhcmF0b3JzID0gZm9ybWF0LnNwbGl0KHJlRm9ybWF0VG9rZW5zKTtcbiAgY29uc3QgcGFydHMgPSBmb3JtYXQubWF0Y2gobmV3IFJlZ0V4cChyZUZvcm1hdFRva2VucywgJ2cnKSk7XG4gIGlmIChzZXBhcmF0b3JzLmxlbmd0aCA9PT0gMCB8fCAhcGFydHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGUgZm9ybWF0LlwiKTtcbiAgfVxuXG4gIC8vIGNvbGxlY3QgZm9ybWF0IGZ1bmN0aW9ucyB1c2VkIGluIHRoZSBmb3JtYXRcbiAgY29uc3QgcGFydEZvcm1hdHRlcnMgPSBwYXJ0cy5tYXAodG9rZW4gPT4gZm9ybWF0Rm5zW3Rva2VuXSk7XG5cbiAgLy8gY29sbGVjdCBwYXJzZSBmdW5jdGlvbiBrZXlzIHVzZWQgaW4gdGhlIGZvcm1hdFxuICAvLyBpdGVyYXRlIG92ZXIgcGFyc2VGbnMnIGtleXMgaW4gb3JkZXIgdG8ga2VlcCB0aGUgb3JkZXIgb2YgdGhlIGtleXMuXG4gIGNvbnN0IHBhcnRQYXJzZXJLZXlzID0gT2JqZWN0LmtleXMocGFyc2VGbnMpLnJlZHVjZSgoa2V5cywga2V5KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBwYXJ0cy5maW5kKHBhcnQgPT4gcGFydFswXSAhPT0gJ0QnICYmIHBhcnRbMF0udG9Mb3dlckNhc2UoKSA9PT0ga2V5KTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfSwgW10pO1xuXG4gIHJldHVybiBrbm93bkZvcm1hdHNbZm9ybWF0XSA9IHtcbiAgICBwYXJzZXIoZGF0ZVN0ciwgbG9jYWxlKSB7XG4gICAgICBjb25zdCBkYXRlUGFydHMgPSBkYXRlU3RyLnNwbGl0KHJlTm9uRGF0ZVBhcnRzKS5yZWR1Y2UoKGR0UGFydHMsIHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChwYXJ0Lmxlbmd0aCA+IDAgJiYgcGFydHNbaW5kZXhdKSB7XG4gICAgICAgICAgY29uc3QgdG9rZW4gPSBwYXJ0c1tpbmRleF1bMF07XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnTScpIHtcbiAgICAgICAgICAgIGR0UGFydHMubSA9IHBhcnQ7XG4gICAgICAgICAgfSBlbHNlIGlmICh0b2tlbiAhPT0gJ0QnKSB7XG4gICAgICAgICAgICBkdFBhcnRzW3Rva2VuXSA9IHBhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkdFBhcnRzO1xuICAgICAgfSwge30pO1xuXG4gICAgICAvLyBpdGVyYXRlIG92ZXIgcGFydFBhcnNlcmtleXMgc28gdGhhdCB0aGUgcGFyc2luZyBpcyBtYWRlIGluIHRoZSBvZGVyXG4gICAgICAvLyBvZiB5ZWFyLCBtb250aCBhbmQgZGF5IHRvIHByZXZlbnQgdGhlIGRheSBwYXJzZXIgZnJvbSBjb3JyZWN0aW5nIGxhc3RcbiAgICAgIC8vIGRheSBvZiBtb250aCB3cm9uZ2x5XG4gICAgICByZXR1cm4gcGFydFBhcnNlcktleXMucmVkdWNlKChvcmlnRGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGUgPSBwYXJzZUZuc1trZXldKG9yaWdEYXRlLCBkYXRlUGFydHNba2V5XSwgbG9jYWxlKTtcbiAgICAgICAgLy8gaW5nbm9yZSB0aGUgcGFydCBmYWlsZWQgdG8gcGFyc2VcbiAgICAgICAgcmV0dXJuIGlzTmFOKG5ld0RhdGUpID8gb3JpZ0RhdGUgOiBuZXdEYXRlO1xuICAgICAgfSwgdG9kYXkoKSk7XG4gICAgfSxcbiAgICBmb3JtYXR0ZXIoZGF0ZSwgbG9jYWxlKSB7XG4gICAgICBsZXQgZGF0ZVN0ciA9IHBhcnRGb3JtYXR0ZXJzLnJlZHVjZSgoc3RyLCBmbiwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIHN0ciArPSBgJHtzZXBhcmF0b3JzW2luZGV4XX0ke2ZuKGRhdGUsIGxvY2FsZSl9YDtcbiAgICAgIH0sICcnKTtcbiAgICAgIC8vIHNlcGFyYXRvcnMnIGxlbmd0aCBpcyBhbHdheXMgcGFydHMnIGxlbmd0aCArIDEsXG4gICAgICByZXR1cm4gZGF0ZVN0ciArPSBsYXN0SXRlbU9mKHNlcGFyYXRvcnMpO1xuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURhdGUoZGF0ZVN0ciwgZm9ybWF0LCBsb2NhbGUpIHtcbiAgaWYgKGRhdGVTdHIgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBkYXRlU3RyID09PSAnbnVtYmVyJykge1xuICAgIGNvbnN0IGRhdGUgPSBzdHJpcFRpbWUoZGF0ZVN0cik7XG4gICAgcmV0dXJuIGlzTmFOKGRhdGUpID8gdW5kZWZpbmVkIDogZGF0ZTtcbiAgfVxuICBpZiAoIWRhdGVTdHIpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChkYXRlU3RyID09PSAndG9kYXknKSB7XG4gICAgcmV0dXJuIHRvZGF5KCk7XG4gIH1cblxuICBpZiAoZm9ybWF0ICYmIGZvcm1hdC50b1ZhbHVlKSB7XG4gICAgY29uc3QgZGF0ZSA9IGZvcm1hdC50b1ZhbHVlKGRhdGVTdHIsIGZvcm1hdCwgbG9jYWxlKTtcbiAgICByZXR1cm4gaXNOYU4oZGF0ZSkgPyB1bmRlZmluZWQgOiBzdHJpcFRpbWUoZGF0ZSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VGb3JtYXRTdHJpbmcoZm9ybWF0KS5wYXJzZXIoZGF0ZVN0ciwgbG9jYWxlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0LCBsb2NhbGUpIHtcbiAgaWYgKGlzTmFOKGRhdGUpIHx8ICghZGF0ZSAmJiBkYXRlICE9PSAwKSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGNvbnN0IGRhdGVPYmogPSB0eXBlb2YgZGF0ZSA9PT0gJ251bWJlcicgPyBuZXcgRGF0ZShkYXRlKSA6IGRhdGU7XG5cbiAgaWYgKGZvcm1hdC50b0Rpc3BsYXkpIHtcbiAgICByZXR1cm4gZm9ybWF0LnRvRGlzcGxheShkYXRlT2JqLCBmb3JtYXQsIGxvY2FsZSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VGb3JtYXRTdHJpbmcoZm9ybWF0KS5mb3JtYXR0ZXIoZGF0ZU9iaiwgbG9jYWxlKTtcbn1cbiIsImNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSFRNTChodG1sKSB7XG4gIHJldHVybiByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnQoZWwpIHtcbiAgcmV0dXJuIGVsLnBhcmVudEVsZW1lbnRcbiAgICB8fCAoZWwucGFyZW50Tm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyBlbC5wYXJlbnROb2RlLmhvc3QgOiB1bmRlZmluZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBY3RpdmVFbGVtZW50KGVsKSB7XG4gIHJldHVybiBlbC5nZXRSb290Tm9kZSgpLmFjdGl2ZUVsZW1lbnQgPT09IGVsO1xufVxuXG4vLyBlcXVpdmFsZW50IHRvIGpRdWVyeSdzIDp2aXNibGVcbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoZWwpIHtcbiAgcmV0dXJuICEhKGVsLm9mZnNldFdpZHRoIHx8IGVsLm9mZnNldEhlaWdodCB8fCBlbC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlRWxlbWVudChlbCkge1xuICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGJhY2sgdXAgdGhlIGV4aXN0aW5nIGRpc3BsYXkgc2V0dGluZyBpbiBkYXRhLXN0eWxlLWRpc3BsYXlcbiAgaWYgKGVsLnN0eWxlLmRpc3BsYXkpIHtcbiAgICBlbC5kYXRhc2V0LnN0eWxlRGlzcGxheSA9IGVsLnN0eWxlLmRpc3BsYXk7XG4gIH1cbiAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFbGVtZW50KGVsKSB7XG4gIGlmIChlbC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGVsLmRhdGFzZXQuc3R5bGVEaXNwbGF5KSB7XG4gICAgLy8gcmVzdG9yZSBiYWNrZWQtdXAgZGlzcGF5IHByb3BlcnR5XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IGVsLmRhdGFzZXQuc3R5bGVEaXNwbGF5O1xuICAgIGRlbGV0ZSBlbC5kYXRhc2V0LnN0eWxlRGlzcGxheTtcbiAgfSBlbHNlIHtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5Q2hpbGROb2RlcyhlbCkge1xuICBpZiAoZWwuZmlyc3RDaGlsZCkge1xuICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICAgIGVtcHR5Q2hpbGROb2RlcyhlbCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VDaGlsZE5vZGVzKGVsLCBuZXdDaGlsZE5vZGVzKSB7XG4gIGVtcHR5Q2hpbGROb2RlcyhlbCk7XG4gIGlmIChuZXdDaGlsZE5vZGVzIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgIGVsLmFwcGVuZENoaWxkKG5ld0NoaWxkTm9kZXMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBuZXdDaGlsZE5vZGVzID09PSAnc3RyaW5nJykge1xuICAgIGVsLmFwcGVuZENoaWxkKHBhcnNlSFRNTChuZXdDaGlsZE5vZGVzKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NoaWxkTm9kZXMuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG5ld0NoaWxkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgZWwuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImNvbnN0IGxpc3RlbmVyUmVnaXN0cnkgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qge2FkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXJ9ID0gRXZlbnRUYXJnZXQucHJvdG90eXBlO1xuXG4vLyBSZWdpc3RlciBldmVudCBsaXN0ZW5lcnMgdG8gYSBrZXkgb2JqZWN0XG4vLyBsaXN0ZW5lcnM6IGFycmF5IG9mIGxpc3RlbmVyIGRlZmluaXRpb25zO1xuLy8gICAtIGVhY2ggZGVmaW5pdGlvbiBtdXN0IGJlIGEgZmxhdCBhcnJheSBvZiBldmVudCB0YXJnZXQgYW5kIHRoZSBhcmd1bWVudHNcbi8vICAgICB1c2VkIHRvIGNhbGwgYWRkRXZlbnRMaXN0ZW5lcigpIG9uIHRoZSB0YXJnZXRcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVycyhrZXlPYmosIGxpc3RlbmVycykge1xuICBsZXQgcmVnaXN0ZXJlZCA9IGxpc3RlbmVyUmVnaXN0cnkuZ2V0KGtleU9iaik7XG4gIGlmICghcmVnaXN0ZXJlZCkge1xuICAgIHJlZ2lzdGVyZWQgPSBbXTtcbiAgICBsaXN0ZW5lclJlZ2lzdHJ5LnNldChrZXlPYmosIHJlZ2lzdGVyZWQpO1xuICB9XG4gIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbCguLi5saXN0ZW5lcik7XG4gICAgcmVnaXN0ZXJlZC5wdXNoKGxpc3RlbmVyKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyTGlzdGVuZXJzKGtleU9iaikge1xuICBsZXQgbGlzdGVuZXJzID0gbGlzdGVuZXJSZWdpc3RyeS5nZXQoa2V5T2JqKTtcbiAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKC4uLmxpc3RlbmVyKTtcbiAgfSk7XG4gIGxpc3RlbmVyUmVnaXN0cnkuZGVsZXRlKGtleU9iaik7XG59XG5cbi8vIEV2ZW50LmNvbXBvc2VkUGF0aCgpIHBvbHlmaWxsIGZvciBFZGdlXG4vLyBiYXNlZCBvbiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9rbGVpbmZyZXVuZC9lOTc4N2Q3Mzc3NmMwZTM3NTBkY2ZjZGM4OWYxMDBlY1xuaWYgKCFFdmVudC5wcm90b3R5cGUuY29tcG9zZWRQYXRoKSB7XG4gIGNvbnN0IGdldENvbXBvc2VkUGF0aCA9IChub2RlLCBwYXRoID0gW10pID0+IHtcbiAgICBwYXRoLnB1c2gobm9kZSk7XG5cbiAgICBsZXQgcGFyZW50O1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuaG9zdCkgeyAvLyBTaGFkb3dSb290XG4gICAgICBwYXJlbnQgPSBub2RlLmhvc3Q7XG4gICAgfSBlbHNlIGlmIChub2RlLmRlZmF1bHRWaWV3KSB7ICAvLyBEb2N1bWVudFxuICAgICAgcGFyZW50ID0gbm9kZS5kZWZhdWx0VmlldztcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudCA/IGdldENvbXBvc2VkUGF0aChwYXJlbnQsIHBhdGgpIDogcGF0aDtcbiAgfTtcblxuICBFdmVudC5wcm90b3R5cGUuY29tcG9zZWRQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRDb21wb3NlZFBhdGgodGhpcy50YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmaW5kRnJvbVBhdGgocGF0aCwgY3JpdGVyaWEsIGN1cnJlbnRUYXJnZXQpIHtcbiAgY29uc3QgW25vZGUsIC4uLnJlc3RdID0gcGF0aDtcbiAgaWYgKGNyaXRlcmlhKG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgaWYgKG5vZGUgPT09IGN1cnJlbnRUYXJnZXQgfHwgbm9kZS50YWdOYW1lID09PSAnSFRNTCcgfHwgcmVzdC5sZW5ndGggPT09IDApIHtcbiAgICAvLyBzdG9wIHdoZW4gcmVhY2hpbmcgY3VycmVudFRhcmdldCBvciA8aHRtbD5cbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGZpbmRGcm9tUGF0aChyZXN0LCBjcml0ZXJpYSwgY3VycmVudFRhcmdldCk7XG59XG5cbi8vIFNlYXJjaCBmb3IgdGhlIGFjdHVhbCB0YXJnZXQgb2YgYSBkZWxlZ2F0ZWQgZXZlbnRcbmV4cG9ydCBmdW5jdGlvbiBmaW5kRWxlbWVudEluRXZlbnRQYXRoKGV2LCBzZWxlY3Rvcikge1xuICBjb25zdCBjcml0ZXJpYSA9IHR5cGVvZiBzZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gc2VsZWN0b3JcbiAgICA6IGVsID0+IGVsIGluc3RhbmNlb2YgRWxlbWVudCAmJiBlbC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgcmV0dXJuIGZpbmRGcm9tUGF0aChldi5jb21wb3NlZFBhdGgoKSwgY3JpdGVyaWEsIGV2LmN1cnJlbnRUYXJnZXQpO1xufVxuIiwiLy8gZGVmYXVsdCBsb2NhbGVzXG5leHBvcnQgY29uc3QgbG9jYWxlcyA9IHtcbiAgZW46IHtcbiAgICBkYXlzOiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXSxcbiAgICBkYXlzU2hvcnQ6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcbiAgICBkYXlzTWluOiBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXSxcbiAgICBtb250aHM6IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdLFxuICAgIG1vbnRoc1Nob3J0OiBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl0sXG4gICAgdG9kYXk6IFwiVG9kYXlcIixcbiAgICBjbGVhcjogXCJDbGVhclwiLFxuICAgIHRpdGxlRm9ybWF0OiBcIk1NIHlcIlxuICB9XG59O1xuIiwiLy8gY29uZmlnIG9wdGlvbnMgdXBkYXRhYmxlIGJ5IHNldE9wdGlvbnMoKSBhbmQgdGhlaXIgZGVmYXVsdCB2YWx1ZXNcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBhdXRvaGlkZTogZmFsc2UsXG4gIGJlZm9yZVNob3dEYXk6IG51bGwsXG4gIGJlZm9yZVNob3dEZWNhZGU6IG51bGwsXG4gIGJlZm9yZVNob3dNb250aDogbnVsbCxcbiAgYmVmb3JlU2hvd1llYXI6IG51bGwsXG4gIGNhbGVuZGFyV2Vla3M6IGZhbHNlLFxuICBjbGVhckJ0bjogZmFsc2UsXG4gIGRhdGVEZWxpbWl0ZXI6ICcsJyxcbiAgZGF0ZXNEaXNhYmxlZDogW10sXG4gIGRheXNPZldlZWtEaXNhYmxlZDogW10sXG4gIGRheXNPZldlZWtIaWdobGlnaHRlZDogW10sXG4gIGRlZmF1bHRWaWV3RGF0ZTogdW5kZWZpbmVkLCAvLyBwbGFjZWhvbGRlciwgZGVmYXVsdHMgdG8gdG9kYXkoKSBieSB0aGUgcHJvZ3JhbVxuICBkaXNhYmxlVG91Y2hLZXlib2FyZDogZmFsc2UsXG4gIGZvcm1hdDogJ21tL2RkL3l5eXknLFxuICBsYW5ndWFnZTogJ2VuJyxcbiAgbWF4RGF0ZTogbnVsbCxcbiAgbWF4TnVtYmVyT2ZEYXRlczogMSxcbiAgbWF4VmlldzogMyxcbiAgbWluRGF0ZTogbnVsbCxcbiAgbmV4dEFycm93OiAnwrsnLFxuICBvcmllbnRhdGlvbjogJ2F1dG8nLFxuICBwaWNrTGV2ZWw6IDAsXG4gIHByZXZBcnJvdzogJ8KrJyxcbiAgc2hvd0RheXNPZldlZWs6IHRydWUsXG4gIHNob3dPbkNsaWNrOiB0cnVlLFxuICBzaG93T25Gb2N1czogdHJ1ZSxcbiAgc3RhcnRWaWV3OiAwLFxuICB0aXRsZTogJycsXG4gIHRvZGF5QnRuOiBmYWxzZSxcbiAgdG9kYXlCdG5Nb2RlOiAwLFxuICB0b2RheUhpZ2hsaWdodDogZmFsc2UsXG4gIHVwZGF0ZU9uQmx1cjogdHJ1ZSxcbiAgd2Vla1N0YXJ0OiAwLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdE9wdGlvbnM7XG4iLCJpbXBvcnQge2hhc1Byb3BlcnR5LCBwdXNoVW5pcXVlfSBmcm9tICcuLi9saWIvdXRpbHMuanMnO1xuaW1wb3J0IHtkYXRlVmFsdWUsIHJlZ3VsYXJpemVEYXRlfSBmcm9tICcuLi9saWIvZGF0ZS5qcyc7XG5pbXBvcnQge3JlRm9ybWF0VG9rZW5zLCBwYXJzZURhdGV9IGZyb20gJy4uL2xpYi9kYXRlLWZvcm1hdC5qcyc7XG5pbXBvcnQge3BhcnNlSFRNTH0gZnJvbSAnLi4vbGliL2RvbS5qcyc7XG5pbXBvcnQgZGVmYXVsdE9wdGlvbnMgZnJvbSAnLi9kZWZhdWx0T3B0aW9ucy5qcyc7XG5cbmNvbnN0IHtcbiAgbGFuZ3VhZ2U6IGRlZmF1bHRMYW5nLFxuICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gIHdlZWtTdGFydDogZGVmYXVsdFdlZWtTdGFydCxcbn0gPSBkZWZhdWx0T3B0aW9ucztcblxuLy8gUmVkdWNlciBmdW5jdGlvbiB0byBmaWx0ZXIgb3V0IGludmFsaWQgZGF5LW9mLXdlZWsgZnJvbSB0aGUgaW5wdXRcbmZ1bmN0aW9uIHNhbml0aXplRE9XKGRvdywgZGF5KSB7XG4gIHJldHVybiBkb3cubGVuZ3RoIDwgNiAmJiBkYXkgPj0gMCAmJiBkYXkgPCA3XG4gICAgPyBwdXNoVW5pcXVlKGRvdywgZGF5KVxuICAgIDogZG93O1xufVxuXG5mdW5jdGlvbiBjYWxjRW5kT2ZXZWVrKHN0YXJ0T2ZXZWVrKSB7XG4gIHJldHVybiAoc3RhcnRPZldlZWsgKyA2KSAlIDc7XG59XG5cbi8vIHZhbGlkYXRlIGlucHV0IGRhdGUuIGlmIGludmFsaWQsIGZhbGxiYWNrIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZVxuZnVuY3Rpb24gdmFsaWRhdGVEYXRlKHZhbHVlLCBmb3JtYXQsIGxvY2FsZSwgb3JpZ1ZhbHVlKSB7XG4gIGNvbnN0IGRhdGUgPSBwYXJzZURhdGUodmFsdWUsIGZvcm1hdCwgbG9jYWxlKTtcbiAgcmV0dXJuIGRhdGUgIT09IHVuZGVmaW5lZCA/IGRhdGUgOiBvcmlnVmFsdWU7XG59XG5cbi8vIFZhbGlkYXRlIHZpZXdJZC4gaWYgaW52YWxpZCwgZmFsbGJhY2sgdG8gdGhlIG9yaWdpbmFsIHZhbHVlXG5mdW5jdGlvbiB2YWxpZGF0ZVZpZXdJZCh2YWx1ZSwgb3JpZ1ZhbHVlLCBtYXggPSAzKSB7XG4gIGNvbnN0IHZpZXdJZCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gIHJldHVybiB2aWV3SWQgPj0gMCAmJiB2aWV3SWQgPD0gbWF4ID8gdmlld0lkIDogb3JpZ1ZhbHVlO1xufVxuXG4vLyBDcmVhdGUgRGF0ZXBpY2tlciBjb25maWd1cmF0aW9uIHRvIHNldFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJvY2Vzc09wdGlvbnMob3B0aW9ucywgZGF0ZXBpY2tlcikge1xuICBjb25zdCBpbk9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgY29uc3QgY29uZmlnID0ge307XG4gIGNvbnN0IGxvY2FsZXMgPSBkYXRlcGlja2VyLmNvbnN0cnVjdG9yLmxvY2FsZXM7XG4gIGNvbnN0IHJhbmdlU2lkZUluZGV4ID0gZGF0ZXBpY2tlci5yYW5nZVNpZGVJbmRleDtcbiAgbGV0IHtcbiAgICBmb3JtYXQsXG4gICAgbGFuZ3VhZ2UsXG4gICAgbG9jYWxlLFxuICAgIG1heERhdGUsXG4gICAgbWF4VmlldyxcbiAgICBtaW5EYXRlLFxuICAgIHBpY2tMZXZlbCxcbiAgICBzdGFydFZpZXcsXG4gICAgd2Vla1N0YXJ0LFxuICB9ID0gZGF0ZXBpY2tlci5jb25maWcgfHwge307XG5cbiAgaWYgKGluT3B0cy5sYW5ndWFnZSkge1xuICAgIGxldCBsYW5nO1xuICAgIGlmIChpbk9wdHMubGFuZ3VhZ2UgIT09IGxhbmd1YWdlKSB7XG4gICAgICBpZiAobG9jYWxlc1tpbk9wdHMubGFuZ3VhZ2VdKSB7XG4gICAgICAgIGxhbmcgPSBpbk9wdHMubGFuZ3VhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiBsYW5nYXVnZSArIHJlZ2lvbiB0YWcgY2FuIGZhbGxiYWNrIHRvIHRoZSBvbmUgd2l0aG91dFxuICAgICAgICAvLyByZWdpb24gKGUuZy4gZnItQ0Eg4oaSIGZyKVxuICAgICAgICBsYW5nID0gaW5PcHRzLmxhbmd1YWdlLnNwbGl0KCctJylbMF07XG4gICAgICAgIGlmIChsb2NhbGVzW2xhbmddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsYW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlIGluT3B0cy5sYW5ndWFnZTtcbiAgICBpZiAobGFuZykge1xuICAgICAgbGFuZ3VhZ2UgPSBjb25maWcubGFuZ3VhZ2UgPSBsYW5nO1xuXG4gICAgICAvLyB1cGRhdGUgbG9jYWxlIGFzIHdlbGwgd2hlbiB1cGRhdGluZyBsYW5ndWFnZVxuICAgICAgY29uc3Qgb3JpZ0xvY2FsZSA9IGxvY2FsZSB8fCBsb2NhbGVzW2RlZmF1bHRMYW5nXTtcbiAgICAgIC8vIHVzZSBkZWZhdWx0IGxhbmd1YWdlJ3MgcHJvcGVydGllcyBmb3IgdGhlIGZhbGxiYWNrXG4gICAgICBsb2NhbGUgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgICB3ZWVrU3RhcnQ6IGRlZmF1bHRXZWVrU3RhcnRcbiAgICAgIH0sIGxvY2FsZXNbZGVmYXVsdExhbmddKTtcbiAgICAgIGlmIChsYW5ndWFnZSAhPT0gZGVmYXVsdExhbmcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihsb2NhbGUsIGxvY2FsZXNbbGFuZ3VhZ2VdKTtcbiAgICAgIH1cbiAgICAgIGNvbmZpZy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgICAvLyBpZiBmb3JtYXQgYW5kL29yIHdlZWtTdGFydCBhcmUgdGhlIHNhbWUgYXMgb2xkIGxvY2FsZSdzIGRlZmF1bHRzLFxuICAgICAgLy8gdXBkYXRlIHRoZW0gdG8gbmV3IGxvY2FsZSdzIGRlZmF1bHRzXG4gICAgICBpZiAoZm9ybWF0ID09PSBvcmlnTG9jYWxlLmZvcm1hdCkge1xuICAgICAgICBmb3JtYXQgPSBjb25maWcuZm9ybWF0ID0gbG9jYWxlLmZvcm1hdDtcbiAgICAgIH1cbiAgICAgIGlmICh3ZWVrU3RhcnQgPT09IG9yaWdMb2NhbGUud2Vla1N0YXJ0KSB7XG4gICAgICAgIHdlZWtTdGFydCA9IGNvbmZpZy53ZWVrU3RhcnQgPSBsb2NhbGUud2Vla1N0YXJ0O1xuICAgICAgICBjb25maWcud2Vla0VuZCA9IGNhbGNFbmRPZldlZWsobG9jYWxlLndlZWtTdGFydCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGluT3B0cy5mb3JtYXQpIHtcbiAgICBjb25zdCBoYXNUb0Rpc3BsYXkgPSB0eXBlb2YgaW5PcHRzLmZvcm1hdC50b0Rpc3BsYXkgPT09ICdmdW5jdGlvbic7XG4gICAgY29uc3QgaGFzVG9WYWx1ZSA9IHR5cGVvZiBpbk9wdHMuZm9ybWF0LnRvVmFsdWUgPT09ICdmdW5jdGlvbic7XG4gICAgY29uc3QgdmFsaWRGb3JtYXRTdHJpbmcgPSByZUZvcm1hdFRva2Vucy50ZXN0KGluT3B0cy5mb3JtYXQpO1xuICAgIGlmICgoaGFzVG9EaXNwbGF5ICYmIGhhc1RvVmFsdWUpIHx8IHZhbGlkRm9ybWF0U3RyaW5nKSB7XG4gICAgICBmb3JtYXQgPSBjb25maWcuZm9ybWF0ID0gaW5PcHRzLmZvcm1hdDtcbiAgICB9XG4gICAgZGVsZXRlIGluT3B0cy5mb3JtYXQ7XG4gIH1cblxuICAvLyoqKiBwaWNrIGxldmVsICoqKi8vXG4gIGxldCBuZXdQaWNrTGV2ZWwgPSBwaWNrTGV2ZWw7XG4gIGlmIChpbk9wdHMucGlja0xldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICBuZXdQaWNrTGV2ZWwgPSB2YWxpZGF0ZVZpZXdJZChpbk9wdHMucGlja0xldmVsLCAyKTtcbiAgICBkZWxldGUgaW5PcHRzLnBpY2tMZXZlbDtcbiAgfVxuICBpZiAobmV3UGlja0xldmVsICE9PSBwaWNrTGV2ZWwpIHtcbiAgICBpZiAobmV3UGlja0xldmVsID4gcGlja0xldmVsKSB7XG4gICAgICAvLyBjb21wbGVtZW50IGN1cnJlbnQgbWluRGF0ZS9tYWREYXRlIHNvIHRoYXQgdGhlIGV4aXN0aW5nIHJhbmdlIHdpbGwgYmVcbiAgICAgIC8vIGV4cGFuZGVkIHRvIGZpdCB0aGUgbmV3IGxldmVsIGxhdGVyXG4gICAgICBpZiAoaW5PcHRzLm1pbkRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbk9wdHMubWluRGF0ZSA9IG1pbkRhdGU7XG4gICAgICB9XG4gICAgICBpZiAoaW5PcHRzLm1heERhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbk9wdHMubWF4RGF0ZSA9IG1heERhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNvbXBsZW1lbnQgZGF0ZXNEaXNhYmxlZCBzbyB0aGF0IGl0IHdpbGwgYmUgcmVzZXQgbGF0ZXJcbiAgICBpZiAoIWluT3B0cy5kYXRlc0Rpc2FibGVkKSB7XG4gICAgICBpbk9wdHMuZGF0ZXNEaXNhYmxlZCA9IFtdO1xuICAgIH1cbiAgICBwaWNrTGV2ZWwgPSBjb25maWcucGlja0xldmVsID0gbmV3UGlja0xldmVsO1xuICB9XG5cbiAgLy8qKiogZGF0ZXMgKioqLy9cbiAgLy8gd2hpbGUgbWluIGFuZCBtYXhEYXRlIGZvciBcIm5vIGxpbWl0XCIgaW4gdGhlIG9wdGlvbnMgYXJlIGJldHRlciB0byBiZSBudWxsXG4gIC8vIChlc3BlY2lhbGx5IHdoZW4gdXBkYXRpbmcpLCB0aGUgb25lcyBpbiB0aGUgY29uZmlnIGhhdmUgdG8gYmUgdW5kZWZpbmVkXG4gIC8vIGJlY2F1c2UgbnVsbCBpcyB0cmVhdGVkIGFzIDAgKD0gdW5peCBlcG9jaCkgd2hlbiBjb21wYXJpbmcgd2l0aCB0aW1lIHZhbHVlXG4gIGxldCBtaW5EdCA9IG1pbkRhdGU7XG4gIGxldCBtYXhEdCA9IG1heERhdGU7XG4gIGlmIChpbk9wdHMubWluRGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgZGVmYXVsdE1pbkR0ID0gZGF0ZVZhbHVlKDAsIDAsIDEpO1xuICAgIG1pbkR0ID0gaW5PcHRzLm1pbkRhdGUgPT09IG51bGxcbiAgICAgID8gZGVmYXVsdE1pbkR0ICAvLyBzZXQgMDAwMC0wMS0wMSB0byBwcmV2ZW50IG5lZ2F0aXZlIHZhbHVlcyBmb3IgeWVhclxuICAgICAgOiB2YWxpZGF0ZURhdGUoaW5PcHRzLm1pbkRhdGUsIGZvcm1hdCwgbG9jYWxlLCBtaW5EdCk7XG4gICAgaWYgKG1pbkR0ICE9PSBkZWZhdWx0TWluRHQpIHtcbiAgICAgIG1pbkR0ID0gcmVndWxhcml6ZURhdGUobWluRHQsIHBpY2tMZXZlbCwgZmFsc2UpO1xuICAgIH1cbiAgICBkZWxldGUgaW5PcHRzLm1pbkRhdGU7XG4gIH1cbiAgaWYgKGluT3B0cy5tYXhEYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICBtYXhEdCA9IGluT3B0cy5tYXhEYXRlID09PSBudWxsXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiB2YWxpZGF0ZURhdGUoaW5PcHRzLm1heERhdGUsIGZvcm1hdCwgbG9jYWxlLCBtYXhEdCk7XG4gICAgaWYgKG1heER0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heER0ID0gcmVndWxhcml6ZURhdGUobWF4RHQsIHBpY2tMZXZlbCwgdHJ1ZSk7XG4gICAgfVxuICAgIGRlbGV0ZSBpbk9wdHMubWF4RGF0ZTtcbiAgfVxuICBpZiAobWF4RHQgPCBtaW5EdCkge1xuICAgIG1pbkRhdGUgPSBjb25maWcubWluRGF0ZSA9IG1heER0O1xuICAgIG1heERhdGUgPSBjb25maWcubWF4RGF0ZSA9IG1pbkR0O1xuICB9IGVsc2Uge1xuICAgIGlmIChtaW5EYXRlICE9PSBtaW5EdCkge1xuICAgICAgbWluRGF0ZSA9IGNvbmZpZy5taW5EYXRlID0gbWluRHQ7XG4gICAgfVxuICAgIGlmIChtYXhEYXRlICE9PSBtYXhEdCkge1xuICAgICAgbWF4RGF0ZSA9IGNvbmZpZy5tYXhEYXRlID0gbWF4RHQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKGluT3B0cy5kYXRlc0Rpc2FibGVkKSB7XG4gICAgY29uZmlnLmRhdGVzRGlzYWJsZWQgPSBpbk9wdHMuZGF0ZXNEaXNhYmxlZC5yZWR1Y2UoKGRhdGVzLCBkdCkgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9IHBhcnNlRGF0ZShkdCwgZm9ybWF0LCBsb2NhbGUpO1xuICAgICAgcmV0dXJuIGRhdGUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHB1c2hVbmlxdWUoZGF0ZXMsIHJlZ3VsYXJpemVEYXRlKGRhdGUsIHBpY2tMZXZlbCwgcmFuZ2VTaWRlSW5kZXgpKVxuICAgICAgICA6IGRhdGVzO1xuICAgIH0sIFtdKTtcbiAgICBkZWxldGUgaW5PcHRzLmRhdGVzRGlzYWJsZWQ7XG4gIH1cbiAgaWYgKGluT3B0cy5kZWZhdWx0Vmlld0RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHZpZXdEYXRlID0gcGFyc2VEYXRlKGluT3B0cy5kZWZhdWx0Vmlld0RhdGUsIGZvcm1hdCwgbG9jYWxlKTtcbiAgICBpZiAodmlld0RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uZmlnLmRlZmF1bHRWaWV3RGF0ZSA9IHZpZXdEYXRlO1xuICAgIH1cbiAgICBkZWxldGUgaW5PcHRzLmRlZmF1bHRWaWV3RGF0ZTtcbiAgfVxuXG4gIC8vKioqIGRheXMgb2Ygd2VlayAqKiovL1xuICBpZiAoaW5PcHRzLndlZWtTdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgd2tTdGFydCA9IE51bWJlcihpbk9wdHMud2Vla1N0YXJ0KSAlIDc7XG4gICAgaWYgKCFpc05hTih3a1N0YXJ0KSkge1xuICAgICAgd2Vla1N0YXJ0ID0gY29uZmlnLndlZWtTdGFydCA9IHdrU3RhcnQ7XG4gICAgICBjb25maWcud2Vla0VuZCA9IGNhbGNFbmRPZldlZWsod2tTdGFydCk7XG4gICAgfVxuICAgIGRlbGV0ZSBpbk9wdHMud2Vla1N0YXJ0O1xuICB9XG4gIGlmIChpbk9wdHMuZGF5c09mV2Vla0Rpc2FibGVkKSB7XG4gICAgY29uZmlnLmRheXNPZldlZWtEaXNhYmxlZCA9IGluT3B0cy5kYXlzT2ZXZWVrRGlzYWJsZWQucmVkdWNlKHNhbml0aXplRE9XLCBbXSk7XG4gICAgZGVsZXRlIGluT3B0cy5kYXlzT2ZXZWVrRGlzYWJsZWQ7XG4gIH1cbiAgaWYgKGluT3B0cy5kYXlzT2ZXZWVrSGlnaGxpZ2h0ZWQpIHtcbiAgICBjb25maWcuZGF5c09mV2Vla0hpZ2hsaWdodGVkID0gaW5PcHRzLmRheXNPZldlZWtIaWdobGlnaHRlZC5yZWR1Y2Uoc2FuaXRpemVET1csIFtdKTtcbiAgICBkZWxldGUgaW5PcHRzLmRheXNPZldlZWtIaWdobGlnaHRlZDtcbiAgfVxuXG4gIC8vKioqIG11bHRpIGRhdGUgKioqLy9cbiAgaWYgKGluT3B0cy5tYXhOdW1iZXJPZkRhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBtYXhOdW1iZXJPZkRhdGVzID0gcGFyc2VJbnQoaW5PcHRzLm1heE51bWJlck9mRGF0ZXMsIDEwKTtcbiAgICBpZiAobWF4TnVtYmVyT2ZEYXRlcyA+PSAwKSB7XG4gICAgICBjb25maWcubWF4TnVtYmVyT2ZEYXRlcyA9IG1heE51bWJlck9mRGF0ZXM7XG4gICAgICBjb25maWcubXVsdGlkYXRlID0gbWF4TnVtYmVyT2ZEYXRlcyAhPT0gMTtcbiAgICB9XG4gICAgZGVsZXRlIGluT3B0cy5tYXhOdW1iZXJPZkRhdGVzO1xuICB9XG4gIGlmIChpbk9wdHMuZGF0ZURlbGltaXRlcikge1xuICAgIGNvbmZpZy5kYXRlRGVsaW1pdGVyID0gU3RyaW5nKGluT3B0cy5kYXRlRGVsaW1pdGVyKTtcbiAgICBkZWxldGUgaW5PcHRzLmRhdGVEZWxpbWl0ZXI7XG4gIH1cblxuICAvLyoqKiB2aWV3ICoqKi8vXG4gIGxldCBuZXdNYXhWaWV3ID0gbWF4VmlldztcbiAgaWYgKGluT3B0cy5tYXhWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICBuZXdNYXhWaWV3ID0gdmFsaWRhdGVWaWV3SWQoaW5PcHRzLm1heFZpZXcsIG1heFZpZXcpO1xuICAgIGRlbGV0ZSBpbk9wdHMubWF4VmlldztcbiAgfVxuICAvLyBlbnN1cmUgbWF4IHZpZXcgPj0gcGljayBsZXZlbFxuICBuZXdNYXhWaWV3ID0gcGlja0xldmVsID4gbmV3TWF4VmlldyA/IHBpY2tMZXZlbCA6IG5ld01heFZpZXc7XG4gIGlmIChuZXdNYXhWaWV3ICE9PSBtYXhWaWV3KSB7XG4gICAgbWF4VmlldyA9IGNvbmZpZy5tYXhWaWV3ID0gbmV3TWF4VmlldztcbiAgfVxuXG4gIGxldCBuZXdTdGFydFZpZXcgPSBzdGFydFZpZXc7XG4gIGlmIChpbk9wdHMuc3RhcnRWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICBuZXdTdGFydFZpZXcgPSB2YWxpZGF0ZVZpZXdJZChpbk9wdHMuc3RhcnRWaWV3LCBuZXdTdGFydFZpZXcpO1xuICAgIGRlbGV0ZSBpbk9wdHMuc3RhcnRWaWV3O1xuICB9XG4gIC8vIGVuc3VyZSBwaWNrIGxldmVsIDw9IHN0YXJ0IHZpZXcgPD0gbWF4IHZpZXdcbiAgaWYgKG5ld1N0YXJ0VmlldyA8IHBpY2tMZXZlbCkge1xuICAgIG5ld1N0YXJ0VmlldyA9IHBpY2tMZXZlbDtcbiAgfSBlbHNlIGlmIChuZXdTdGFydFZpZXcgPiBtYXhWaWV3KSB7XG4gICAgbmV3U3RhcnRWaWV3ID0gbWF4VmlldztcbiAgfVxuICBpZiAobmV3U3RhcnRWaWV3ICE9PSBzdGFydFZpZXcpIHtcbiAgICBjb25maWcuc3RhcnRWaWV3ID0gbmV3U3RhcnRWaWV3O1xuICB9XG5cbiAgLy8qKiogdGVtcGxhdGUgKioqLy9cbiAgaWYgKGluT3B0cy5wcmV2QXJyb3cpIHtcbiAgICBjb25zdCBwcmV2QXJyb3cgPSBwYXJzZUhUTUwoaW5PcHRzLnByZXZBcnJvdyk7XG4gICAgaWYgKHByZXZBcnJvdy5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbmZpZy5wcmV2QXJyb3cgPSBwcmV2QXJyb3cuY2hpbGROb2RlcztcbiAgICB9XG4gICAgZGVsZXRlIGluT3B0cy5wcmV2QXJyb3c7XG4gIH1cbiAgaWYgKGluT3B0cy5uZXh0QXJyb3cpIHtcbiAgICBjb25zdCBuZXh0QXJyb3cgPSBwYXJzZUhUTUwoaW5PcHRzLm5leHRBcnJvdyk7XG4gICAgaWYgKG5leHRBcnJvdy5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbmZpZy5uZXh0QXJyb3cgPSBuZXh0QXJyb3cuY2hpbGROb2RlcztcbiAgICB9XG4gICAgZGVsZXRlIGluT3B0cy5uZXh0QXJyb3c7XG4gIH1cblxuICAvLyoqKiBtaXNjICoqKi8vXG4gIGlmIChpbk9wdHMuZGlzYWJsZVRvdWNoS2V5Ym9hcmQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbmZpZy5kaXNhYmxlVG91Y2hLZXlib2FyZCA9ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50ICYmICEhaW5PcHRzLmRpc2FibGVUb3VjaEtleWJvYXJkO1xuICAgIGRlbGV0ZSBpbk9wdHMuZGlzYWJsZVRvdWNoS2V5Ym9hcmQ7XG4gIH1cbiAgaWYgKGluT3B0cy5vcmllbnRhdGlvbikge1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gaW5PcHRzLm9yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCkuc3BsaXQoL1xccysvZyk7XG4gICAgY29uZmlnLm9yaWVudGF0aW9uID0ge1xuICAgICAgeDogb3JpZW50YXRpb24uZmluZCh4ID0+ICh4ID09PSAnbGVmdCcgfHwgeCA9PT0gJ3JpZ2h0JykpIHx8ICdhdXRvJyxcbiAgICAgIHk6IG9yaWVudGF0aW9uLmZpbmQoeSA9PiAoeSA9PT0gJ3RvcCcgfHwgeSA9PT0gJ2JvdHRvbScpKSB8fCAnYXV0bycsXG4gICAgfTtcbiAgICBkZWxldGUgaW5PcHRzLm9yaWVudGF0aW9uO1xuICB9XG4gIGlmIChpbk9wdHMudG9kYXlCdG5Nb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICBzd2l0Y2goaW5PcHRzLnRvZGF5QnRuTW9kZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgY2FzZSAxOlxuICAgICAgICBjb25maWcudG9kYXlCdG5Nb2RlID0gaW5PcHRzLnRvZGF5QnRuTW9kZTtcbiAgICB9XG4gICAgZGVsZXRlIGluT3B0cy50b2RheUJ0bk1vZGU7XG4gIH1cblxuICAvLyoqKiBjb3B5IHRoZSByZXN0ICoqKi8vXG4gIE9iamVjdC5rZXlzKGluT3B0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKGluT3B0c1trZXldICE9PSB1bmRlZmluZWQgJiYgaGFzUHJvcGVydHkoZGVmYXVsdE9wdGlvbnMsIGtleSkpIHtcbiAgICAgIGNvbmZpZ1trZXldID0gaW5PcHRzW2tleV07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuIiwiaW1wb3J0IHtvcHRpbWl6ZVRlbXBsYXRlSFRNTH0gZnJvbSAnLi4vLi4vbGliL3V0aWxzLmpzJztcblxuY29uc3QgcGlja2VyVGVtcGxhdGUgPSBvcHRpbWl6ZVRlbXBsYXRlSFRNTChgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXJcIj5cbiAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItcGlja2VyXCI+XG4gICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci10aXRsZVwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItY29udHJvbHNcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIlYnV0dG9uQ2xhc3MlIHByZXYtYnRuXCI+PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJWJ1dHRvbkNsYXNzJSB2aWV3LXN3aXRjaFwiPjwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiVidXR0b25DbGFzcyUgbmV4dC1idG5cIj48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLW1haW5cIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1mb290ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNvbnRyb2xzXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJWJ1dHRvbkNsYXNzJSB0b2RheS1idG5cIj48L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIlYnV0dG9uQ2xhc3MlIGNsZWFyLWJ0blwiPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+YCk7XG5cbmV4cG9ydCBkZWZhdWx0IHBpY2tlclRlbXBsYXRlO1xuIiwiaW1wb3J0IHtjcmVhdGVUYWdSZXBlYXQsIG9wdGltaXplVGVtcGxhdGVIVE1MfSBmcm9tICcuLi8uLi9saWIvdXRpbHMuanMnO1xuXG5jb25zdCBkYXlzVGVtcGxhdGUgPSBvcHRpbWl6ZVRlbXBsYXRlSFRNTChgPGRpdiBjbGFzcz1cImRheXNcIj5cbiAgPGRpdiBjbGFzcz1cImRheXMtb2Ytd2Vla1wiPiR7Y3JlYXRlVGFnUmVwZWF0KCdzcGFuJywgNywge2NsYXNzOiAnZG93J30pfTwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1ncmlkXCI+JHtjcmVhdGVUYWdSZXBlYXQoJ3NwYW4nLCA0Mil9PC9kaXY+XG48L2Rpdj5gKTtcblxuZXhwb3J0IGRlZmF1bHQgZGF5c1RlbXBsYXRlO1xuIiwiaW1wb3J0IHtjcmVhdGVUYWdSZXBlYXQsIG9wdGltaXplVGVtcGxhdGVIVE1MfSBmcm9tICcuLi8uLi9saWIvdXRpbHMuanMnO1xuXG5jb25zdCBjYWxlbmRhcldlZWtzVGVtcGxhdGUgPSBvcHRpbWl6ZVRlbXBsYXRlSFRNTChgPGRpdiBjbGFzcz1cImNhbGVuZGFyLXdlZWtzXCI+XG4gIDxkaXYgY2xhc3M9XCJkYXlzLW9mLXdlZWtcIj48c3BhbiBjbGFzcz1cImRvd1wiPjwvc3Bhbj48L2Rpdj5cbiAgPGRpdiBjbGFzcz1cIndlZWtzXCI+JHtjcmVhdGVUYWdSZXBlYXQoJ3NwYW4nLCA2LCB7Y2xhc3M6ICd3ZWVrJ30pfTwvZGl2PlxuPC9kaXY+YCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNhbGVuZGFyV2Vla3NUZW1wbGF0ZTtcbiIsImltcG9ydCB7cHVzaFVuaXF1ZX0gZnJvbSAnLi4vLi4vbGliL3V0aWxzLmpzJztcbmltcG9ydCB7cGFyc2VIVE1MLCByZXBsYWNlQ2hpbGROb2Rlc30gZnJvbSAnLi4vLi4vbGliL2RvbS5qcyc7XG5cbi8vIEJhc2UgY2xhc3Mgb2YgdGhlIHZpZXcgY2xhc3Nlc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XG4gIGNvbnN0cnVjdG9yKHBpY2tlciwgY29uZmlnKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjb25maWcsIHtcbiAgICAgIHBpY2tlcixcbiAgICAgIGVsZW1lbnQ6IHBhcnNlSFRNTChgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItdmlld1wiPjwvZGl2PmApLmZpcnN0Q2hpbGQsXG4gICAgICBzZWxlY3RlZDogW10sXG4gICAgfSk7XG4gICAgdGhpcy5pbml0KHRoaXMucGlja2VyLmRhdGVwaWNrZXIuY29uZmlnKTtcbiAgfVxuXG4gIGluaXQob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnBpY2tMZXZlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmlzTWluVmlldyA9IHRoaXMuaWQgPT09IG9wdGlvbnMucGlja0xldmVsO1xuICAgIH1cbiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgdGhpcy51cGRhdGVGb2N1cygpO1xuICAgIHRoaXMudXBkYXRlU2VsZWN0aW9uKCk7XG4gIH1cblxuICAvLyBFeGVjdXRlIGJlZm9yZVNob3coKSBjYWxsYmFjayBhbmQgYXBwbHkgdGhlIHJlc3VsdCB0byB0aGUgZWxlbWVudFxuICAvLyBhcmdzOlxuICAvLyAtIGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlIG9uIHRoZSBpdGVyYXRpb24gb24gdmlldyByZW5kZXJpbmdcbiAgLy8gLSB0aW1lVmFsdWUgLSB0aW1lIHZhbHVlIG9mIHRoZSBkYXRlIHRvIHBhc3MgdG8gYmVmb3JlU2hvdygpXG4gIHBlcmZvcm1CZWZvcmVIb29rKGVsLCBjdXJyZW50LCB0aW1lVmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5iZWZvcmVTaG93KG5ldyBEYXRlKHRpbWVWYWx1ZSkpO1xuICAgIHN3aXRjaCAodHlwZW9mIHJlc3VsdCkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJlc3VsdCA9IHtlbmFibGVkOiByZXN1bHR9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJlc3VsdCA9IHtjbGFzc2VzOiByZXN1bHR9O1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQuZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgcHVzaFVuaXF1ZSh0aGlzLmRpc2FibGVkLCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuY2xhc3Nlcykge1xuICAgICAgICBjb25zdCBleHRyYUNsYXNzZXMgPSByZXN1bHQuY2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKC4uLmV4dHJhQ2xhc3Nlcyk7XG4gICAgICAgIGlmIChleHRyYUNsYXNzZXMuaW5jbHVkZXMoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICBwdXNoVW5pcXVlKHRoaXMuZGlzYWJsZWQsIGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0LmNvbnRlbnQpIHtcbiAgICAgICAgcmVwbGFjZUNoaWxkTm9kZXMoZWwsIHJlc3VsdC5jb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7aGFzUHJvcGVydHksIHB1c2hVbmlxdWV9IGZyb20gJy4uLy4uL2xpYi91dGlscy5qcyc7XG5pbXBvcnQge3RvZGF5LCBkYXRlVmFsdWUsIGFkZERheXMsIGFkZFdlZWtzLCBkYXlPZlRoZVdlZWtPZiwgZ2V0V2Vla30gZnJvbSAnLi4vLi4vbGliL2RhdGUuanMnO1xuaW1wb3J0IHtmb3JtYXREYXRlfSBmcm9tICcuLi8uLi9saWIvZGF0ZS1mb3JtYXQuanMnO1xuaW1wb3J0IHtwYXJzZUhUTUwsIHNob3dFbGVtZW50LCBoaWRlRWxlbWVudH0gZnJvbSAnLi4vLi4vbGliL2RvbS5qcyc7XG5pbXBvcnQgZGF5c1RlbXBsYXRlIGZyb20gJy4uL3RlbXBsYXRlcy9kYXlzVGVtcGxhdGUuanMnO1xuaW1wb3J0IGNhbGVuZGFyV2Vla3NUZW1wbGF0ZSBmcm9tICcuLi90ZW1wbGF0ZXMvY2FsZW5kYXJXZWVrc1RlbXBsYXRlLmpzJztcbmltcG9ydCBWaWV3IGZyb20gJy4vVmlldy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERheXNWaWV3IGV4dGVuZHMgVmlldyB7XG4gIGNvbnN0cnVjdG9yKHBpY2tlcikge1xuICAgIHN1cGVyKHBpY2tlciwge1xuICAgICAgaWQ6IDAsXG4gICAgICBuYW1lOiAnZGF5cycsXG4gICAgICBjZWxsQ2xhc3M6ICdkYXknLFxuICAgIH0pO1xuICB9XG5cbiAgaW5pdChvcHRpb25zLCBvbkNvbnN0cnVjdGlvbiA9IHRydWUpIHtcbiAgICBpZiAob25Db25zdHJ1Y3Rpb24pIHtcbiAgICAgIGNvbnN0IGlubmVyID0gcGFyc2VIVE1MKGRheXNUZW1wbGF0ZSkuZmlyc3RDaGlsZDtcbiAgICAgIHRoaXMuZG93ID0gaW5uZXIuZmlyc3RDaGlsZDtcbiAgICAgIHRoaXMuZ3JpZCA9IGlubmVyLmxhc3RDaGlsZDtcbiAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpbm5lcik7XG4gICAgfVxuICAgIHN1cGVyLmluaXQob3B0aW9ucyk7XG4gIH1cblxuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBsZXQgdXBkYXRlRE9XO1xuXG4gICAgaWYgKGhhc1Byb3BlcnR5KG9wdGlvbnMsICdtaW5EYXRlJykpIHtcbiAgICAgIHRoaXMubWluRGF0ZSA9IG9wdGlvbnMubWluRGF0ZTtcbiAgICB9XG4gICAgaWYgKGhhc1Byb3BlcnR5KG9wdGlvbnMsICdtYXhEYXRlJykpIHtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IG9wdGlvbnMubWF4RGF0ZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZGF0ZXNEaXNhYmxlZCkge1xuICAgICAgdGhpcy5kYXRlc0Rpc2FibGVkID0gb3B0aW9ucy5kYXRlc0Rpc2FibGVkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kYXlzT2ZXZWVrRGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkID0gb3B0aW9ucy5kYXlzT2ZXZWVrRGlzYWJsZWQ7XG4gICAgICB1cGRhdGVET1cgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kYXlzT2ZXZWVrSGlnaGxpZ2h0ZWQpIHtcbiAgICAgIHRoaXMuZGF5c09mV2Vla0hpZ2hsaWdodGVkID0gb3B0aW9ucy5kYXlzT2ZXZWVrSGlnaGxpZ2h0ZWQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRvZGF5SGlnaGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudG9kYXlIaWdobGlnaHQgPSBvcHRpb25zLnRvZGF5SGlnaGxpZ2h0O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy53ZWVrU3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy53ZWVrU3RhcnQgPSBvcHRpb25zLndlZWtTdGFydDtcbiAgICAgIHRoaXMud2Vla0VuZCA9IG9wdGlvbnMud2Vla0VuZDtcbiAgICAgIHVwZGF0ZURPVyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmxvY2FsZSkge1xuICAgICAgY29uc3QgbG9jYWxlID0gdGhpcy5sb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICAgIHRoaXMuZGF5TmFtZXMgPSBsb2NhbGUuZGF5c01pbjtcbiAgICAgIHRoaXMuc3dpdGNoTGFiZWxGb3JtYXQgPSBsb2NhbGUudGl0bGVGb3JtYXQ7XG4gICAgICB1cGRhdGVET1cgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iZWZvcmVTaG93RGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYmVmb3JlU2hvdyA9IHR5cGVvZiBvcHRpb25zLmJlZm9yZVNob3dEYXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBvcHRpb25zLmJlZm9yZVNob3dEYXlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuY2FsZW5kYXJXZWVrcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAob3B0aW9ucy5jYWxlbmRhcldlZWtzICYmICF0aGlzLmNhbGVuZGFyV2Vla3MpIHtcbiAgICAgICAgY29uc3Qgd2Vla3NFbGVtID0gcGFyc2VIVE1MKGNhbGVuZGFyV2Vla3NUZW1wbGF0ZSkuZmlyc3RDaGlsZDtcbiAgICAgICAgdGhpcy5jYWxlbmRhcldlZWtzID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IHdlZWtzRWxlbSxcbiAgICAgICAgICBkb3c6IHdlZWtzRWxlbS5maXJzdENoaWxkLFxuICAgICAgICAgIHdlZWtzOiB3ZWVrc0VsZW0ubGFzdENoaWxkLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHdlZWtzRWxlbSwgdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbGVuZGFyV2Vla3MgJiYgIW9wdGlvbnMuY2FsZW5kYXJXZWVrcykge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYWxlbmRhcldlZWtzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyV2Vla3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zaG93RGF5c09mV2VlayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAob3B0aW9ucy5zaG93RGF5c09mV2Vlaykge1xuICAgICAgICBzaG93RWxlbWVudCh0aGlzLmRvdyk7XG4gICAgICAgIGlmICh0aGlzLmNhbGVuZGFyV2Vla3MpIHtcbiAgICAgICAgICBzaG93RWxlbWVudCh0aGlzLmNhbGVuZGFyV2Vla3MuZG93KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUVsZW1lbnQodGhpcy5kb3cpO1xuICAgICAgICBpZiAodGhpcy5jYWxlbmRhcldlZWtzKSB7XG4gICAgICAgICAgaGlkZUVsZW1lbnQodGhpcy5jYWxlbmRhcldlZWtzLmRvdyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgZGF5cy1vZi13ZWVrIHdoZW4gbG9jYWxlLCBkYXlzT2Z3ZWVrRGlzYWJsZWQgb3Igd2Vla1N0YXJ0IGlzIGNoYW5nZWRcbiAgICBpZiAodXBkYXRlRE9XKSB7XG4gICAgICBBcnJheS5mcm9tKHRoaXMuZG93LmNoaWxkcmVuKS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgZG93ID0gKHRoaXMud2Vla1N0YXJ0ICsgaW5kZXgpICUgNztcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0aGlzLmRheU5hbWVzW2Rvd107XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkLmluY2x1ZGVzKGRvdykgPyAnZG93IGRpc2FibGVkJyA6ICdkb3cnO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQXBwbHkgdXBkYXRlIG9uIHRoZSBmb2N1c2VkIGRhdGUgdG8gdmlldydzIHNldHRpbmdzXG4gIHVwZGF0ZUZvY3VzKCkge1xuICAgIGNvbnN0IHZpZXdEYXRlID0gbmV3IERhdGUodGhpcy5waWNrZXIudmlld0RhdGUpO1xuICAgIGNvbnN0IHZpZXdZZWFyID0gdmlld0RhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCB2aWV3TW9udGggPSB2aWV3RGF0ZS5nZXRNb250aCgpO1xuICAgIGNvbnN0IGZpcnN0T2ZNb250aCA9IGRhdGVWYWx1ZSh2aWV3WWVhciwgdmlld01vbnRoLCAxKTtcbiAgICBjb25zdCBzdGFydCA9IGRheU9mVGhlV2Vla09mKGZpcnN0T2ZNb250aCwgdGhpcy53ZWVrU3RhcnQsIHRoaXMud2Vla1N0YXJ0KTtcblxuICAgIHRoaXMuZmlyc3QgPSBmaXJzdE9mTW9udGg7XG4gICAgdGhpcy5sYXN0ID0gZGF0ZVZhbHVlKHZpZXdZZWFyLCB2aWV3TW9udGggKyAxLCAwKTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5mb2N1c2VkID0gdGhpcy5waWNrZXIudmlld0RhdGU7XG4gIH1cblxuICAvLyBBcHBseSB1cGRhdGUgb24gdGhlIHNlbGVjdGVkIGRhdGVzIHRvIHZpZXcncyBzZXR0aW5nc1xuICB1cGRhdGVTZWxlY3Rpb24oKSB7XG4gICAgY29uc3Qge2RhdGVzLCByYW5nZXBpY2tlcn0gPSB0aGlzLnBpY2tlci5kYXRlcGlja2VyO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBkYXRlcztcbiAgICBpZiAocmFuZ2VwaWNrZXIpIHtcbiAgICAgIHRoaXMucmFuZ2UgPSByYW5nZXBpY2tlci5kYXRlcztcbiAgICB9XG4gIH1cblxuICAgLy8gVXBkYXRlIHRoZSBlbnRpcmUgdmlldyBVSVxuICByZW5kZXIoKSB7XG4gICAgLy8gdXBkYXRlIHRvZGF5IG1hcmtlciBvbiBldmVyIHJlbmRlclxuICAgIHRoaXMudG9kYXkgPSB0aGlzLnRvZGF5SGlnaGxpZ2h0ID8gdG9kYXkoKSA6IHVuZGVmaW5lZDtcbiAgICAvLyByZWZyZXNoIGRpc2FibGVkIGRhdGVzIG9uIGV2ZXJ5IHJlbmRlciBpbiBvcmRlciB0byBjbGVhciB0aGUgb25lcyBhZGRlZFxuICAgIC8vIGJ5IGJlZm9yZVNob3cgaG9vayBhdCBwcmV2aW91cyByZW5kZXJcbiAgICB0aGlzLmRpc2FibGVkID0gWy4uLnRoaXMuZGF0ZXNEaXNhYmxlZF07XG5cbiAgICBjb25zdCBzd2l0Y2hMYWJlbCA9IGZvcm1hdERhdGUodGhpcy5mb2N1c2VkLCB0aGlzLnN3aXRjaExhYmVsRm9ybWF0LCB0aGlzLmxvY2FsZSk7XG4gICAgdGhpcy5waWNrZXIuc2V0Vmlld1N3aXRjaExhYmVsKHN3aXRjaExhYmVsKTtcbiAgICB0aGlzLnBpY2tlci5zZXRQcmV2QnRuRGlzYWJsZWQodGhpcy5maXJzdCA8PSB0aGlzLm1pbkRhdGUpO1xuICAgIHRoaXMucGlja2VyLnNldE5leHRCdG5EaXNhYmxlZCh0aGlzLmxhc3QgPj0gdGhpcy5tYXhEYXRlKTtcblxuICAgIGlmICh0aGlzLmNhbGVuZGFyV2Vla3MpIHtcbiAgICAgIC8vIHN0YXJ0IG9mIHRoZSBVVEMgd2VlayAoTW9uZGF5KSBvZiB0aGUgMXN0IG9mIHRoZSBtb250aFxuICAgICAgY29uc3Qgc3RhcnRPZldlZWsgPSBkYXlPZlRoZVdlZWtPZih0aGlzLmZpcnN0LCAxLCAxKTtcbiAgICAgIEFycmF5LmZyb20odGhpcy5jYWxlbmRhcldlZWtzLndlZWtzLmNoaWxkcmVuKS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSBnZXRXZWVrKGFkZFdlZWtzKHN0YXJ0T2ZXZWVrLCBpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIEFycmF5LmZyb20odGhpcy5ncmlkLmNoaWxkcmVuKS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGVsLmNsYXNzTGlzdDtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBhZGREYXlzKHRoaXMuc3RhcnQsIGluZGV4KTtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF5KCk7XG5cbiAgICAgIGVsLmNsYXNzTmFtZSA9IGBkYXRlcGlja2VyLWNlbGwgJHt0aGlzLmNlbGxDbGFzc31gO1xuICAgICAgZWwuZGF0YXNldC5kYXRlID0gY3VycmVudDtcbiAgICAgIGVsLnRleHRDb250ZW50ID0gZGF0ZS5nZXREYXRlKCk7XG5cbiAgICAgIGlmIChjdXJyZW50IDwgdGhpcy5maXJzdCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdwcmV2Jyk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQgPiB0aGlzLmxhc3QpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgnbmV4dCcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudG9kYXkgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgndG9kYXknKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50IDwgdGhpcy5taW5EYXRlIHx8IGN1cnJlbnQgPiB0aGlzLm1heERhdGUgfHwgdGhpcy5kaXNhYmxlZC5pbmNsdWRlcyhjdXJyZW50KSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkLmluY2x1ZGVzKGRheSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgcHVzaFVuaXF1ZSh0aGlzLmRpc2FibGVkLCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRheXNPZldlZWtIaWdobGlnaHRlZC5pbmNsdWRlcyhkYXkpKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yYW5nZSkge1xuICAgICAgICBjb25zdCBbcmFuZ2VTdGFydCwgcmFuZ2VFbmRdID0gdGhpcy5yYW5nZTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPiByYW5nZVN0YXJ0ICYmIGN1cnJlbnQgPCByYW5nZUVuZCkge1xuICAgICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZS1zdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50ID09PSByYW5nZUVuZCkge1xuICAgICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlLWVuZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZC5pbmNsdWRlcyhjdXJyZW50KSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuZm9jdXNlZCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmJlZm9yZVNob3cpIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtQmVmb3JlSG9vayhlbCwgY3VycmVudCwgY3VycmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIHZpZXcgVUkgYnkgYXBwbHlpbmcgdGhlIGNoYW5nZXMgb2Ygc2VsZWN0ZWQgYW5kIGZvY3VzZWQgaXRlbXNcbiAgcmVmcmVzaCgpIHtcbiAgICBjb25zdCBbcmFuZ2VTdGFydCwgcmFuZ2VFbmRdID0gdGhpcy5yYW5nZSB8fCBbXTtcbiAgICB0aGlzLmdyaWRcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcucmFuZ2UsIC5yYW5nZS1zdGFydCwgLnJhbmdlLWVuZCwgLnNlbGVjdGVkLCAuZm9jdXNlZCcpXG4gICAgICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2UnLCAncmFuZ2Utc3RhcnQnLCAncmFuZ2UtZW5kJywgJ3NlbGVjdGVkJywgJ2ZvY3VzZWQnKTtcbiAgICAgIH0pO1xuICAgIEFycmF5LmZyb20odGhpcy5ncmlkLmNoaWxkcmVuKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IE51bWJlcihlbC5kYXRhc2V0LmRhdGUpO1xuICAgICAgY29uc3QgY2xhc3NMaXN0ID0gZWwuY2xhc3NMaXN0O1xuICAgICAgaWYgKGN1cnJlbnQgPiByYW5nZVN0YXJ0ICYmIGN1cnJlbnQgPCByYW5nZUVuZCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZScpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPT09IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgncmFuZ2Utc3RhcnQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50ID09PSByYW5nZUVuZCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZS1lbmQnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmluY2x1ZGVzKGN1cnJlbnQpKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5mb2N1c2VkKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB0aGUgdmlldyBVSSBieSBhcHBseWluZyB0aGUgY2hhbmdlIG9mIGZvY3VzZWQgaXRlbVxuICByZWZyZXNoRm9jdXMoKSB7XG4gICAgY29uc3QgaW5kZXggPSBNYXRoLnJvdW5kKCh0aGlzLmZvY3VzZWQgLSB0aGlzLnN0YXJ0KSAvIDg2NDAwMDAwKTtcbiAgICB0aGlzLmdyaWQucXVlcnlTZWxlY3RvckFsbCgnLmZvY3VzZWQnKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXNlZCcpO1xuICAgIH0pO1xuICAgIHRoaXMuZ3JpZC5jaGlsZHJlbltpbmRleF0uY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICB9XG59XG4iLCJpbXBvcnQge2hhc1Byb3BlcnR5LCBwdXNoVW5pcXVlLCBjcmVhdGVUYWdSZXBlYXR9IGZyb20gJy4uLy4uL2xpYi91dGlscy5qcyc7XG5pbXBvcnQge2RhdGVWYWx1ZX0gZnJvbSAnLi4vLi4vbGliL2RhdGUuanMnO1xuaW1wb3J0IHtwYXJzZUhUTUx9IGZyb20gJy4uLy4uL2xpYi9kb20uanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcblxuZnVuY3Rpb24gY29tcHV0ZU1vbnRoUmFuZ2UocmFuZ2UsIHRoaXNZZWFyKSB7XG4gIGlmICghcmFuZ2UgfHwgIXJhbmdlWzBdIHx8ICFyYW5nZVsxXSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IFtbc3RhcnRZLCBzdGFydE1dLCBbZW5kWSwgZW5kTV1dID0gcmFuZ2U7XG4gIGlmIChzdGFydFkgPiB0aGlzWWVhciB8fCBlbmRZIDwgdGhpc1llYXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIFtcbiAgICBzdGFydFkgPT09IHRoaXNZZWFyID8gc3RhcnRNIDogLTEsXG4gICAgZW5kWSA9PT0gdGhpc1llYXIgPyBlbmRNIDogMTIsXG4gIF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbnRoc1ZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgY29uc3RydWN0b3IocGlja2VyKSB7XG4gICAgc3VwZXIocGlja2VyLCB7XG4gICAgICBpZDogMSxcbiAgICAgIG5hbWU6ICdtb250aHMnLFxuICAgICAgY2VsbENsYXNzOiAnbW9udGgnLFxuICAgIH0pO1xuICB9XG5cbiAgaW5pdChvcHRpb25zLCBvbkNvbnN0cnVjdGlvbiA9IHRydWUpIHtcbiAgICBpZiAob25Db25zdHJ1Y3Rpb24pIHtcbiAgICAgIHRoaXMuZ3JpZCA9IHRoaXMuZWxlbWVudDtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb250aHMnLCAnZGF0ZXBpY2tlci1ncmlkJyk7XG4gICAgICB0aGlzLmdyaWQuYXBwZW5kQ2hpbGQocGFyc2VIVE1MKGNyZWF0ZVRhZ1JlcGVhdCgnc3BhbicsIDEyLCB7J2RhdGEtbW9udGgnOiBpeCA9PiBpeH0pKSk7XG4gICAgfVxuICAgIHN1cGVyLmluaXQob3B0aW9ucyk7XG4gIH1cblxuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5sb2NhbGUpIHtcbiAgICAgIHRoaXMubW9udGhOYW1lcyA9IG9wdGlvbnMubG9jYWxlLm1vbnRoc1Nob3J0O1xuICAgIH1cbiAgICBpZiAoaGFzUHJvcGVydHkob3B0aW9ucywgJ21pbkRhdGUnKSkge1xuICAgICAgaWYgKG9wdGlvbnMubWluRGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubWluWWVhciA9IHRoaXMubWluTW9udGggPSB0aGlzLm1pbkRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtaW5EYXRlT2JqID0gbmV3IERhdGUob3B0aW9ucy5taW5EYXRlKTtcbiAgICAgICAgdGhpcy5taW5ZZWFyID0gbWluRGF0ZU9iai5nZXRGdWxsWWVhcigpO1xuICAgICAgICB0aGlzLm1pbk1vbnRoID0gbWluRGF0ZU9iai5nZXRNb250aCgpO1xuICAgICAgICB0aGlzLm1pbkRhdGUgPSBtaW5EYXRlT2JqLnNldERhdGUoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNQcm9wZXJ0eShvcHRpb25zLCAnbWF4RGF0ZScpKSB7XG4gICAgICBpZiAob3B0aW9ucy5tYXhEYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5tYXhZZWFyID0gdGhpcy5tYXhNb250aCA9IHRoaXMubWF4RGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1heERhdGVPYmogPSBuZXcgRGF0ZShvcHRpb25zLm1heERhdGUpO1xuICAgICAgICB0aGlzLm1heFllYXIgPSBtYXhEYXRlT2JqLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHRoaXMubWF4TW9udGggPSBtYXhEYXRlT2JqLmdldE1vbnRoKCk7XG4gICAgICAgIHRoaXMubWF4RGF0ZSA9IGRhdGVWYWx1ZSh0aGlzLm1heFllYXIsIHRoaXMubWF4TW9udGggKyAxLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaXNNaW5WaWV3KSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRlc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZGF0ZXNEaXNhYmxlZCA9IG9wdGlvbnMuZGF0ZXNEaXNhYmxlZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRlc0Rpc2FibGVkID0gW107XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmJlZm9yZVNob3dNb250aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmJlZm9yZVNob3cgPSB0eXBlb2Ygb3B0aW9ucy5iZWZvcmVTaG93TW9udGggPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBvcHRpb25zLmJlZm9yZVNob3dNb250aFxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgdmlldydzIHNldHRpbmdzIHRvIHJlZmxlY3QgdGhlIHZpZXdEYXRlIHNldCBvbiB0aGUgcGlja2VyXG4gIHVwZGF0ZUZvY3VzKCkge1xuICAgIGNvbnN0IHZpZXdEYXRlID0gbmV3IERhdGUodGhpcy5waWNrZXIudmlld0RhdGUpO1xuICAgIHRoaXMueWVhciA9IHZpZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgdGhpcy5mb2N1c2VkID0gdmlld0RhdGUuZ2V0TW9udGgoKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB2aWV3J3Mgc2V0dGluZ3MgdG8gcmVmbGVjdCB0aGUgc2VsZWN0ZWQgZGF0ZXNcbiAgdXBkYXRlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHtkYXRlcywgcmFuZ2VwaWNrZXJ9ID0gdGhpcy5waWNrZXIuZGF0ZXBpY2tlcjtcbiAgICB0aGlzLnNlbGVjdGVkID0gZGF0ZXMucmVkdWNlKChzZWxlY3RlZCwgdGltZVZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZVZhbHVlKTtcbiAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgIGlmIChzZWxlY3RlZFt5ZWFyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlbGVjdGVkW3llYXJdID0gW21vbnRoXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1c2hVbmlxdWUoc2VsZWN0ZWRbeWVhcl0sIG1vbnRoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICB9LCB7fSk7XG4gICAgaWYgKHJhbmdlcGlja2VyICYmIHJhbmdlcGlja2VyLmRhdGVzKSB7XG4gICAgICB0aGlzLnJhbmdlID0gcmFuZ2VwaWNrZXIuZGF0ZXMubWFwKHRpbWVWYWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lVmFsdWUpO1xuICAgICAgICByZXR1cm4gaXNOYU4oZGF0ZSkgPyB1bmRlZmluZWQgOiBbZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCldO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSBlbnRpcmUgdmlldyBVSVxuICByZW5kZXIoKSB7XG4gICAgLy8gcmVmcmVzaCBkaXNhYmxlZCBtb250aHMgb24gZXZlcnkgcmVuZGVyIGluIG9yZGVyIHRvIGNsZWFyIHRoZSBvbmVzIGFkZGVkXG4gICAgLy8gYnkgYmVmb3JlU2hvdyBob29rIGF0IHByZXZpb3VzIHJlbmRlclxuICAgIC8vIHRoaXMuZGlzYWJsZWQgPSBbLi4udGhpcy5kYXRlc0Rpc2FibGVkXTtcbiAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5kYXRlc0Rpc2FibGVkLnJlZHVjZSgoYXJyLCBkaXNhYmxlZCkgPT4ge1xuICAgICAgY29uc3QgZHQgPSBuZXcgRGF0ZShkaXNhYmxlZCk7XG4gICAgICBpZiAodGhpcy55ZWFyID09PSBkdC5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAgIGFyci5wdXNoKGR0LmdldE1vbnRoKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9LCBbXSk7XG5cbiAgICB0aGlzLnBpY2tlci5zZXRWaWV3U3dpdGNoTGFiZWwodGhpcy55ZWFyKTtcbiAgICB0aGlzLnBpY2tlci5zZXRQcmV2QnRuRGlzYWJsZWQodGhpcy55ZWFyIDw9IHRoaXMubWluWWVhcik7XG4gICAgdGhpcy5waWNrZXIuc2V0TmV4dEJ0bkRpc2FibGVkKHRoaXMueWVhciA+PSB0aGlzLm1heFllYXIpO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkW3RoaXMueWVhcl0gfHwgW107XG4gICAgY29uc3QgeXJPdXRPZlJhbmdlID0gdGhpcy55ZWFyIDwgdGhpcy5taW5ZZWFyIHx8IHRoaXMueWVhciA+IHRoaXMubWF4WWVhcjtcbiAgICBjb25zdCBpc01pblllYXIgPSB0aGlzLnllYXIgPT09IHRoaXMubWluWWVhcjtcbiAgICBjb25zdCBpc01heFllYXIgPSB0aGlzLnllYXIgPT09IHRoaXMubWF4WWVhcjtcbiAgICBjb25zdCByYW5nZSA9IGNvbXB1dGVNb250aFJhbmdlKHRoaXMucmFuZ2UsIHRoaXMueWVhcik7XG5cbiAgICBBcnJheS5mcm9tKHRoaXMuZ3JpZC5jaGlsZHJlbikuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICBjb25zdCBkYXRlID0gZGF0ZVZhbHVlKHRoaXMueWVhciwgaW5kZXgsIDEpO1xuXG4gICAgICBlbC5jbGFzc05hbWUgPSBgZGF0ZXBpY2tlci1jZWxsICR7dGhpcy5jZWxsQ2xhc3N9YDtcbiAgICAgIGlmICh0aGlzLmlzTWluVmlldykge1xuICAgICAgICBlbC5kYXRhc2V0LmRhdGUgPSBkYXRlO1xuICAgICAgfVxuICAgICAgLy8gcmVzZXQgdGV4dCBvbiBldmVyeSByZW5kZXIgdG8gY2xlYXIgdGhlIGN1c3RvbSBjb250ZW50IHNldFxuICAgICAgLy8gYnkgYmVmb3JlU2hvdyBob29rIGF0IHByZXZpb3VzIHJlbmRlclxuICAgICAgZWwudGV4dENvbnRlbnQgPSB0aGlzLm1vbnRoTmFtZXNbaW5kZXhdO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHlyT3V0T2ZSYW5nZVxuICAgICAgICB8fCBpc01pblllYXIgJiYgaW5kZXggPCB0aGlzLm1pbk1vbnRoXG4gICAgICAgIHx8IGlzTWF4WWVhciAmJiBpbmRleCA+IHRoaXMubWF4TW9udGhcbiAgICAgICAgfHwgdGhpcy5kaXNhYmxlZC5pbmNsdWRlcyhpbmRleClcbiAgICAgICkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IFtyYW5nZVN0YXJ0LCByYW5nZUVuZF0gPSByYW5nZTtcbiAgICAgICAgaWYgKGluZGV4ID4gcmFuZ2VTdGFydCAmJiBpbmRleCA8IHJhbmdlRW5kKSB7XG4gICAgICAgICAgY2xhc3NMaXN0LmFkZCgncmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT09IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZS1zdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PT0gcmFuZ2VFbmQpIHtcbiAgICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZS1lbmQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGVkLmluY2x1ZGVzKGluZGV4KSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmZvY3VzZWQpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5iZWZvcmVTaG93KSB7XG4gICAgICAgIHRoaXMucGVyZm9ybUJlZm9yZUhvb2soZWwsIGluZGV4LCBkYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB0aGUgdmlldyBVSSBieSBhcHBseWluZyB0aGUgY2hhbmdlcyBvZiBzZWxlY3RlZCBhbmQgZm9jdXNlZCBpdGVtc1xuICByZWZyZXNoKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFt0aGlzLnllYXJdIHx8IFtdO1xuICAgIGNvbnN0IFtyYW5nZVN0YXJ0LCByYW5nZUVuZF0gPSBjb21wdXRlTW9udGhSYW5nZSh0aGlzLnJhbmdlLCB0aGlzLnllYXIpIHx8IFtdO1xuICAgIHRoaXMuZ3JpZFxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYW5nZSwgLnJhbmdlLXN0YXJ0LCAucmFuZ2UtZW5kLCAuc2VsZWN0ZWQsIC5mb2N1c2VkJylcbiAgICAgIC5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZScsICdyYW5nZS1zdGFydCcsICdyYW5nZS1lbmQnLCAnc2VsZWN0ZWQnLCAnZm9jdXNlZCcpO1xuICAgICAgfSk7XG4gICAgQXJyYXkuZnJvbSh0aGlzLmdyaWQuY2hpbGRyZW4pLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgY2xhc3NMaXN0ID0gZWwuY2xhc3NMaXN0O1xuICAgICAgaWYgKGluZGV4ID4gcmFuZ2VTdGFydCAmJiBpbmRleCA8IHJhbmdlRW5kKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlJyk7XG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggPT09IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgncmFuZ2Utc3RhcnQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCA9PT0gcmFuZ2VFbmQpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgncmFuZ2UtZW5kJyk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0ZWQuaW5jbHVkZXMoaW5kZXgpKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggPT09IHRoaXMuZm9jdXNlZCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIHZpZXcgVUkgYnkgYXBwbHlpbmcgdGhlIGNoYW5nZSBvZiBmb2N1c2VkIGl0ZW1cbiAgcmVmcmVzaEZvY3VzKCkge1xuICAgIHRoaXMuZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9jdXNlZCcpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XG4gICAgfSk7XG4gICAgdGhpcy5ncmlkLmNoaWxkcmVuW3RoaXMuZm9jdXNlZF0uY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICB9XG59IiwiaW1wb3J0IHtoYXNQcm9wZXJ0eSwgcHVzaFVuaXF1ZSwgY3JlYXRlVGFnUmVwZWF0fSBmcm9tICcuLi8uLi9saWIvdXRpbHMuanMnO1xuaW1wb3J0IHtkYXRlVmFsdWUsIHN0YXJ0T2ZZZWFyUGVyaW9kfSBmcm9tICcuLi8uLi9saWIvZGF0ZS5qcyc7XG5pbXBvcnQge3BhcnNlSFRNTH0gZnJvbSAnLi4vLi4vbGliL2RvbS5qcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuL1ZpZXcuanMnO1xuXG5mdW5jdGlvbiB0b1RpdGxlQ2FzZSh3b3JkKSB7XG4gIHJldHVybiBbLi4ud29yZF0ucmVkdWNlKChzdHIsIGNoLCBpeCkgPT4gc3RyICs9IGl4ID8gY2ggOiBjaC50b1VwcGVyQ2FzZSgpLCAnJyk7XG59XG5cbi8vIENsYXNzIHJlcHJlc2VudGluZyB0aGUgeWVhcnMgYW5kIGRlY2FkZXMgdmlldyBlbGVtZW50c1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWWVhcnNWaWV3IGV4dGVuZHMgVmlldyB7XG4gIGNvbnN0cnVjdG9yKHBpY2tlciwgY29uZmlnKSB7XG4gICAgc3VwZXIocGlja2VyLCBjb25maWcpO1xuICB9XG5cbiAgaW5pdChvcHRpb25zLCBvbkNvbnN0cnVjdGlvbiA9IHRydWUpIHtcbiAgICBpZiAob25Db25zdHJ1Y3Rpb24pIHtcbiAgICAgIHRoaXMubmF2U3RlcCA9IHRoaXMuc3RlcCAqIDEwO1xuICAgICAgdGhpcy5iZWZvcmVTaG93T3B0aW9uID0gYGJlZm9yZVNob3cke3RvVGl0bGVDYXNlKHRoaXMuY2VsbENsYXNzKX1gO1xuICAgICAgdGhpcy5ncmlkID0gdGhpcy5lbGVtZW50O1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5uYW1lLCAnZGF0ZXBpY2tlci1ncmlkJyk7XG4gICAgICB0aGlzLmdyaWQuYXBwZW5kQ2hpbGQocGFyc2VIVE1MKGNyZWF0ZVRhZ1JlcGVhdCgnc3BhbicsIDEyKSkpO1xuICAgIH1cbiAgICBzdXBlci5pbml0KG9wdGlvbnMpO1xuICB9XG5cbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKGhhc1Byb3BlcnR5KG9wdGlvbnMsICdtaW5EYXRlJykpIHtcbiAgICAgIGlmIChvcHRpb25zLm1pbkRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm1pblllYXIgPSB0aGlzLm1pbkRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1pblllYXIgPSBzdGFydE9mWWVhclBlcmlvZChvcHRpb25zLm1pbkRhdGUsIHRoaXMuc3RlcCk7XG4gICAgICAgIHRoaXMubWluRGF0ZSA9IGRhdGVWYWx1ZSh0aGlzLm1pblllYXIsIDAsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzUHJvcGVydHkob3B0aW9ucywgJ21heERhdGUnKSkge1xuICAgICAgaWYgKG9wdGlvbnMubWF4RGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubWF4WWVhciA9IHRoaXMubWF4RGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWF4WWVhciA9IHN0YXJ0T2ZZZWFyUGVyaW9kKG9wdGlvbnMubWF4RGF0ZSwgdGhpcy5zdGVwKTtcbiAgICAgICAgdGhpcy5tYXhEYXRlID0gZGF0ZVZhbHVlKHRoaXMubWF4WWVhciwgMTEsIDMxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaXNNaW5WaWV3KSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRlc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZGF0ZXNEaXNhYmxlZCA9IG9wdGlvbnMuZGF0ZXNEaXNhYmxlZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRlc0Rpc2FibGVkID0gW107XG4gICAgfVxuICAgIGlmIChvcHRpb25zW3RoaXMuYmVmb3JlU2hvd09wdGlvbl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYmVmb3JlU2hvdyA9IG9wdGlvbnNbdGhpcy5iZWZvcmVTaG93T3B0aW9uXTtcbiAgICAgIHRoaXMuYmVmb3JlU2hvdyA9IHR5cGVvZiBiZWZvcmVTaG93ID09PSAnZnVuY3Rpb24nID8gYmVmb3JlU2hvdyA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgdmlldydzIHNldHRpbmdzIHRvIHJlZmxlY3QgdGhlIHZpZXdEYXRlIHNldCBvbiB0aGUgcGlja2VyXG4gIHVwZGF0ZUZvY3VzKCkge1xuICAgIGNvbnN0IHZpZXdEYXRlID0gbmV3IERhdGUodGhpcy5waWNrZXIudmlld0RhdGUpO1xuICAgIGNvbnN0IGZpcnN0ID0gc3RhcnRPZlllYXJQZXJpb2Qodmlld0RhdGUsIHRoaXMubmF2U3RlcCk7XG4gICAgY29uc3QgbGFzdCA9IGZpcnN0ICsgOSAqIHRoaXMuc3RlcDtcblxuICAgIHRoaXMuZmlyc3QgPSBmaXJzdDtcbiAgICB0aGlzLmxhc3QgPSBsYXN0O1xuICAgIHRoaXMuc3RhcnQgPSBmaXJzdCAtIHRoaXMuc3RlcDtcbiAgICB0aGlzLmZvY3VzZWQgPSBzdGFydE9mWWVhclBlcmlvZCh2aWV3RGF0ZSwgdGhpcy5zdGVwKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB2aWV3J3Mgc2V0dGluZ3MgdG8gcmVmbGVjdCB0aGUgc2VsZWN0ZWQgZGF0ZXNcbiAgdXBkYXRlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHtkYXRlcywgcmFuZ2VwaWNrZXJ9ID0gdGhpcy5waWNrZXIuZGF0ZXBpY2tlcjtcbiAgICB0aGlzLnNlbGVjdGVkID0gZGF0ZXMucmVkdWNlKCh5ZWFycywgdGltZVZhbHVlKSA9PiB7XG4gICAgICByZXR1cm4gcHVzaFVuaXF1ZSh5ZWFycywgc3RhcnRPZlllYXJQZXJpb2QodGltZVZhbHVlLCB0aGlzLnN0ZXApKTtcbiAgICB9LCBbXSk7XG4gICAgaWYgKHJhbmdlcGlja2VyICYmIHJhbmdlcGlja2VyLmRhdGVzKSB7XG4gICAgICB0aGlzLnJhbmdlID0gcmFuZ2VwaWNrZXIuZGF0ZXMubWFwKHRpbWVWYWx1ZSA9PiB7XG4gICAgICAgIGlmICh0aW1lVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBzdGFydE9mWWVhclBlcmlvZCh0aW1lVmFsdWUsIHRoaXMuc3RlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSB0aGUgZW50aXJlIHZpZXcgVUlcbiAgcmVuZGVyKCkge1xuICAgIC8vIHJlZnJlc2ggZGlzYWJsZWQgeWVhcnMgb24gZXZlcnkgcmVuZGVyIGluIG9yZGVyIHRvIGNsZWFyIHRoZSBvbmVzIGFkZGVkXG4gICAgLy8gYnkgYmVmb3JlU2hvdyBob29rIGF0IHByZXZpb3VzIHJlbmRlclxuICAgIC8vIHRoaXMuZGlzYWJsZWQgPSBbLi4udGhpcy5kYXRlc0Rpc2FibGVkXTtcbiAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5kYXRlc0Rpc2FibGVkLm1hcChkaXNhYmxlZCA9PiBuZXcgRGF0ZShkaXNhYmxlZCkuZ2V0RnVsbFllYXIoKSk7XG5cbiAgICB0aGlzLnBpY2tlci5zZXRWaWV3U3dpdGNoTGFiZWwoYCR7dGhpcy5maXJzdH0tJHt0aGlzLmxhc3R9YCk7XG4gICAgdGhpcy5waWNrZXIuc2V0UHJldkJ0bkRpc2FibGVkKHRoaXMuZmlyc3QgPD0gdGhpcy5taW5ZZWFyKTtcbiAgICB0aGlzLnBpY2tlci5zZXROZXh0QnRuRGlzYWJsZWQodGhpcy5sYXN0ID49IHRoaXMubWF4WWVhcik7XG5cbiAgICBBcnJheS5mcm9tKHRoaXMuZ3JpZC5jaGlsZHJlbikuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5zdGFydCArIChpbmRleCAqIHRoaXMuc3RlcCk7XG4gICAgICBjb25zdCBkYXRlID0gZGF0ZVZhbHVlKGN1cnJlbnQsIDAsIDEpO1xuXG4gICAgICBlbC5jbGFzc05hbWUgPSBgZGF0ZXBpY2tlci1jZWxsICR7dGhpcy5jZWxsQ2xhc3N9YDtcbiAgICAgIGlmICh0aGlzLmlzTWluVmlldykge1xuICAgICAgICBlbC5kYXRhc2V0LmRhdGUgPSBkYXRlO1xuICAgICAgfVxuICAgICAgZWwudGV4dENvbnRlbnQgPSBlbC5kYXRhc2V0LnllYXIgPSBjdXJyZW50O1xuXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgncHJldicpO1xuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMTEpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgnbmV4dCcpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPCB0aGlzLm1pblllYXIgfHwgY3VycmVudCA+IHRoaXMubWF4WWVhciB8fCB0aGlzLmRpc2FibGVkLmluY2x1ZGVzKGN1cnJlbnQpKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yYW5nZSkge1xuICAgICAgICBjb25zdCBbcmFuZ2VTdGFydCwgcmFuZ2VFbmRdID0gdGhpcy5yYW5nZTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPiByYW5nZVN0YXJ0ICYmIGN1cnJlbnQgPCByYW5nZUVuZCkge1xuICAgICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZS1zdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50ID09PSByYW5nZUVuZCkge1xuICAgICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlLWVuZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZC5pbmNsdWRlcyhjdXJyZW50KSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuZm9jdXNlZCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmJlZm9yZVNob3cpIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtQmVmb3JlSG9vayhlbCwgY3VycmVudCwgZGF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIHZpZXcgVUkgYnkgYXBwbHlpbmcgdGhlIGNoYW5nZXMgb2Ygc2VsZWN0ZWQgYW5kIGZvY3VzZWQgaXRlbXNcbiAgcmVmcmVzaCgpIHtcbiAgICBjb25zdCBbcmFuZ2VTdGFydCwgcmFuZ2VFbmRdID0gdGhpcy5yYW5nZSB8fCBbXTtcbiAgICB0aGlzLmdyaWRcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcucmFuZ2UsIC5yYW5nZS1zdGFydCwgLnJhbmdlLWVuZCwgLnNlbGVjdGVkLCAuZm9jdXNlZCcpXG4gICAgICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2UnLCAncmFuZ2Utc3RhcnQnLCAncmFuZ2UtZW5kJywgJ3NlbGVjdGVkJywgJ2ZvY3VzZWQnKTtcbiAgICAgIH0pO1xuICAgIEFycmF5LmZyb20odGhpcy5ncmlkLmNoaWxkcmVuKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IE51bWJlcihlbC50ZXh0Q29udGVudCk7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICBpZiAoY3VycmVudCA+IHJhbmdlU3RhcnQgJiYgY3VycmVudCA8IHJhbmdlRW5kKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlJyk7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudCA9PT0gcmFuZ2VTdGFydCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKCdyYW5nZS1zdGFydCcpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPT09IHJhbmdlRW5kKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoJ3JhbmdlLWVuZCcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQuaW5jbHVkZXMoY3VycmVudCkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50ID09PSB0aGlzLmZvY3VzZWQpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSB2aWV3IFVJIGJ5IGFwcGx5aW5nIHRoZSBjaGFuZ2Ugb2YgZm9jdXNlZCBpdGVtXG4gIHJlZnJlc2hGb2N1cygpIHtcbiAgICBjb25zdCBpbmRleCA9IE1hdGgucm91bmQoKHRoaXMuZm9jdXNlZCAtIHRoaXMuc3RhcnQpIC8gdGhpcy5zdGVwKTtcbiAgICB0aGlzLmdyaWQucXVlcnlTZWxlY3RvckFsbCgnLmZvY3VzZWQnKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXNlZCcpO1xuICAgIH0pO1xuICAgIHRoaXMuZ3JpZC5jaGlsZHJlbltpbmRleF0uY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICB9XG59XG4iLCJpbXBvcnQge2xpbWl0VG9SYW5nZX0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcbmltcG9ydCB7YWRkTW9udGhzLCBhZGRZZWFyc30gZnJvbSAnLi4vbGliL2RhdGUuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRhdGVwaWNrZXJFdmVudChkYXRlcGlja2VyLCB0eXBlKSB7XG4gIGNvbnN0IGRldGFpbCA9IHtcbiAgICBkYXRlOiBkYXRlcGlja2VyLmdldERhdGUoKSxcbiAgICB2aWV3RGF0ZTogbmV3IERhdGUoZGF0ZXBpY2tlci5waWNrZXIudmlld0RhdGUpLFxuICAgIHZpZXdJZDogZGF0ZXBpY2tlci5waWNrZXIuY3VycmVudFZpZXcuaWQsXG4gICAgZGF0ZXBpY2tlcixcbiAgfTtcbiAgZGF0ZXBpY2tlci5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtkZXRhaWx9KSk7XG59XG5cbi8vIGRpcmVjdGlvbjogLTEgKHRvIHByZXZpb3VzKSwgMSAodG8gbmV4dClcbmV4cG9ydCBmdW5jdGlvbiBnb1RvUHJldk9yTmV4dChkYXRlcGlja2VyLCBkaXJlY3Rpb24pIHtcbiAgY29uc3Qge21pbkRhdGUsIG1heERhdGV9ID0gZGF0ZXBpY2tlci5jb25maWc7XG4gIGNvbnN0IHtjdXJyZW50Vmlldywgdmlld0RhdGV9ID0gZGF0ZXBpY2tlci5waWNrZXI7XG4gIGxldCBuZXdWaWV3RGF0ZTtcbiAgc3dpdGNoIChjdXJyZW50Vmlldy5pZCkge1xuICAgIGNhc2UgMDpcbiAgICAgIG5ld1ZpZXdEYXRlID0gYWRkTW9udGhzKHZpZXdEYXRlLCBkaXJlY3Rpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgbmV3Vmlld0RhdGUgPSBhZGRZZWFycyh2aWV3RGF0ZSwgZGlyZWN0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBuZXdWaWV3RGF0ZSA9IGFkZFllYXJzKHZpZXdEYXRlLCBkaXJlY3Rpb24gKiBjdXJyZW50Vmlldy5uYXZTdGVwKTtcbiAgfVxuICBuZXdWaWV3RGF0ZSA9IGxpbWl0VG9SYW5nZShuZXdWaWV3RGF0ZSwgbWluRGF0ZSwgbWF4RGF0ZSk7XG4gIGRhdGVwaWNrZXIucGlja2VyLmNoYW5nZUZvY3VzKG5ld1ZpZXdEYXRlKS5yZW5kZXIoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFZpZXcoZGF0ZXBpY2tlcikge1xuICBjb25zdCB2aWV3SWQgPSBkYXRlcGlja2VyLnBpY2tlci5jdXJyZW50Vmlldy5pZDtcbiAgaWYgKHZpZXdJZCA9PT0gZGF0ZXBpY2tlci5jb25maWcubWF4Vmlldykge1xuICAgIHJldHVybjtcbiAgfVxuICBkYXRlcGlja2VyLnBpY2tlci5jaGFuZ2VWaWV3KHZpZXdJZCArIDEpLnJlbmRlcigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5mb2N1cyhkYXRlcGlja2VyKSB7XG4gIGlmIChkYXRlcGlja2VyLmNvbmZpZy51cGRhdGVPbkJsdXIpIHtcbiAgICBkYXRlcGlja2VyLnVwZGF0ZSh7cmV2ZXJ0OiB0cnVlfSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0ZXBpY2tlci5yZWZyZXNoKCdpbnB1dCcpO1xuICB9XG4gIGRhdGVwaWNrZXIuaGlkZSgpO1xufVxuIiwiaW1wb3J0IHt0b2RheSwgYWRkTW9udGhzLCBhZGRZZWFyc30gZnJvbSAnLi4vbGliL2RhdGUuanMnO1xuaW1wb3J0IHtmaW5kRWxlbWVudEluRXZlbnRQYXRofSBmcm9tICcuLi9saWIvZXZlbnQuanMnO1xuaW1wb3J0IHtnb1RvUHJldk9yTmV4dCwgc3dpdGNoVmlld30gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuXG5mdW5jdGlvbiBnb1RvU2VsZWN0ZWRNb250aE9yWWVhcihkYXRlcGlja2VyLCBzZWxlY3Rpb24pIHtcbiAgY29uc3QgcGlja2VyID0gZGF0ZXBpY2tlci5waWNrZXI7XG4gIGNvbnN0IHZpZXdEYXRlID0gbmV3IERhdGUocGlja2VyLnZpZXdEYXRlKTtcbiAgY29uc3Qgdmlld0lkID0gcGlja2VyLmN1cnJlbnRWaWV3LmlkO1xuICBjb25zdCBuZXdEYXRlID0gdmlld0lkID09PSAxXG4gICAgPyBhZGRNb250aHModmlld0RhdGUsIHNlbGVjdGlvbiAtIHZpZXdEYXRlLmdldE1vbnRoKCkpXG4gICAgOiBhZGRZZWFycyh2aWV3RGF0ZSwgc2VsZWN0aW9uIC0gdmlld0RhdGUuZ2V0RnVsbFllYXIoKSk7XG5cbiAgcGlja2VyLmNoYW5nZUZvY3VzKG5ld0RhdGUpLmNoYW5nZVZpZXcodmlld0lkIC0gMSkucmVuZGVyKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkNsaWNrVG9kYXlCdG4oZGF0ZXBpY2tlcikge1xuICBjb25zdCBwaWNrZXIgPSBkYXRlcGlja2VyLnBpY2tlcjtcbiAgY29uc3QgY3VycmVudERhdGUgPSB0b2RheSgpO1xuICBpZiAoZGF0ZXBpY2tlci5jb25maWcudG9kYXlCdG5Nb2RlID09PSAxKSB7XG4gICAgaWYgKGRhdGVwaWNrZXIuY29uZmlnLmF1dG9oaWRlKSB7XG4gICAgICBkYXRlcGlja2VyLnNldERhdGUoY3VycmVudERhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYXRlcGlja2VyLnNldERhdGUoY3VycmVudERhdGUsIHtyZW5kZXI6IGZhbHNlfSk7XG4gICAgcGlja2VyLnVwZGF0ZSgpO1xuICB9XG4gIGlmIChwaWNrZXIudmlld0RhdGUgIT09IGN1cnJlbnREYXRlKSB7XG4gICAgcGlja2VyLmNoYW5nZUZvY3VzKGN1cnJlbnREYXRlKTtcbiAgfVxuICBwaWNrZXIuY2hhbmdlVmlldygwKS5yZW5kZXIoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ2xpY2tDbGVhckJ0bihkYXRlcGlja2VyKSB7XG4gIGRhdGVwaWNrZXIuc2V0RGF0ZSh7Y2xlYXI6IHRydWV9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ2xpY2tWaWV3U3dpdGNoKGRhdGVwaWNrZXIpIHtcbiAgc3dpdGNoVmlldyhkYXRlcGlja2VyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ2xpY2tQcmV2QnRuKGRhdGVwaWNrZXIpIHtcbiAgZ29Ub1ByZXZPck5leHQoZGF0ZXBpY2tlciwgLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25DbGlja05leHRCdG4oZGF0ZXBpY2tlcikge1xuICBnb1RvUHJldk9yTmV4dChkYXRlcGlja2VyLCAxKTtcbn1cblxuLy8gRm9yIHRoZSBwaWNrZXIncyBtYWluIGJsb2NrIHRvIGRlbGVnZXRlIHRoZSBldmVudHMgZnJvbSBgZGF0ZXBpY2tlci1jZWxsYHNcbmV4cG9ydCBmdW5jdGlvbiBvbkNsaWNrVmlldyhkYXRlcGlja2VyLCBldikge1xuICBjb25zdCB0YXJnZXQgPSBmaW5kRWxlbWVudEluRXZlbnRQYXRoKGV2LCAnLmRhdGVwaWNrZXItY2VsbCcpO1xuICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qge2lkLCBpc01pblZpZXd9ID0gZGF0ZXBpY2tlci5waWNrZXIuY3VycmVudFZpZXc7XG4gIGlmIChpc01pblZpZXcpIHtcbiAgICBkYXRlcGlja2VyLnNldERhdGUoTnVtYmVyKHRhcmdldC5kYXRhc2V0LmRhdGUpKTtcbiAgfSBlbHNlIGlmIChpZCA9PT0gMSkge1xuICAgIGdvVG9TZWxlY3RlZE1vbnRoT3JZZWFyKGRhdGVwaWNrZXIsIE51bWJlcih0YXJnZXQuZGF0YXNldC5tb250aCkpO1xuICB9IGVsc2Uge1xuICAgIGdvVG9TZWxlY3RlZE1vbnRoT3JZZWFyKGRhdGVwaWNrZXIsIE51bWJlcih0YXJnZXQuZGF0YXNldC55ZWFyKSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uTW91c2Vkb3duUGlja2VyKGV2KSB7XG4gIGV2LnByZXZlbnREZWZhdWx0KCk7XG59XG4iLCJpbXBvcnQge2hhc1Byb3BlcnR5LCBsYXN0SXRlbU9mLCBpc0luUmFuZ2UsIGxpbWl0VG9SYW5nZX0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcbmltcG9ydCB7dG9kYXl9IGZyb20gJy4uL2xpYi9kYXRlLmpzJztcbmltcG9ydCB7cGFyc2VIVE1MLCBnZXRQYXJlbnQsIHNob3dFbGVtZW50LCBoaWRlRWxlbWVudCwgZW1wdHlDaGlsZE5vZGVzfSBmcm9tICcuLi9saWIvZG9tLmpzJztcbmltcG9ydCB7cmVnaXN0ZXJMaXN0ZW5lcnN9IGZyb20gJy4uL2xpYi9ldmVudC5qcyc7XG5pbXBvcnQgcGlja2VyVGVtcGxhdGUgZnJvbSAnLi90ZW1wbGF0ZXMvcGlja2VyVGVtcGxhdGUuanMnO1xuaW1wb3J0IERheXNWaWV3IGZyb20gJy4vdmlld3MvRGF5c1ZpZXcuanMnO1xuaW1wb3J0IE1vbnRoc1ZpZXcgZnJvbSAnLi92aWV3cy9Nb250aHNWaWV3LmpzJztcbmltcG9ydCBZZWFyc1ZpZXcgZnJvbSAnLi92aWV3cy9ZZWFyc1ZpZXcuanMnO1xuaW1wb3J0IHt0cmlnZ2VyRGF0ZXBpY2tlckV2ZW50fSBmcm9tICcuLi9ldmVudHMvZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIG9uQ2xpY2tUb2RheUJ0bixcbiAgb25DbGlja0NsZWFyQnRuLFxuICBvbkNsaWNrVmlld1N3aXRjaCxcbiAgb25DbGlja1ByZXZCdG4sXG4gIG9uQ2xpY2tOZXh0QnRuLFxuICBvbkNsaWNrVmlldyxcbiAgb25Nb3VzZWRvd25QaWNrZXIsXG59IGZyb20gJy4uL2V2ZW50cy9waWNrZXJMaXN0ZW5lcnMuanMnO1xuXG5jb25zdCBvcmllbnRDbGFzc2VzID0gWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXS5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gIG9ialtrZXldID0gYGRhdGVwaWNrZXItb3JpZW50LSR7a2V5fWA7XG4gIHJldHVybiBvYmo7XG59LCB7fSk7XG5jb25zdCB0b1B4ID0gbnVtID0+IG51bSA/IGAke251bX1weGAgOiBudW07XG5cbmZ1bmN0aW9uIHByb2Nlc3NQaWNrZXJPcHRpb25zKHBpY2tlciwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucy50aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdGlvbnMudGl0bGUpIHtcbiAgICAgIHBpY2tlci5jb250cm9scy50aXRsZS50ZXh0Q29udGVudCA9IG9wdGlvbnMudGl0bGU7XG4gICAgICBzaG93RWxlbWVudChwaWNrZXIuY29udHJvbHMudGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwaWNrZXIuY29udHJvbHMudGl0bGUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGhpZGVFbGVtZW50KHBpY2tlci5jb250cm9scy50aXRsZSk7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zLnByZXZBcnJvdykge1xuICAgIGNvbnN0IHByZXZCdG4gPSBwaWNrZXIuY29udHJvbHMucHJldkJ0bjtcbiAgICBlbXB0eUNoaWxkTm9kZXMocHJldkJ0bik7XG4gICAgb3B0aW9ucy5wcmV2QXJyb3cuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgcHJldkJ0bi5hcHBlbmRDaGlsZChub2RlLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMubmV4dEFycm93KSB7XG4gICAgY29uc3QgbmV4dEJ0biA9IHBpY2tlci5jb250cm9scy5uZXh0QnRuO1xuICAgIGVtcHR5Q2hpbGROb2RlcyhuZXh0QnRuKTtcbiAgICBvcHRpb25zLm5leHRBcnJvdy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICBuZXh0QnRuLmFwcGVuZENoaWxkKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9KTtcbiAgfVxuICBpZiAob3B0aW9ucy5sb2NhbGUpIHtcbiAgICBwaWNrZXIuY29udHJvbHMudG9kYXlCdG4udGV4dENvbnRlbnQgPSBvcHRpb25zLmxvY2FsZS50b2RheTtcbiAgICBwaWNrZXIuY29udHJvbHMuY2xlYXJCdG4udGV4dENvbnRlbnQgPSBvcHRpb25zLmxvY2FsZS5jbGVhcjtcbiAgfVxuICBpZiAob3B0aW9ucy50b2RheUJ0biAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdGlvbnMudG9kYXlCdG4pIHtcbiAgICAgIHNob3dFbGVtZW50KHBpY2tlci5jb250cm9scy50b2RheUJ0bik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVFbGVtZW50KHBpY2tlci5jb250cm9scy50b2RheUJ0bik7XG4gICAgfVxuICB9XG4gIGlmIChoYXNQcm9wZXJ0eShvcHRpb25zLCAnbWluRGF0ZScpIHx8IGhhc1Byb3BlcnR5KG9wdGlvbnMsICdtYXhEYXRlJykpIHtcbiAgICBjb25zdCB7bWluRGF0ZSwgbWF4RGF0ZX0gPSBwaWNrZXIuZGF0ZXBpY2tlci5jb25maWc7XG4gICAgcGlja2VyLmNvbnRyb2xzLnRvZGF5QnRuLmRpc2FibGVkID0gIWlzSW5SYW5nZSh0b2RheSgpLCBtaW5EYXRlLCBtYXhEYXRlKTtcbiAgfVxuICBpZiAob3B0aW9ucy5jbGVhckJ0biAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdGlvbnMuY2xlYXJCdG4pIHtcbiAgICAgIHNob3dFbGVtZW50KHBpY2tlci5jb250cm9scy5jbGVhckJ0bik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVFbGVtZW50KHBpY2tlci5jb250cm9scy5jbGVhckJ0bik7XG4gICAgfVxuICB9XG59XG5cbi8vIENvbXB1dGUgdmlldyBkYXRlIHRvIHJlc2V0LCB3aGljaCB3aWxsIGJlLi4uXG4vLyAtIHRoZSBsYXN0IGl0ZW0gb2YgdGhlIHNlbGVjdGVkIGRhdGVzIG9yIGRlZmF1bHRWaWV3RGF0ZSBpZiBubyBzZWxlY3Rpb25cbi8vIC0gbGltaXR0ZWQgdG8gbWluRGF0ZSBvciBtYXhEYXRlIGlmIGl0IGV4Y2VlZHMgdGhlIHJhbmdlXG5mdW5jdGlvbiBjb21wdXRlUmVzZXRWaWV3RGF0ZShkYXRlcGlja2VyKSB7XG4gIGNvbnN0IHtkYXRlcywgY29uZmlnfSA9IGRhdGVwaWNrZXI7XG4gIGNvbnN0IHZpZXdEYXRlID0gZGF0ZXMubGVuZ3RoID4gMCA/IGxhc3RJdGVtT2YoZGF0ZXMpIDogY29uZmlnLmRlZmF1bHRWaWV3RGF0ZTtcbiAgcmV0dXJuIGxpbWl0VG9SYW5nZSh2aWV3RGF0ZSwgY29uZmlnLm1pbkRhdGUsIGNvbmZpZy5tYXhEYXRlKTtcbn1cblxuLy8gQ2hhbmdlIGN1cnJlbnQgdmlldydzIHZpZXcgZGF0ZVxuZnVuY3Rpb24gc2V0Vmlld0RhdGUocGlja2VyLCBuZXdEYXRlKSB7XG4gIGNvbnN0IG9sZFZpZXdEYXRlID0gbmV3IERhdGUocGlja2VyLnZpZXdEYXRlKTtcbiAgY29uc3QgbmV3Vmlld0RhdGUgPSBuZXcgRGF0ZShuZXdEYXRlKTtcbiAgY29uc3Qge2lkLCB5ZWFyLCBmaXJzdCwgbGFzdH0gPSBwaWNrZXIuY3VycmVudFZpZXc7XG4gIGNvbnN0IHZpZXdZZWFyID0gbmV3Vmlld0RhdGUuZ2V0RnVsbFllYXIoKTtcblxuICBwaWNrZXIudmlld0RhdGUgPSBuZXdEYXRlO1xuICBpZiAodmlld1llYXIgIT09IG9sZFZpZXdEYXRlLmdldEZ1bGxZZWFyKCkpIHtcbiAgICB0cmlnZ2VyRGF0ZXBpY2tlckV2ZW50KHBpY2tlci5kYXRlcGlja2VyLCAnY2hhbmdlWWVhcicpO1xuICB9XG4gIGlmIChuZXdWaWV3RGF0ZS5nZXRNb250aCgpICE9PSBvbGRWaWV3RGF0ZS5nZXRNb250aCgpKSB7XG4gICAgdHJpZ2dlckRhdGVwaWNrZXJFdmVudChwaWNrZXIuZGF0ZXBpY2tlciwgJ2NoYW5nZU1vbnRoJyk7XG4gIH1cblxuICAvLyByZXR1cm4gd2hldGhlciB0aGUgbmV3IGRhdGUgaXMgaW4gZGlmZmVyZW50IHBlcmlvZCBvbiB0aW1lIGZyb20gdGhlIG9uZVxuICAvLyBkaXNwbGF5ZWQgaW4gdGhlIGN1cnJlbnQgdmlld1xuICAvLyB3aGVuIHRydWUsIHRoZSB2aWV3IG5lZWRzIHRvIGJlIHJlLXJlbmRlcmVkIG9uIHRoZSBuZXh0IFVJIHJlZnJlc2guXG4gIHN3aXRjaCAoaWQpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4gbmV3RGF0ZSA8IGZpcnN0IHx8IG5ld0RhdGUgPiBsYXN0O1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiB2aWV3WWVhciAhPT0geWVhcjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZpZXdZZWFyIDwgZmlyc3QgfHwgdmlld1llYXIgPiBsYXN0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRleHREaXJlY3Rpb24oZWwpIHtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5kaXJlY3Rpb247XG59XG5cbi8vIGZpbmQgdGhlIGNsb3NldCBzY3JvbGxhYmxlIGFuY2VzdG9yIGVsZW1udCB1bmRlciB0aGUgYm9keVxuZnVuY3Rpb24gZmluZFNjcm9sbFBhcmVudHMoZWwpIHtcbiAgY29uc3QgcGFyZW50ID0gZ2V0UGFyZW50KGVsKTtcbiAgaWYgKHBhcmVudCA9PT0gZG9jdW1lbnQuYm9keSB8fCAhcGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gY2hlY2tpbmcgb3ZlcmZsb3cgb25seSBpcyBlbm91Z2ggYmVjYXVzZSBjb21wdXRlZCBvdmVyZmxvdyBjYW5ub3QgYmVcbiAgLy8gdmlzaWJsZSBvciBhIGNvbWJpbmF0aW9uIG9mIHZpc2libGUgYW5kIG90aGVyIHdoZW4gZWl0aGVyIGF4aXMgaXMgc2V0XG4gIC8vIHRvIG90aGVyIHRoYW4gdmlzaWJsZS5cbiAgLy8gKFNldHRpbmcgb25lIGF4aXMgdG8gb3RoZXIgdGhhbiAndmlzaWJsZScgd2hpbGUgdGhlIG90aGVyIGlzICd2aXNpYmxlJ1xuICAvLyByZXN1bHRzIGluIHRoZSBvdGhlciBheGlzIHR1cm5pbmcgdG8gJ2F1dG8nKVxuICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KS5vdmVyZmxvdyAhPT0gJ3Zpc2libGUnXG4gICAgPyBwYXJlbnRcbiAgICA6IGZpbmRTY3JvbGxQYXJlbnRzKHBhcmVudCk7XG59XG5cbi8vIENsYXNzIHJlcHJlc2VudGluZyB0aGUgcGlja2VyIFVJXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaWNrZXIge1xuICBjb25zdHJ1Y3RvcihkYXRlcGlja2VyKSB7XG4gICAgY29uc3Qge2NvbmZpZ30gPSB0aGlzLmRhdGVwaWNrZXIgPSBkYXRlcGlja2VyO1xuXG4gICAgY29uc3QgdGVtcGxhdGUgPSBwaWNrZXJUZW1wbGF0ZS5yZXBsYWNlKC8lYnV0dG9uQ2xhc3MlL2csIGNvbmZpZy5idXR0b25DbGFzcyk7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudCA9IHBhcnNlSFRNTCh0ZW1wbGF0ZSkuZmlyc3RDaGlsZDtcbiAgICBjb25zdCBbaGVhZGVyLCBtYWluLCBmb290ZXJdID0gZWxlbWVudC5maXJzdENoaWxkLmNoaWxkcmVuO1xuICAgIGNvbnN0IHRpdGxlID0gaGVhZGVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGNvbnN0IFtwcmV2QnRuLCB2aWV3U3dpdGNoLCBuZXh0QnRuXSA9IGhlYWRlci5sYXN0RWxlbWVudENoaWxkLmNoaWxkcmVuO1xuICAgIGNvbnN0IFt0b2RheUJ0biwgY2xlYXJCdG5dID0gZm9vdGVyLmZpcnN0Q2hpbGQuY2hpbGRyZW47XG4gICAgY29uc3QgY29udHJvbHMgPSB7XG4gICAgICB0aXRsZSxcbiAgICAgIHByZXZCdG4sXG4gICAgICB2aWV3U3dpdGNoLFxuICAgICAgbmV4dEJ0bixcbiAgICAgIHRvZGF5QnRuLFxuICAgICAgY2xlYXJCdG4sXG4gICAgfTtcbiAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgIHRoaXMuY29udHJvbHMgPSBjb250cm9scztcblxuICAgIGNvbnN0IGVsZW1lbnRDbGFzcyA9IGRhdGVwaWNrZXIuaW5saW5lID8gJ2lubGluZScgOiAnZHJvcGRvd24nO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChgZGF0ZXBpY2tlci0ke2VsZW1lbnRDbGFzc31gKTtcblxuICAgIHByb2Nlc3NQaWNrZXJPcHRpb25zKHRoaXMsIGNvbmZpZyk7XG4gICAgdGhpcy52aWV3RGF0ZSA9IGNvbXB1dGVSZXNldFZpZXdEYXRlKGRhdGVwaWNrZXIpO1xuXG4gICAgLy8gc2V0IHVwIGV2ZW50IGxpc3RlbmVyc1xuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKGRhdGVwaWNrZXIsIFtcbiAgICAgIFtlbGVtZW50LCAnbW91c2Vkb3duJywgb25Nb3VzZWRvd25QaWNrZXJdLFxuICAgICAgW21haW4sICdjbGljaycsIG9uQ2xpY2tWaWV3LmJpbmQobnVsbCwgZGF0ZXBpY2tlcildLFxuICAgICAgW2NvbnRyb2xzLnZpZXdTd2l0Y2gsICdjbGljaycsIG9uQ2xpY2tWaWV3U3dpdGNoLmJpbmQobnVsbCwgZGF0ZXBpY2tlcildLFxuICAgICAgW2NvbnRyb2xzLnByZXZCdG4sICdjbGljaycsIG9uQ2xpY2tQcmV2QnRuLmJpbmQobnVsbCwgZGF0ZXBpY2tlcildLFxuICAgICAgW2NvbnRyb2xzLm5leHRCdG4sICdjbGljaycsIG9uQ2xpY2tOZXh0QnRuLmJpbmQobnVsbCwgZGF0ZXBpY2tlcildLFxuICAgICAgW2NvbnRyb2xzLnRvZGF5QnRuLCAnY2xpY2snLCBvbkNsaWNrVG9kYXlCdG4uYmluZChudWxsLCBkYXRlcGlja2VyKV0sXG4gICAgICBbY29udHJvbHMuY2xlYXJCdG4sICdjbGljaycsIG9uQ2xpY2tDbGVhckJ0bi5iaW5kKG51bGwsIGRhdGVwaWNrZXIpXSxcbiAgICBdKTtcblxuICAgIC8vIHNldCB1cCB2aWV3c1xuICAgIHRoaXMudmlld3MgPSBbXG4gICAgICBuZXcgRGF5c1ZpZXcodGhpcyksXG4gICAgICBuZXcgTW9udGhzVmlldyh0aGlzKSxcbiAgICAgIG5ldyBZZWFyc1ZpZXcodGhpcywge2lkOiAyLCBuYW1lOiAneWVhcnMnLCBjZWxsQ2xhc3M6ICd5ZWFyJywgc3RlcDogMX0pLFxuICAgICAgbmV3IFllYXJzVmlldyh0aGlzLCB7aWQ6IDMsIG5hbWU6ICdkZWNhZGVzJywgY2VsbENsYXNzOiAnZGVjYWRlJywgc3RlcDogMTB9KSxcbiAgICBdO1xuICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLnZpZXdzW2NvbmZpZy5zdGFydFZpZXddO1xuXG4gICAgdGhpcy5jdXJyZW50Vmlldy5yZW5kZXIoKTtcbiAgICB0aGlzLm1haW4uYXBwZW5kQ2hpbGQodGhpcy5jdXJyZW50Vmlldy5lbGVtZW50KTtcbiAgICBpZiAoY29uZmlnLmNvbnRhaW5lcikge1xuICAgICAgY29uZmlnLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRlcGlja2VyLmlucHV0RmllbGQuYWZ0ZXIodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBwcm9jZXNzUGlja2VyT3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICB0aGlzLnZpZXdzLmZvckVhY2goKHZpZXcpID0+IHtcbiAgICAgIHZpZXcuaW5pdChvcHRpb25zLCBmYWxzZSk7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50Vmlldy5yZW5kZXIoKTtcbiAgfVxuXG4gIGRldGFjaCgpIHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICBzaG93KCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtkYXRlcGlja2VyLCBlbGVtZW50fSA9IHRoaXM7XG4gICAgaWYgKGRhdGVwaWNrZXIuaW5saW5lKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbnN1cmUgcGlja2VyJ3MgZGlyZWN0aW9uIG1hdGNoZXMgaW5wdXQnc1xuICAgICAgY29uc3QgaW5wdXREaXJlY3Rpb24gPSBnZXRUZXh0RGlyZWN0aW9uKGRhdGVwaWNrZXIuaW5wdXRGaWVsZCk7XG4gICAgICBpZiAoaW5wdXREaXJlY3Rpb24gIT09IGdldFRleHREaXJlY3Rpb24oZ2V0UGFyZW50KGVsZW1lbnQpKSkge1xuICAgICAgICBlbGVtZW50LmRpciA9IGlucHV0RGlyZWN0aW9uO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmRpcikge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlyJyk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJsaXR5ID0gJ2hpZGRlbic7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5wbGFjZSgpO1xuICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmxpdHkgPSAnJztcblxuICAgICAgaWYgKGRhdGVwaWNrZXIuY29uZmlnLmRpc2FibGVUb3VjaEtleWJvYXJkKSB7XG4gICAgICAgIGRhdGVwaWNrZXIuaW5wdXRGaWVsZC5ibHVyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICB0cmlnZ2VyRGF0ZXBpY2tlckV2ZW50KGRhdGVwaWNrZXIsICdzaG93Jyk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kYXRlcGlja2VyLmV4aXRFZGl0TW9kZSgpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRyaWdnZXJEYXRlcGlja2VyRXZlbnQodGhpcy5kYXRlcGlja2VyLCAnaGlkZScpO1xuICB9XG5cbiAgcGxhY2UoKSB7XG4gICAgY29uc3Qge2NsYXNzTGlzdCwgb2Zmc2V0UGFyZW50LCBzdHlsZX0gPSB0aGlzLmVsZW1lbnQ7XG4gICAgY29uc3Qge2NvbmZpZywgaW5wdXRGaWVsZH0gPSB0aGlzLmRhdGVwaWNrZXI7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGg6IGNhbGVuZGFyV2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbGVuZGFySGVpZ2h0LFxuICAgIH0gPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qge1xuICAgICAgbGVmdDogaW5wdXRMZWZ0LFxuICAgICAgdG9wOiBpbnB1dFRvcCxcbiAgICAgIHJpZ2h0OiBpbnB1dFJpZ2h0LFxuICAgICAgYm90dG9tOiBpbnB1dEJvdHRvbSxcbiAgICAgIHdpZHRoOiBpbnB1dFdpZHRoLFxuICAgICAgaGVpZ2h0OiBpbnB1dEhlaWdodFxuICAgIH0gPSBpbnB1dEZpZWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCB7eDogb3JpZW50WCwgeTogb3JpZW50WX0gPSBjb25maWcub3JpZW50YXRpb247XG4gICAgbGV0IGxlZnQgPSBpbnB1dExlZnQ7XG4gICAgbGV0IHRvcCA9IGlucHV0VG9wO1xuXG4gICAgLy8gY2FsaWN1bGF0ZSBvZmZzZXRMZWZ0L1RvcCBvZiBpbnB1dEZpZWxkXG4gICAgaWYgKG9mZnNldFBhcmVudCA9PT0gZG9jdW1lbnQuYm9keSB8fCAhb2Zmc2V0UGFyZW50KSB7XG4gICAgICBsZWZ0ICs9IHdpbmRvdy5zY3JvbGxYO1xuICAgICAgdG9wICs9IHdpbmRvdy5zY3JvbGxZO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvZmZzZXRQYXJlbnRSZWN0ID0gb2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgbGVmdCAtPSBvZmZzZXRQYXJlbnRSZWN0LmxlZnQgLSBvZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdDtcbiAgICAgIHRvcCAtPSBvZmZzZXRQYXJlbnRSZWN0LnRvcCAtIG9mZnNldFBhcmVudC5zY3JvbGxUb3A7XG4gICAgfVxuXG4gICAgLy8gY2FsaWN1bGF0ZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgdmlzaWJsZSBhcmVhIHRoYXQgY29udGFpbnMgaW5wdXRGaWVsZFxuICAgIGNvbnN0IHNjcm9sbFBhcmVudCA9IGZpbmRTY3JvbGxQYXJlbnRzKGlucHV0RmllbGQpO1xuICAgIGxldCBzY3JvbGxBcmVhTGVmdCA9IDA7XG4gICAgbGV0IHNjcm9sbEFyZWFUb3AgPSAwO1xuICAgIGxldCB7XG4gICAgICBjbGllbnRXaWR0aDogc2Nyb2xsQXJlYVJpZ2h0LFxuICAgICAgY2xpZW50SGVpZ2h0OiBzY3JvbGxBcmVhQm90dG9tLFxuICAgIH0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICBpZiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICBjb25zdCBzY3JvbGxQYXJlbnRSZWN0ID0gc2Nyb2xsUGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgaWYgKHNjcm9sbFBhcmVudFJlY3QudG9wID4gMCkge1xuICAgICAgICBzY3JvbGxBcmVhVG9wID0gc2Nyb2xsUGFyZW50UmVjdC50b3A7XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsUGFyZW50UmVjdC5sZWZ0ID4gMCkge1xuICAgICAgICBzY3JvbGxBcmVhTGVmdCA9IHNjcm9sbFBhcmVudFJlY3QubGVmdDtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGxQYXJlbnRSZWN0LnJpZ2h0IDwgc2Nyb2xsQXJlYVJpZ2h0KSB7XG4gICAgICAgIHNjcm9sbEFyZWFSaWdodCA9IHNjcm9sbFBhcmVudFJlY3QucmlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsUGFyZW50UmVjdC5ib3R0b20gPCBzY3JvbGxBcmVhQm90dG9tKSB7XG4gICAgICAgIHNjcm9sbEFyZWFCb3R0b20gPSBzY3JvbGxQYXJlbnRSZWN0LmJvdHRvbTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkZXRlcm1pbmUgdGhlIGhvcml6b250YWwgb3JpZW50YXRpb24gYW5kIGxlZnQgcG9zaXRpb25cbiAgICBsZXQgYWRqdXN0bWVudCA9IDA7XG4gICAgaWYgKG9yaWVudFggPT09ICdhdXRvJykge1xuICAgICAgaWYgKGlucHV0TGVmdCA8IHNjcm9sbEFyZWFMZWZ0KSB7XG4gICAgICAgIG9yaWVudFggPSAnbGVmdCc7XG4gICAgICAgIGFkanVzdG1lbnQgPSBzY3JvbGxBcmVhTGVmdCAtIGlucHV0TGVmdDtcbiAgICAgIH0gZWxzZSBpZiAoaW5wdXRMZWZ0ICsgY2FsZW5kYXJXaWR0aCA+IHNjcm9sbEFyZWFSaWdodCkge1xuICAgICAgICBvcmllbnRYID0gJ3JpZ2h0JztcbiAgICAgICAgaWYgKHNjcm9sbEFyZWFSaWdodCA8IGlucHV0UmlnaHQpIHtcbiAgICAgICAgICBhZGp1c3RtZW50ID0gc2Nyb2xsQXJlYVJpZ2h0IC0gaW5wdXRSaWdodDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChnZXRUZXh0RGlyZWN0aW9uKGlucHV0RmllbGQpID09PSAncnRsJykge1xuICAgICAgICBvcmllbnRYID0gaW5wdXRSaWdodCAtIGNhbGVuZGFyV2lkdGggPCBzY3JvbGxBcmVhTGVmdCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmllbnRYID0gJ2xlZnQnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3JpZW50WCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgbGVmdCArPSBpbnB1dFdpZHRoIC0gY2FsZW5kYXJXaWR0aDtcbiAgICB9XG4gICAgbGVmdCArPSBhZGp1c3RtZW50O1xuXG4gICAgLy8gZGV0ZXJtaW5lIHRoZSB2ZXJ0aWNhbCBvcmllbnRhdGlvbiBhbmQgdG9wIHBvc2l0aW9uXG4gICAgaWYgKG9yaWVudFkgPT09ICdhdXRvJykge1xuICAgICAgaWYgKGlucHV0VG9wIC0gY2FsZW5kYXJIZWlnaHQgPiBzY3JvbGxBcmVhVG9wKSB7XG4gICAgICAgIG9yaWVudFkgPSBpbnB1dEJvdHRvbSArIGNhbGVuZGFySGVpZ2h0ID4gc2Nyb2xsQXJlYUJvdHRvbSA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmllbnRZID0gJ2JvdHRvbSc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcmllbnRZID09PSAndG9wJykge1xuICAgICAgdG9wIC09IGNhbGVuZGFySGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3AgKz0gaW5wdXRIZWlnaHQ7XG4gICAgfVxuXG4gICAgY2xhc3NMaXN0LnJlbW92ZSguLi5PYmplY3QudmFsdWVzKG9yaWVudENsYXNzZXMpKTtcbiAgICBjbGFzc0xpc3QuYWRkKG9yaWVudENsYXNzZXNbb3JpZW50WF0sIG9yaWVudENsYXNzZXNbb3JpZW50WV0pO1xuXG4gICAgc3R5bGUubGVmdCA9IHRvUHgobGVmdCk7XG4gICAgc3R5bGUudG9wID0gdG9QeCh0b3ApO1xuICB9XG5cbiAgc2V0Vmlld1N3aXRjaExhYmVsKGxhYmVsVGV4dCkge1xuICAgIHRoaXMuY29udHJvbHMudmlld1N3aXRjaC50ZXh0Q29udGVudCA9IGxhYmVsVGV4dDtcbiAgfVxuXG4gIHNldFByZXZCdG5EaXNhYmxlZChkaXNhYmxlZCkge1xuICAgIHRoaXMuY29udHJvbHMucHJldkJ0bi5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICB9XG5cbiAgc2V0TmV4dEJ0bkRpc2FibGVkKGRpc2FibGVkKSB7XG4gICAgdGhpcy5jb250cm9scy5uZXh0QnRuLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH1cblxuICBjaGFuZ2VWaWV3KHZpZXdJZCkge1xuICAgIGNvbnN0IG9sZFZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3O1xuICAgIGNvbnN0IG5ld1ZpZXcgPSAgdGhpcy52aWV3c1t2aWV3SWRdO1xuICAgIGlmIChuZXdWaWV3LmlkICE9PSBvbGRWaWV3LmlkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gbmV3VmlldztcbiAgICAgIHRoaXMuX3JlbmRlck1ldGhvZCA9ICdyZW5kZXInO1xuICAgICAgdHJpZ2dlckRhdGVwaWNrZXJFdmVudCh0aGlzLmRhdGVwaWNrZXIsICdjaGFuZ2VWaWV3Jyk7XG4gICAgICB0aGlzLm1haW4ucmVwbGFjZUNoaWxkKG5ld1ZpZXcuZWxlbWVudCwgb2xkVmlldy5lbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBDaGFuZ2UgdGhlIGZvY3VzZWQgZGF0ZSAodmlldyBkYXRlKVxuICBjaGFuZ2VGb2N1cyhuZXdWaWV3RGF0ZSkge1xuICAgIHRoaXMuX3JlbmRlck1ldGhvZCA9IHNldFZpZXdEYXRlKHRoaXMsIG5ld1ZpZXdEYXRlKSA/ICdyZW5kZXInIDogJ3JlZnJlc2hGb2N1cyc7XG4gICAgdGhpcy52aWV3cy5mb3JFYWNoKCh2aWV3KSA9PiB7XG4gICAgICB2aWV3LnVwZGF0ZUZvY3VzKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBBcHBseSB0aGUgY2hhbmdlIG9mIHRoZSBzZWxlY3RlZCBkYXRlc1xuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgbmV3Vmlld0RhdGUgPSBjb21wdXRlUmVzZXRWaWV3RGF0ZSh0aGlzLmRhdGVwaWNrZXIpO1xuICAgIHRoaXMuX3JlbmRlck1ldGhvZCA9IHNldFZpZXdEYXRlKHRoaXMsIG5ld1ZpZXdEYXRlKSA/ICdyZW5kZXInIDogJ3JlZnJlc2gnO1xuICAgIHRoaXMudmlld3MuZm9yRWFjaCgodmlldykgPT4ge1xuICAgICAgdmlldy51cGRhdGVGb2N1cygpO1xuICAgICAgdmlldy51cGRhdGVTZWxlY3Rpb24oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIFJlZnJlc2ggdGhlIHBpY2tlciBVSVxuICByZW5kZXIocXVpY2tSZW5kZXIgPSB0cnVlKSB7XG4gICAgY29uc3QgcmVuZGVyTWV0aG9kID0gKHF1aWNrUmVuZGVyICYmIHRoaXMuX3JlbmRlck1ldGhvZCkgfHwgJ3JlbmRlcic7XG4gICAgZGVsZXRlIHRoaXMuX3JlbmRlck1ldGhvZDtcblxuICAgIHRoaXMuY3VycmVudFZpZXdbcmVuZGVyTWV0aG9kXSgpO1xuICB9XG59XG4iLCJpbXBvcnQge2lzSW5SYW5nZX0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcbmltcG9ydCB7aXNBY3RpdmVFbGVtZW50fSBmcm9tICcuLi9saWIvZG9tLmpzJztcbmltcG9ydCB7YWRkRGF5cywgYWRkTW9udGhzLCBhZGRZZWFycywgc3RhcnRPZlllYXJQZXJpb2R9IGZyb20gJy4uL2xpYi9kYXRlLmpzJztcbmltcG9ydCB7Z29Ub1ByZXZPck5leHQsIHN3aXRjaFZpZXcsIHVuZm9jdXN9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcblxuLy8gRmluZCB0aGUgY2xvc2VzdCBkYXRlIHRoYXQgZG9lc24ndCBtZWV0IHRoZSBjb25kaXRpb24gZm9yIHVuYXZhaWxhYmxlIGRhdGVcbi8vIFJldHVybnMgdW5kZWZpbmVkIGlmIG5vIGF2YWlsYWJsZSBkYXRlIGlzIGZvdW5kXG4vLyBhZGRGbjogZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHRoZSBuZXh0IGRhdGVcbi8vICAgLSBhcmdzOiB0aW1lIHZhbHVlLCBhbW91bnRcbi8vIGluY3JlYXNlOiBhbW91bnQgdG8gcGFzcyB0byBhZGRGblxuLy8gdGVzdEZuOiBmdW5jdGlvbiB0byB0ZXN0IHRoZSB1bmF2YWlsYWJsaXR5IG9mIHRoZSBkYXRlXG4vLyAgIC0gYXJnczogdGltZSB2YWx1ZTsgcmV0dW46IHRydWUgaWYgdW5hdmFpbGFibGVcbmZ1bmN0aW9uIGZpbmROZXh0QXZhaWxhYmxlT25lKGRhdGUsIGFkZEZuLCBpbmNyZWFzZSwgdGVzdEZuLCBtaW4sIG1heCkge1xuICBpZiAoIWlzSW5SYW5nZShkYXRlLCBtaW4sIG1heCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRlc3RGbihkYXRlKSkge1xuICAgIGNvbnN0IG5ld0RhdGUgPSBhZGRGbihkYXRlLCBpbmNyZWFzZSk7XG4gICAgcmV0dXJuIGZpbmROZXh0QXZhaWxhYmxlT25lKG5ld0RhdGUsIGFkZEZuLCBpbmNyZWFzZSwgdGVzdEZuLCBtaW4sIG1heCk7XG4gIH1cbiAgcmV0dXJuIGRhdGU7XG59XG5cbi8vIGRpcmVjdGlvbjogLTEgKGxlZnQvdXApLCAxIChyaWdodC9kb3duKVxuLy8gdmVydGljYWw6IHRydWUgZm9yIHVwL2Rvd24sIGZhbHNlIGZvciBsZWZ0L3JpZ2h0XG5mdW5jdGlvbiBtb3ZlQnlBcnJvd0tleShkYXRlcGlja2VyLCBldiwgZGlyZWN0aW9uLCB2ZXJ0aWNhbCkge1xuICBjb25zdCBwaWNrZXIgPSBkYXRlcGlja2VyLnBpY2tlcjtcbiAgY29uc3QgY3VycmVudFZpZXcgPSBwaWNrZXIuY3VycmVudFZpZXc7XG4gIGNvbnN0IHN0ZXAgPSBjdXJyZW50Vmlldy5zdGVwIHx8IDE7XG4gIGxldCB2aWV3RGF0ZSA9IHBpY2tlci52aWV3RGF0ZTtcbiAgbGV0IGFkZEZuO1xuICBsZXQgdGVzdEZuO1xuICBzd2l0Y2ggKGN1cnJlbnRWaWV3LmlkKSB7XG4gICAgY2FzZSAwOlxuICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgIHZpZXdEYXRlID0gYWRkRGF5cyh2aWV3RGF0ZSwgZGlyZWN0aW9uICogNyk7XG4gICAgICB9IGVsc2UgaWYgKGV2LmN0cmxLZXkgfHwgZXYubWV0YUtleSkge1xuICAgICAgICB2aWV3RGF0ZSA9IGFkZFllYXJzKHZpZXdEYXRlLCBkaXJlY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlld0RhdGUgPSBhZGREYXlzKHZpZXdEYXRlLCBkaXJlY3Rpb24pO1xuICAgICAgfVxuICAgICAgYWRkRm4gPSBhZGREYXlzO1xuICAgICAgdGVzdEZuID0gKGRhdGUpID0+IGN1cnJlbnRWaWV3LmRpc2FibGVkLmluY2x1ZGVzKGRhdGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgdmlld0RhdGUgPSBhZGRNb250aHModmlld0RhdGUsIHZlcnRpY2FsID8gZGlyZWN0aW9uICogNCA6IGRpcmVjdGlvbik7XG4gICAgICBhZGRGbiA9IGFkZE1vbnRocztcbiAgICAgIHRlc3RGbiA9IChkYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IGR0ID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIGNvbnN0IHt5ZWFyLCBkaXNhYmxlZH0gPSBjdXJyZW50VmlldztcbiAgICAgICAgcmV0dXJuIGR0LmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgZGlzYWJsZWQuaW5jbHVkZXMoZHQuZ2V0TW9udGgoKSk7XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHZpZXdEYXRlID0gYWRkWWVhcnModmlld0RhdGUsIGRpcmVjdGlvbiAqICh2ZXJ0aWNhbCA/IDQgOiAxKSAqIHN0ZXApO1xuICAgICAgYWRkRm4gPSBhZGRZZWFycztcbiAgICAgIHRlc3RGbiA9IGRhdGUgPT4gY3VycmVudFZpZXcuZGlzYWJsZWQuaW5jbHVkZXMoc3RhcnRPZlllYXJQZXJpb2QoZGF0ZSwgc3RlcCkpO1xuICB9XG4gIHZpZXdEYXRlID0gZmluZE5leHRBdmFpbGFibGVPbmUoXG4gICAgdmlld0RhdGUsXG4gICAgYWRkRm4sXG4gICAgZGlyZWN0aW9uIDwgMCA/IC1zdGVwIDogc3RlcCxcbiAgICB0ZXN0Rm4sXG4gICAgY3VycmVudFZpZXcubWluRGF0ZSxcbiAgICBjdXJyZW50Vmlldy5tYXhEYXRlXG4gICk7XG4gIGlmICh2aWV3RGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcGlja2VyLmNoYW5nZUZvY3VzKHZpZXdEYXRlKS5yZW5kZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb25LZXlkb3duKGRhdGVwaWNrZXIsIGV2KSB7XG4gIGNvbnN0IGtleSA9IGV2LmtleTtcbiAgaWYgKGtleSA9PT0gJ1RhYicpIHtcbiAgICB1bmZvY3VzKGRhdGVwaWNrZXIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHBpY2tlciA9IGRhdGVwaWNrZXIucGlja2VyO1xuICBjb25zdCB7aWQsIGlzTWluVmlld30gPSBwaWNrZXIuY3VycmVudFZpZXc7XG4gIGlmICghcGlja2VyLmFjdGl2ZSkge1xuICAgIGlmIChrZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICBwaWNrZXIuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoa2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIGRhdGVwaWNrZXIudXBkYXRlKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgcGlja2VyLnNob3coKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGF0ZXBpY2tlci5lZGl0TW9kZSkge1xuICAgIGlmIChrZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIGRhdGVwaWNrZXIuZXhpdEVkaXRNb2RlKHt1cGRhdGU6IHRydWUsIGF1dG9oaWRlOiBkYXRlcGlja2VyLmNvbmZpZy5hdXRvaGlkZX0pO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgcGlja2VyLmhpZGUoKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGlmIChrZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICBpZiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSB7XG4gICAgICAgIGdvVG9QcmV2T3JOZXh0KGRhdGVwaWNrZXIsIC0xKTtcbiAgICAgIH0gZWxzZSBpZiAoZXYuc2hpZnRLZXkpIHtcbiAgICAgICAgZGF0ZXBpY2tlci5lbnRlckVkaXRNb2RlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdmVCeUFycm93S2V5KGRhdGVwaWNrZXIsIGV2LCAtMSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dSaWdodCcpIHtcbiAgICAgIGlmIChldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXkpIHtcbiAgICAgICAgZ29Ub1ByZXZPck5leHQoZGF0ZXBpY2tlciwgMSk7XG4gICAgICB9IGVsc2UgaWYgKGV2LnNoaWZ0S2V5KSB7XG4gICAgICAgIGRhdGVwaWNrZXIuZW50ZXJFZGl0TW9kZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3ZlQnlBcnJvd0tleShkYXRlcGlja2VyLCBldiwgMSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgIGlmIChldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXkpIHtcbiAgICAgICAgc3dpdGNoVmlldyhkYXRlcGlja2VyKTtcbiAgICAgIH0gZWxzZSBpZiAoZXYuc2hpZnRLZXkpIHtcbiAgICAgICAgZGF0ZXBpY2tlci5lbnRlckVkaXRNb2RlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdmVCeUFycm93S2V5KGRhdGVwaWNrZXIsIGV2LCAtMSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICBpZiAoZXYuc2hpZnRLZXkgJiYgIWV2LmN0cmxLZXkgJiYgIWV2Lm1ldGFLZXkpIHtcbiAgICAgICAgZGF0ZXBpY2tlci5lbnRlckVkaXRNb2RlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1vdmVCeUFycm93S2V5KGRhdGVwaWNrZXIsIGV2LCAxLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0VudGVyJykge1xuICAgICAgaWYgKGlzTWluVmlldykge1xuICAgICAgICBkYXRlcGlja2VyLnNldERhdGUocGlja2VyLnZpZXdEYXRlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGlja2VyLmNoYW5nZVZpZXcoaWQgLSAxKS5yZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgcGlja2VyLmhpZGUoKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGtleSA9PT0gJ0JhY2tzcGFjZSdcbiAgICAgICAgfHwga2V5ID09PSAnRGVsZXRlJ1xuICAgICAgICB8fCAoa2V5Lmxlbmd0aCA9PT0gMSAmJiAhZXYuY3RybEtleSAmJiAhZXYubWV0YUtleSlcbiAgICAgICkge1xuICAgICAgICBkYXRlcGlja2VyLmVudGVyRWRpdE1vZGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgZXYucHJldmVudERlZmF1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uRm9jdXMoZGF0ZXBpY2tlcikge1xuICBpZiAoZGF0ZXBpY2tlci5jb25maWcuc2hvd09uRm9jdXMgJiYgIWRhdGVwaWNrZXIuX3Nob3dpbmcpIHtcbiAgICBkYXRlcGlja2VyLnNob3coKTtcbiAgfVxufVxuXG4vLyBmb3IgdGhlIHByZXZlbnRpb24gZm9yIGVudGVyaW5nIGVkaXQgbW9kZSB3aGlsZSBnZXR0aW5nIGZvY3VzIG9uIGNsaWNrXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VzZWRvd24oZGF0ZXBpY2tlciwgZXYpIHtcbiAgY29uc3QgZWwgPSBldi50YXJnZXQ7XG4gIGlmIChkYXRlcGlja2VyLnBpY2tlci5hY3RpdmUgfHwgZGF0ZXBpY2tlci5jb25maWcuc2hvd09uQ2xpY2spIHtcbiAgICBlbC5fYWN0aXZlID0gaXNBY3RpdmVFbGVtZW50KGVsKTtcbiAgICBlbC5fY2xpY2tpbmcgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRlbGV0ZSBlbC5fYWN0aXZlO1xuICAgICAgZGVsZXRlIGVsLl9jbGlja2luZztcbiAgICB9LCAyMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb25DbGlja0lucHV0KGRhdGVwaWNrZXIsIGV2KSB7XG4gIGNvbnN0IGVsID0gZXYudGFyZ2V0O1xuICBpZiAoIWVsLl9jbGlja2luZykge1xuICAgIHJldHVybjtcbiAgfVxuICBjbGVhclRpbWVvdXQoZWwuX2NsaWNraW5nKTtcbiAgZGVsZXRlIGVsLl9jbGlja2luZztcblxuICBpZiAoZWwuX2FjdGl2ZSkge1xuICAgIGRhdGVwaWNrZXIuZW50ZXJFZGl0TW9kZSgpO1xuICB9XG4gIGRlbGV0ZSBlbC5fYWN0aXZlO1xuXG4gIGlmIChkYXRlcGlja2VyLmNvbmZpZy5zaG93T25DbGljaykge1xuICAgIGRhdGVwaWNrZXIuc2hvdygpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblBhc3RlKGRhdGVwaWNrZXIsIGV2KSB7XG4gIGlmIChldi5jbGlwYm9hcmREYXRhLnR5cGVzLmluY2x1ZGVzKCd0ZXh0L3BsYWluJykpIHtcbiAgICBkYXRlcGlja2VyLmVudGVyRWRpdE1vZGUoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtpc0FjdGl2ZUVsZW1lbnR9IGZyb20gJy4uL2xpYi9kb20uanMnO1xuaW1wb3J0IHtmaW5kRWxlbWVudEluRXZlbnRQYXRofSBmcm9tICcuLi9saWIvZXZlbnQuanMnO1xuaW1wb3J0IHt1bmZvY3VzfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5cbi8vIGZvciB0aGUgYGRvY3VtZW50YCB0byBkZWxlZ2F0ZSB0aGUgZXZlbnRzIGZyb20gb3V0c2lkZSB0aGUgcGlja2VyL2lucHV0IGZpZWxkXG5leHBvcnQgZnVuY3Rpb24gb25DbGlja091dHNpZGUoZGF0ZXBpY2tlciwgZXYpIHtcbiAgY29uc3Qge2VsZW1lbnQsIHBpY2tlcn0gPSBkYXRlcGlja2VyO1xuICAvLyBjaGVjayBib3RoIHBpY2tlcidzIGFuZCBpbnB1dCdzIGFjdGl2ZW5lc3MgdG8gbWFrZSB1cGRhdGVPbkJsdXIgd29yayBpblxuICAvLyB0aGUgY2FzZXMgd2hlcmUuLi5cbiAgLy8gLSBwaWNrZXIgaXMgaGlkZGVuIGJ5IEVTQyBrZXkgcHJlc3Mg4oaSIGlucHV0IHN0YXlzIGZvY3VzZWRcbiAgLy8gLSBpbnB1dCBpcyB1bmZvY3VzZWQgYnkgY2xvc2luZyBtb2JpbGUga2V5Ym9hcmQg4oaSIHBpa2VyIGlzIGtlcHQgc2hvd25cbiAgaWYgKCFwaWNrZXIuYWN0aXZlICYmICFpc0FjdGl2ZUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGlja2VyRWxlbSA9IHBpY2tlci5lbGVtZW50O1xuICBpZiAoZmluZEVsZW1lbnRJbkV2ZW50UGF0aChldiwgZWwgPT4gZWwgPT09IGVsZW1lbnQgfHwgZWwgPT09IHBpY2tlckVsZW0pKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVuZm9jdXMoZGF0ZXBpY2tlcik7XG59XG4iLCJpbXBvcnQge2xhc3RJdGVtT2YsIHN0cmluZ1RvQXJyYXksIGlzSW5SYW5nZX0gZnJvbSAnLi9saWIvdXRpbHMuanMnO1xuaW1wb3J0IHt0b2RheSwgcmVndWxhcml6ZURhdGV9IGZyb20gJy4vbGliL2RhdGUuanMnO1xuaW1wb3J0IHtwYXJzZURhdGUsIGZvcm1hdERhdGV9IGZyb20gJy4vbGliL2RhdGUtZm9ybWF0LmpzJztcbmltcG9ydCB7aXNBY3RpdmVFbGVtZW50fSBmcm9tICcuL2xpYi9kb20uanMnO1xuaW1wb3J0IHtyZWdpc3Rlckxpc3RlbmVycywgdW5yZWdpc3Rlckxpc3RlbmVyc30gZnJvbSAnLi9saWIvZXZlbnQuanMnO1xuaW1wb3J0IHtsb2NhbGVzfSBmcm9tICcuL2kxOG4vYmFzZS1sb2NhbGVzLmpzJztcbmltcG9ydCBkZWZhdWx0T3B0aW9ucyBmcm9tICcuL29wdGlvbnMvZGVmYXVsdE9wdGlvbnMuanMnO1xuaW1wb3J0IHByb2Nlc3NPcHRpb25zIGZyb20gJy4vb3B0aW9ucy9wcm9jZXNzT3B0aW9ucy5qcyc7XG5pbXBvcnQgUGlja2VyIGZyb20gJy4vcGlja2VyL1BpY2tlci5qcyc7XG5pbXBvcnQge3RyaWdnZXJEYXRlcGlja2VyRXZlbnR9IGZyb20gJy4vZXZlbnRzL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge29uS2V5ZG93biwgb25Gb2N1cywgb25Nb3VzZWRvd24sIG9uQ2xpY2tJbnB1dCwgb25QYXN0ZX0gZnJvbSAnLi9ldmVudHMvaW5wdXRGaWVsZExpc3RlbmVycy5qcyc7XG5pbXBvcnQge29uQ2xpY2tPdXRzaWRlfSBmcm9tICcuL2V2ZW50cy9vdGhlckxpc3RlbmVycy5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeURhdGVzKGRhdGVzLCBjb25maWcpIHtcbiAgcmV0dXJuIGRhdGVzXG4gICAgLm1hcChkdCA9PiBmb3JtYXREYXRlKGR0LCBjb25maWcuZm9ybWF0LCBjb25maWcubG9jYWxlKSlcbiAgICAuam9pbihjb25maWcuZGF0ZURlbGltaXRlcik7XG59XG5cbi8vIHBhcnNlIGlucHV0IGRhdGVzIGFuZCBjcmVhdGUgYW4gYXJyYXkgb2YgdGltZSB2YWx1ZXMgZm9yIHNlbGVjdGlvblxuLy8gcmV0dXJucyB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG5vIHZhbGlkIGRhdGVzIGluIGlucHV0RGF0ZXNcbi8vIHdoZW4gb3JpZ0RhdGVzIChjdXJyZW50IHNlbGVjdGlvbikgaXMgcGFzc2VkLCB0aGUgZnVuY3Rpb24gd29ya3MgdG8gbWl4XG4vLyB0aGUgaW5wdXQgZGF0ZXMgaW50byB0aGUgY3VycmVudCBzZWxlY3Rpb25cbmZ1bmN0aW9uIHByb2Nlc3NJbnB1dERhdGVzKGRhdGVwaWNrZXIsIGlucHV0RGF0ZXMsIGNsZWFyID0gZmFsc2UpIHtcbiAgLy8gY29uc3Qge2NvbmZpZywgZGF0ZXM6IG9yaWdEYXRlcywgcmFuZ2VwaWNrZXJ9ID0gZGF0ZXBpY2tlcjtcbiAgY29uc3Qge2NvbmZpZywgZGF0ZXM6IG9yaWdEYXRlcywgcmFuZ2VTaWRlSW5kZXh9ID0gZGF0ZXBpY2tlcjtcbiAgaWYgKGlucHV0RGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gZW1wdHkgaW5wdXQgaXMgY29uc2lkZXJlZCB2YWxpZCB1bmxlc3Mgb3JpZ2lEYXRlcyBpcyBwYXNzZWRcbiAgICByZXR1cm4gY2xlYXIgPyBbXSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIGNvbnN0IHJhbmdlRW5kID0gcmFuZ2VwaWNrZXIgJiYgZGF0ZXBpY2tlciA9PT0gcmFuZ2VwaWNrZXIuZGF0ZXBpY2tlcnNbMV07XG4gIGxldCBuZXdEYXRlcyA9IGlucHV0RGF0ZXMucmVkdWNlKChkYXRlcywgZHQpID0+IHtcbiAgICBsZXQgZGF0ZSA9IHBhcnNlRGF0ZShkdCwgY29uZmlnLmZvcm1hdCwgY29uZmlnLmxvY2FsZSk7XG4gICAgaWYgKGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGRhdGVzO1xuICAgIH1cbiAgICAvLyBhZGp1c3QgdG8gMXN0IG9mIHRoZSBtb250aC9KYW4gMXN0IG9mIHRoZSB5ZWFyXG4gICAgLy8gb3IgdG8gdGhlIGxhc3QgZGF5IG9mIHRoZSBtb25oL0RlYyAzMXN0IG9mIHRoZSB5ZWFyIGlmIHRoZSBkYXRlcGlja2VyXG4gICAgLy8gaXMgdGhlIHJhbmdlLWVuZCBwaWNrZXIgb2YgYSByYW5nZXBpY2tlclxuICAgIGRhdGUgPSByZWd1bGFyaXplRGF0ZShkYXRlLCBjb25maWcucGlja0xldmVsLCByYW5nZVNpZGVJbmRleCk7XG4gICAgaWYgKFxuICAgICAgaXNJblJhbmdlKGRhdGUsIGNvbmZpZy5taW5EYXRlLCBjb25maWcubWF4RGF0ZSlcbiAgICAgICYmICFkYXRlcy5pbmNsdWRlcyhkYXRlKVxuICAgICAgJiYgIWNvbmZpZy5kYXRlc0Rpc2FibGVkLmluY2x1ZGVzKGRhdGUpXG4gICAgICAmJiAoY29uZmlnLnBpY2tMZXZlbCA+IDAgfHwgIWNvbmZpZy5kYXlzT2ZXZWVrRGlzYWJsZWQuaW5jbHVkZXMobmV3IERhdGUoZGF0ZSkuZ2V0RGF5KCkpKVxuICAgICkge1xuICAgICAgZGF0ZXMucHVzaChkYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGVzO1xuICB9LCBbXSk7XG4gIGlmIChuZXdEYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGNvbmZpZy5tdWx0aWRhdGUgJiYgIWNsZWFyKSB7XG4gICAgLy8gZ2V0IHRoZSBzeW5tZXRyaWMgZGlmZmVyZW5jZSBiZXR3ZWVuIG9yaWdEYXRlcyBhbmQgbmV3RGF0ZXNcbiAgICBuZXdEYXRlcyA9IG5ld0RhdGVzLnJlZHVjZSgoZGF0ZXMsIGRhdGUpID0+IHtcbiAgICAgIGlmICghb3JpZ0RhdGVzLmluY2x1ZGVzKGRhdGUpKSB7XG4gICAgICAgIGRhdGVzLnB1c2goZGF0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZXM7XG4gICAgfSwgb3JpZ0RhdGVzLmZpbHRlcihkYXRlID0+ICFuZXdEYXRlcy5pbmNsdWRlcyhkYXRlKSkpO1xuICB9XG4gIC8vIGRvIGxlbmd0aCBjaGVjayBhbHdheXMgYmVjYXVzZSB1c2VyIGNhbiBpbnB1dCBtdWx0aXBsZSBkYXRlcyByZWdhcmRsZXNzIG9mIHRoZSBtb2RlXG4gIHJldHVybiBjb25maWcubWF4TnVtYmVyT2ZEYXRlcyAmJiBuZXdEYXRlcy5sZW5ndGggPiBjb25maWcubWF4TnVtYmVyT2ZEYXRlc1xuICAgID8gbmV3RGF0ZXMuc2xpY2UoY29uZmlnLm1heE51bWJlck9mRGF0ZXMgKiAtMSlcbiAgICA6IG5ld0RhdGVzO1xufVxuXG4vLyByZWZyZXNoIHRoZSBVSSBlbGVtZW50c1xuLy8gbW9kZXM6IDE6IGlucHV0IG9ubHksIDIsIHBpY2tlciBvbmx5LCAzIGJvdGhcbmZ1bmN0aW9uIHJlZnJlc2hVSShkYXRlcGlja2VyLCBtb2RlID0gMywgcXVpY2tSZW5kZXIgPSB0cnVlKSB7XG4gIGNvbnN0IHtjb25maWcsIHBpY2tlciwgaW5wdXRGaWVsZH0gPSBkYXRlcGlja2VyO1xuICBpZiAobW9kZSAmIDIpIHtcbiAgICBjb25zdCBuZXdWaWV3ID0gcGlja2VyLmFjdGl2ZSA/IGNvbmZpZy5waWNrTGV2ZWwgOiBjb25maWcuc3RhcnRWaWV3O1xuICAgIHBpY2tlci51cGRhdGUoKS5jaGFuZ2VWaWV3KG5ld1ZpZXcpLnJlbmRlcihxdWlja1JlbmRlcik7XG4gIH1cbiAgaWYgKG1vZGUgJiAxICYmIGlucHV0RmllbGQpIHtcbiAgICBpbnB1dEZpZWxkLnZhbHVlID0gc3RyaW5naWZ5RGF0ZXMoZGF0ZXBpY2tlci5kYXRlcywgY29uZmlnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXREYXRlKGRhdGVwaWNrZXIsIGlucHV0RGF0ZXMsIG9wdGlvbnMpIHtcbiAgbGV0IHtjbGVhciwgcmVuZGVyLCBhdXRvaGlkZSwgcmV2ZXJ0fSA9IG9wdGlvbnM7XG4gIGlmIChyZW5kZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJlbmRlciA9IHRydWU7XG4gIH1cbiAgaWYgKCFyZW5kZXIpIHtcbiAgICBhdXRvaGlkZSA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGF1dG9oaWRlID09PSB1bmRlZmluZWQpIHtcbiAgICBhdXRvaGlkZSA9IGRhdGVwaWNrZXIuY29uZmlnLmF1dG9oaWRlO1xuICB9XG5cbiAgY29uc3QgbmV3RGF0ZXMgPSBwcm9jZXNzSW5wdXREYXRlcyhkYXRlcGlja2VyLCBpbnB1dERhdGVzLCBjbGVhcik7XG4gIGlmICghbmV3RGF0ZXMgJiYgIXJldmVydCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobmV3RGF0ZXMgJiYgbmV3RGF0ZXMudG9TdHJpbmcoKSAhPT0gZGF0ZXBpY2tlci5kYXRlcy50b1N0cmluZygpKSB7XG4gICAgZGF0ZXBpY2tlci5kYXRlcyA9IG5ld0RhdGVzO1xuICAgIHJlZnJlc2hVSShkYXRlcGlja2VyLCByZW5kZXIgPyAzIDogMSk7XG4gICAgdHJpZ2dlckRhdGVwaWNrZXJFdmVudChkYXRlcGlja2VyLCAnY2hhbmdlRGF0ZScpO1xuICB9IGVsc2Uge1xuICAgIHJlZnJlc2hVSShkYXRlcGlja2VyLCAxKTtcbiAgfVxuXG4gIGlmIChhdXRvaGlkZSkge1xuICAgIGRhdGVwaWNrZXIuaGlkZSgpO1xuICB9XG59XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgZGF0ZSBwaWNrZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZXBpY2tlciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkYXRlIHBpY2tlclxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBiaW5kIGEgZGF0ZSBwaWNrZXJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9uc10gLSBjb25maWcgb3B0aW9uc1xuICAgKiBAcGFyYW0gIHtEYXRlUmFuZ2VQaWNrZXJ9IFtyYW5nZXBpY2tlcl0gLSBEYXRlUmFuZ2VQaWNrZXIgaW5zdGFuY2UgdGhlXG4gICAqIGRhdGUgcGlja2VyIGJlbG9uZ3MgdG8uIFVzZSB0aGlzIG9ubHkgd2hlbiBjcmVhdGluZyBkYXRlIHBpY2tlciBhcyBhIHBhcnRcbiAgICogb2YgZGF0ZSByYW5nZSBwaWNrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSwgcmFuZ2VwaWNrZXIgPSB1bmRlZmluZWQpIHtcbiAgICBlbGVtZW50LmRhdGVwaWNrZXIgPSB0aGlzO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgYnV0dG9uQ2xhc3M6IChvcHRpb25zLmJ1dHRvbkNsYXNzICYmIFN0cmluZyhvcHRpb25zLmJ1dHRvbkNsYXNzKSkgfHwgJ2J1dHRvbicsXG4gICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICBkZWZhdWx0Vmlld0RhdGU6IHRvZGF5KCksXG4gICAgICBtYXhEYXRlOiB1bmRlZmluZWQsXG4gICAgICBtaW5EYXRlOiB1bmRlZmluZWQsXG4gICAgfSwgcHJvY2Vzc09wdGlvbnMoZGVmYXVsdE9wdGlvbnMsIHRoaXMpKTtcbiAgICAvLyBjb25maWd1cmUgYnkgdHlwZVxuICAgIGNvbnN0IGlubGluZSA9IHRoaXMuaW5saW5lID0gZWxlbWVudC50YWdOYW1lICE9PSAnSU5QVVQnO1xuICAgIGxldCBpbnB1dEZpZWxkO1xuICAgIGlmIChpbmxpbmUpIHtcbiAgICAgIGNvbmZpZy5jb250YWluZXIgPSBlbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgLy8gb21pdCBzdHJpbmcgdHlwZSBjaGVjayBiZWNhdXNlIGl0IGRvZXNuJ3QgZ3VhcmFudGVlIHRvIGF2b2lkIGVycm9yc1xuICAgICAgICAvLyAoaW52YWxpZCBzZWxlY3RvciBzdHJpbmcgY2F1c2VzIGFiZW5kIHdpdGggc3l0YXggZXJyb3IpXG4gICAgICAgIGNvbmZpZy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgICAgICAgPyBvcHRpb25zLmNvbnRhaW5lclxuICAgICAgICAgIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICBpbnB1dEZpZWxkID0gdGhpcy5pbnB1dEZpZWxkID0gZWxlbWVudDtcbiAgICAgIGlucHV0RmllbGQuY2xhc3NMaXN0LmFkZCgnZGF0ZXBpY2tlci1pbnB1dCcpO1xuICAgIH1cbiAgICBpZiAocmFuZ2VwaWNrZXIpIHtcbiAgICAgIC8vIGNoZWNrIHZhbGlkaXJ5XG4gICAgICBjb25zdCBpbmRleCA9IHJhbmdlcGlja2VyLmlucHV0cy5pbmRleE9mKGlucHV0RmllbGQpO1xuICAgICAgY29uc3QgZGF0ZXBpY2tlcnMgPSByYW5nZXBpY2tlci5kYXRlcGlja2VycztcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiAxIHx8ICFBcnJheS5pc0FycmF5KGRhdGVwaWNrZXJzKSkge1xuICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCByYW5nZXBpY2tlciBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICAvLyBhdHRhY2ggaXRhZWxmIHRvIHRoZSByYW5nZXBpY2tlciBoZXJlIHNvIHRoYXQgcHJvY2Vzc0lucHV0RGF0ZXMoKSBjYW5cbiAgICAgIC8vIGRldGVybWluZSBpZiB0aGlzIGlzIHRoZSByYW5nZS1lbmQgcGlja2VyIG9mIHRoZSByYW5nZXBpY2tlciB3aGlsZVxuICAgICAgLy8gc2V0dGluZyBpbml0YWwgdmFsdWVzIHdoZW4gcGlja0xldmVsID4gMFxuICAgICAgZGF0ZXBpY2tlcnNbaW5kZXhdID0gdGhpcztcbiAgICAgIC8vIGFkZCBnZXR0ZXIgZm9yIHJhbmdlcGlja2VyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JhbmdlcGlja2VyJywge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHJhbmdlcGlja2VyO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JhbmdlU2lkZUluZGV4Jywge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc2V0IHVwIGNvbmZpZ1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCBwcm9jZXNzT3B0aW9ucyhvcHRpb25zLCB0aGlzKSk7XG5cbiAgICAvLyBzZXQgaW5pdGlhbCBkYXRlc1xuICAgIGxldCBpbml0aWFsRGF0ZXM7XG4gICAgaWYgKGlubGluZSkge1xuICAgICAgaW5pdGlhbERhdGVzID0gc3RyaW5nVG9BcnJheShlbGVtZW50LmRhdGFzZXQuZGF0ZSwgY29uZmlnLmRhdGVEZWxpbWl0ZXIpO1xuICAgICAgZGVsZXRlIGVsZW1lbnQuZGF0YXNldC5kYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsRGF0ZXMgPSBzdHJpbmdUb0FycmF5KGlucHV0RmllbGQudmFsdWUsIGNvbmZpZy5kYXRlRGVsaW1pdGVyKTtcbiAgICB9XG4gICAgdGhpcy5kYXRlcyA9IFtdO1xuICAgIC8vIHByb2Nlc3MgaW5pdGlhbCB2YWx1ZVxuICAgIGNvbnN0IGlucHV0RGF0ZVZhbHVlcyA9IHByb2Nlc3NJbnB1dERhdGVzKHRoaXMsIGluaXRpYWxEYXRlcyk7XG4gICAgaWYgKGlucHV0RGF0ZVZhbHVlcyAmJiBpbnB1dERhdGVWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5kYXRlcyA9IGlucHV0RGF0ZVZhbHVlcztcbiAgICB9XG4gICAgaWYgKGlucHV0RmllbGQpIHtcbiAgICAgIGlucHV0RmllbGQudmFsdWUgPSBzdHJpbmdpZnlEYXRlcyh0aGlzLmRhdGVzLCBjb25maWcpO1xuICAgIH1cblxuICAgIGNvbnN0IHBpY2tlciA9IHRoaXMucGlja2VyID0gbmV3IFBpY2tlcih0aGlzKTtcblxuICAgIGlmIChpbmxpbmUpIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGluIG90aGVyIG1vZGVzXG4gICAgICBjb25zdCBvbk1vdXNlZG93bkRvY3VtZW50ID0gb25DbGlja091dHNpZGUuYmluZChudWxsLCB0aGlzKTtcbiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IFtcbiAgICAgICAgW2lucHV0RmllbGQsICdrZXlkb3duJywgb25LZXlkb3duLmJpbmQobnVsbCwgdGhpcyldLFxuICAgICAgICBbaW5wdXRGaWVsZCwgJ2ZvY3VzJywgb25Gb2N1cy5iaW5kKG51bGwsIHRoaXMpXSxcbiAgICAgICAgW2lucHV0RmllbGQsICdtb3VzZWRvd24nLCBvbk1vdXNlZG93bi5iaW5kKG51bGwsIHRoaXMpXSxcbiAgICAgICAgW2lucHV0RmllbGQsICdjbGljaycsIG9uQ2xpY2tJbnB1dC5iaW5kKG51bGwsIHRoaXMpXSxcbiAgICAgICAgW2lucHV0RmllbGQsICdwYXN0ZScsIG9uUGFzdGUuYmluZChudWxsLCB0aGlzKV0sXG4gICAgICAgIFtkb2N1bWVudCwgJ21vdXNlZG93bicsIG9uTW91c2Vkb3duRG9jdW1lbnRdLFxuICAgICAgICBbZG9jdW1lbnQsICd0b3VjaHN0YXJ0Jywgb25Nb3VzZWRvd25Eb2N1bWVudF0sXG4gICAgICAgIFt3aW5kb3csICdyZXNpemUnLCBwaWNrZXIucGxhY2UuYmluZChwaWNrZXIpXVxuICAgICAgXTtcbiAgICAgIHJlZ2lzdGVyTGlzdGVuZXJzKHRoaXMsIGxpc3RlbmVycyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBEYXRlIG9iamVjdCBvciB0aW1lIHZhbHVlIGluIGdpdmVuIGZvcm1hdCBhbmQgbGFuZ3VhZ2VcbiAgICogQHBhcmFtICB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSBkYXRlIG9yIHRpbWUgdmFsdWUgdG8gZm9ybWF0XG4gICAqIEBwYXJhbSAge1N0cmluZ3xPYmplY3R9IGZvcm1hdCAtIGZvcm1hdCBzdHJpbmcgb3Igb2JqZWN0IHRoYXQgY29udGFpbnNcbiAgICogdG9EaXNwbGF5KCkgY3VzdG9tIGZvcm1hdHRlciwgd2hvc2Ugc2lnbmF0dXJlIGlzXG4gICAqIC0gYXJnczpcbiAgICogICAtIGRhdGU6IHtEYXRlfSAtIERhdGUgaW5zdGFuY2Ugb2YgdGhlIGRhdGUgcGFzc2VkIHRvIHRoZSBtZXRob2RcbiAgICogICAtIGZvcm1hdDoge09iamVjdH0gLSB0aGUgZm9ybWF0IG9iamVjdCBwYXNzZWQgdG8gdGhlIG1ldGhvZFxuICAgKiAgIC0gbG9jYWxlOiB7T2JqZWN0fSAtIGxvY2FsZSBmb3IgdGhlIGxhbmd1YWdlIHNwZWNpZmllZCBieSBgbGFuZ2BcbiAgICogLSByZXR1cm46XG4gICAqICAgICB7U3RyaW5nfSBmb3JtYXR0ZWQgZGF0ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IFtsYW5nPWVuXSAtIGxhbmd1YWdlIGNvZGUgZm9yIHRoZSBsb2NhbGUgdG8gdXNlXG4gICAqIEByZXR1cm4ge1N0cmluZ30gZm9ybWF0dGVkIGRhdGVcbiAgICovXG4gIHN0YXRpYyBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCwgbGFuZykge1xuICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCwgbGFuZyAmJiBsb2NhbGVzW2xhbmddIHx8IGxvY2FsZXMuZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGRhdGUgc3RyaW5nXG4gICAqIEBwYXJhbSAge1N0cmluZ3xEYXRlfE51bWJlcn0gZGF0ZVN0ciAtIGRhdGUgc3RyaW5nLCBEYXRlIG9iamVjdCBvciB0aW1lXG4gICAqIHZhbHVlIHRvIHBhcnNlXG4gICAqIEBwYXJhbSAge1N0cmluZ3xPYmplY3R9IGZvcm1hdCAtIGZvcm1hdCBzdHJpbmcgb3Igb2JqZWN0IHRoYXQgY29udGFpbnNcbiAgICogdG9WYWx1ZSgpIGN1c3RvbSBwYXJzZXIsIHdob3NlIHNpZ25hdHVyZSBpc1xuICAgKiAtIGFyZ3M6XG4gICAqICAgLSBkYXRlU3RyOiB7U3RyaW5nfERhdGV8TnVtYmVyfSAtIHRoZSBkYXRlU3RyIHBhc3NlZCB0byB0aGUgbWV0aG9kXG4gICAqICAgLSBmb3JtYXQ6IHtPYmplY3R9IC0gdGhlIGZvcm1hdCBvYmplY3QgcGFzc2VkIHRvIHRoZSBtZXRob2RcbiAgICogICAtIGxvY2FsZToge09iamVjdH0gLSBsb2NhbGUgZm9yIHRoZSBsYW5ndWFnZSBzcGVjaWZpZWQgYnkgYGxhbmdgXG4gICAqIC0gcmV0dXJuOlxuICAgKiAgICAge0RhdGV8TnVtYmVyfSBwYXJzZWQgZGF0ZSBvciBpdHMgdGltZSB2YWx1ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IFtsYW5nPWVuXSAtIGxhbmd1YWdlIGNvZGUgZm9yIHRoZSBsb2NhbGUgdG8gdXNlXG4gICAqIEByZXR1cm4ge051bWJlcn0gdGltZSB2YWx1ZSBvZiBwYXJzZWQgZGF0ZVxuICAgKi9cbiAgc3RhdGljIHBhcnNlRGF0ZShkYXRlU3RyLCBmb3JtYXQsIGxhbmcpIHtcbiAgICByZXR1cm4gcGFyc2VEYXRlKGRhdGVTdHIsIGZvcm1hdCwgbGFuZyAmJiBsb2NhbGVzW2xhbmddIHx8IGxvY2FsZXMuZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3R9IC0gSW5zdGFsbGVkIGxvY2FsZXMgaW4gYFtsYW5ndWFnZUNvZGVdOiBsb2NhbGVPYmplY3RgIGZvcm1hdFxuICAgKiBlbmA6X0VuZ2xpc2ggKFVTKV8gaXMgcHJlLWluc3RhbGxlZC5cbiAgICovXG4gIHN0YXRpYyBnZXQgbG9jYWxlcygpIHtcbiAgICByZXR1cm4gbG9jYWxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn0gLSBXaGV0aGVyIHRoZSBwaWNrZXIgZWxlbWVudCBpcyBzaG93bi4gYHRydWVgIHdobmUgc2hvd25cbiAgICovXG4gIGdldCBhY3RpdmUoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMucGlja2VyICYmIHRoaXMucGlja2VyLmFjdGl2ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fSAtIERPTSBvYmplY3Qgb2YgcGlja2VyIGVsZW1lbnRcbiAgICovXG4gIGdldCBwaWNrZXJFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnBpY2tlciA/IHRoaXMucGlja2VyLmVsZW1lbnQgOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IG5ldyB2YWx1ZXMgdG8gdGhlIGNvbmZpZyBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlnIG9wdGlvbnMgdG8gdXBkYXRlXG4gICAqL1xuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwaWNrZXIgPSB0aGlzLnBpY2tlcjtcbiAgICBjb25zdCBuZXdPcHRpb25zID0gcHJvY2Vzc09wdGlvbnMob3B0aW9ucywgdGhpcyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCBuZXdPcHRpb25zKTtcbiAgICBwaWNrZXIuc2V0T3B0aW9ucyhuZXdPcHRpb25zKTtcblxuICAgIHJlZnJlc2hVSSh0aGlzLCAzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBwaWNrZXIgZWxlbWVudFxuICAgKi9cbiAgc2hvdygpIHtcbiAgICBpZiAodGhpcy5pbnB1dEZpZWxkKSB7XG4gICAgICBpZiAodGhpcy5pbnB1dEZpZWxkLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBY3RpdmVFbGVtZW50KHRoaXMuaW5wdXRGaWVsZCkgJiYgIXRoaXMuY29uZmlnLmRpc2FibGVUb3VjaEtleWJvYXJkKSB7XG4gICAgICAgIHRoaXMuX3Nob3dpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmlucHV0RmllbGQuZm9jdXMoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Nob3dpbmc7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucGlja2VyLnNob3coKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBwaWNrZXIgZWxlbWVudFxuICAgKiBOb3QgYXZhaWxhYmxlIG9uIGlubGluZSBwaWNrZXJcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgaWYgKHRoaXMuaW5saW5lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucGlja2VyLmhpZGUoKTtcbiAgICB0aGlzLnBpY2tlci51cGRhdGUoKS5jaGFuZ2VWaWV3KHRoaXMuY29uZmlnLnN0YXJ0VmlldykucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgRGF0ZXBpY2tlciBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtEZXRlcGlja2VyfSAtIHRoZSBpbnN0YW5jZSBkZXN0cm95ZWRcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5oaWRlKCk7XG4gICAgdW5yZWdpc3Rlckxpc3RlbmVycyh0aGlzKTtcbiAgICB0aGlzLnBpY2tlci5kZXRhY2goKTtcbiAgICBpZiAoIXRoaXMuaW5saW5lKSB7XG4gICAgICB0aGlzLmlucHV0RmllbGQuY2xhc3NMaXN0LnJlbW92ZSgnZGF0ZXBpY2tlci1pbnB1dCcpO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5lbGVtZW50LmRhdGVwaWNrZXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzZWxlY3RlZCBkYXRlKHMpXG4gICAqXG4gICAqIFRoZSBtZXRob2QgcmV0dXJucyBhIERhdGUgb2JqZWN0IG9mIHNlbGVjdGVkIGRhdGUgYnkgZGVmYXVsdCwgYW5kIHJldHVybnNcbiAgICogYW4gYXJyYXkgb2Ygc2VsZWN0ZWQgZGF0ZXMgaW4gbXVsdGlkYXRlIG1vZGUuIElmIGZvcm1hdCBzdHJpbmcgaXMgcGFzc2VkLFxuICAgKiBpdCByZXR1cm5zIGRhdGUgc3RyaW5nKHMpIGZvcm1hdHRlZCBpbiBnaXZlbiBmb3JtYXQuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gW2Zvcm1hdF0gLSBGb3JtYXQgc3RyaW5nIHRvIHN0cmluZ2lmeSB0aGUgZGF0ZShzKVxuICAgKiBAcmV0dXJuIHtEYXRlfFN0cmluZ3xEYXRlW118U3RyaW5nW119IC0gc2VsZWN0ZWQgZGF0ZShzKSwgb3IgaWYgbm9uZSBpc1xuICAgKiBzZWxlY3RlZCwgZW1wdHkgYXJyYXkgaW4gbXVsdGlkYXRlIG1vZGUgYW5kIHVudGl0bGVkIGluIHNpZ2xlZGF0ZSBtb2RlXG4gICAqL1xuICBnZXREYXRlKGZvcm1hdCA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gZm9ybWF0XG4gICAgICA/IGRhdGUgPT4gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQsIHRoaXMuY29uZmlnLmxvY2FsZSlcbiAgICAgIDogZGF0ZSA9PiBuZXcgRGF0ZShkYXRlKTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5tdWx0aWRhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGVzLm1hcChjYWxsYmFjayk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmRhdGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHNlbGVjdGVkIGRhdGUocylcbiAgICpcbiAgICogSW4gbXVsdGlkYXRlIG1vZGUsIHlvdSBjYW4gcGFzcyBtdWx0aXBsZSBkYXRlcyBhcyBhIHNlcmllcyBvZiBhcmd1bWVudHNcbiAgICogb3IgYW4gYXJyYXkuIChTaW5jZSBlYWNoIGRhdGUgaXMgcGFyc2VkIGluZGl2aWR1YWxseSwgdGhlIHR5cGUgb2YgdGhlXG4gICAqIGRhdGVzIGRvZXNuJ3QgaGF2ZSB0byBiZSB0aGUgc2FtZS4pXG4gICAqIFRoZSBnaXZlbiBkYXRlcyBhcmUgdXNlZCB0byB0b2dnbGUgdGhlIHNlbGVjdCBzdGF0dXMgb2YgZWFjaCBkYXRlLiBUaGVcbiAgICogbnVtYmVyIG9mIHNlbGVjdGVkIGRhdGVzIGlzIGtlcHQgZnJvbSBleGNlZWRpbmcgdGhlIGxlbmd0aCBzZXQgdG9cbiAgICogbWF4TnVtYmVyT2ZEYXRlcy5cbiAgICpcbiAgICogV2l0aCBjbGVhcjogdHJ1ZSBvcHRpb24sIHRoZSBtZXRob2QgY2FuIGJlIHVzZWQgdG8gY2xlYXIgdGhlIHNlbGVjdGlvblxuICAgKiBhbmQgdG8gcmVwbGFjZSB0aGUgc2VsZWN0aW9uIGluc3RlYWQgb2YgdG9nZ2xpbmcgaW4gbXVsdGlkYXRlIG1vZGUuXG4gICAqIElmIHRoZSBvcHRpb24gaXMgcGFzc2VkIHdpdGggbm8gZGF0ZSBhcmd1bWVudHMgb3IgYW4gZW1wdHkgZGF0ZXMgYXJyYXksXG4gICAqIGl0IHdvcmtzIGFzIFwiY2xlYXJcIiAoY2xlYXIgdGhlIHNlbGVjdGlvbiB0aGVuIHNldCBub3RoaW5nKSwgYW5kIGlmIHRoZVxuICAgKiBvcHRpb24gaXMgcGFzc2VkIHdpdGggbmV3IGRhdGVzIHRvIHNlbGVjdCwgaXQgd29ya3MgYXMgXCJyZXBsYWNlXCIgKGNsZWFyXG4gICAqIHRoZSBzZWxlY3Rpb24gdGhlbiBzZXQgdGhlIGdpdmVuIGRhdGVzKVxuICAgKlxuICAgKiBXaGVuIHJlbmRlcjogZmFsc2Ugb3B0aW9uIGlzIHVzZWQsIHRoZSBtZXRob2Qgb21pdHMgcmUtcmVuZGVyaW5nIHRoZVxuICAgKiBwaWNrZXIgZWxlbWVudC4gSW4gdGhpcyBjYXNlLCB5b3UgbmVlZCB0byBjYWxsIHJlZnJlc2goKSBtZXRob2QgbGF0ZXIgaW5cbiAgICogb3JkZXIgZm9yIHRoZSBwaWNrZXIgZWxlbWVudCB0byByZWZsZWN0IHRoZSBjaGFuZ2VzLiBUaGUgaW5wdXQgZmllbGQgaXNcbiAgICogcmVmcmVzaGVkIGFsd2F5cyByZWdhcmRsZXNzIG9mIHRoaXMgb3B0aW9uLlxuICAgKlxuICAgKiBXaGVuIGludmFsaWQgKHVucGFyc2FibGUsIHJlcGVhdGVkLCBkaXNhYmxlZCBvciBvdXQtb2YtcmFuZ2UpIGRhdGVzIGFyZVxuICAgKiBwYXNzZWQsIHRoZSBtZXRob2QgaWdub3JlcyB0aGVtIGFuZCBhcHBsaWVzIG9ubHkgdmFsaWQgb25lcy4gSW4gdGhlIGNhc2VcbiAgICogdGhhdCBhbGwgdGhlIGdpdmVuIGRhdGVzIGFyZSBpbnZhbGlkLCB3aGljaCBpcyBkaXN0aW5ndWlzaGVkIGZyb20gcGFzc2luZ1xuICAgKiBubyBkYXRlcywgdGhlIG1ldGhvZCBjb25zaWRlcnMgaXQgYXMgYW4gZXJyb3IgYW5kIGxlYXZlcyB0aGUgc2VsZWN0aW9uXG4gICAqIHVudG91Y2hlZC4gKFRoZSBpbnB1dCBmaWVsZCBhbHNvIHJlbWFpbnMgdW50b3VjaGVkIHVubGVzcyByZXZlcnQ6IHRydWVcbiAgICogb3B0aW9uIGlzIHVzZWQuKVxuICAgKlxuICAgKiBAcGFyYW0gey4uLihEYXRlfE51bWJlcnxTdHJpbmcpfEFycmF5fSBbZGF0ZXNdIC0gRGF0ZSBzdHJpbmdzLCBEYXRlXG4gICAqIG9iamVjdHMsIHRpbWUgdmFsdWVzIG9yIG1peCBvZiB0aG9zZSBmb3IgbmV3IHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gZnVuY3Rpb24gb3B0aW9uc1xuICAgKiAtIGNsZWFyOiB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRvIGNsZWFyIHRoZSBleGlzdGluZyBzZWxlY3Rpb25cbiAgICogICAgIGRlZnVhbHQ6IGZhbHNlXG4gICAqIC0gcmVuZGVyOiB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRvIHJlLXJlbmRlciB0aGUgcGlja2VyIGVsZW1lbnRcbiAgICogICAgIGRlZmF1bHQ6IHRydWVcbiAgICogLSBhdXRvaGlkZToge2Jvb2xlYW59IC0gV2hldGhlciB0byBoaWRlIHRoZSBwaWNrZXIgZWxlbWVudCBhZnRlciByZS1yZW5kZXJcbiAgICogICAgIElnbm9yZWQgd2hlbiB1c2VkIHdpdGggcmVuZGVyOiBmYWxzZVxuICAgKiAgICAgZGVmYXVsdDogY29uZmlnLmF1dG9oaWRlXG4gICAqIC0gcmV2ZXJ0OiB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRvIHJlZnJlc2ggdGhlIGlucHV0IGZpZWxkIHdoZW4gYWxsIHRoZVxuICAgKiAgICAgcGFzc2VkIGRhdGVzIGFyZSBpbnZhbGlkXG4gICAqICAgICBkZWZhdWx0OiBmYWxzZVxuICAgKi9cbiAgc2V0RGF0ZSguLi5hcmdzKSB7XG4gICAgY29uc3QgZGF0ZXMgPSBbLi4uYXJnc107XG4gICAgY29uc3Qgb3B0cyA9IHt9O1xuICAgIGNvbnN0IGxhc3RBcmcgPSBsYXN0SXRlbU9mKGFyZ3MpO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBsYXN0QXJnID09PSAnb2JqZWN0J1xuICAgICAgJiYgIUFycmF5LmlzQXJyYXkobGFzdEFyZylcbiAgICAgICYmICEobGFzdEFyZyBpbnN0YW5jZW9mIERhdGUpXG4gICAgICAmJiBsYXN0QXJnXG4gICAgKSB7XG4gICAgICBPYmplY3QuYXNzaWduKG9wdHMsIGRhdGVzLnBvcCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnB1dERhdGVzID0gQXJyYXkuaXNBcnJheShkYXRlc1swXSkgPyBkYXRlc1swXSA6IGRhdGVzO1xuICAgIHNldERhdGUodGhpcywgaW5wdXREYXRlcywgb3B0cyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzZWxlY3RlZCBkYXRlKHMpIHdpdGggaW5wdXQgZmllbGQncyB2YWx1ZVxuICAgKiBOb3QgYXZhaWxhYmxlIG9uIGlubGluZSBwaWNrZXJcbiAgICpcbiAgICogVGhlIGlucHV0IGZpZWxkIHdpbGwgYmUgcmVmcmVzaGVkIHdpdGggcHJvcGVybHkgZm9ybWF0dGVkIGRhdGUgc3RyaW5nLlxuICAgKlxuICAgKiBJbiB0aGUgY2FzZSB0aGF0IGFsbCB0aGUgZW50ZXJlZCBkYXRlcyBhcmUgaW52YWxpZCAodW5wYXJzYWJsZSwgcmVwZWF0ZWQsXG4gICAqIGRpc2FibGVkIG9yIG91dC1vZi1yYW5nZSksIHdoaXhoIGlzIGRpc3Rpbmd1aXNoZWQgZnJvbSBlbXB0eSBpbnB1dCBmaWVsZCxcbiAgICogdGhlIG1ldGhvZCBsZWF2ZXMgdGhlIGlucHV0IGZpZWxkIHVudG91Y2hlZCBhcyB3ZWxsIGFzIHRoZSBzZWxlY3Rpb24gYnlcbiAgICogZGVmYXVsdC4gSWYgcmV2ZXJ0OiB0cnVlIG9wdGlvbiBpcyB1c2VkIGluIHRoaXMgY2FzZSwgdGhlIGlucHV0IGZpZWxkIGlzXG4gICAqIHJlZnJlc2hlZCB3aXRoIHRoZSBleGlzdGluZyBzZWxlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnNdIC0gZnVuY3Rpb24gb3B0aW9uc1xuICAgKiAtIGF1dG9oaWRlOiB7Ym9vbGVhbn0gLSB3aGV0aGVyIHRvIGhpZGUgdGhlIHBpY2tlciBlbGVtZW50IGFmdGVyIHJlZnJlc2hcbiAgICogICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAqIC0gcmV2ZXJ0OiB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRvIHJlZnJlc2ggdGhlIGlucHV0IGZpZWxkIHdoZW4gYWxsIHRoZVxuICAgKiAgICAgcGFzc2VkIGRhdGVzIGFyZSBpbnZhbGlkXG4gICAqICAgICBkZWZhdWx0OiBmYWxzZVxuICAgKi9cbiAgdXBkYXRlKG9wdGlvbnMgPSB1bmRlZmluZWQpIHtcbiAgICBpZiAodGhpcy5pbmxpbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbihvcHRpb25zIHx8IHt9LCB7Y2xlYXI6IHRydWUsIHJlbmRlcjogdHJ1ZX0pO1xuICAgIGNvbnN0IGlucHV0RGF0ZXMgPSBzdHJpbmdUb0FycmF5KHRoaXMuaW5wdXRGaWVsZC52YWx1ZSwgdGhpcy5jb25maWcuZGF0ZURlbGltaXRlcik7XG4gICAgc2V0RGF0ZSh0aGlzLCBpbnB1dERhdGVzLCBvcHRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHRoZSBwaWNrZXIgZWxlbWVudCBhbmQgdGhlIGFzc29jaWF0ZWQgaW5wdXQgZmllbGRcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt0YXJnZXRdIC0gdGFyZ2V0IGl0ZW0gd2hlbiByZWZyZXNoaW5nIG9uZSBpdGVtIG9ubHlcbiAgICogJ3BpY2tlcicgb3IgJ2lucHV0J1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZVJlbmRlcl0gLSB3aGV0aGVyIHRvIHJlLXJlbmRlciB0aGUgcGlja2VyIGVsZW1lbnRcbiAgICogcmVnYXJkbGVzcyBvZiBpdHMgc3RhdGUgaW5zdGVhZCBvZiBvcHRpbWl6ZWQgcmVmcmVzaFxuICAgKi9cbiAgcmVmcmVzaCh0YXJnZXQgPSB1bmRlZmluZWQsIGZvcmNlUmVuZGVyID0gZmFsc2UpIHtcbiAgICBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICBmb3JjZVJlbmRlciA9IHRhcmdldDtcbiAgICAgIHRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBsZXQgbW9kZTtcbiAgICBpZiAodGFyZ2V0ID09PSAncGlja2VyJykge1xuICAgICAgbW9kZSA9IDI7XG4gICAgfSBlbHNlIGlmICh0YXJnZXQgPT09ICdpbnB1dCcpIHtcbiAgICAgIG1vZGUgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlID0gMztcbiAgICB9XG4gICAgcmVmcmVzaFVJKHRoaXMsIG1vZGUsICFmb3JjZVJlbmRlcik7XG4gIH1cblxuICAvKipcbiAgICogRW50ZXIgZWRpdCBtb2RlXG4gICAqIE5vdCBhdmFpbGFibGUgb24gaW5saW5lIHBpY2tlciBvciB3aGVuIHRoZSBwaWNrZXIgZWxlbWVudCBpcyBoaWRkZW5cbiAgICovXG4gIGVudGVyRWRpdE1vZGUoKSB7XG4gICAgaWYgKHRoaXMuaW5saW5lIHx8ICF0aGlzLnBpY2tlci5hY3RpdmUgfHwgdGhpcy5lZGl0TW9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVkaXRNb2RlID0gdHJ1ZTtcbiAgICB0aGlzLmlucHV0RmllbGQuY2xhc3NMaXN0LmFkZCgnaW4tZWRpdCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4aXQgZnJvbSBlZGl0IG1vZGVcbiAgICogTm90IGF2YWlsYWJsZSBvbiBpbmxpbmUgcGlja2VyXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnNdIC0gZnVuY3Rpb24gb3B0aW9uc1xuICAgKiAtIHVwZGF0ZToge2Jvb2xlYW59IC0gd2hldGhlciB0byBjYWxsIHVwZGF0ZSgpIGFmdGVyIGV4aXRpbmdcbiAgICogICAgIElmIGZhbHNlLCBpbnB1dCBmaWVsZCBpcyByZXZlcnQgdG8gdGhlIGV4aXN0aW5nIHNlbGVjdGlvblxuICAgKiAgICAgZGVmYXVsdDogZmFsc2VcbiAgICovXG4gIGV4aXRFZGl0TW9kZShvcHRpb25zID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHRoaXMuaW5saW5lIHx8ICF0aGlzLmVkaXRNb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt1cGRhdGU6IGZhbHNlfSwgb3B0aW9ucyk7XG4gICAgZGVsZXRlIHRoaXMuZWRpdE1vZGU7XG4gICAgdGhpcy5pbnB1dEZpZWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2luLWVkaXQnKTtcbiAgICBpZiAob3B0cy51cGRhdGUpIHtcbiAgICAgIHRoaXMudXBkYXRlKG9wdHMpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHtEYXRlcGlja2VyfSBmcm9tICd2YW5pbGxhanMtZGF0ZXBpY2tlcic7XG5pbXBvcnQge0lUZW1wbGF0ZUZpZWxkLCBJVGVtcGxhdGVGaWVsZFNldHRpbmd9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZCwgSURvY3VtZW50RmllbGRTZXR0aW5nc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0RvY3VtZW50cy9UeXBlcyc7XG5pbXBvcnQge0NvbXBvbmVudCwgRXZlbnQsIEV2ZW50RW1pdHRlciwgaCwgSG9zdCwgTWV0aG9kLCBQcm9wLCBTdGF0ZX0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5cbi8qKlxuICogRGlzcGxheXMgYSBkYXRlIGZpZWxkLiBXaGVuIHRhcHBlZCBvciBjbGlja2VkLCB0aGUgaW5wdXQgZWxlbWVudCB3aWxsIGRpc3BsYXkgYSBkYXRlIHBpY2tlciBjb21wb25lbnQuXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLWZpZWxkLWRhdGUnLFxuICBzdHlsZVVybDogJ3ZlcmRvY3MtZmllbGQtZGF0ZS5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc0ZpZWxkRGF0ZSB7XG4gIHByaXZhdGUgZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkb2N1bWVudCBvciB0ZW1wbGF0ZSBmaWVsZCB0byBkaXNwbGF5LlxuICAgKi9cbiAgQFByb3AoKSBmaWVsZDogSURvY3VtZW50RmllbGQgfCBJVGVtcGxhdGVGaWVsZCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBpbnB1dCBmaWVsZCBsb3NlcyBmb2N1cy5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBmaWVsZEZvY3VzOiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIGlucHV0IGZpZWxkIGdhaW5zIGZvY3VzLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIGZpZWxkQmx1cjogRXZlbnRFbWl0dGVyPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBpbnB1dCBmaWVsZCB2YWx1ZSBjaGFuZ2VzLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG9ubHkgYmUgZmlyZWQgb24gYmx1ciwgdGFiLW91dCwgRU5URVIga2V5IHByZXNzLCBldGMuXG4gICAqIEl0IGlzIGdlbmVyYWxseSB0aGUgYmVzdCBldmVudCB0byBzdWJzY3JpYmUgdG8gdGhhbiBgaW5wdXRgIGZvciBtb3N0IGNhc2VzIEVYQ0VQVCBhdXRvY29tcGxldGUgZmllbGRzIHRoYXQgbmVlZCB0byBzZWUgZXZlcnlcbiAgICoga2V5cHJlc3MuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgZmllbGRDaGFuZ2U6IEV2ZW50RW1pdHRlcjxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCBvbiBldmVyeSBjaGFyYWN0ZXIgZW50ZXJlZCBpbnRvIC8gZGVsZXRlZCBmcm9tIHRoZSBmaWVsZC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBmaWVsZElucHV0OiBFdmVudEVtaXR0ZXI8c3RyaW5nPjtcblxuICBAU3RhdGUoKSBmb2N1c2VkID0gZmFsc2U7XG5cbiAgQE1ldGhvZCgpIGFzeW5jIGZvY3VzRmllbGQoKSB7XG4gICAgdGhpcy5mb2N1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgdGhpcy5maWVsZEZvY3VzLmVtaXQodHJ1ZSk7XG4gIH1cblxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIG5ldyBEYXRlcGlja2VyKHRoaXMuZWwsIHtcbiAgICAgIGF1dG9oaWRlOiB0cnVlLFxuICAgICAgdG9kYXlIaWdobGlnaHQ6IHRydWUsXG4gICAgfSk7XG5cbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZURhdGUnLCAoZTogYW55KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnY2hhbmdlRGF0ZScsIGUuZGV0YWlsLmRhdGUudG9JU09TdHJpbmcoKSk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVCbHVyKCkge1xuICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZmllbGRCbHVyLmVtaXQodHJ1ZSk7XG4gIH1cblxuICBoYW5kbGVGb2N1cygpIHtcbiAgICB0aGlzLmZvY3VzZWQgPSB0cnVlO1xuICAgIHRoaXMuZmllbGRGb2N1cy5lbWl0KHRydWUpO1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKGU6IGFueSkge1xuICAgIHRoaXMuZmllbGRDaGFuZ2UuZW1pdChlLnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICBoYW5kbGVJbnB1dChlOiBhbnkpIHtcbiAgICB0aGlzLmZpZWxkSW5wdXQuZW1pdChlLnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICAvLyBOT1RFOiBXZSBkb24ndCB1c2UgYSBcImRhdGVcIiBmaWVsZCBoZXJlIGJlY2F1c2UgYnJvd3NlcnMgdmFyeSB3aWRlbHkgaW4gdGhlaXIgZm9ybWF0dGluZyBvZiBpdC5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBzZXR0aW5nczogSURvY3VtZW50RmllbGRTZXR0aW5ncyB8IElUZW1wbGF0ZUZpZWxkU2V0dGluZyA9IHt4OiAwLCB5OiAwfTtcbiAgICBpZiAoJ3NldHRpbmdzJyBpbiB0aGlzLmZpZWxkICYmIHRoaXMuZmllbGQ/LnNldHRpbmdzKSB7XG4gICAgICBzZXR0aW5ncyA9IHRoaXMuZmllbGQuc2V0dGluZ3M7XG4gICAgfSBlbHNlIGlmICgnc2V0dGluZycgaW4gdGhpcy5maWVsZCAmJiB0aGlzLmZpZWxkPy5zZXR0aW5nKSB7XG4gICAgICBzZXR0aW5ncyA9IHRoaXMuZmllbGQuc2V0dGluZztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3QgY2xhc3M9e3tmb2N1c2VkOiB0aGlzLmZvY3VzZWQsIHJlcXVpcmVkOiBzZXR0aW5ncy5yZXF1aXJlZCwgc3Rvcnlib29rOiAhIXdpbmRvdz8uWydTVE9SWUJPT0tfRU5WJ119fT5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPVwiXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17c2V0dGluZ3MucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgcmVxdWlyZWQ9e3NldHRpbmdzLnJlcXVpcmVkfVxuICAgICAgICAgIHJlZj17ZWwgPT4gKHRoaXMuZWwgPSBlbCl9XG4gICAgICAgICAgb25CbHVyPXsoKSA9PiB0aGlzLmhhbmRsZUJsdXIoKX1cbiAgICAgICAgICBvbkZvY3VzPXsoKSA9PiB0aGlzLmhhbmRsZUZvY3VzKCl9XG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5oYW5kbGVDaGFuZ2UoZSl9XG4gICAgICAgICAgb25JbnB1dD17ZSA9PiB0aGlzLmhhbmRsZUlucHV0KGUpfVxuICAgICAgICAvPlxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG5AaW1wb3J0ICdub2RlX21vZHVsZXMvdmFuaWxsYWpzLWRhdGVwaWNrZXIvc2Fzcy9kYXRlcGlja2VyJztcblxudmVyZG9jcy1maWVsZC1kYXRlIHtcbiAgZm9udC1mYW1pbHk6ICR2ZXJkb2NzLXByaW1hcnktZm9udDtcbiAgd2lkdGg6IDY0cHg7XG4gIGhlaWdodDogMTVweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcblxuICBpbnB1dCB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg3KTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICBhcHBlYXJhbmNlOiBub25lO1xuXG4gICAgJi5oaWRlIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgJi5yZXF1aXJlZCB7XG4gICAgaW5wdXQge1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgJHZlcmRvY3MtcmVkLTE7XG4gICAgfVxuICB9XG5cbiAgJi5mb2N1c2VkIHtcbiAgICBhbmltYXRpb246IHZlcmRvY3MtZmllbGQtcHVsc2UgMC43NXMgMjtcbiAgfVxufVxuIiwidmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgcmVkdWNlLCByZWR1Y2VSaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX1JJR0hUKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgY2FsbGJhY2tmbiwgYXJndW1lbnRzTGVuZ3RoLCBtZW1vKSB7XG4gICAgYUNhbGxhYmxlKGNhbGxiYWNrZm4pO1xuICAgIHZhciBPID0gdG9PYmplY3QodGhhdCk7XG4gICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0KE8pO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgICB2YXIgaW5kZXggPSBJU19SSUdIVCA/IGxlbmd0aCAtIDEgOiAwO1xuICAgIHZhciBpID0gSVNfUklHSFQgPyAtMSA6IDE7XG4gICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA8IDIpIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgICBtZW1vID0gc2VsZltpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaW5kZXggKz0gaTtcbiAgICAgIGlmIChJU19SSUdIVCA/IGluZGV4IDwgMCA6IGxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICB0aHJvdyAkVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoO0lTX1JJR0hUID8gaW5kZXggPj0gMCA6IGxlbmd0aCA+IGluZGV4OyBpbmRleCArPSBpKSBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgbWVtbyA9IGNhbGxiYWNrZm4obWVtbywgc2VsZltpbmRleF0sIGluZGV4LCBPKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5yZWR1Y2VcbiAgbGVmdDogY3JlYXRlTWV0aG9kKGZhbHNlKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZXJpZ2h0XG4gIHJpZ2h0OiBjcmVhdGVNZXRob2QodHJ1ZSlcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBwYWRTdGFydCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctcGFkJykuc3RhcnQ7XG5cbnZhciAkUmFuZ2VFcnJvciA9IFJhbmdlRXJyb3I7XG52YXIgYWJzID0gTWF0aC5hYnM7XG52YXIgRGF0ZVByb3RvdHlwZSA9IERhdGUucHJvdG90eXBlO1xudmFyIG4kRGF0ZVRvSVNPU3RyaW5nID0gRGF0ZVByb3RvdHlwZS50b0lTT1N0cmluZztcbnZhciBnZXRUaW1lID0gdW5jdXJyeVRoaXMoRGF0ZVByb3RvdHlwZS5nZXRUaW1lKTtcbnZhciBnZXRVVENEYXRlID0gdW5jdXJyeVRoaXMoRGF0ZVByb3RvdHlwZS5nZXRVVENEYXRlKTtcbnZhciBnZXRVVENGdWxsWWVhciA9IHVuY3VycnlUaGlzKERhdGVQcm90b3R5cGUuZ2V0VVRDRnVsbFllYXIpO1xudmFyIGdldFVUQ0hvdXJzID0gdW5jdXJyeVRoaXMoRGF0ZVByb3RvdHlwZS5nZXRVVENIb3Vycyk7XG52YXIgZ2V0VVRDTWlsbGlzZWNvbmRzID0gdW5jdXJyeVRoaXMoRGF0ZVByb3RvdHlwZS5nZXRVVENNaWxsaXNlY29uZHMpO1xudmFyIGdldFVUQ01pbnV0ZXMgPSB1bmN1cnJ5VGhpcyhEYXRlUHJvdG90eXBlLmdldFVUQ01pbnV0ZXMpO1xudmFyIGdldFVUQ01vbnRoID0gdW5jdXJyeVRoaXMoRGF0ZVByb3RvdHlwZS5nZXRVVENNb250aCk7XG52YXIgZ2V0VVRDU2Vjb25kcyA9IHVuY3VycnlUaGlzKERhdGVQcm90b3R5cGUuZ2V0VVRDU2Vjb25kcyk7XG5cbi8vIGBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZ2AgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWRhdGUucHJvdG90eXBlLnRvaXNvc3RyaW5nXG4vLyBQaGFudG9tSlMgLyBvbGQgV2ViS2l0IGZhaWxzIGhlcmU6XG5tb2R1bGUuZXhwb3J0cyA9IChmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuJERhdGVUb0lTT1N0cmluZy5jYWxsKG5ldyBEYXRlKC01ZTEzIC0gMSkpICE9ICcwMzg1LTA3LTI1VDA3OjA2OjM5Ljk5OVonO1xufSkgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgbiREYXRlVG9JU09TdHJpbmcuY2FsbChuZXcgRGF0ZShOYU4pKTtcbn0pKSA/IGZ1bmN0aW9uIHRvSVNPU3RyaW5nKCkge1xuICBpZiAoIWlzRmluaXRlKGdldFRpbWUodGhpcykpKSB0aHJvdyAkUmFuZ2VFcnJvcignSW52YWxpZCB0aW1lIHZhbHVlJyk7XG4gIHZhciBkYXRlID0gdGhpcztcbiAgdmFyIHllYXIgPSBnZXRVVENGdWxsWWVhcihkYXRlKTtcbiAgdmFyIG1pbGxpc2Vjb25kcyA9IGdldFVUQ01pbGxpc2Vjb25kcyhkYXRlKTtcbiAgdmFyIHNpZ24gPSB5ZWFyIDwgMCA/ICctJyA6IHllYXIgPiA5OTk5ID8gJysnIDogJyc7XG4gIHJldHVybiBzaWduICsgcGFkU3RhcnQoYWJzKHllYXIpLCBzaWduID8gNiA6IDQsIDApICtcbiAgICAnLScgKyBwYWRTdGFydChnZXRVVENNb250aChkYXRlKSArIDEsIDIsIDApICtcbiAgICAnLScgKyBwYWRTdGFydChnZXRVVENEYXRlKGRhdGUpLCAyLCAwKSArXG4gICAgJ1QnICsgcGFkU3RhcnQoZ2V0VVRDSG91cnMoZGF0ZSksIDIsIDApICtcbiAgICAnOicgKyBwYWRTdGFydChnZXRVVENNaW51dGVzKGRhdGUpLCAyLCAwKSArXG4gICAgJzonICsgcGFkU3RhcnQoZ2V0VVRDU2Vjb25kcyhkYXRlKSwgMiwgMCkgK1xuICAgICcuJyArIHBhZFN0YXJ0KG1pbGxpc2Vjb25kcywgMywgMCkgK1xuICAgICdaJztcbn0gOiBuJERhdGVUb0lTT1N0cmluZztcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciB0cmltID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy10cmltJykudHJpbTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgJHBhcnNlSW50ID0gZ2xvYmFsLnBhcnNlSW50O1xudmFyIFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgSVRFUkFUT1IgPSBTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIGhleCA9IC9eWystXT8weC9pO1xudmFyIGV4ZWMgPSB1bmN1cnJ5VGhpcyhoZXguZXhlYyk7XG52YXIgRk9SQ0VEID0gJHBhcnNlSW50KHdoaXRlc3BhY2VzICsgJzA4JykgIT09IDggfHwgJHBhcnNlSW50KHdoaXRlc3BhY2VzICsgJzB4MTYnKSAhPT0gMjJcbiAgLy8gTVMgRWRnZSAxOC0gYnJva2VuIHdpdGggYm94ZWQgc3ltYm9sc1xuICB8fCAoSVRFUkFUT1IgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHsgJHBhcnNlSW50KE9iamVjdChJVEVSQVRPUikpOyB9KSk7XG5cbi8vIGBwYXJzZUludGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXBhcnNlaW50LXN0cmluZy1yYWRpeFxubW9kdWxlLmV4cG9ydHMgPSBGT1JDRUQgPyBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4KSB7XG4gIHZhciBTID0gdHJpbSh0b1N0cmluZyhzdHJpbmcpKTtcbiAgcmV0dXJuICRwYXJzZUludChTLCAocmFkaXggPj4+IDApIHx8IChleGVjKGhleCwgUykgPyAxNiA6IDEwKSk7XG59IDogJHBhcnNlSW50O1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzI4MFxudmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC9WZXJzaW9uXFwvMTAoPzpcXC5cXGQrKXsxLDJ9KD86IFtcXHcuL10rKT8oPzogTW9iaWxlXFwvXFx3Kyk/IFNhZmFyaVxcLy8udGVzdCh1c2VyQWdlbnQpO1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmRcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciAkcmVwZWF0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1yZXBlYXQnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xuXG52YXIgcmVwZWF0ID0gdW5jdXJyeVRoaXMoJHJlcGVhdCk7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG52YXIgY2VpbCA9IE1hdGguY2VpbDtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUueyBwYWRTdGFydCwgcGFkRW5kIH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfRU5EKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIG1heExlbmd0aCwgZmlsbFN0cmluZykge1xuICAgIHZhciBTID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIHZhciBpbnRNYXhMZW5ndGggPSB0b0xlbmd0aChtYXhMZW5ndGgpO1xuICAgIHZhciBzdHJpbmdMZW5ndGggPSBTLmxlbmd0aDtcbiAgICB2YXIgZmlsbFN0ciA9IGZpbGxTdHJpbmcgPT09IHVuZGVmaW5lZCA/ICcgJyA6IHRvU3RyaW5nKGZpbGxTdHJpbmcpO1xuICAgIHZhciBmaWxsTGVuLCBzdHJpbmdGaWxsZXI7XG4gICAgaWYgKGludE1heExlbmd0aCA8PSBzdHJpbmdMZW5ndGggfHwgZmlsbFN0ciA9PSAnJykgcmV0dXJuIFM7XG4gICAgZmlsbExlbiA9IGludE1heExlbmd0aCAtIHN0cmluZ0xlbmd0aDtcbiAgICBzdHJpbmdGaWxsZXIgPSByZXBlYXQoZmlsbFN0ciwgY2VpbChmaWxsTGVuIC8gZmlsbFN0ci5sZW5ndGgpKTtcbiAgICBpZiAoc3RyaW5nRmlsbGVyLmxlbmd0aCA+IGZpbGxMZW4pIHN0cmluZ0ZpbGxlciA9IHN0cmluZ1NsaWNlKHN0cmluZ0ZpbGxlciwgMCwgZmlsbExlbik7XG4gICAgcmV0dXJuIElTX0VORCA/IFMgKyBzdHJpbmdGaWxsZXIgOiBzdHJpbmdGaWxsZXIgKyBTO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLnBhZFN0YXJ0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnBhZHN0YXJ0XG4gIHN0YXJ0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS5wYWRFbmRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucGFkZW5kXG4gIGVuZDogY3JlYXRlTWV0aG9kKHRydWUpXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHJlZHVjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1yZWR1Y2UnKS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIENIUk9NRV9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3JlZHVjZScpO1xuLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxudmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHRvSVNPU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RhdGUtdG8taXNvLXN0cmluZycpO1xuXG4vLyBgRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmdgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1kYXRlLnByb3RvdHlwZS50b2lzb3N0cmluZ1xuLy8gUGhhbnRvbUpTIC8gb2xkIFdlYktpdCBoYXMgYSBicm9rZW4gaW1wbGVtZW50YXRpb25zXG4kKHsgdGFyZ2V0OiAnRGF0ZScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nICE9PSB0b0lTT1N0cmluZyB9LCB7XG4gIHRvSVNPU3RyaW5nOiB0b0lTT1N0cmluZ1xufSk7XG4iLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkcGFyc2VJbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbnVtYmVyLXBhcnNlLWludCcpO1xuXG4vLyBgcGFyc2VJbnRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wYXJzZWludC1zdHJpbmctcmFkaXhcbiQoeyBnbG9iYWw6IHRydWUsIGZvcmNlZDogcGFyc2VJbnQgIT0gJHBhcnNlSW50IH0sIHtcbiAgcGFyc2VJbnQ6ICRwYXJzZUludFxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkcGFkU3RhcnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLXBhZCcpLnN0YXJ0O1xudmFyIFdFQktJVF9CVUcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLXBhZC13ZWJraXQtYnVnJyk7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLnBhZFN0YXJ0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5wYWRzdGFydFxuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IFdFQktJVF9CVUcgfSwge1xuICBwYWRTdGFydDogZnVuY3Rpb24gcGFkU3RhcnQobWF4TGVuZ3RoIC8qICwgZmlsbFN0cmluZyA9ICcgJyAqLykge1xuICAgIHJldHVybiAkcGFkU3RhcnQodGhpcywgbWF4TGVuZ3RoLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==