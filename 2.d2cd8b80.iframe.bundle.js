(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./dist/esm/VerdocsEndpoint-9353e4a0.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer,process){__webpack_require__.d(__webpack_exports__,"a",(function(){return VerdocsEndpoint})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getDocument})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getDocumentFile})),__webpack_require__.d(__webpack_exports__,"d",(function(){return updateDocumentField})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getSigningSession})),__webpack_require__.d(__webpack_exports__,"f",(function(){return updateRecipientStatus}));__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.is-view.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-names.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.uint8-array.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.copy-within.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.every.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.set.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.subarray.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.global-this.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js");var TemplatePermissions,TemplateSenderTypes,TemplateActions,SortOptions,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,decodeJWTBody=function decodeJWTBody(token){return JSON.parse(function AtoB(str){if(str=String(str).replace(/[\t\n\f\r ]+/g,""),!b64re.test(str))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var bitmap;str+="==".slice(2-(3&str.length));for(var r1,r2,result="",i=0;i<str.length;)bitmap=b64.indexOf(str.charAt(i++))<<18|b64.indexOf(str.charAt(i++))<<12|(r1=b64.indexOf(str.charAt(i++)))<<6|(r2=b64.indexOf(str.charAt(i++))),result+=64===r1?String.fromCharCode(bitmap>>16&255):64===r2?String.fromCharCode(bitmap>>16&255,bitmap>>8&255):String.fromCharCode(bitmap>>16&255,bitmap>>8&255,255&bitmap);return result}((token||"").split(".")[1]||""))},decodeAccessTokenBody=function decodeAccessTokenBody(token){var decoded;try{if(null===(decoded=decodeJWTBody(token)))return null}catch(e){return null}return Object.keys(decoded).forEach((function(key){"string"==typeof key&&key.startsWith("https://verdocs.com/")&&(decoded[key.replace("https://verdocs.com/","")]=decoded[key],delete decoded[key])})),decoded},__awaiter$1=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator$1=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},getSigningSession=function getSigningSession(endpoint,params){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.get("/documents/".concat(params.documentId,"/recipients/").concat(encodeURIComponent(params.roleId),"/invitation/").concat(params.inviteCode)).then((function(r){var _a,_b,signerToken=(null===(_a=r.headers)||void 0===_a?void 0:_a.signer_token)||"",session=decodeAccessTokenBody(signerToken);return endpoint.setToken(null===(_b=r.headers)||void 0===_b?void 0:_b.signer_token),{recipient:r.data,session:session,signerToken:signerToken}}))]}))}))},getDocument=function getDocument(endpoint,documentId){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.get("/documents/".concat(documentId)).then((function(r){return r.data}))]}))}))},getDocumentFile=function getDocumentFile(endpoint,documentId,envelopeDocumentId){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.get("/documents/".concat(documentId,"/envelope_documents/").concat(envelopeDocumentId,"?file=true"),{responseType:"arraybuffer"}).then((function(r){return Buffer.from(r.data,"binary").toString("base64")}))]}))}))},updateDocumentField=function updateDocumentField(endpoint,documentId,fieldName,value){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.put("/documents/".concat(documentId,"/fields/").concat(fieldName),value).then((function(r){return r.data}))]}))}))},Documents$1=Object.freeze({__proto__:null,getSummary:function getSummary(endpoint,page){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.post("/documents/summary",{page:page}).then((function(r){return r.data}))]}))}))},searchDocuments:function searchDocuments(endpoint,params){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.post("/documents/search",params).then((function(r){return r.data}))]}))}))},getSigningSession:getSigningSession,getDocumentRecipients:function getDocumentRecipients(endpoint,documentId){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.get("/documents/".concat(documentId,"/recipients")).then((function(r){return r.data}))]}))}))},getDocument:getDocument,getDocumentFile:getDocumentFile,updateDocumentField:updateDocumentField,updateDocumentFieldSignature:function updateDocumentFieldSignature(endpoint,documentId,fieldName,signatureId){return __awaiter$1(void 0,void 0,void 0,(function(){return __generator$1(this,(function(_a){return[2,endpoint.api.put("/documents/".concat(documentId,"/fields/").concat(fieldName,"/signature/").concat(signatureId)).then((function(r){return r.data}))]}))}))}}),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},updateRecipientStatus=function updateRecipientStatus(endpoint,documentId,roleName,action,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/documents/".concat(documentId,"/recipients/").concat(roleName),__assign({role_name:roleName,action:action},params||{})).then((function(r){return r.data}))]}))}))},Recipients=Object.freeze({__proto__:null,updateRecipientStatus:updateRecipientStatus}),Signatures=Object.freeze({__proto__:null,createSignature:function createSignature(endpoint,name,signature){var data=new FormData;return data.append("signature",signature,name),endpoint.api.post("/signatures",data).then((function(r){return r.data}))},getSignatures:function getSignatures(endpoint){return endpoint.api.get("/signatures").then((function(r){return r.data}))},getSignature:function getSignature(endpoint,signatureId){return endpoint.api.get("/signatures/".concat(signatureId)).then((function(r){return r.data}))},deleteSignature:function deleteSignature(endpoint,signatureId){return endpoint.api.delete("/signatures/".concat(signatureId)).then((function(r){return r.data}))}}),Initials=Object.freeze({__proto__:null,createInitials:function createInitials(endpoint,name,initials){var data=new FormData;return data.append("initial",initials,name),endpoint.api.post("/initials",data).then((function(r){return r.data}))}}),Types=Object.freeze({__proto__:null}),Documents=Object.freeze({__proto__:null,Documents:Documents$1,Recipients:Recipients,Signatures:Signatures,Initials:Initials,Types:Types});!function(TemplatePermissions){TemplatePermissions.TEMPLATE_CREATOR_CREATE_PUBLIC="template:creator:create:public",TemplatePermissions.TEMPLATE_CREATOR_CREATE_ORG="template:creator:create:org",TemplatePermissions.TEMPLATE_CREATOR_CREATE_PERSONAL="template:creator:create:personal",TemplatePermissions.TEMPLATE_CREATOR_DELETE="template:creator:delete",TemplatePermissions.TEMPLATE_CREATOR_VISIBILITY="template:creator:visibility",TemplatePermissions.TEMPLATE_MEMBER_READ="template:member:read",TemplatePermissions.TEMPLATE_MEMBER_WRITE="template:member:write",TemplatePermissions.TEMPLATE_MEMBER_DELETE="template:member:delete",TemplatePermissions.TEMPLATE_MEMBER_VISIBILITY="template:member:visibility"}(TemplatePermissions||(TemplatePermissions={})),function(TemplateSenderTypes){TemplateSenderTypes.CREATOR="creator",TemplateSenderTypes.ORGANIZATION_MEMBER="organization_member",TemplateSenderTypes.ORGANIZATION_MEMBER_AS_CREATOR="organization_member_as_creator",TemplateSenderTypes.EVERYONE="everyone",TemplateSenderTypes.EVERYONE_AS_CREATOR="everyone_as_creator"}(TemplateSenderTypes||(TemplateSenderTypes={})),function(TemplateActions){TemplateActions.CREATE_PERSONAL="create_personal",TemplateActions.CREATE_ORG="create_org",TemplateActions.CREATE_PUBLIC="create_public",TemplateActions.READ="read",TemplateActions.WRITE="write",TemplateActions.DELETE="delete",TemplateActions.CHANGE_VISIBILITY_PERSONAL="change_visibility_personal",TemplateActions.CHANGE_VISIBILITY_ORG="change_visibility_org",TemplateActions.CHANGE_VISIBILITY_PUBLIC="change_visibility_public"}(TemplateActions||(TemplateActions={})),function(SortOptions){SortOptions.CREATED_AT="created_at",SortOptions.UPDATED_AT="updated_at",SortOptions.NAME="name",SortOptions.LAST_USED_AT="last_used_at",SortOptions.COUNTER="counter",SortOptions.STAR_COUNTER="star_counter"}(SortOptions||(SortOptions={}));var cache,bind=function bind(fn,thisArg){return function wrap(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}},toString=Object.prototype.toString,kindOf=(cache=Object.create(null),function(thing){var str=toString.call(thing);return cache[str]||(cache[str]=str.slice(8,-1).toLowerCase())});function kindOfTest(type){return type=type.toLowerCase(),function isKindOf(thing){return kindOf(thing)===type}}function isArray(val){return Array.isArray(val)}function isUndefined(val){return void 0===val}var isArrayBuffer=kindOfTest("ArrayBuffer");function isObject(val){return null!==val&&"object"==typeof val}function isPlainObject(val){if("object"!==kindOf(val))return!1;var prototype=Object.getPrototypeOf(val);return null===prototype||prototype===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(val){return"[object Function]"===toString.call(val)}var isURLSearchParams=kindOfTest("URLSearchParams");function forEach(obj,fn){if(null!=obj)if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(null,obj[key],key,obj)}var TypedArray,isTypedArray=(TypedArray="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(thing){return TypedArray&&thing instanceof TypedArray}),utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:function isBuffer(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&"function"==typeof val.constructor.isBuffer&&val.constructor.isBuffer(val)},isFormData:function isFormData(thing){return thing&&("function"==typeof FormData&&thing instanceof FormData||"[object FormData]"===toString.call(thing)||isFunction(thing.toString)&&"[object FormData]"===thing.toString())},isArrayBufferView:function isArrayBufferView(val){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&isArrayBuffer(val.buffer)},isString:function isString(val){return"string"==typeof val},isNumber:function isNumber(val){return"number"==typeof val},isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:function isStream(val){return isObject(val)&&isFunction(val.pipe)},isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:forEach,merge:function merge(){var result={};function assignValue(val,key){isPlainObject(result[key])&&isPlainObject(val)?result[key]=merge(result[key],val):isPlainObject(val)?result[key]=merge({},val):isArray(val)?result[key]=val.slice():result[key]=val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result},extend:function extend(a,b,thisArg){return forEach(b,(function assignValue(val,key){a[key]=thisArg&&"function"==typeof val?bind(val,thisArg):val})),a},trim:function trim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")},stripBOM:function stripBOM(content){return 65279===content.charCodeAt(0)&&(content=content.slice(1)),content},inherits:function inherits(constructor,superConstructor,props,descriptors){constructor.prototype=Object.create(superConstructor.prototype,descriptors),constructor.prototype.constructor=constructor,props&&Object.assign(constructor.prototype,props)},toFlatObject:function toFlatObject(sourceObj,destObj,filter){var props,i,prop,merged={};destObj=destObj||{};do{for(i=(props=Object.getOwnPropertyNames(sourceObj)).length;i-- >0;)merged[prop=props[i]]||(destObj[prop]=sourceObj[prop],merged[prop]=!0);sourceObj=Object.getPrototypeOf(sourceObj)}while(sourceObj&&(!filter||filter(sourceObj,destObj))&&sourceObj!==Object.prototype);return destObj},kindOf:kindOf,kindOfTest:kindOfTest,endsWith:function endsWith(str,searchString,position){str=String(str),(void 0===position||position>str.length)&&(position=str.length),position-=searchString.length;var lastIndex=str.indexOf(searchString,position);return-1!==lastIndex&&lastIndex===position},toArray:function toArray(thing){if(!thing)return null;var i=thing.length;if(isUndefined(i))return null;for(var arr=new Array(i);i-- >0;)arr[i]=thing[i];return arr},isTypedArray:isTypedArray,isFileList:isFileList};function encode(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function buildURL(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,(function serialize(val,key){null!=val&&(utils.isArray(val)?key+="[]":val=[val],utils.forEach(val,(function parseValue(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))})))})),serializedParams=parts.join("&")}if(serializedParams){var hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(fulfilled,rejected,options){return this.handlers.push({fulfilled:fulfilled,rejected:rejected,synchronous:!!options&&options.synchronous,runWhen:options?options.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function forEach(fn){utils.forEach(this.handlers,(function forEachHandler(h){null!==h&&fn(h)}))};var InterceptorManager_1=InterceptorManager,normalizeHeaderName=function normalizeHeaderName(headers,normalizedName){utils.forEach(headers,(function processHeader(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])}))};function AxiosError(message,code,config,request,response){Error.call(this),this.message=message,this.name="AxiosError",code&&(this.code=code),config&&(this.config=config),request&&(this.request=request),response&&(this.response=response)}utils.inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(code){descriptors[code]={value:code}})),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype,"isAxiosError",{value:!0}),AxiosError.from=function(error,code,config,request,response,customProps){var axiosError=Object.create(prototype);return utils.toFlatObject(error,axiosError,(function filter(obj){return obj!==Error.prototype})),AxiosError.call(axiosError,error.message,code,config,request,response),axiosError.name=error.name,customProps&&Object.assign(axiosError,customProps),axiosError};var AxiosError_1=AxiosError,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var toFormData_1=function toFormData(obj,formData){formData=formData||new FormData;var stack=[];function convertValue(value){return null===value?"":utils.isDate(value)?value.toISOString():utils.isArrayBuffer(value)||utils.isTypedArray(value)?"function"==typeof Blob?new Blob([value]):Buffer.from(value):value}return function build(data,parentKey){if(utils.isPlainObject(data)||utils.isArray(data)){if(-1!==stack.indexOf(data))throw Error("Circular reference detected in "+parentKey);stack.push(data),utils.forEach(data,(function each(value,key){if(!utils.isUndefined(value)){var arr,fullKey=parentKey?parentKey+"."+key:key;if(value&&!parentKey&&"object"==typeof value)if(utils.endsWith(key,"{}"))value=JSON.stringify(value);else if(utils.endsWith(key,"[]")&&(arr=utils.toArray(value)))return void arr.forEach((function(el){!utils.isUndefined(el)&&formData.append(fullKey,convertValue(el))}));build(value,fullKey)}})),stack.pop()}else formData.append(parentKey,convertValue(data))}(obj),formData},cookies=utils.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function read(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function remove(name){this.write(name,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}},buildFullPath=function buildFullPath(baseURL,requestedURL){return baseURL&&!function isAbsoluteURL(url){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(url)}(requestedURL)?function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}(baseURL,requestedURL):requestedURL},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],isURLSameOrigin=utils.isStandardBrowserEnv()?function standardBrowserEnv(){var originURL,msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}return originURL=resolveURL(window.location.href),function isURLSameOrigin(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function isURLSameOrigin(){return!0};function CanceledError(message){AxiosError_1.call(this,null==message?"canceled":message,AxiosError_1.ERR_CANCELED),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError_1,{__CANCEL__:!0});var CanceledError_1=CanceledError,xhr=function xhrAdapter(config){return new Promise((function dispatchXhrRequest(resolve,reject){var onCanceled,requestData=config.data,requestHeaders=config.headers,responseType=config.responseType;function done(){config.cancelToken&&config.cancelToken.unsubscribe(onCanceled),config.signal&&config.signal.removeEventListener("abort",onCanceled)}utils.isFormData(requestData)&&utils.isStandardBrowserEnv()&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest;if(config.auth){var username=config.auth.username||"",password=config.auth.password?unescape(encodeURIComponent(config.auth.password)):"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}var fullPath=buildFullPath(config.baseURL,config.url);function onloadend(){if(request){var responseHeaders="getAllResponseHeaders"in request?function parseHeaders(headers){var key,val,i,parsed={};return headers?(utils.forEach(headers.split("\n"),(function parser(line){if(i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key){if(parsed[key]&&ignoreDuplicateOf.indexOf(key)>=0)return;parsed[key]="set-cookie"===key?(parsed[key]?parsed[key]:[]).concat([val]):parsed[key]?parsed[key]+", "+val:val}})),parsed):parsed}(request.getAllResponseHeaders()):null;!function settle(resolve,reject,response){var validateStatus=response.config.validateStatus;response.status&&validateStatus&&!validateStatus(response.status)?reject(new AxiosError_1("Request failed with status code "+response.status,[AxiosError_1.ERR_BAD_REQUEST,AxiosError_1.ERR_BAD_RESPONSE][Math.floor(response.status/100)-4],response.config,response.request,response)):resolve(response)}((function _resolve(value){resolve(value),done()}),(function _reject(err){reject(err),done()}),{data:responseType&&"text"!==responseType&&"json"!==responseType?request.response:request.responseText,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config,request:request}),request=null}}if(request.open(config.method.toUpperCase(),buildURL(fullPath,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,"onloadend"in request?request.onloadend=onloadend:request.onreadystatechange=function handleLoad(){request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))&&setTimeout(onloadend)},request.onabort=function handleAbort(){request&&(reject(new AxiosError_1("Request aborted",AxiosError_1.ECONNABORTED,config,request)),request=null)},request.onerror=function handleError(){reject(new AxiosError_1("Network Error",AxiosError_1.ERR_NETWORK,config,request,request)),request=null},request.ontimeout=function handleTimeout(){var timeoutErrorMessage=config.timeout?"timeout of "+config.timeout+"ms exceeded":"timeout exceeded",transitional$1=config.transitional||transitional;config.timeoutErrorMessage&&(timeoutErrorMessage=config.timeoutErrorMessage),reject(new AxiosError_1(timeoutErrorMessage,transitional$1.clarifyTimeoutError?AxiosError_1.ETIMEDOUT:AxiosError_1.ECONNABORTED,config,request)),request=null},utils.isStandardBrowserEnv()){var xsrfValue=(config.withCredentials||isURLSameOrigin(fullPath))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}"setRequestHeader"in request&&utils.forEach(requestHeaders,(function setRequestHeader(val,key){void 0===requestData&&"content-type"===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)})),utils.isUndefined(config.withCredentials)||(request.withCredentials=!!config.withCredentials),responseType&&"json"!==responseType&&(request.responseType=config.responseType),"function"==typeof config.onDownloadProgress&&request.addEventListener("progress",config.onDownloadProgress),"function"==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener("progress",config.onUploadProgress),(config.cancelToken||config.signal)&&(onCanceled=function onCanceled(cancel){request&&(reject(!cancel||cancel&&cancel.type?new CanceledError_1:cancel),request.abort(),request=null)},config.cancelToken&&config.cancelToken.subscribe(onCanceled),config.signal&&(config.signal.aborted?onCanceled():config.signal.addEventListener("abort",onCanceled))),requestData||(requestData=null);var protocol=function parseProtocol(url){var match=/^([-+\w]{1,25})(:?\/\/|:)/.exec(url);return match&&match[1]||""}(fullPath);protocol&&-1===["http","https","file"].indexOf(protocol)?reject(new AxiosError_1("Unsupported protocol "+protocol+":",AxiosError_1.ERR_BAD_REQUEST,config)):request.send(requestData)}))},DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var defaults={transitional:transitional,adapter:function getDefaultAdapter(){var adapter;return("undefined"!=typeof XMLHttpRequest||void 0!==process&&"[object process]"===Object.prototype.toString.call(process))&&(adapter=xhr),adapter}(),transformRequest:[function transformRequest(data,headers){if(normalizeHeaderName(headers,"Accept"),normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data))return data;if(utils.isArrayBufferView(data))return data.buffer;if(utils.isURLSearchParams(data))return setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString();var isFileList,isObjectPayload=utils.isObject(data),contentType=headers&&headers["Content-Type"];if((isFileList=utils.isFileList(data))||isObjectPayload&&"multipart/form-data"===contentType){var _FormData=this.env&&this.env.FormData;return toFormData_1(isFileList?{"files[]":data}:data,_FormData&&new _FormData)}return isObjectPayload||"application/json"===contentType?(setContentTypeIfUnset(headers,"application/json"),function stringifySafely(rawValue,parser,encoder){if(utils.isString(rawValue))try{return(parser||JSON.parse)(rawValue),utils.trim(rawValue)}catch(e){if("SyntaxError"!==e.name)throw e}return(encoder||JSON.stringify)(rawValue)}(data)):data}],transformResponse:[function transformResponse(data){var transitional=this.transitional||defaults.transitional,silentJSONParsing=transitional&&transitional.silentJSONParsing,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,strictJSONParsing=!silentJSONParsing&&"json"===this.responseType;if(strictJSONParsing||forcedJSONParsing&&utils.isString(data)&&data.length)try{return JSON.parse(data)}catch(e){if(strictJSONParsing){if("SyntaxError"===e.name)throw AxiosError_1.from(e,AxiosError_1.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function validateStatus(status){return status>=200&&status<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],(function forEachMethodNoData(method){defaults.headers[method]={}})),utils.forEach(["post","put","patch"],(function forEachMethodWithData(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)}));var defaults_1=defaults,transformData=function transformData(data,headers,fns){var context=this||defaults_1;return utils.forEach(fns,(function transform(fn){data=fn.call(context,data,headers)})),data},isCancel=function isCancel(value){return!(!value||!value.__CANCEL__)};function throwIfCancellationRequested(config){if(config.cancelToken&&config.cancelToken.throwIfRequested(),config.signal&&config.signal.aborted)throw new CanceledError_1}var dispatchRequest=function dispatchRequest(config){return throwIfCancellationRequested(config),config.headers=config.headers||{},config.data=transformData.call(config,config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers),utils.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(method){delete config.headers[method]})),(config.adapter||defaults_1.adapter)(config).then((function onAdapterResolution(response){return throwIfCancellationRequested(config),response.data=transformData.call(config,response.data,response.headers,config.transformResponse),response}),(function onAdapterRejection(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData.call(config,reason.response.data,reason.response.headers,config.transformResponse))),Promise.reject(reason)}))},mergeConfig=function mergeConfig(config1,config2){config2=config2||{};var config={};function getMergedValue(target,source){return utils.isPlainObject(target)&&utils.isPlainObject(source)?utils.merge(target,source):utils.isPlainObject(source)?utils.merge({},source):utils.isArray(source)?source.slice():source}function mergeDeepProperties(prop){return utils.isUndefined(config2[prop])?utils.isUndefined(config1[prop])?void 0:getMergedValue(void 0,config1[prop]):getMergedValue(config1[prop],config2[prop])}function valueFromConfig2(prop){if(!utils.isUndefined(config2[prop]))return getMergedValue(void 0,config2[prop])}function defaultToConfig2(prop){return utils.isUndefined(config2[prop])?utils.isUndefined(config1[prop])?void 0:getMergedValue(void 0,config1[prop]):getMergedValue(void 0,config2[prop])}function mergeDirectKeys(prop){return prop in config2?getMergedValue(config1[prop],config2[prop]):prop in config1?getMergedValue(void 0,config1[prop]):void 0}var mergeMap={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys};return utils.forEach(Object.keys(config1).concat(Object.keys(config2)),(function computeConfigValue(prop){var merge=mergeMap[prop]||mergeDeepProperties,configValue=merge(prop);utils.isUndefined(configValue)&&merge!==mergeDirectKeys||(config[prop]=configValue)})),config},data_version="0.27.2",VERSION=data_version,validators$1={};["object","boolean","number","function","string","symbol"].forEach((function(type,i){validators$1[type]=function validator(thing){return typeof thing===type||"a"+(i<1?"n ":" ")+type}}));var deprecatedWarnings={};validators$1.transitional=function transitional(validator,version,message){function formatMessage(opt,desc){return"[Axios v"+VERSION+"] Transitional option '"+opt+"'"+desc+(message?". "+message:"")}return function(value,opt,opts){if(!1===validator)throw new AxiosError_1(formatMessage(opt," has been removed"+(version?" in "+version:"")),AxiosError_1.ERR_DEPRECATED);return version&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt," has been deprecated since v"+version+" and will be removed in the near future"))),!validator||validator(value,opt,opts)}};var validator={assertOptions:function assertOptions(options,schema,allowUnknown){if("object"!=typeof options)throw new AxiosError_1("options must be an object",AxiosError_1.ERR_BAD_OPTION_VALUE);for(var keys=Object.keys(options),i=keys.length;i-- >0;){var opt=keys[i],validator=schema[opt];if(validator){var value=options[opt],result=void 0===value||validator(value,opt,options);if(!0!==result)throw new AxiosError_1("option "+opt+" must be "+result,AxiosError_1.ERR_BAD_OPTION_VALUE)}else if(!0!==allowUnknown)throw new AxiosError_1("Unknown option "+opt,AxiosError_1.ERR_BAD_OPTION)}},validators:validators$1},validators=validator.validators;function Axios(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function request(configOrUrl,config){"string"==typeof configOrUrl?(config=config||{}).url=configOrUrl:config=configOrUrl||{},(config=mergeConfig(this.defaults,config)).method?config.method=config.method.toLowerCase():this.defaults.method?config.method=this.defaults.method.toLowerCase():config.method="get";var transitional=config.transitional;void 0!==transitional&&validator.assertOptions(transitional,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var requestInterceptorChain=[],synchronousRequestInterceptors=!0;this.interceptors.request.forEach((function unshiftRequestInterceptors(interceptor){"function"==typeof interceptor.runWhen&&!1===interceptor.runWhen(config)||(synchronousRequestInterceptors=synchronousRequestInterceptors&&interceptor.synchronous,requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected))}));var promise,responseInterceptorChain=[];if(this.interceptors.response.forEach((function pushResponseInterceptors(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)})),!synchronousRequestInterceptors){var chain=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(chain,requestInterceptorChain),chain=chain.concat(responseInterceptorChain),promise=Promise.resolve(config);chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise}for(var newConfig=config;requestInterceptorChain.length;){var onFulfilled=requestInterceptorChain.shift(),onRejected=requestInterceptorChain.shift();try{newConfig=onFulfilled(newConfig)}catch(error){onRejected(error);break}}try{promise=dispatchRequest(newConfig)}catch(error){return Promise.reject(error)}for(;responseInterceptorChain.length;)promise=promise.then(responseInterceptorChain.shift(),responseInterceptorChain.shift());return promise},Axios.prototype.getUri=function getUri(config){config=mergeConfig(this.defaults,config);var fullPath=buildFullPath(config.baseURL,config.url);return buildURL(fullPath,config.params,config.paramsSerializer)},utils.forEach(["delete","get","head","options"],(function forEachMethodNoData(method){Axios.prototype[method]=function(url,config){return this.request(mergeConfig(config||{},{method:method,url:url,data:(config||{}).data}))}})),utils.forEach(["post","put","patch"],(function forEachMethodWithData(method){function generateHTTPMethod(isForm){return function httpMethod(url,data,config){return this.request(mergeConfig(config||{},{method:method,headers:isForm?{"Content-Type":"multipart/form-data"}:{},url:url,data:data}))}}Axios.prototype[method]=generateHTTPMethod(),Axios.prototype[method+"Form"]=generateHTTPMethod(!0)}));var Axios_1=Axios;function CancelToken(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");var resolvePromise;this.promise=new Promise((function promiseExecutor(resolve){resolvePromise=resolve}));var token=this;this.promise.then((function(cancel){if(token._listeners){var i,l=token._listeners.length;for(i=0;i<l;i++)token._listeners[i](cancel);token._listeners=null}})),this.promise.then=function(onfulfilled){var _resolve,promise=new Promise((function(resolve){token.subscribe(resolve),_resolve=resolve})).then(onfulfilled);return promise.cancel=function reject(){token.unsubscribe(_resolve)},promise},executor((function cancel(message){token.reason||(token.reason=new CanceledError_1(message),resolvePromise(token.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.prototype.subscribe=function subscribe(listener){this.reason?listener(this.reason):this._listeners?this._listeners.push(listener):this._listeners=[listener]},CancelToken.prototype.unsubscribe=function unsubscribe(listener){if(this._listeners){var index=this._listeners.indexOf(listener);-1!==index&&this._listeners.splice(index,1)}},CancelToken.source=function source(){var cancel;return{token:new CancelToken((function executor(c){cancel=c})),cancel:cancel}};var CancelToken_1=CancelToken;var axios$1=function createInstance(defaultConfig){var context=new Axios_1(defaultConfig),instance=bind(Axios_1.prototype.request,context);return utils.extend(instance,Axios_1.prototype,context),utils.extend(instance,context),instance.create=function create(instanceConfig){return createInstance(mergeConfig(defaultConfig,instanceConfig))},instance}(defaults_1);axios$1.Axios=Axios_1,axios$1.CanceledError=CanceledError_1,axios$1.CancelToken=CancelToken_1,axios$1.isCancel=isCancel,axios$1.VERSION=data_version,axios$1.toFormData=toFormData_1,axios$1.AxiosError=AxiosError_1,axios$1.Cancel=axios$1.CanceledError,axios$1.all=function all(promises){return Promise.all(promises)},axios$1.spread=function spread(callback){return function wrap(arr){return callback.apply(null,arr)}},axios$1.isAxiosError=function isAxiosError(payload){return utils.isObject(payload)&&!0===payload.isAxiosError};var axios_1=axios$1,_default=axios$1;axios_1.default=_default;var axios=axios_1,naiveFallback=function naiveFallback(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},globalThis_1=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function get(){return this},configurable:!0})}catch(error){return naiveFallback()}try{return __global__||naiveFallback()}finally{delete Object.prototype.__global__}}(),ENDPOINT_KEY=Symbol.for("verdocs-default-endpoint"),requestLogger=function requestLogger(r){return console.debug("[JS-SDK] ".concat(r.method.toUpperCase()," ").concat(r.baseURL).concat(r.url),r.data?JSON.stringify(r.data):""),r},VerdocsEndpoint=function(){function VerdocsEndpoint(options){this.environment="verdocs",this.sessionType="user",this.baseURL="https://api.verdocs.com",this.clientID="not-set",this.timeout=3e3,this.token=null,this.nextListenerId=0,this.sessionListeners=new Map,this.requestLoggerId=null,this.session=null,this.Documents=Documents,this.baseURL=(null==options?void 0:options.baseURL)||"https://api.verdocs.com",this.timeout=(null==options?void 0:options.timeout)||3e3,this.environment=(null==options?void 0:options.environment)||"verdocs",this.sessionType=(null==options?void 0:options.sessionType)||"user",this.clientID=(null==options?void 0:options.clientID)||"not-set",this.api=axios.create({baseURL:this.baseURL,timeout:this.timeout})}return VerdocsEndpoint.prototype.setDefault=function(){globalThis_1[ENDPOINT_KEY]=this},VerdocsEndpoint.getDefault=function(){return globalThis_1[ENDPOINT_KEY]?window.console.debug("[JS SDK] Re-using existing endpoint",globalThis_1[ENDPOINT_KEY]):(globalThis_1[ENDPOINT_KEY]=new VerdocsEndpoint,window.console.debug("[JS_SDK] Created default endpoint",globalThis_1[ENDPOINT_KEY])),globalThis_1[ENDPOINT_KEY]},VerdocsEndpoint.prototype.getEnvironment=function(){return this.environment},VerdocsEndpoint.prototype.getSessionType=function(){return this.sessionType},VerdocsEndpoint.prototype.getBaseURL=function(){return this.baseURL},VerdocsEndpoint.prototype.getClientID=function(){return this.clientID},VerdocsEndpoint.prototype.getTimeout=function(){return this.timeout},VerdocsEndpoint.prototype.getSession=function(){return this.session},VerdocsEndpoint.prototype.setEnvironment=function(environment){return this.environment=environment,this},VerdocsEndpoint.prototype.setSessionType=function(sessionType){return this.sessionType=sessionType,this},VerdocsEndpoint.prototype.setBaseURL=function(url){return this.api.defaults.baseURL=url,this},VerdocsEndpoint.prototype.setClientID=function(clientID){return this.clientID=clientID,this.api.defaults.headers.common["X-Client-ID"]=clientID,this},VerdocsEndpoint.prototype.setTimeout=function(timeout){return this.timeout=timeout,this.api.defaults.timeout=timeout,this},VerdocsEndpoint.prototype.logRequests=function(enable){return enable&&null===this.requestLoggerId?this.requestLoggerId=this.api.interceptors.request.use(requestLogger):enable||null===this.requestLoggerId||this.api.interceptors.request.eject(this.requestLoggerId),this},VerdocsEndpoint.prototype.setToken=function(token){if(!token)return this.clearSession();var session=decodeAccessTokenBody(token);return null===session||session.exp&&1e3*session.exp<(new Date).getTime()?this.clearSession():(this.token=token,this.session=session,this.api.defaults.headers.common.Authorization="Bearer ".concat(token),localStorage.setItem(this.sessionStorageKey(),token),this.notifySessionListeners(),this)},VerdocsEndpoint.prototype.getToken=function(){return this.token},VerdocsEndpoint.prototype.sessionStorageKey=function(){return"verdocs-session-".concat(this.getSessionType(),"-").concat(this.getEnvironment())},VerdocsEndpoint.prototype.clearSession=function(){return localStorage.removeItem(this.sessionStorageKey()),delete this.api.defaults.headers.common.Authorization,this.session=null,this.token=null,this.notifySessionListeners(),this},VerdocsEndpoint.prototype.notifySessionListeners=function(){var _this=this;this.sessionListeners.forEach((function(listener){try{listener(_this,_this.session)}catch(e){}}))},VerdocsEndpoint.prototype.onSessionChanged=function(listener){var _this=this;this.nextListenerId++;var listenerSymbol=Symbol.for(""+this.nextListenerId);return this.sessionListeners.set(listenerSymbol,listener),function(){_this.sessionListeners.delete(listenerSymbol)}},VerdocsEndpoint.prototype.loadSession=function(){var token=localStorage.getItem(this.sessionStorageKey());return token?this.setToken(token):this.clearSession()},VerdocsEndpoint}()}).call(this,__webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,__webpack_require__("./node_modules/process/browser.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVXRpbHMvVG9rZW4uanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvRG9jdW1lbnRzL0RvY3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9Eb2N1bWVudHMvUmVjaXBpZW50cy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9Eb2N1bWVudHMvU2lnbmF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9Eb2N1bWVudHMvSW5pdGlhbHMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NFcnJvci5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b0Zvcm1EYXRhLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL251bGwuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2Vudi9kYXRhLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVXRpbHMvZ2xvYmFsVGhpcy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9WZXJkb2NzRW5kcG9pbnQuanMiXSwibmFtZXMiOlsiVGVtcGxhdGVQZXJtaXNzaW9ucyIsIlRlbXBsYXRlU2VuZGVyVHlwZXMiLCJUZW1wbGF0ZUFjdGlvbnMiLCJTb3J0T3B0aW9ucyIsImI2NCIsImI2NHJlIiwiZGVjb2RlSldUQm9keSIsInRva2VuIiwiSlNPTiIsInBhcnNlIiwiQXRvQiIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ0ZXN0IiwiVHlwZUVycm9yIiwiYml0bWFwIiwic2xpY2UiLCJsZW5ndGgiLCJyMSIsInIyIiwicmVzdWx0IiwiaSIsImluZGV4T2YiLCJjaGFyQXQiLCJmcm9tQ2hhckNvZGUiLCJzcGxpdCIsImRlY29kZUFjY2Vzc1Rva2VuQm9keSIsImRlY29kZWQiLCJlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzdGFydHNXaXRoIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJkb25lIiwiYWRvcHQiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsImNhbGwiLCJwb3AiLCJwdXNoIiwiZ2V0U2lnbmluZ1Nlc3Npb24iLCJlbmRwb2ludCIsInBhcmFtcyIsIl9hIiwiYXBpIiwiZ2V0IiwiY29uY2F0IiwiZG9jdW1lbnRJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJvbGVJZCIsImludml0ZUNvZGUiLCJyIiwiX2IiLCJzaWduZXJUb2tlbiIsImhlYWRlcnMiLCJzaWduZXJfdG9rZW4iLCJzZXNzaW9uIiwic2V0VG9rZW4iLCJyZWNpcGllbnQiLCJkYXRhIiwiZ2V0RG9jdW1lbnQiLCJnZXREb2N1bWVudEZpbGUiLCJlbnZlbG9wZURvY3VtZW50SWQiLCJyZXNwb25zZVR5cGUiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJ1cGRhdGVEb2N1bWVudEZpZWxkIiwiZmllbGROYW1lIiwicHV0IiwiZ2V0U3VtbWFyeSIsInBhZ2UiLCJwb3N0Iiwic2VhcmNoRG9jdW1lbnRzIiwiZ2V0RG9jdW1lbnRSZWNpcGllbnRzIiwidXBkYXRlRG9jdW1lbnRGaWVsZFNpZ25hdHVyZSIsInNpZ25hdHVyZUlkIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJzIiwiYXJndW1lbnRzIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwidXBkYXRlUmVjaXBpZW50U3RhdHVzIiwicm9sZU5hbWUiLCJhY3Rpb24iLCJyb2xlX25hbWUiLCJjcmVhdGVTaWduYXR1cmUiLCJuYW1lIiwic2lnbmF0dXJlIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJnZXRTaWduYXR1cmVzIiwiZ2V0U2lnbmF0dXJlIiwiZGVsZXRlU2lnbmF0dXJlIiwiY3JlYXRlSW5pdGlhbHMiLCJpbml0aWFscyIsImNhY2hlIiwiYmluZCIsImZuIiwid3JhcCIsImFyZ3MiLCJBcnJheSIsImtpbmRPZiIsImNyZWF0ZSIsInRoaW5nIiwidG9Mb3dlckNhc2UiLCJraW5kT2ZUZXN0IiwidHlwZSIsImlzS2luZE9mIiwiaXNBcnJheSIsInZhbCIsImlzVW5kZWZpbmVkIiwiaXNBcnJheUJ1ZmZlciIsImlzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNGaWxlTGlzdCIsImlzRnVuY3Rpb24iLCJpc1VSTFNlYXJjaFBhcmFtcyIsIm9iaiIsImwiLCJUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwiVWludDhBcnJheSIsImlzQnVmZmVyIiwiY29uc3RydWN0b3IiLCJpc0Zvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1N0cmVhbSIsInBpcGUiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1lcmdlIiwiYXNzaWduVmFsdWUiLCJleHRlbmQiLCJhIiwiYiIsInRyaW0iLCJzdHJpcEJPTSIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiaW5oZXJpdHMiLCJzdXBlckNvbnN0cnVjdG9yIiwicHJvcHMiLCJkZXNjcmlwdG9ycyIsInRvRmxhdE9iamVjdCIsInNvdXJjZU9iaiIsImRlc3RPYmoiLCJmaWx0ZXIiLCJwcm9wIiwibWVyZ2VkIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImVuZHNXaXRoIiwic2VhcmNoU3RyaW5nIiwicG9zaXRpb24iLCJ1bmRlZmluZWQiLCJsYXN0SW5kZXgiLCJ0b0FycmF5IiwiYXJyIiwiZW5jb2RlIiwiYnVpbGRVUkwiLCJ1cmwiLCJwYXJhbXNTZXJpYWxpemVyIiwic2VyaWFsaXplZFBhcmFtcyIsInV0aWxzIiwicGFydHMiLCJzZXJpYWxpemUiLCJwYXJzZVZhbHVlIiwidG9JU09TdHJpbmciLCJzdHJpbmdpZnkiLCJqb2luIiwiaGFzaG1hcmtJbmRleCIsIkludGVyY2VwdG9yTWFuYWdlciIsImhhbmRsZXJzIiwidXNlIiwib3B0aW9ucyIsInN5bmNocm9ub3VzIiwicnVuV2hlbiIsImVqZWN0IiwiaWQiLCJmb3JFYWNoSGFuZGxlciIsImgiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwibm9ybWFsaXplZE5hbWUiLCJwcm9jZXNzSGVhZGVyIiwidG9VcHBlckNhc2UiLCJBeGlvc0Vycm9yIiwibWVzc2FnZSIsImNvZGUiLCJjb25maWciLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJFcnJvciIsInRvSlNPTiIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhY2siLCJzdGF0dXMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJlcnJvciIsImN1c3RvbVByb3BzIiwiYXhpb3NFcnJvciIsInNpbGVudEpTT05QYXJzaW5nIiwiZm9yY2VkSlNPTlBhcnNpbmciLCJjbGFyaWZ5VGltZW91dEVycm9yIiwidG9Gb3JtRGF0YSIsImZvcm1EYXRhIiwiY29udmVydFZhbHVlIiwiQmxvYiIsImJ1aWxkIiwicGFyZW50S2V5IiwiZWFjaCIsImZ1bGxLZXkiLCJlbCIsInN0YW5kYXJkQnJvd3NlckVudiIsIndyaXRlIiwiZXhwaXJlcyIsInBhdGgiLCJkb21haW4iLCJzZWN1cmUiLCJjb29raWUiLCJEYXRlIiwidG9HTVRTdHJpbmciLCJyZWFkIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJidWlsZEZ1bGxQYXRoIiwiYmFzZVVSTCIsInJlcXVlc3RlZFVSTCIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInJlbGF0aXZlVVJMIiwiaWdub3JlRHVwbGljYXRlT2YiLCJvcmlnaW5VUkwiLCJtc2llIiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJjcmVhdGVFbGVtZW50IiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJsb2NhdGlvbiIsImlzVVJMU2FtZU9yaWdpbiIsInJlcXVlc3RVUkwiLCJwYXJzZWQiLCJDYW5jZWxlZEVycm9yIiwiRVJSX0NBTkNFTEVEIiwiX19DQU5DRUxfXyIsInhockFkYXB0ZXIiLCJkaXNwYXRjaFhoclJlcXVlc3QiLCJvbkNhbmNlbGVkIiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsImNhbmNlbFRva2VuIiwidW5zdWJzY3JpYmUiLCJzaWduYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiWE1MSHR0cFJlcXVlc3QiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVuZXNjYXBlIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJmdWxsUGF0aCIsIm9ubG9hZGVuZCIsInJlc3BvbnNlSGVhZGVycyIsInBhcnNlSGVhZGVycyIsInBhcnNlciIsImxpbmUiLCJzdWJzdHIiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzZXR0bGUiLCJ2YWxpZGF0ZVN0YXR1cyIsIkVSUl9CQURfUkVRVUVTVCIsIkVSUl9CQURfUkVTUE9OU0UiLCJNYXRoIiwiZmxvb3IiLCJfcmVzb2x2ZSIsIl9yZWplY3QiLCJlcnIiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib3BlbiIsIm1ldGhvZCIsInRpbWVvdXQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJoYW5kbGVMb2FkIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwic2V0VGltZW91dCIsIm9uYWJvcnQiLCJoYW5kbGVBYm9ydCIsIkVDT05OQUJPUlRFRCIsIm9uZXJyb3IiLCJoYW5kbGVFcnJvciIsIkVSUl9ORVRXT1JLIiwib250aW1lb3V0IiwiaGFuZGxlVGltZW91dCIsInRpbWVvdXRFcnJvck1lc3NhZ2UiLCJ0cmFuc2l0aW9uYWwiLCJ0cmFuc2l0aW9uYWxEZWZhdWx0cyIsIkVUSU1FRE9VVCIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInhzcmZDb29raWVOYW1lIiwiY29va2llcyIsInhzcmZIZWFkZXJOYW1lIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsIiwiYWJvcnQiLCJzdWJzY3JpYmUiLCJhYm9ydGVkIiwicGFyc2VQcm90b2NvbCIsImV4ZWMiLCJzZW5kIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJkZWZhdWx0cyIsImFkYXB0ZXIiLCJnZXREZWZhdWx0QWRhcHRlciIsInByb2Nlc3MiLCJyZXF1aXJlJCQwIiwidHJhbnNmb3JtUmVxdWVzdCIsImlzT2JqZWN0UGF5bG9hZCIsImNvbnRlbnRUeXBlIiwiX0Zvcm1EYXRhIiwiZW52Iiwic3RyaW5naWZ5U2FmZWx5IiwicmF3VmFsdWUiLCJlbmNvZGVyIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJzdHJpY3RKU09OUGFyc2luZyIsIm1heENvbnRlbnRMZW5ndGgiLCJtYXhCb2R5TGVuZ3RoIiwiY29tbW9uIiwiZm9yRWFjaE1ldGhvZE5vRGF0YSIsImZvckVhY2hNZXRob2RXaXRoRGF0YSIsInRyYW5zZm9ybURhdGEiLCJmbnMiLCJjb250ZXh0IiwidHJhbnNmb3JtIiwiaXNDYW5jZWwiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsImRpc3BhdGNoUmVxdWVzdCIsImNsZWFuSGVhZGVyQ29uZmlnIiwib25BZGFwdGVyUmVzb2x1dGlvbiIsIm9uQWRhcHRlclJlamVjdGlvbiIsInJlYXNvbiIsIm1lcmdlQ29uZmlnIiwiY29uZmlnMSIsImNvbmZpZzIiLCJnZXRNZXJnZWRWYWx1ZSIsInRhcmdldCIsInNvdXJjZSIsIm1lcmdlRGVlcFByb3BlcnRpZXMiLCJ2YWx1ZUZyb21Db25maWcyIiwiZGVmYXVsdFRvQ29uZmlnMiIsIm1lcmdlRGlyZWN0S2V5cyIsIm1lcmdlTWFwIiwiY29tcHV0ZUNvbmZpZ1ZhbHVlIiwiY29uZmlnVmFsdWUiLCJWRVJTSU9OIiwidmFsaWRhdG9ycyIsInZhbGlkYXRvciIsImRlcHJlY2F0ZWRXYXJuaW5ncyIsInZlcnNpb24iLCJmb3JtYXRNZXNzYWdlIiwib3B0IiwiZGVzYyIsIm9wdHMiLCJFUlJfREVQUkVDQVRFRCIsImNvbnNvbGUiLCJ3YXJuIiwiYXNzZXJ0T3B0aW9ucyIsInNjaGVtYSIsImFsbG93VW5rbm93biIsIkVSUl9CQURfT1BUSU9OX1ZBTFVFIiwiRVJSX0JBRF9PUFRJT04iLCJBeGlvcyIsImluc3RhbmNlQ29uZmlnIiwiaW50ZXJjZXB0b3JzIiwiY29uZmlnT3JVcmwiLCJyZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiIsInN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyIsInVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwicHJvbWlzZSIsInJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiIsInB1c2hSZXNwb25zZUludGVyY2VwdG9ycyIsImNoYWluIiwic2hpZnQiLCJuZXdDb25maWciLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJnZXRVcmkiLCJnZW5lcmF0ZUhUVFBNZXRob2QiLCJpc0Zvcm0iLCJodHRwTWV0aG9kIiwiQ2FuY2VsVG9rZW4iLCJleGVjdXRvciIsInJlc29sdmVQcm9taXNlIiwicHJvbWlzZUV4ZWN1dG9yIiwiX2xpc3RlbmVycyIsIm9uZnVsZmlsbGVkIiwibGlzdGVuZXIiLCJpbmRleCIsInNwbGljZSIsImMiLCJheGlvcyIsImNyZWF0ZUluc3RhbmNlIiwiZGVmYXVsdENvbmZpZyIsImluc3RhbmNlIiwicmVxdWlyZSQkMSIsInJlcXVpcmUkJDIiLCJyZXF1aXJlJCQzIiwicmVxdWlyZSQkNCIsInJlcXVpcmUkJDUiLCJDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsImNhbGxiYWNrIiwiaXNBeGlvc0Vycm9yIiwicGF5bG9hZCIsIm5haXZlRmFsbGJhY2siLCJzZWxmIiwiZ2xvYmFsVGhpcyIsImNvbmZpZ3VyYWJsZSIsIl9fZ2xvYmFsX18iLCJFTkRQT0lOVF9LRVkiLCJyZXF1ZXN0TG9nZ2VyIiwiZGVidWciLCJWZXJkb2NzRW5kcG9pbnQiLCJlbnZpcm9ubWVudCIsInNlc3Npb25UeXBlIiwiY2xpZW50SUQiLCJuZXh0TGlzdGVuZXJJZCIsInNlc3Npb25MaXN0ZW5lcnMiLCJNYXAiLCJyZXF1ZXN0TG9nZ2VySWQiLCJEb2N1bWVudHMiLCJzZXREZWZhdWx0IiwiZ2V0RGVmYXVsdCIsImdldEVudmlyb25tZW50IiwiZ2V0U2Vzc2lvblR5cGUiLCJnZXRCYXNlVVJMIiwiZ2V0Q2xpZW50SUQiLCJnZXRUaW1lb3V0IiwiZ2V0U2Vzc2lvbiIsInNldEVudmlyb25tZW50Iiwic2V0U2Vzc2lvblR5cGUiLCJzZXRCYXNlVVJMIiwic2V0Q2xpZW50SUQiLCJsb2dSZXF1ZXN0cyIsImVuYWJsZSIsImNsZWFyU2Vzc2lvbiIsImV4cCIsImdldFRpbWUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic2Vzc2lvblN0b3JhZ2VLZXkiLCJub3RpZnlTZXNzaW9uTGlzdGVuZXJzIiwiZ2V0VG9rZW4iLCJyZW1vdmVJdGVtIiwiX3RoaXMiLCJvblNlc3Npb25DaGFuZ2VkIiwibGlzdGVuZXJTeW1ib2wiLCJzZXQiLCJsb2FkU2Vzc2lvbiIsImdldEl0ZW0iXSwibWFwcGluZ3MiOiJ3MUxBQVdBLG9CQVlBQyxvQkFRQUMsZ0JBWUFDLFlDL0JQQyxJQUFNLG9FQUVOQyxNQUFRLDBFQXFDREMsY0FBZ0IsU0FBaEJBLGNBQTBC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UyxRQUFRd1QsT0FBTzdFLGNBQ3hDaFEsS0FBS3VCLFFBQVUsS0FDZnZCLEtBQUszRCxNQUFRLEtBQ2IyRCxLQUFLOGMseUJBQ0U5YyxJQUNWLEVBQ0RpYixnQkFBZ0JoWSxVQUFVNlosdUJBQXlCLFdBQy9DLElBQUlHLE1BQVFqZCxLQUNaQSxLQUFLc2IsaUJBQWlCeGQsU0FBUSxTQUFVdWIsVUFDcEMsSUFDSUEsU0FBUzRELE1BQU9BLE1BQU0xYixRQUl6QixDQUZELE1BQU81RCxHQUVOLENBQ0osR0FDSixFQUlEc2QsZ0JBQWdCaFksVUFBVWlhLGlCQUFtQixTQUFVN0QsVUFDbkQsSUFBSTRELE1BQVFqZCxLQUVaQSxLQUFLcWIsaUJBQ0wsSUFBSThCLGVBQWlCcmQsT0FBTSxJQUFLLEdBQUtFLEtBQUtxYixnQkFFMUMsT0FEQXJiLEtBQUtzYixpQkFBaUI4QixJQUFJRCxlQUFnQjlELFVBQ25DLFdBQ0g0RCxNQUFNM0IsaUJBQU4sT0FBOEI2QixlQUNqQyxDQUNKLEVBS0RsQyxnQkFBZ0JoWSxVQUFVb2EsWUFBYyxXQUNwQyxJQUFJaGhCLE1BQVFzZ0IsYUFBYVcsUUFBUXRkLEtBQUs2YyxxQkFDdEMsT0FBS3hnQixNQUdFMkQsS0FBS3dCLFNBQVNuRixPQUZWMkQsS0FBS3djLGNBR25CLEVBQ012QixlQUNWLENBMVFvQyxFIiwiZmlsZSI6IjIuZDJjZDhiODAuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgVGVtcGxhdGVQZXJtaXNzaW9ucztcbihmdW5jdGlvbiAoVGVtcGxhdGVQZXJtaXNzaW9ucykge1xuICAgIFRlbXBsYXRlUGVybWlzc2lvbnNbXCJURU1QTEFURV9DUkVBVE9SX0NSRUFURV9QVUJMSUNcIl0gPSBcInRlbXBsYXRlOmNyZWF0b3I6Y3JlYXRlOnB1YmxpY1wiO1xuICAgIFRlbXBsYXRlUGVybWlzc2lvbnNbXCJURU1QTEFURV9DUkVBVE9SX0NSRUFURV9PUkdcIl0gPSBcInRlbXBsYXRlOmNyZWF0b3I6Y3JlYXRlOm9yZ1wiO1xuICAgIFRlbXBsYXRlUGVybWlzc2lvbnNbXCJURU1QTEFURV9DUkVBVE9SX0NSRUFURV9QRVJTT05BTFwiXSA9IFwidGVtcGxhdGU6Y3JlYXRvcjpjcmVhdGU6cGVyc29uYWxcIjtcbiAgICBUZW1wbGF0ZVBlcm1pc3Npb25zW1wiVEVNUExBVEVfQ1JFQVRPUl9ERUxFVEVcIl0gPSBcInRlbXBsYXRlOmNyZWF0b3I6ZGVsZXRlXCI7XG4gICAgVGVtcGxhdGVQZXJtaXNzaW9uc1tcIlRFTVBMQVRFX0NSRUFUT1JfVklTSUJJTElUWVwiXSA9IFwidGVtcGxhdGU6Y3JlYXRvcjp2aXNpYmlsaXR5XCI7XG4gICAgVGVtcGxhdGVQZXJtaXNzaW9uc1tcIlRFTVBMQVRFX01FTUJFUl9SRUFEXCJdID0gXCJ0ZW1wbGF0ZTptZW1iZXI6cmVhZFwiO1xuICAgIFRlbXBsYXRlUGVybWlzc2lvbnNbXCJURU1QTEFURV9NRU1CRVJfV1JJVEVcIl0gPSBcInRlbXBsYXRlOm1lbWJlcjp3cml0ZVwiO1xuICAgIFRlbXBsYXRlUGVybWlzc2lvbnNbXCJURU1QTEFURV9NRU1CRVJfREVMRVRFXCJdID0gXCJ0ZW1wbGF0ZTptZW1iZXI6ZGVsZXRlXCI7XG4gICAgVGVtcGxhdGVQZXJtaXNzaW9uc1tcIlRFTVBMQVRFX01FTUJFUl9WSVNJQklMSVRZXCJdID0gXCJ0ZW1wbGF0ZTptZW1iZXI6dmlzaWJpbGl0eVwiO1xufSkoVGVtcGxhdGVQZXJtaXNzaW9ucyB8fCAoVGVtcGxhdGVQZXJtaXNzaW9ucyA9IHt9KSk7XG5leHBvcnQgdmFyIFRlbXBsYXRlU2VuZGVyVHlwZXM7XG4oZnVuY3Rpb24gKFRlbXBsYXRlU2VuZGVyVHlwZXMpIHtcbiAgICBUZW1wbGF0ZVNlbmRlclR5cGVzW1wiQ1JFQVRPUlwiXSA9IFwiY3JlYXRvclwiO1xuICAgIFRlbXBsYXRlU2VuZGVyVHlwZXNbXCJPUkdBTklaQVRJT05fTUVNQkVSXCJdID0gXCJvcmdhbml6YXRpb25fbWVtYmVyXCI7XG4gICAgVGVtcGxhdGVTZW5kZXJUeXBlc1tcIk9SR0FOSVpBVElPTl9NRU1CRVJfQVNfQ1JFQVRPUlwiXSA9IFwib3JnYW5pemF0aW9uX21lbWJlcl9hc19jcmVhdG9yXCI7XG4gICAgVGVtcGxhdGVTZW5kZXJUeXBlc1tcIkVWRVJZT05FXCJdID0gXCJldmVyeW9uZVwiO1xuICAgIFRlbXBsYXRlU2VuZGVyVHlwZXNbXCJFVkVSWU9ORV9BU19DUkVBVE9SXCJdID0gXCJldmVyeW9uZV9hc19jcmVhdG9yXCI7XG59KShUZW1wbGF0ZVNlbmRlclR5cGVzIHx8IChUZW1wbGF0ZVNlbmRlclR5cGVzID0ge30pKTtcbmV4cG9ydCB2YXIgVGVtcGxhdGVBY3Rpb25zO1xuKGZ1bmN0aW9uIChUZW1wbGF0ZUFjdGlvbnMpIHtcbiAgICBUZW1wbGF0ZUFjdGlvbnNbXCJDUkVBVEVfUEVSU09OQUxcIl0gPSBcImNyZWF0ZV9wZXJzb25hbFwiO1xuICAgIFRlbXBsYXRlQWN0aW9uc1tcIkNSRUFURV9PUkdcIl0gPSBcImNyZWF0ZV9vcmdcIjtcbiAgICBUZW1wbGF0ZUFjdGlvbnNbXCJDUkVBVEVfUFVCTElDXCJdID0gXCJjcmVhdGVfcHVibGljXCI7XG4gICAgVGVtcGxhdGVBY3Rpb25zW1wiUkVBRFwiXSA9IFwicmVhZFwiO1xuICAgIFRlbXBsYXRlQWN0aW9uc1tcIldSSVRFXCJdID0gXCJ3cml0ZVwiO1xuICAgIFRlbXBsYXRlQWN0aW9uc1tcIkRFTEVURVwiXSA9IFwiZGVsZXRlXCI7XG4gICAgVGVtcGxhdGVBY3Rpb25zW1wiQ0hBTkdFX1ZJU0lCSUxJVFlfUEVSU09OQUxcIl0gPSBcImNoYW5nZV92aXNpYmlsaXR5X3BlcnNvbmFsXCI7XG4gICAgVGVtcGxhdGVBY3Rpb25zW1wiQ0hBTkdFX1ZJU0lCSUxJVFlfT1JHXCJdID0gXCJjaGFuZ2VfdmlzaWJpbGl0eV9vcmdcIjtcbiAgICBUZW1wbGF0ZUFjdGlvbnNbXCJDSEFOR0VfVklTSUJJTElUWV9QVUJMSUNcIl0gPSBcImNoYW5nZV92aXNpYmlsaXR5X3B1YmxpY1wiO1xufSkoVGVtcGxhdGVBY3Rpb25zIHx8IChUZW1wbGF0ZUFjdGlvbnMgPSB7fSkpO1xuZXhwb3J0IHZhciBTb3J0T3B0aW9ucztcbihmdW5jdGlvbiAoU29ydE9wdGlvbnMpIHtcbiAgICBTb3J0T3B0aW9uc1tcIkNSRUFURURfQVRcIl0gPSBcImNyZWF0ZWRfYXRcIjtcbiAgICBTb3J0T3B0aW9uc1tcIlVQREFURURfQVRcIl0gPSBcInVwZGF0ZWRfYXRcIjtcbiAgICBTb3J0T3B0aW9uc1tcIk5BTUVcIl0gPSBcIm5hbWVcIjtcbiAgICBTb3J0T3B0aW9uc1tcIkxBU1RfVVNFRF9BVFwiXSA9IFwibGFzdF91c2VkX2F0XCI7XG4gICAgU29ydE9wdGlvbnNbXCJDT1VOVEVSXCJdID0gXCJjb3VudGVyXCI7XG4gICAgU29ydE9wdGlvbnNbXCJTVEFSX0NPVU5URVJcIl0gPSBcInN0YXJfY291bnRlclwiO1xufSkoU29ydE9wdGlvbnMgfHwgKFNvcnRPcHRpb25zID0ge30pKTtcbiIsIi8qIHRzbGludDpkaXNhYmxlOm5vLWJpdHdpc2UgKi9cbnZhciBiNjQgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuLy8gUmVndWxhciBleHByZXNzaW9uIHRvIGNoZWNrIGZvcm1hbCBjb3JyZWN0bmVzcyBvZiBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG52YXIgYjY0cmUgPSAvXig/OltBLVphLXpcXGQrXFwvXXs0fSkqPyg/OltBLVphLXpcXGQrXFwvXXsyfSg/Oj09KT98W0EtWmEtelxcZCtcXC9dezN9PT8pPyQvO1xuLyoqXG4gKiBTaW1wbGlmaWVkLCBOb2RlL0Jyb3dzZXItc2FmZSBhbHRlcm5hdGl2ZSB0byBhdG9iKCkgZm9yIGJhc2U2NCBkZWNvZGluZy5cbiAqIE1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01heEFydDI1MDEvYmFzZTY0LWpzL2Jsb2IvbWFzdGVyL2Jhc2U2NC5qc1xuICovXG5leHBvcnQgdmFyIEF0b0IgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgLy8gYXRvYiBjYW4gd29yayB3aXRoIHN0cmluZ3Mgd2l0aCB3aGl0ZXNwYWNlcywgZXZlbiBpbnNpZGUgdGhlIGVuY29kZWQgcGFydCxcbiAgICAvLyBidXQgb25seSBcXHQsIFxcbiwgXFxmLCBcXHIgYW5kICcgJywgd2hpY2ggY2FuIGJlIHN0cmlwcGVkLlxuICAgIHN0ciA9IFN0cmluZyhzdHIpLnJlcGxhY2UoL1tcXHRcXG5cXGZcXHIgXSsvZywgJycpO1xuICAgIGlmICghYjY0cmUudGVzdChzdHIpKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ2F0b2InIG9uICdXaW5kb3cnOiBUaGUgc3RyaW5nIHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLlwiKTtcbiAgICAvLyBBZGRpbmcgdGhlIHBhZGRpbmcgaWYgbWlzc2luZywgZm9yIHNlbXBsaWNpdHlcbiAgICBzdHIgKz0gJz09Jy5zbGljZSgyIC0gKHN0ci5sZW5ndGggJiAzKSk7XG4gICAgdmFyIGJpdG1hcDtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgdmFyIHIxO1xuICAgIHZhciByMjtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBzdHIubGVuZ3RoOykge1xuICAgICAgICBiaXRtYXAgPVxuICAgICAgICAgICAgKGI2NC5pbmRleE9mKHN0ci5jaGFyQXQoaSsrKSkgPDwgMTgpIHxcbiAgICAgICAgICAgICAgICAoYjY0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKSA8PCAxMikgfFxuICAgICAgICAgICAgICAgICgocjEgPSBiNjQuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpKSA8PCA2KSB8XG4gICAgICAgICAgICAgICAgKHIyID0gYjY0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKSk7XG4gICAgICAgIHJlc3VsdCArPVxuICAgICAgICAgICAgcjEgPT09IDY0XG4gICAgICAgICAgICAgICAgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKChiaXRtYXAgPj4gMTYpICYgMjU1KVxuICAgICAgICAgICAgICAgIDogcjIgPT09IDY0XG4gICAgICAgICAgICAgICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZSgoYml0bWFwID4+IDE2KSAmIDI1NSwgKGJpdG1hcCA+PiA4KSAmIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKChiaXRtYXAgPj4gMTYpICYgMjU1LCAoYml0bWFwID4+IDgpICYgMjU1LCBiaXRtYXAgJiAyNTUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbi8qKlxuICogRGVjb2RlIHRoZSBib2R5IG9mIGEgSldULiBUaGlzIGhlbHBlciBtYXkgYWxsb3cgZnJvbnQtZW5kIGFwcGxpY2F0aW9ucyB0byBhdm9pZCBhIGRlcGVuZGVuY3kgb24gYGpzb253ZWJ0b2tlbmAgaW5cbiAqIG1hbnkgY2FzZXMuIE5vdGUgdGhhdCB0aGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHRydWUgSldUcy4gT3BhcXVlIHRva2VucyB3aWxsIGNhdXNlIHRoaXMgdG8gdGhyb3cuXG4gKi9cbmV4cG9ydCB2YXIgZGVjb2RlSldUQm9keSA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gSlNPTi5wYXJzZShBdG9CKCh0b2tlbiB8fCAnJykuc3BsaXQoJy4nKVsxXSB8fCAnJykpOyB9O1xuLyoqXG4gKiBEZWNvZGUgdGhlIGJvZHkgb2YgYW4gVmVyZG9jcyBhY2Nlc3MgdG9rZW4uIE5vdGUgdGhhdCByYXcgdG9rZW5zIGNvbnRhaW4gbmFtZXNwYWNlZCBmaWVsZHMsIGUuZy5cbiAqIGBodHRwczovL3ZlcmRvY3MuY29tL3Byb2ZpbGVfaWRgLiBUbyBtYWtlIHRoZXNlIHRva2VucyBlYXNpZXIgdG8gdXNlIGluIGZyb250LWVuZCBjb2RlLCB0aGlzIG5hbWUtc3BhY2luZ1xuICogd2lsbCBiZSByZW1vdmVkLiBOb3RlIHRoYXQgdXNlciBhbmQgc2lnbmluZyBzZXNzaW9ucyBoYXZlIGRpZmZlcmVudCBhY2Nlc3MgdG9rZW4gZm9ybWF0cy4gVGhlIGNhbGxpbmdcbiAqIGFwcGxpY2F0aW9uIHNob3VsZCBkaXN0aW5ndWlzaCBiZXR3ZWVuIHRoZSB0d28gYmFzZWQgb24gdGhlIGNvbnRleHQgb2YgdGhlIGF1dGhlbnRpY2F0ZWQgc2Vzc2lvbiwgb3IgYnlcbiAqIHRoZSBwcmVzZW5jZSBvZiB0aGUgYGRvY3VtZW50X2lkYCBmaWVsZCwgd2hpY2ggd2lsbCBvbmx5IGJlIHByZXNlbnQgZm9yIHNpZ25pbmcgc2Vzc2lvbnMuXG4gKi9cbmV4cG9ydCB2YXIgZGVjb2RlQWNjZXNzVG9rZW5Cb2R5ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgdmFyIGRlY29kZWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgZGVjb2RlZCA9IGRlY29kZUpXVEJvZHkodG9rZW4pO1xuICAgICAgICBpZiAoZGVjb2RlZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGRlY29kZWQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LnN0YXJ0c1dpdGgoJ2h0dHBzOi8vdmVyZG9jcy5jb20vJykpIHtcbiAgICAgICAgICAgIGRlY29kZWRba2V5LnJlcGxhY2UoJ2h0dHBzOi8vdmVyZG9jcy5jb20vJywgJycpXSA9IGRlY29kZWRba2V5XTtcbiAgICAgICAgICAgIGRlbGV0ZSBkZWNvZGVkW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGVjb2RlZDtcbn07XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgZGVjb2RlQWNjZXNzVG9rZW5Cb2R5IH0gZnJvbSAnLi4vVXRpbHMvVG9rZW4nO1xuLyoqXG4gKiBHZXQgYSBzdW1tYXJ5IG9mIGN1cnJlbnRseSBhY3RpdmUgZG9jdW1lbnRzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7RG9jdW1lbnRzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRG9jdW1lbnRzJztcbiAqXG4gKiBjb25zdCB7YWN0aW9uX3JlcXVpcmVkLCBjb21wbGV0ZWQsIHdhaXRpbmdfb25fb3RoZXJzfSA9IGF3YWl0IERvY3VtZW50cy5nZXRTdW1tYXJ5KCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRTdW1tYXJ5ID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYWdlKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wb3N0KCcvZG9jdW1lbnRzL3N1bW1hcnknLCB7IHBhZ2U6IHBhZ2UgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogU2VhcmNoIGZvciBkb2N1bWVudHMgbWF0Y2hpbmcgdmFyaW91cyBjcml0ZXJpYS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0RvY3VtZW50c30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0RvY3VtZW50cyc7XG4gKlxuICogY29uc3Qge3Jlc3VsdCwgcGFnZSwgdG90YWx9ID0gYXdhaXQgRG9jdW1lbnRzLnNlYXJjaCh7IC4uLiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIHNlYXJjaERvY3VtZW50cyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wb3N0KCcvZG9jdW1lbnRzL3NlYXJjaCcsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogR2V0IGEgc2lnbmluZyBzZXNzaW9uIGZvciBhIERvY3VtZW50LlxuICovXG5leHBvcnQgdmFyIGdldFNpZ25pbmdTZXNzaW9uID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi9kb2N1bWVudHMvXCIuY29uY2F0KHBhcmFtcy5kb2N1bWVudElkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5yb2xlSWQpLCBcIi9pbnZpdGF0aW9uL1wiKS5jb25jYXQocGFyYW1zLmludml0ZUNvZGUpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZGluZyBhIGpzb253ZWJ0b2tlbiBkZXBlbmRlbmN5IGhlcmUgLSB3ZSBkb24ndCBhY3R1YWxseSBuZWVkIHRoZSB3aG9sZSBsaWJyYXJ5XG4gICAgICAgICAgICAgICAgdmFyIHNpZ25lclRva2VuID0gKChfYSA9IHIuaGVhZGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNpZ25lcl90b2tlbikgfHwgJyc7XG4gICAgICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBkZWNvZGVBY2Nlc3NUb2tlbkJvZHkoc2lnbmVyVG9rZW4pO1xuICAgICAgICAgICAgICAgIGVuZHBvaW50LnNldFRva2VuKChfYiA9IHIuaGVhZGVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNpZ25lcl90b2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVjaXBpZW50OiByLmRhdGEsIHNlc3Npb246IHNlc3Npb24sIHNpZ25lclRva2VuOiBzaWduZXJUb2tlbiB9O1xuICAgICAgICAgICAgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiByZWNpcGllbnRzIGZvciBhIERvY3VtZW50LlxuICovXG5leHBvcnQgdmFyIGdldERvY3VtZW50UmVjaXBpZW50cyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZG9jdW1lbnRJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2RvY3VtZW50cy9cIi5jb25jYXQoZG9jdW1lbnRJZCwgXCIvcmVjaXBpZW50c1wiKSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogR2V0IGFsbCBtZXRhZGF0YSBmb3IgYSBEb2N1bWVudC5cbiAqL1xuZXhwb3J0IHZhciBnZXREb2N1bWVudCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZG9jdW1lbnRJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2RvY3VtZW50cy9cIi5jb25jYXQoZG9jdW1lbnRJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCAoYmluYXJ5IGRvd25sb2FkKSBhIGZpbGUgYXR0YWNoZWQgdG8gYSBEb2N1bWVudC5cbiAqL1xuZXhwb3J0IHZhciBnZXREb2N1bWVudEZpbGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGRvY3VtZW50SWQsIGVudmVsb3BlRG9jdW1lbnRJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2RvY3VtZW50cy9cIi5jb25jYXQoZG9jdW1lbnRJZCwgXCIvZW52ZWxvcGVfZG9jdW1lbnRzL1wiKS5jb25jYXQoZW52ZWxvcGVEb2N1bWVudElkLCBcIj9maWxlPXRydWVcIiksIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiBCdWZmZXIuZnJvbShyLmRhdGEsICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0Jyk7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBVcGRhdGUgYSBEb2N1bWVudCBmaWVsZC4gVHlwaWNhbGx5IGNhbGxlZCBkdXJpbmcgdGhlIHNpZ25pbmcgcHJvY2VzcyBhcyBhIFJlY2lwaWVudCBmaWxscyBpbiBmaWVsZHMuXG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlRG9jdW1lbnRGaWVsZCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZG9jdW1lbnRJZCwgZmllbGROYW1lLCB2YWx1ZSkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucHV0KFwiL2RvY3VtZW50cy9cIi5jb25jYXQoZG9jdW1lbnRJZCwgXCIvZmllbGRzL1wiKS5jb25jYXQoZmllbGROYW1lKSwgdmFsdWUpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIFVwZGF0ZSBhIERvY3VtZW50IHNpZ25hdHVyZSBmaWVsZC4gU2lnbmF0dXJlIGZpZWxkcyBhcmUgSUQtZHJpdmVuLiBDYWxsIGBEb2N1bWVudC5jcmVhdGVTaWduYXR1cmUoKWAgZmlyc3QgdG8gY3JlYXRlIGFcbiAqIHNpZ25hdHVyZSBmb3IgYSBSZWNpcGllbnQsIHRoZW4gY2FsbCBgRG9jdW1lbnRzLnVwZGF0ZURvY3VtZW50RmllbGRTaWduYXR1cmUoKWAgdG8gYXR0YWNoIGl0IHRvIGEgZmllbGQuXG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlRG9jdW1lbnRGaWVsZFNpZ25hdHVyZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZG9jdW1lbnRJZCwgZmllbGROYW1lLCBzaWduYXR1cmVJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucHV0KFwiL2RvY3VtZW50cy9cIi5jb25jYXQoZG9jdW1lbnRJZCwgXCIvZmllbGRzL1wiKS5jb25jYXQoZmllbGROYW1lLCBcIi9zaWduYXR1cmUvXCIpLmNvbmNhdChzaWduYXR1cmVJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogVXBkYXRlIGEgcmVjaXBpZW50J3Mgc3RhdHVzIGJsb2NrXG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlUmVjaXBpZW50U3RhdHVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBkb2N1bWVudElkLCByb2xlTmFtZSwgYWN0aW9uLCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9kb2N1bWVudHMvXCIuY29uY2F0KGRvY3VtZW50SWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChyb2xlTmFtZSksIF9fYXNzaWduKHsgcm9sZV9uYW1lOiByb2xlTmFtZSwgYWN0aW9uOiBhY3Rpb24gfSwgKHBhcmFtcyB8fCB7fSkpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuIiwiLyoqXG4gKiBDcmVhdGUgYSBzaWduYXR1cmUgYmxvY2suIEluIGEgdHlwaWNhbCBzaWduaW5nIHdvcmtmbG93LCB0aGUgdXNlciBpcyBhc2tlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9jZXNzIHRvIFwiYWRvcHRcIlxuICogYSBzaWduYXR1cmUgYmxvY2sgdG8gYmUgdXNlZCBmb3IgYWxsIHNpZ25hdHVyZSBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LiBUaHVzLCB0aGlzIGlzIHR5cGljYWxseSBjYWxsZWQgb25lIHRpbWUgdG9cbiAqIGNyZWF0ZSBhbmQgc3RvcmUgYSBzaWduYXR1cmUgYmxvY2suIFRoZXJlYWZ0ZXIsIHRoZSBJRCBvZiB0aGUgc2lnbmF0dXJlIGJsb2NrIG1heSBiZSByZS11c2VkIGZvciBlYWNoIHNpZ25hdHVyZSBmaWVsZFxuICogdG8gYmUgXCJzdGFtcGVkXCIgYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlU2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBuYW1lLCBzaWduYXR1cmUpIHtcbiAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGRhdGEuYXBwZW5kKCdzaWduYXR1cmUnLCBzaWduYXR1cmUsIG5hbWUpO1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoXCIvc2lnbmF0dXJlc1wiLCBkYXRhKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCB0aGUgYXZhaWxiYWJsZSBzaWduYXR1cmVzIGZvciBhIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2lnbmF0dXJlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldCgnL3NpZ25hdHVyZXMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBhIHVzZXIncyBzaWduYXR1cmUgYnkgSUQuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBzaWduYXR1cmVJZCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi9zaWduYXR1cmVzL1wiLmNvbmNhdChzaWduYXR1cmVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogRGVsZXRlIGEgdXNlcidzIHNpZ25hdHVyZS5cbiAqL1xuZXhwb3J0IHZhciBkZWxldGVTaWduYXR1cmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHNpZ25hdHVyZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZGVsZXRlKFwiL3NpZ25hdHVyZXMvXCIuY29uY2F0KHNpZ25hdHVyZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiLyoqXG4gKiBDcmVhdGUgYW4gaW5pdGlhbHMgYmxvY2suIEluIGEgdHlwaWNhbCBzaWduaW5nIHdvcmtmbG93LCB0aGUgdXNlciBpcyBhc2tlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9jZXNzIHRvIFwiYWRvcHRcIlxuICogYW4gaW5pdGlhbHMgYmxvY2sgdG8gYmUgdXNlZCBmb3IgYWxsIGluaXRpYWxzIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuIFRodXMsIHRoaXMgaXMgdHlwaWNhbGx5IGNhbGxlZCBvbmUgdGltZSB0b1xuICogY3JlYXRlIGFuZCBzdG9yZSBhbiBpbml0aWFscyBibG9jay4gVGhlcmVhZnRlciwgdGhlIElEIG9mIHRoZSBpbml0aWFscyBibG9jayBtYXkgYmUgcmUtdXNlZCBmb3IgZWFjaCBpbml0aWFscyBmaWVsZFxuICogdG8gYmUgXCJzdGFtcGVkXCIgYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlSW5pdGlhbHMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIG5hbWUsIGluaXRpYWxzKSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgnaW5pdGlhbCcsIGluaXRpYWxzLCBuYW1lKTtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KFwiL2luaXRpYWxzXCIsIGRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xudmFyIGtpbmRPZiA9IChmdW5jdGlvbihjYWNoZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gZnVuY3Rpb24odGhpbmcpIHtcbiAgICB2YXIgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xuICB9O1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmZ1bmN0aW9uIGtpbmRPZlRlc3QodHlwZSkge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gaXNLaW5kT2YodGhpbmcpIHtcbiAgICByZXR1cm4ga2luZE9mKHRoaW5nKSA9PT0gdHlwZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG52YXIgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbCkge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gcHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBpc0RhdGUgPSBraW5kT2ZUZXN0KCdEYXRlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG52YXIgaXNGaWxlID0ga2luZE9mVGVzdCgnRmlsZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xudmFyIGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG52YXIgaXNGaWxlTGlzdCA9IGtpbmRPZlRlc3QoJ0ZpbGVMaXN0Jyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHRoaW5nKSB7XG4gIHZhciBwYXR0ZXJuID0gJ1tvYmplY3QgRm9ybURhdGFdJztcbiAgcmV0dXJuIHRoaW5nICYmIChcbiAgICAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaW5nIGluc3RhbmNlb2YgRm9ybURhdGEpIHx8XG4gICAgdG9TdHJpbmcuY2FsbCh0aGluZykgPT09IHBhdHRlcm4gfHxcbiAgICAoaXNGdW5jdGlvbih0aGluZy50b1N0cmluZykgJiYgdGhpbmcudG9TdHJpbmcoKSA9PT0gcGF0dGVybilcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xudmFyIGlzVVJMU2VhcmNoUGFyYW1zID0ga2luZE9mVGVzdCgnVVJMU2VhcmNoUGFyYW1zJyk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFtrZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYnl0ZSBvcmRlciBtYXJrZXIuIFRoaXMgY2F0Y2hlcyBFRiBCQiBCRiAodGhlIFVURi04IEJPTSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCB3aXRoIEJPTVxuICogQHJldHVybiB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmZ1bmN0aW9uIHN0cmlwQk9NKGNvbnRlbnQpIHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtwcm9wc11cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGVzY3JpcHRvcnNdXG4gKi9cblxuZnVuY3Rpb24gaW5oZXJpdHMoY29uc3RydWN0b3IsIHN1cGVyQ29uc3RydWN0b3IsIHByb3BzLCBkZXNjcmlwdG9ycykge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlLCBkZXNjcmlwdG9ycyk7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xuICBwcm9wcyAmJiBPYmplY3QuYXNzaWduKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZmlsdGVyXVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiB0b0ZsYXRPYmplY3Qoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIpIHtcbiAgdmFyIHByb3BzO1xuICB2YXIgaTtcbiAgdmFyIHByb3A7XG4gIHZhciBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICghbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2VPYmopO1xuICB9IHdoaWxlIChzb3VyY2VPYmogJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKHNvdXJjZU9iaiwgZGVzdE9iaikpICYmIHNvdXJjZU9iaiAhPT0gT2JqZWN0LnByb3RvdHlwZSk7XG5cbiAgcmV0dXJuIGRlc3RPYmo7XG59XG5cbi8qXG4gKiBkZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbj0gMF1cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBlbmRzV2l0aChzdHIsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID4gc3RyLmxlbmd0aCkge1xuICAgIHBvc2l0aW9uID0gc3RyLmxlbmd0aDtcbiAgfVxuICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICB2YXIgbGFzdEluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIG5ldyBhcnJheSBmcm9tIGFycmF5IGxpa2Ugb2JqZWN0XG4gKiBAcGFyYW0geyp9IFt0aGluZ11cbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheSh0aGluZykge1xuICBpZiAoIXRoaW5nKSByZXR1cm4gbnVsbDtcbiAgdmFyIGkgPSB0aGluZy5sZW5ndGg7XG4gIGlmIChpc1VuZGVmaW5lZChpKSkgcmV0dXJuIG51bGw7XG4gIHZhciBhcnIgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgYXJyW2ldID0gdGhpbmdbaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbnZhciBpc1R5cGVkQXJyYXkgPSAoZnVuY3Rpb24oVHlwZWRBcnJheSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gVHlwZWRBcnJheSAmJiB0aGluZyBpbnN0YW5jZW9mIFR5cGVkQXJyYXk7XG4gIH07XG59KSh0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0OiBpc1BsYWluT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW0sXG4gIHN0cmlwQk9NOiBzdHJpcEJPTSxcbiAgaW5oZXJpdHM6IGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3Q6IHRvRmxhdE9iamVjdCxcbiAga2luZE9mOiBraW5kT2YsXG4gIGtpbmRPZlRlc3Q6IGtpbmRPZlRlc3QsXG4gIGVuZHNXaXRoOiBlbmRzV2l0aCxcbiAgdG9BcnJheTogdG9BcnJheSxcbiAgaXNUeXBlZEFycmF5OiBpc1R5cGVkQXJyYXksXG4gIGlzRmlsZUxpc3Q6IGlzRmlsZUxpc3Rcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdmFyIGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cblxuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCwgb3B0aW9ucykge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZCxcbiAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWddIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgcmVzcG9uc2UgJiYgKHRoaXMucmVzcG9uc2UgPSByZXNwb25zZSk7XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc3RhdHVzID8gdGhpcy5yZXNwb25zZS5zdGF0dXMgOiBudWxsXG4gICAgfTtcbiAgfVxufSk7XG5cbnZhciBwcm90b3R5cGUgPSBBeGlvc0Vycm9yLnByb3RvdHlwZTtcbnZhciBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbl0uZm9yRWFjaChmdW5jdGlvbihjb2RlKSB7XG4gIGRlc2NyaXB0b3JzW2NvZGVdID0ge3ZhbHVlOiBjb2RlfTtcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBeGlvc0Vycm9yLCBkZXNjcmlwdG9ycyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCAnaXNBeGlvc0Vycm9yJywge3ZhbHVlOiB0cnVlfSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5BeGlvc0Vycm9yLmZyb20gPSBmdW5jdGlvbihlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpIHtcbiAgdmFyIGF4aW9zRXJyb3IgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG5cbiAgdXRpbHMudG9GbGF0T2JqZWN0KGVycm9yLCBheGlvc0Vycm9yLCBmdW5jdGlvbiBmaWx0ZXIob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gRXJyb3IucHJvdG90eXBlO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5uYW1lID0gZXJyb3IubmFtZTtcblxuICBjdXN0b21Qcm9wcyAmJiBPYmplY3QuYXNzaWduKGF4aW9zRXJyb3IsIGN1c3RvbVByb3BzKTtcblxuICByZXR1cm4gYXhpb3NFcnJvcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3NFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0gez9PYmplY3R9IFtmb3JtRGF0YV1cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiovXG5cbmZ1bmN0aW9uIHRvRm9ybURhdGEob2JqLCBmb3JtRGF0YSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgRm9ybURhdGEoKTtcblxuICB2YXIgc3RhY2sgPSBbXTtcblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMuaXNUeXBlZEFycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nID8gbmV3IEJsb2IoW3ZhbHVlXSkgOiBCdWZmZXIuZnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGQoZGF0YSwgcGFyZW50S2V5KSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoZGF0YSkgfHwgdXRpbHMuaXNBcnJheShkYXRhKSkge1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2YoZGF0YSkgIT09IC0xKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gJyArIHBhcmVudEtleSk7XG4gICAgICB9XG5cbiAgICAgIHN0YWNrLnB1c2goZGF0YSk7XG5cbiAgICAgIHV0aWxzLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gZWFjaCh2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICh1dGlscy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgdmFyIGZ1bGxLZXkgPSBwYXJlbnRLZXkgPyBwYXJlbnRLZXkgKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgICAgIHZhciBhcnI7XG5cbiAgICAgICAgaWYgKHZhbHVlICYmICFwYXJlbnRLZXkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmICh1dGlscy5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSAmJiAoYXJyID0gdXRpbHMudG9BcnJheSh2YWx1ZSkpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgIXV0aWxzLmlzVW5kZWZpbmVkKGVsKSAmJiBmb3JtRGF0YS5hcHBlbmQoZnVsbEtleSwgY29udmVydFZhbHVlKGVsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBidWlsZCh2YWx1ZSwgZnVsbEtleSk7XG4gICAgICB9KTtcblxuICAgICAgc3RhY2sucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChwYXJlbnRLZXksIGNvbnZlcnRWYWx1ZShkYXRhKSk7XG4gICAgfVxuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9Gb3JtRGF0YTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL0F4aW9zRXJyb3InKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQpO1xuICB0aGlzLm5hbWUgPSAnQ2FuY2VsZWRFcnJvcic7XG59XG5cbnV0aWxzLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsZWRFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIGJ1aWxkRnVsbFBhdGggPSByZXF1aXJlKCcuLi9jb3JlL2J1aWxkRnVsbFBhdGgnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIHRyYW5zaXRpb25hbERlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsJyk7XG52YXIgQXhpb3NFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvQXhpb3NFcnJvcicpO1xudmFyIENhbmNlbGVkRXJyb3IgPSByZXF1aXJlKCcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvcicpO1xudmFyIHBhcnNlUHJvdG9jb2wgPSByZXF1aXJlKCcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICAgIHZhciByZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgIHZhciBvbkNhbmNlbGVkO1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSAmJiB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoY29uZmlnLmF1dGgucGFzc3dvcmQpKSA6ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIGZ1bmN0aW9uIG9ubG9hZGVuZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFyZXNwb25zZVR5cGUgfHwgcmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgIHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0LCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHZhciB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnIDogJ3RpbWVvdXQgZXhjZWVkZWQnO1xuICAgICAgdmFyIHRyYW5zaXRpb25hbCA9IGNvbmZpZy50cmFuc2l0aW9uYWwgfHwgdHJhbnNpdGlvbmFsRGVmYXVsdHM7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChyZXNwb25zZVR5cGUgJiYgcmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuIHx8IGNvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gZnVuY3Rpb24oY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCAoY2FuY2VsICYmIGNhbmNlbC50eXBlKSA/IG5ldyBDYW5jZWxlZEVycm9yKCkgOiBjYW5jZWwpO1xuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuICYmIGNvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBjb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFyZXF1ZXN0RGF0YSkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woZnVsbFBhdGgpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIFsgJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScgXS5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQXhpb3NFcnJvciA9IHJlcXVpcmUoJy4vQXhpb3NFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgW0F4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0VdW01hdGguZmxvb3IocmVzcG9uc2Uuc3RhdHVzIC8gMTAwKSAtIDRdLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VQcm90b2NvbCh1cmwpIHtcbiAgdmFyIG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG52YXIgQXhpb3NFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvQXhpb3NFcnJvcicpO1xudmFyIHRyYW5zaXRpb25hbERlZmF1bHRzID0gcmVxdWlyZSgnLi90cmFuc2l0aW9uYWwnKTtcbnZhciB0b0Zvcm1EYXRhID0gcmVxdWlyZSgnLi4vaGVscGVycy90b0Zvcm1EYXRhJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi4vYWRhcHRlcnMvaHR0cCcpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQWNjZXB0Jyk7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgdmFyIGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzLmlzT2JqZWN0KGRhdGEpO1xuICAgIHZhciBjb250ZW50VHlwZSA9IGhlYWRlcnMgJiYgaGVhZGVyc1snQ29udGVudC1UeXBlJ107XG5cbiAgICB2YXIgaXNGaWxlTGlzdDtcblxuICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IChpc09iamVjdFBheWxvYWQgJiYgY29udGVudFR5cGUgPT09ICdtdWx0aXBhcnQvZm9ybS1kYXRhJykpIHtcbiAgICAgIHZhciBfRm9ybURhdGEgPSB0aGlzLmVudiAmJiB0aGlzLmVudi5Gb3JtRGF0YTtcbiAgICAgIHJldHVybiB0b0Zvcm1EYXRhKGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCkpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3RQYXlsb2FkIHx8IGNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24vanNvbicpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgdmFyIHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICB2YXIgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgIHZhciBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgdmFyIHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcgfHwgKGZvcmNlZEpTT05QYXJzaW5nICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmIGRhdGEubGVuZ3RoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcmVxdWlyZSgnLi9lbnYvRm9ybURhdGEnKVxuICB9LFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHN0cmljdFxubW9kdWxlLmV4cG9ydHMgPSBudWxsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbnRleHQsIGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBDYW5jZWxlZEVycm9yID0gcmVxdWlyZSgnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3InKTtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcigpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICB2YXIgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHt9LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhwcm9wKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcyW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzFbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcxW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcyW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMltwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzFbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcxW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEaXJlY3RLZXlzKHByb3ApIHtcbiAgICBpZiAocHJvcCBpbiBjb25maWcyKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIGNvbmZpZzEpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzFbcHJvcF0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBtZXJnZU1hcCA9IHtcbiAgICAndXJsJzogdmFsdWVGcm9tQ29uZmlnMixcbiAgICAnbWV0aG9kJzogdmFsdWVGcm9tQ29uZmlnMixcbiAgICAnZGF0YSc6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgJ2Jhc2VVUkwnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0cmFuc2Zvcm1SZXF1ZXN0JzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndHJhbnNmb3JtUmVzcG9uc2UnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdwYXJhbXNTZXJpYWxpemVyJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndGltZW91dCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RpbWVvdXRNZXNzYWdlJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnd2l0aENyZWRlbnRpYWxzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnYWRhcHRlcic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3Jlc3BvbnNlVHlwZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3hzcmZDb29raWVOYW1lJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAneHNyZkhlYWRlck5hbWUnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdvblVwbG9hZFByb2dyZXNzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnb25Eb3dubG9hZFByb2dyZXNzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnZGVjb21wcmVzcyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ21heENvbnRlbnRMZW5ndGgnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdtYXhCb2R5TGVuZ3RoJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnYmVmb3JlUmVkaXJlY3QnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0cmFuc3BvcnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdodHRwQWdlbnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdodHRwc0FnZW50JzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnY2FuY2VsVG9rZW4nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdzb2NrZXRQYXRoJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAncmVzcG9uc2VFbmNvZGluZyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3ZhbGlkYXRlU3RhdHVzJzogbWVyZ2VEaXJlY3RLZXlzXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhjb25maWcxKS5jb25jYXQoT2JqZWN0LmtleXMoY29uZmlnMikpLCBmdW5jdGlvbiBjb21wdXRlQ29uZmlnVmFsdWUocHJvcCkge1xuICAgIHZhciBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgdmFyIGNvbmZpZ1ZhbHVlID0gbWVyZ2UocHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBcInZlcnNpb25cIjogXCIwLjI3LjJcIlxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBWRVJTSU9OID0gcmVxdWlyZSgnLi4vZW52L2RhdGEnKS52ZXJzaW9uO1xudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL0F4aW9zRXJyb3InKTtcblxudmFyIHZhbGlkYXRvcnMgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUsIGkpIHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbnZhciBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG9wdCwgb3B0cykge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpLFxuICAgICAgICBBeGlvc0Vycm9yLkVSUl9ERVBSRUNBVEVEXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uICYmICFkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSkge1xuICAgICAgZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0gPSB0cnVlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShcbiAgICAgICAgICBvcHQsXG4gICAgICAgICAgJyBoYXMgYmVlbiBkZXByZWNhdGVkIHNpbmNlIHYnICsgdmVyc2lvbiArICcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRvciA/IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRzKSA6IHRydWU7XG4gIH07XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBhbGxvd1Vua25vd25cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgdmFyIG9wdCA9IGtleXNbaV07XG4gICAgdmFyIHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbiAnICsgb3B0ICsgJyBtdXN0IGJlICcgKyByZXN1bHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChhbGxvd1Vua25vd24gIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdVbmtub3duIG9wdGlvbiAnICsgb3B0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OKTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFzc2VydE9wdGlvbnM6IGFzc2VydE9wdGlvbnMsXG4gIHZhbGlkYXRvcnM6IHZhbGlkYXRvcnNcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL21lcmdlQ29uZmlnJyk7XG52YXIgYnVpbGRGdWxsUGF0aCA9IHJlcXVpcmUoJy4vYnVpbGRGdWxsUGF0aCcpO1xudmFyIHZhbGlkYXRvciA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvdmFsaWRhdG9yJyk7XG5cbnZhciB2YWxpZGF0b3JzID0gdmFsaWRhdG9yLnZhbGlkYXRvcnM7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gKi9cbkF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgIGNvbmZpZy51cmwgPSBjb25maWdPclVybDtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgaWYgKGNvbmZpZy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IHRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLm1ldGhvZCA9ICdnZXQnO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25hbCA9IGNvbmZpZy50cmFuc2l0aW9uYWw7XG5cbiAgaWYgKHRyYW5zaXRpb25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnModHJhbnNpdGlvbmFsLCB7XG4gICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgIGZvcmNlZEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgY2xhcmlmeVRpbWVvdXRFcnJvcjogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKVxuICAgIH0sIGZhbHNlKTtcbiAgfVxuXG4gIC8vIGZpbHRlciBvdXQgc2tpcHBlZCBpbnRlcmNlcHRvcnNcbiAgdmFyIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gIHZhciBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSB0cnVlO1xuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHZhciByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdmFyIHByb21pc2U7XG5cbiAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuXG4gICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoY2hhaW4sIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluKTtcbiAgICBjaGFpbiA9IGNoYWluLmNvbmNhdChyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuXG4gICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuICAgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuXG4gIHZhciBuZXdDb25maWcgPSBjb25maWc7XG4gIHdoaWxlIChyZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGgpIHtcbiAgICB2YXIgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5zaGlmdCgpO1xuICAgIHZhciBvblJlamVjdGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4uc2hpZnQoKTtcbiAgICB0cnkge1xuICAgICAgbmV3Q29uZmlnID0gb25GdWxmaWxsZWQobmV3Q29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgb25SZWplY3RlZChlcnJvcik7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QobmV3Q29uZmlnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9XG5cbiAgd2hpbGUgKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5zaGlmdCgpLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHZhciBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfVxuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZ2VuZXJhdGVIVFRQTWV0aG9kKCk7XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZCArICdGb3JtJ10gPSBnZW5lcmF0ZUhUVFBNZXRob2QodHJ1ZSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbGVkRXJyb3IgPSByZXF1aXJlKCcuL0NhbmNlbGVkRXJyb3InKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuXG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIGwgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICB9XG4gICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gIH0pO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQpIHtcbiAgICB2YXIgX3Jlc29sdmU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICovXG5cbkNhbmNlbFRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gKi9cblxuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvcicpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuYXhpb3MuVkVSU0lPTiA9IHJlcXVpcmUoJy4vZW52L2RhdGEnKS52ZXJzaW9uO1xuYXhpb3MudG9Gb3JtRGF0YSA9IHJlcXVpcmUoJy4vaGVscGVycy90b0Zvcm1EYXRhJyk7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gcmVxdWlyZSgnLi4vbGliL2NvcmUvQXhpb3NFcnJvcicpO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzQXhpb3NFcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIlwidXNlIHN0cmljdFwiO1xuLy8gVGhpcyBmaWxlIHByb3ZpZGVzIGEgcG9seWZpbGwgZm9yIG1hbmFnaW5nIGdsb2JhbHMgaW4gYm90aCBOb2RlSlMgYW5kIGJyb3dzZXIgZW52aXJvbm1lbnRzLiBUaGlzIGlzXG4vLyBhbiBhbnRpLXBhdHRlcm4gd2UnZCBob3BlZCB0byBhdm9pZCwgYnV0IHdlIGhhdmUgc2V2ZXJhbCBwcm9qZWN0cyBkZXBlbmRlbmRpbmcgb24gb25lIGNvbW1vbiBsaWJyYXJ5XG4vLyAodGhpcyBqcy1zZGspIGFuZCB3ZSB3YW50IHRoYXQgbGlicmFyeSB0byBwcm92aWRlIGEgY29tbW9uIGVuZHBvaW50IHRvIGFsbCBjYWxsZXJzIChzbyBhdXRoZW50aWNhdGlvblxuLy8gdG9rZW5zIG9ubHkgbmVlZCB0byBiZSB0cmFja2VkIGluIG9uZSBwbGFjZSkuIFRoZSB0cm91YmxlIGlzLCBvbmUgb2YgdGhvc2UgbGlicmFyaWVzIGlzIGJhc2VkIG9uXG4vLyBTdGVuY2lsSlMgYW5kIGlzIGNvbXBpbGluZyBpdHMgbW9kdWxlcyBpbnRvIFdlYiBDb21wb25lbnRzLiBCZWNhdXNlIG9mIGhvdyBtb2R1bGUgcmVzb2x1dGlvbiB3b3Jrcyxcbi8vIHdoZW4gdGhvc2UgQ29tcG9uZW50cyBsb2FkIGpzLXNkayB0aGV5IGdldCBhIHNlcGFyYXRlIGluc3RhbmNlLiBXaXRob3V0IG1lc3N5IG9wdGlvbnMgbGlrZSBoYXZpbmcgdG9cbi8vIHBhc3MgcmF3IGRhdGEgZnJvbSB0aGUgY2FsbGVyIHRvIGVhY2ggQ29tcG9uZW50LCBvciBwYXNzIGFyb3VuZCByZWZlcmVuY2VzIHRvIGEgY29tbW9uIEVuZHBvaW50LCB0aGV5XG4vLyBoYXZlIG5vIHdheSB0byBhY2Nlc3MgYXV0aGVudGljYXRlZCBzZXNzaW9ucyB1bmxlc3Mgd2UgbWFrZSB0aGUgRW5kcG9pbnQgYSB0cnVlIGdsb2JhbC5cbi8vXG4vLyBAY3JlZGl0IGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNS1leHQvYmxvYi9tYXN0ZXIvZ2xvYmFsLmpzXG4vLyBAY3JlZGl0IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9nbG9iYWx0aGlzXG52YXIgbmFpdmVGYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cpXG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSBnbG9iYWwgYHRoaXNgJyk7XG59O1xubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzKVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAvLyBVbmV4cGVjdGVkIHN0cmljdCBtb2RlIChtYXkgaGFwcGVuIGlmIGUuZy4gYnVuZGxlZCBpbnRvIEVTTSBtb2R1bGUpXG4gICAgLy8gRmFsbGJhY2sgdG8gc3RhbmRhcmQgZ2xvYmFsVGhpcyBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnICYmIGdsb2JhbFRoaXMpXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIC8vIFRoYW5rcyBAbWF0aGlhc2J5bmVucyAtPiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvZ2xvYmFsdGhpc1xuICAgIC8vIEluIGFsbCBFUzUrIGVuZ2luZXMgZ2xvYmFsIG9iamVjdCBpbmhlcml0cyBmcm9tIE9iamVjdC5wcm90b3R5cGVcbiAgICAvLyAoaWYgeW91IGFwcHJvYWNoZWQgb25lIHRoYXQgZG9lc24ndCBwbGVhc2UgcmVwb3J0KVxuICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QucHJvdG90eXBlLCAnX19nbG9iYWxfXycsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBVbmZvcnR1bmF0ZSBjYXNlIG9mIHVwZGF0ZXMgdG8gT2JqZWN0LnByb3RvdHlwZSBiZWluZyByZXN0cmljdGVkXG4gICAgICAgIC8vIHZpYSBwcmV2ZW50RXh0ZW5zaW9ucywgc2VhbCBvciBmcmVlemVcbiAgICAgICAgcmV0dXJuIG5haXZlRmFsbGJhY2soKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gU2FmYXJpIGNhc2UgKHdpbmRvdy5fX2dsb2JhbF9fIHdvcmtzLCBidXQgX19nbG9iYWxfXyBkb2VzIG5vdClcbiAgICAgICAgaWYgKCFfX2dsb2JhbF9fKVxuICAgICAgICAgICAgcmV0dXJuIG5haXZlRmFsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuIF9fZ2xvYmFsX187XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5fX2dsb2JhbF9fO1xuICAgIH1cbn0pKCk7XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgZGVjb2RlQWNjZXNzVG9rZW5Cb2R5IH0gZnJvbSAnLi9VdGlscy9Ub2tlbic7XG5pbXBvcnQgZ2xvYmFsVGhpcyBmcm9tICcuL1V0aWxzL2dsb2JhbFRoaXMnO1xuaW1wb3J0ICogYXMgRG9jdW1lbnRzIGZyb20gJy4vRG9jdW1lbnRzJztcbi8vIEBjcmVkaXQgaHR0cHM6Ly9kZXJpY2tiYWlsZXkuY29tLzIwMTYvMDMvMDkvY3JlYXRpbmctYS10cnVlLXNpbmdsZXRvbi1pbi1ub2RlLWpzLXdpdGgtZXM2LXN5bWJvbHMvXG4vLyBBbHNvIHNlZSBnbG9iYWxUaGlzIGZvciBjb21tZW50cyBhYm91dCB3aHkgd2UncmUgZG9pbmcgdGhpcyBpbiB0aGUgZmlyc3QgcGxhY2UuXG52YXIgRU5EUE9JTlRfS0VZID0gU3ltYm9sLmZvcigndmVyZG9jcy1kZWZhdWx0LWVuZHBvaW50Jyk7XG52YXIgcmVxdWVzdExvZ2dlciA9IGZ1bmN0aW9uIChyKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgY29uc29sZS5kZWJ1ZyhcIltKUy1TREtdIFwiLmNvbmNhdChyLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBcIiBcIikuY29uY2F0KHIuYmFzZVVSTCkuY29uY2F0KHIudXJsKSwgci5kYXRhID8gSlNPTi5zdHJpbmdpZnkoci5kYXRhKSA6ICcnKTtcbiAgICByZXR1cm4gcjtcbn07XG4vKipcbiAqIFZlcmRvY3NFbmRwb2ludCBpcyBhIGNsYXNzIHdyYXBwZXIgZm9yIGEgc3BlY2lmaWMgY29ubmVjdGlvbiBhbmQgYXV0aG9yaXphdGlvbiBjb250ZXh0IGZvciBjYWxsaW5nIHRoZSBWZXJkb2NzIEFQSXMuXG4gKiBFbmRwb2ludHMgY2FuIGJlIHVzZWQgZm9yIGlzb2xhdGVkIHNlc3Npb24gdGFza3MuXG4gKlxuICogRm9yIGluc3RhbmNlLCBlcGhlbWVyYWwgc2lnbmluZyBzZXNzaW9ucyBtYXkgYmUgY3JlYXRlZCBpbmRlcGVuZGVudGx5IG9mIGEgY2FsbGVyJ3Mgc3RhdHVzIGFzIGFuIGF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIEluIHRoYXQgY2FzZSwgYW4gRW5kcG9pbnQgY2FuIGJlIGNyZWF0ZWQgYW5kIGF1dGhlbnRpY2F0ZWQsIHVzZWQgZm9yIGNhbGxzIHJlbGF0ZWQgdG8gc2lnbmluZyBvcGVyYXRpb25zLCB0aGVuXG4gKiBkaXNjYXJkZWQgb25jZSBzaWduaW5nIGlzIGNvbXBsZXRlLlxuICpcbiAqIE5vdGUgdGhhdCBlbmRwb2ludCBjb25maWd1cmF0aW9uIGZ1bmN0aW9ucyByZXR1cm4gdGhlIGluc3RhbmNlLCBzbyB0aGV5IGNhbiBiZSBjaGFpbmVkLCBlLmcuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtWZXJkb2NzRW5kcG9pbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9IVFRQJztcbiAqXG4gKiBjb25zdCBlbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoKTtcbiAqIGVuZHBvaW50XG4gKiAgICAgLnNldFNlc3Npb25UeXBlKCdzaWduaW5nJylcbiAqICAgICAubG9nUmVxdWVzdHModHJ1ZSlcbiAqICAgICAuc2V0Q2xpZW50SUQoJzEyMzQpXG4gKiAgICAgLnNldFRpbWVvdXQoNTAwMCk7XG4gKiBgYGBcbiAqL1xudmFyIFZlcmRvY3NFbmRwb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVmVyZG9jc0VuZHBvaW50IHRvIGNhbGwgVmVyZG9jcyBwbGF0Zm9ybSBzZXJ2aWNlcy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0hUVFAnO1xuICAgICAqIGNvbnN0IGVuZHBvaW50ID0gbmV3IFZlcmRvY3NFbmRwb2ludCgpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZlcmRvY3NFbmRwb2ludChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSAndmVyZG9jcyc7XG4gICAgICAgIHRoaXMuc2Vzc2lvblR5cGUgPSAndXNlcic7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9ICdodHRwczovL2FwaS52ZXJkb2NzLmNvbSc7XG4gICAgICAgIHRoaXMuY2xpZW50SUQgPSAnbm90LXNldCc7XG4gICAgICAgIHRoaXMudGltZW91dCA9IDMwMDA7XG4gICAgICAgIHRoaXMudG9rZW4gPSBudWxsO1xuICAgICAgICB0aGlzLm5leHRMaXN0ZW5lcklkID0gMDtcbiAgICAgICAgdGhpcy5zZXNzaW9uTGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RMb2dnZXJJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCB1c2VyIHNlc3Npb24sIG9yIG51bGwgaWYgbm90IGF1dGhlbnRpY2F0ZWQuIE1heSBiZSBlaXRoZXIgYSBVc2VyIG9yIFNpZ25pbmcgc2Vzc2lvbi4gSWYgc2V0LCB0aGVcbiAgICAgICAgICogcHJlc2VuY2Ugb2YgdGhlIGBkb2N1bWVudF9pZGAgZmllbGQgY2FuIGJlIHVzZWQgdG8gZGlmZmVyZW50aWF0ZSB0aGUgdHlwZXMuIE9ubHkgc2lnbmluZyBzZXNzaW9ucyBhcmUgYXNzb2NpYXRlZFxuICAgICAgICAgKiB3aXRoIERvY3VtZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuRG9jdW1lbnRzID0gRG9jdW1lbnRzO1xuICAgICAgICB0aGlzLmJhc2VVUkwgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmJhc2VVUkwpIHx8ICdodHRwczovL2FwaS52ZXJkb2NzLmNvbSc7XG4gICAgICAgIHRoaXMudGltZW91dCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGltZW91dCkgfHwgMzAwMDtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZW52aXJvbm1lbnQpIHx8ICd2ZXJkb2NzJztcbiAgICAgICAgdGhpcy5zZXNzaW9uVHlwZSA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2Vzc2lvblR5cGUpIHx8ICd1c2VyJztcbiAgICAgICAgdGhpcy5jbGllbnRJRCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2xpZW50SUQpIHx8ICdub3Qtc2V0JztcbiAgICAgICAgdGhpcy5hcGkgPSBheGlvcy5jcmVhdGUoeyBiYXNlVVJMOiB0aGlzLmJhc2VVUkwsIHRpbWVvdXQ6IHRoaXMudGltZW91dCB9KTtcbiAgICB9XG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5zZXREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBnbG9iYWxUaGlzW0VORFBPSU5UX0tFWV0gPSB0aGlzO1xuICAgIH07XG4gICAgVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZ2xvYmFsVGhpc1tFTkRQT0lOVF9LRVldKSB7XG4gICAgICAgICAgICBnbG9iYWxUaGlzW0VORFBPSU5UX0tFWV0gPSBuZXcgVmVyZG9jc0VuZHBvaW50KCk7XG4gICAgICAgICAgICB3aW5kb3cuY29uc29sZS5kZWJ1ZygnW0pTX1NES10gQ3JlYXRlZCBkZWZhdWx0IGVuZHBvaW50JywgZ2xvYmFsVGhpc1tFTkRQT0lOVF9LRVldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmRlYnVnKCdbSlMgU0RLXSBSZS11c2luZyBleGlzdGluZyBlbmRwb2ludCcsIGdsb2JhbFRoaXNbRU5EUE9JTlRfS0VZXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXNbRU5EUE9JTlRfS0VZXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cbiAgICAgKi9cbiAgICBWZXJkb2NzRW5kcG9pbnQucHJvdG90eXBlLmdldEVudmlyb25tZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnZpcm9ubWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBzZXNzaW9uIHR5cGUuXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5nZXRTZXNzaW9uVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvblR5cGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYmFzZSBVUkwuIFRoaXMgc2hvdWxkIHJhcmVseSBiZSBhbnl0aGluZyBvdGhlciB0aGFuICdodHRwczovL2FwaS52ZXJkb2NzLmNvbScuXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5nZXRCYXNlVVJMID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlVVJMO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGNsaWVudCBJRCwgaWYgc2V0LlxuICAgICAqL1xuICAgIFZlcmRvY3NFbmRwb2ludC5wcm90b3R5cGUuZ2V0Q2xpZW50SUQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudElEO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHRpbWVvdXQuXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5nZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lb3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHNlc3Npb24sIGlmIGFueS5cbiAgICAgKi9cbiAgICBWZXJkb2NzRW5kcG9pbnQucHJvdG90eXBlLmdldFNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG9wZXJhdGluZyBlbnZpcm9ubWVudC4gVGhpcyBzaG91bGQgcmFyZWx5IGJlIGFueXRoaW5nIG90aGVyIHRoYW4gJ3ZlcmRvY3MnLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvSFRUUCc7XG4gICAgICpcbiAgICAgKiBjb25zdCBlbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoKTtcbiAgICAgKiBlbmRwb2ludC5zZXRFbnZpcm9ubWVudCgndmVyZG9jcy1zdGFnZScpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFZlcmRvY3NFbmRwb2ludC5wcm90b3R5cGUuc2V0RW52aXJvbm1lbnQgPSBmdW5jdGlvbiAoZW52aXJvbm1lbnQpIHtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2Vzc2lvbiB0eXBlLiBJbiBnZW5lcmFsIHRoaXMgc2hvdWxkIGJlIGRvbmUgaW1tZWRpYXRlbHkgd2hlbiB0aGUgZW5kcG9pbnQgaXMgY3JlYXRlZC4gQ2hhbmdpbmcgdGhlXG4gICAgICogc2Vzc2lvbiB0eXBlIG1heSBiZSBkb25lIGF0IGFueSB0aW1lLCBidXQgbWF5IGhhdmUgdW5pbnRlbmRlZCBjb25zZXF1ZW5jZXMgaWYgdGhlIGVuZHBvaW50IGlzIHNoYXJlZCBiZXR3ZWVuXG4gICAgICogbXVsdGlwbGUgd2lkZ2V0cy5cbiAgICAgKlxuICAgICAqIENoYW5naW5nIHRoZSBzZXNzaW9uIHR5cGUgd2lsbCBjbGVhci9yZWxvYWQgdGhlIGFjdGlvbiBzZXNzaW9uLiBUaGlzIG1heSB0cmlnZ2VyIG5vdGlmaWNhdGlvbnMgdG8gc2Vzc2lvbiBzdGF0ZVxuICAgICAqIG9ic2VydmVycy4gQXBwcyB0aGF0IHVzZSBvYnNlcnZlcnMgdG8gdHJpZ2dlciBVSSB1cGRhdGVzIHN1Y2ggYXMgbG9nZ2luZyB0aGUgdXNlciBvdXQgc2hvdWxkIGJlIHByZXBhcmVkIHRvXG4gICAgICogaGFuZGxlIHRoaXMgZXZlbnQuXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogaW1wb3J0IHtWZXJkb2NzRW5kcG9pbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9IVFRQJztcbiAgICAgKlxuICAgICAqIGNvbnN0IGVuZHBvaW50ID0gbmV3IFZlcmRvY3NFbmRwb2ludCgpO1xuICAgICAqIGVuZHBvaW50LnNldEVudmlyb25tZW50KCd2ZXJkb2NzLXN0YWdlJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5zZXRTZXNzaW9uVHlwZSA9IGZ1bmN0aW9uIChzZXNzaW9uVHlwZSkge1xuICAgICAgICB0aGlzLnNlc3Npb25UeXBlID0gc2Vzc2lvblR5cGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBiYXNlIFVSTCBmb3IgQVBJIGNhbGxzLiBTaG91bGQgYmUgY2FsbGVkIG9ubHkgdXBvbiBkaXJlY3Rpb24gZnJvbSBWZXJkb2NzIEN1c3RvbWVyIFNvbHV0aW9ucyBFbmdpbmVlcmluZy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0hUVFAnO1xuICAgICAqXG4gICAgICogY29uc3QgZW5kcG9pbnQgPSBuZXcgVmVyZG9jc0VuZHBvaW50KCk7XG4gICAgICogZW5kcG9pbnQuc2V0QmFzZVVSTCgnaHR0cHM6Ly9hcGkudmVyZG9jcy5jb20nKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBWZXJkb2NzRW5kcG9pbnQucHJvdG90eXBlLnNldEJhc2VVUkwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHRoaXMuYXBpLmRlZmF1bHRzLmJhc2VVUkwgPSB1cmw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBDbGllbnQgSUQgZm9yIFZlcmRvY3MgQVBJIGNhbGxzLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvSFRUUCc7XG4gICAgICpcbiAgICAgKiBjb25zdCBlbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoKTtcbiAgICAgKiBlbmRwb2ludC5zZXRDbGllbnRJRCgnMTIzNCk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5zZXRDbGllbnRJRCA9IGZ1bmN0aW9uIChjbGllbnRJRCkge1xuICAgICAgICB0aGlzLmNsaWVudElEID0gY2xpZW50SUQ7XG4gICAgICAgIHRoaXMuYXBpLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUNsaWVudC1JRCddID0gY2xpZW50SUQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aW1lb3V0IGZvciBBUEkgY2FsbHMgaW4gbWlsbGlzZWNvbmRzLiAyMDAwLTQwMDBtcyBpcyByZWNvbW1lbmRlZCBmb3IgbW9zdCBwdXJwb3Nlcy4gMzAwMG1zIGlzIHRoZSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvSFRUUCc7XG4gICAgICpcbiAgICAgKiBjb25zdCBlbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoKTtcbiAgICAgKiBlbmRwb2ludC5zZXRUaW1lb3V0KDMwMDApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFZlcmRvY3NFbmRwb2ludC5wcm90b3R5cGUuc2V0VGltZW91dCA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgIHRoaXMuYXBpLmRlZmF1bHRzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHJlcXVlc3QgbG9nZ2luZy4gVGhpcyBtYXkgZXhwb3NlIHNlbnNpdGl2ZSBkYXRhIGluIHRoZSBjb25zb2xlIGxvZywgc28gaXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvSFRUUCc7XG4gICAgICpcbiAgICAgKiBjb25zdCBlbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoKTtcbiAgICAgKiBlbmRwb2ludC5sb2dSZXF1ZXN0cyh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBWZXJkb2NzRW5kcG9pbnQucHJvdG90eXBlLmxvZ1JlcXVlc3RzID0gZnVuY3Rpb24gKGVuYWJsZSkge1xuICAgICAgICBpZiAoZW5hYmxlICYmIHRoaXMucmVxdWVzdExvZ2dlcklkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RMb2dnZXJJZCA9IHRoaXMuYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShyZXF1ZXN0TG9nZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZW5hYmxlICYmIHRoaXMucmVxdWVzdExvZ2dlcklkICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC5lamVjdCh0aGlzLnJlcXVlc3RMb2dnZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGF1dGhvcml6YXRpb24gdG9rZW4gdGhhdCB3aWxsIGJlIHVzZWQgZm9yIFZlcmRvY3MgQVBJIGNhbGxzLiBUaGlzIHdpbGwgYWxzbyBzZXQgdGhlIHNlc3Npb24gbWV0YWRhdGFcbiAgICAgKiBhbmQgbm90aWZ5IGFueSBsaXN0ZW5lcnMgb2YgdGhlIG5ldyBkYXRhLlxuICAgICAqXG4gICAgICogSWYgdGhpcyBFbmRwb2ludCB3aWxsIGJlIHVzZWQgZm9yIG5vbi1kZWZhdWx0IHB1cnBvc2VzIChlLmcuIHNpZ25pbmcsIG9yIGluIGFuIGFsdGVybmF0ZSBlbnZpcm9ubWVudCkgdGhvc2VcbiAgICAgKiBzZXR0aW5ncyBzaG91bGQgYmUgbWFkZSBiZWZvcmUgY2FsbGluZyB0aGlzLiBTZXNzaW9ucyBhcmUgcGVyc2lzdGVkIHRvIGxvY2FsU3RvcmFnZSwgYW5kIHRoZSBlbnZpcm9ubWVudCBhbmRcbiAgICAgKiB0eXBlIGJlY29tZSBwYXJ0IG9mIHRoZSBzdG9yYWdlIGtleS5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0hUVFAnO1xuICAgICAqXG4gICAgICogY29uc3QgZW5kcG9pbnQgPSBuZXcgVmVyZG9jc0VuZHBvaW50KCk7XG4gICAgICogZW5kcG9pbnQuc2V0VG9rZW4oYWNjZXNzVG9rZW4pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFZlcmRvY3NFbmRwb2ludC5wcm90b3R5cGUuc2V0VG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlc3Npb24gPSBkZWNvZGVBY2Nlc3NUb2tlbkJvZHkodG9rZW4pO1xuICAgICAgICBpZiAoc2Vzc2lvbiA9PT0gbnVsbCB8fCAoc2Vzc2lvbi5leHAgJiYgc2Vzc2lvbi5leHAgKiAxMDAwIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhclNlc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuYXBpLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIi5jb25jYXQodG9rZW4pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnNlc3Npb25TdG9yYWdlS2V5KCksIHRva2VuKTtcbiAgICAgICAgdGhpcy5ub3RpZnlTZXNzaW9uTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHNlc3Npb24gdG9rZW4sIGlmIGFueS4gVG9rZW5zIHNob3VsZCByYXJlbHkgYmUgdXNlZCBmb3IgZGlyZWN0IGFjdGlvbnMsIGJ1dCB0aGlzIGlzXG4gICAgICogcmVxdWlyZWQgYnkgdGhlIGA8VmVyZG9jc1ZpZXc+YCBhbmQgb3RoZXIgY29tcG9uZW50cyB0byBhdXRob3JpemUgcmVxdWVzdHMgdG8gcmF3IFBERiBmaWxlcy5cbiAgICAgKi9cbiAgICBWZXJkb2NzRW5kcG9pbnQucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgICB9O1xuICAgIFZlcmRvY3NFbmRwb2ludC5wcm90b3R5cGUuc2Vzc2lvblN0b3JhZ2VLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcInZlcmRvY3Mtc2Vzc2lvbi1cIi5jb25jYXQodGhpcy5nZXRTZXNzaW9uVHlwZSgpLCBcIi1cIikuY29uY2F0KHRoaXMuZ2V0RW52aXJvbm1lbnQoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgYWN0aXZlIHNlc3Npb24uXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5jbGVhclNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc2Vzc2lvblN0b3JhZ2VLZXkoKSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub3RpZnlTZXNzaW9uTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5ub3RpZnlTZXNzaW9uTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNlc3Npb25MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoX3RoaXMsIF90aGlzLnNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBOT09QXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIHNlc3Npb24gc3RhdGUgY2hhbmdlIGV2ZW50cy5cbiAgICAgKi9cbiAgICBWZXJkb2NzRW5kcG9pbnQucHJvdG90eXBlLm9uU2Vzc2lvbkNoYW5nZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVGhlcmUncyBubyB2YWx1ZSBpbiByYW5kb21pemluZyB0aGlzLCBhIHNpbXBsZSBjb3VudGVyIGlzIGZpbmVcbiAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXJJZCsrO1xuICAgICAgICB2YXIgbGlzdGVuZXJTeW1ib2wgPSBTeW1ib2wuZm9yKCcnICsgdGhpcy5uZXh0TGlzdGVuZXJJZCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkxpc3RlbmVycy5zZXQobGlzdGVuZXJTeW1ib2wsIGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNlc3Npb25MaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyU3ltYm9sKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgYSBwZXJzaXN0ZWQgc2Vzc2lvbiBmcm9tIGxvY2FsU3RvcmFnZS4gVHlwaWNhbGx5IGNhbGxlZCBvbmNlIGFmdGVyIHRoZSBlbmRwb2ludCBpcyBjb25maWd1cmVkIHdoZW4gdGhlIGFwcFxuICAgICAqIG9yIGNvbXBvbmVudCBzdGFydHMuXG4gICAgICovXG4gICAgVmVyZG9jc0VuZHBvaW50LnByb3RvdHlwZS5sb2FkU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5zZXNzaW9uU3RvcmFnZUtleSgpKTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VG9rZW4odG9rZW4pO1xuICAgIH07XG4gICAgcmV0dXJuIFZlcmRvY3NFbmRwb2ludDtcbn0oKSk7XG5leHBvcnQgeyBWZXJkb2NzRW5kcG9pbnQgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=