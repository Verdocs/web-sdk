/*! For license information please see 20.190be311.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./dist/esm/Pages-2af466b6.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createPage})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getPageImage}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var createPage=function createPage(endpoint,templateId,params){return endpoint.api.post("/templates/".concat(templateId,"/pages"),params).then((function(r){return r.data}))},getPageImage=function getPageImage(endpoint,templateId,sequence){return endpoint.api.get("/templates/".concat(templateId,"/pages/").concat(sequence,"/image")).then((function(r){return r.data}))}},"./dist/esm/Templates-f7c590c0.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId){return endpoint.api.get("/templates/".concat(templateId)).then((function(r){return r.data}))},createTemplate=function createTemplate(endpoint,params){return endpoint.api.post("/templates/",params).then((function(r){return r.data}))}},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/utils-3f23facc.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rescale})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"f",(function(){return integerSequence})),__webpack_require__.d(__webpack_exports__,"g",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return setControlStyles}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");function rescale(r,n){return r*n}var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")},setControlStyles=function setControlStyles(el,field,xScale,yScale,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?function defaultWidth(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 82}return 150}(field):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?function defaultHeight(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 41}return 50}(field):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")"},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,handleFieldChange,disabled){var editable=arguments.length>5&&void 0!==arguments[5]&&arguments[5],draggable=arguments.length>6&&void 0!==arguments[6]&&arguments[6],controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return void setControlStyles(existingField,field,docPage.xScale,docPage.yScale);var el=document.createElement("verdocs-field-"+field.type);return el.field=field,el.setAttribute("id",id),el.setAttribute("roleindex",roleIndex),disabled&&el.setAttribute("disabled",!0),editable&&el.setAttribute("editable",!0),draggable&&el.setAttribute("draggable",!0),el.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(el,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(el),el;case"checkbox_group":field.setting.options.forEach((function(_,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-checkbox");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;case"radio_button_group":field.setting.options.forEach((function(_,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-radio-button");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",buttonIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,buttonIndex),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;default:return console.log("[PREVIEW] Skipping unsupported field type",field),null}},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}}},"./dist/esm/verdocs-document-page_3.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_document_page",(function(){return VerdocsDocumentPage})),__webpack_require__.d(__webpack_exports__,"verdocs_loader",(function(){return VerdocsLoader})),__webpack_require__.d(__webpack_exports__,"verdocs_view",(function(){return VerdocsView}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Pages_2af466b6_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./dist/esm/Pages-2af466b6.js"),_Templates_f7c590c0_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./dist/esm/Templates-f7c590c0.js"),_VerdocsEndpoint_9acb111c_js__WEBPACK_IMPORTED_MODULE_33__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-9acb111c.js")),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/errors-9b5498c8.js"),_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./dist/esm/utils-3f23facc.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _asyncIterator(iterable){var method,async,sync,retry=2;for("undefined"!=typeof Symbol&&(async=Symbol.asyncIterator,sync=Symbol.iterator);retry--;){if(async&&null!=(method=iterable[async]))return method.call(iterable);if(sync&&null!=(method=iterable[sync]))return new AsyncFromSyncIterator(method.call(iterable));async="@@asyncIterator",sync="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(s){function AsyncFromSyncIteratorContinuation(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var done=r.done;return Promise.resolve(r.value).then((function(value){return{value:value,done:done}}))}return AsyncFromSyncIterator=function AsyncFromSyncIterator(s){this.s=s,this.n=s.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(value){var ret=this.s.return;return void 0===ret?Promise.resolve({value:value,done:!0}):AsyncFromSyncIteratorContinuation(ret.apply(this.s,arguments))},throw:function _throw(value){var thr=this.s.return;return void 0===thr?Promise.reject(value):AsyncFromSyncIteratorContinuation(thr.apply(this.s,arguments))}},new AsyncFromSyncIterator(s)}var VerdocsDocumentPage=function(){function VerdocsDocumentPage(hostRef){_classCallCheck(this,VerdocsDocumentPage),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.j)(this,hostRef),this.pageRendered=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"pageRendered",7),this.pageImageUri="",this.pageNumber=1,this.virtualWidth=612,this.virtualHeight=792,this.layers=[{name:"page",type:"canvas"}],this.containerId="verdocs-document-page-"+Math.random().toString(36).substring(2,11),this.renderedWidth=612,this.renderedHeight=792,this.skipFirstNotification=!0}return _createClass(VerdocsDocumentPage,[{key:"componentDidLoad",value:function componentDidLoad(){var _this=this;this.resizeObserver=new ResizeObserver((function(entries){var _step2,_iterator2=_createForOfIteratorHelper(entries);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var renderedWidth=_step2.value.contentRect.width;_this.renderedWidth=renderedWidth,_this.renderedHeight=_this.virtualHeight*(renderedWidth/_this.virtualWidth)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}_this.notifyRenderedSize()})),this.resizeObserver.observe(this.container)}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _a;null===(_a=this.resizeObserver)||void 0===_a||_a.disconnect()}},{key:"notifyRenderedSize",value:function notifyRenderedSize(){this.skipFirstNotification?this.skipFirstNotification=!1:this.pageRendered.emit({container:this.container,containerId:this.containerId,pageNumber:this.pageNumber,virtualWidth:this.virtualWidth,virtualHeight:this.virtualHeight,renderedWidth:this.renderedWidth,renderedHeight:this.renderedHeight,xScale:this.renderedWidth/this.virtualWidth,yScale:this.renderedHeight/this.virtualHeight})}},{key:"render",value:function render(){var _this2=this,height=this.renderedHeight+"px";return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,{id:""+this.containerId,style:{height:height}},this.layers.map((function(layer){return"div"===layer.type?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"verdocs-document-page-layer",id:_this2.containerId+"-"+layer.name,style:{height:height}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("img",{class:"verdocs-document-page-layer",id:_this2.containerId+"-"+layer.name,style:{height:height},src:_this2.pageImageUri,alt:"Page "+_this2.pageNumber})})))}},{key:"container",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.c)(this)}}]),VerdocsDocumentPage}();VerdocsDocumentPage.style="verdocs-document-page{width:100%;position:relative}verdocs-document-page .verdocs-document-page-layer{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-box-shadow:0 0 10px 5px #0000000f;box-shadow:0 0 10px 5px #0000000f}";var VerdocsLoader=function(){function VerdocsLoader(hostRef){_classCallCheck(this,VerdocsLoader),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.j)(this,hostRef)}return _createClass(VerdocsLoader,[{key:"render",value:function render(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null)}}]),VerdocsLoader}();VerdocsLoader.style="verdocs-loader{display:block;position:absolute;top:50%;left:50%;margin-left:-20px;margin-top:-20px;font-size:24px;width:24px;height:24px;border-radius:50%;text-indent:-9999em;-webkit-animation:load5 1.1s infinite ease;animation:verdocs-loader-kf 1.1s infinite ease;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}@-webkit-keyframes verdocs-loader-kf{0%,100%{-webkit-box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4);box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4)}12.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3)}25%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}37.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}50%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}62.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}75%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}87.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa;box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa}}@keyframes verdocs-loader-kf{0%,100%{-webkit-box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4);box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4)}12.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3)}25%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}37.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}50%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}62.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}75%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}87.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa;box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa}}";var VerdocsView=function(){function VerdocsView(hostRef){_classCallCheck(this,VerdocsView),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.j)(this,hostRef),this.pageRendered=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"pageRendered",7),this.pageLoaded=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"pageLoaded",7),this.pageChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"pageChange",7),this.pageInit=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"pageInit",7),this.scaleChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"scaleChange",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"sdkError",7),this.domPages={},this.sourcePageMetrics={},this.endpoint=_VerdocsEndpoint_9acb111c_js__WEBPACK_IMPORTED_MODULE_33__.a.getDefault(),this.templateId="",this.rotation=0,this.pageLayers=[{name:"page",type:"canvas"},{name:"controls",type:"div"}],this.source=void 0,this.loadProgress=0,this.template=null,this.pageNumbers=[],this.pageUris={},this.numPages=0}var _handlePageRendered,_renderPage,_componentDidLoad;return _createClass(VerdocsView,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint.loadSession()}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,template,pageUris,_iteratorAbruptCompletion,_didIteratorError,_iteratorError,_iterator,_step,page,image;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.endpoint.loadSession(),this.templateId){_context.next=4;break}return console.log("[VIEW] Missing required template ID "+this.templateId),_context.abrupt("return");case 4:return _context.prev=4,console.log("[VIEW] Loading template "+this.templateId),_context.next=8,Object(_Templates_f7c590c0_js__WEBPACK_IMPORTED_MODULE_31__.c)(this.endpoint,this.templateId);case 8:template=_context.sent,console.log("[VIEW] Got template",this.template),this.template=template,this.pageNumbers=Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_35__.f)(1,template.pages.length),pageUris={},_iteratorAbruptCompletion=!1,_didIteratorError=!1,_context.prev=15,_iterator=_asyncIterator(template.pages);case 17:return _context.next=19,_iterator.next();case 19:if(!(_iteratorAbruptCompletion=!(_step=_context.sent).done)){_context.next=31;break}return page=_step.value,console.log("[VIEW] Loading page",page),_context.next=24,Object(_Pages_2af466b6_js__WEBPACK_IMPORTED_MODULE_30__.b)(this.endpoint,this.templateId,page.sequence);case 24:image=_context.sent,pageUris[page.sequence]=image.url,console.log("[VIEW] Got image Uri",image.url),this.loadProgress=page.sequence/template.pages.length;case 28:_iteratorAbruptCompletion=!1,_context.next=17;break;case 31:_context.next=37;break;case 33:_context.prev=33,_context.t0=_context.catch(15),_didIteratorError=!0,_iteratorError=_context.t0;case 37:if(_context.prev=37,_context.prev=38,!_iteratorAbruptCompletion||null==_iterator.return){_context.next=42;break}return _context.next=42,_iterator.return();case 42:if(_context.prev=42,!_didIteratorError){_context.next=45;break}throw _iteratorError;case 45:return _context.finish(42);case 46:return _context.finish(37);case 47:this.pageUris=pageUris,this.loadProgress=100,_context.next=55;break;case 51:_context.prev=51,_context.t1=_context.catch(4),console.log("[VIEW] Error loading template",_context.t1),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(_context.t1.message,null===(_b=_context.t1.response)||void 0===_b?void 0:_b.status,null===(_c=_context.t1.response)||void 0===_c?void 0:_c.data));case 55:case"end":return _context.stop()}}),_callee,this,[[4,51],[15,33,37,47],[38,,42,46]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"renderPage",value:(_renderPage=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(pageNumber){var _a,_b,_c,domPage,pageMetrics;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(domPage=this.domPages[pageNumber]){_context2.next=4;break}return console.log("[VIEW] Skipping rendering page not yet in DOM",{pageNumber:pageNumber}),_context2.abrupt("return");case 4:pageMetrics=this.sourcePageMetrics[pageNumber],console.log("[VIEW] Rendering page",{pageNumber:pageNumber,pageMetrics:pageMetrics,domPage:domPage});try{this.pageRendered.emit({renderedPage:domPage,sourcePageMetrics:pageMetrics,pages:this.domPages})}catch(e){null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.warn("[VIEW] Error rendering page",e)}case 7:case"end":return _context2.stop()}}),_callee2,this)}))),function renderPage(_x){return _renderPage.apply(this,arguments)})},{key:"handlePageRendered",value:(_handlePageRendered=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(e){var domPage;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return e.stopPropagation(),domPage=e.detail,this.domPages[domPage.pageNumber]=domPage,_context3.next=5,this.renderPage(domPage.pageNumber);case 5:case"end":return _context3.stop()}}),_callee3,this)}))),function handlePageRendered(_x2){return _handlePageRendered.apply(this,arguments)})},{key:"render",value:function render(){var _this3=this;return console.log("[VIEW] Loading...",this.loadProgress),this.loadProgress<100?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("verdocs-loader",null)):(console.log("[VIEW] Rendering pages",this.pageNumbers,this.pageUris),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,this.pageNumbers.map((function(pageNumber){var _a,_b;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("verdocs-document-page",{pageImageUri:_this3.pageUris[pageNumber],virtualWidth:(null===(_a=_this3.sourcePageMetrics[pageNumber])||void 0===_a?void 0:_a.width)||612,virtualHeight:(null===(_b=_this3.sourcePageMetrics[pageNumber])||void 0===_b?void 0:_b.height)||792,pageNumber:pageNumber,layers:_this3.pageLayers,onPageRendered:function onPageRendered(p){return _this3.handlePageRendered(p)}})}))))}},{key:"component",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.c)(this)}}]),VerdocsView}();VerdocsView.style='verdocs-view{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column}verdocs-view div,verdocs-view canvas{-webkit-box-sizing:border-box;box-sizing:border-box}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvUGFnZXMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1RlbXBsYXRlcy5qcyIsIndlYnBhY2s6Ly8vc3JjL3V0aWxzL2Vycm9ycy50cyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9GaWVsZHMuanMiLCJ3ZWJwYWNrOi8vL3NyYy91dGlscy91dGlscy50cyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1kb2N1bWVudC1wYWdlL3ZlcmRvY3MtZG9jdW1lbnQtcGFnZS5zY3NzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy92ZXJkb2NzLWRvY3VtZW50LXBhZ2UvdmVyZG9jcy1kb2N1bWVudC1wYWdlLnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvY29udHJvbHMvdmVyZG9jcy1sb2FkZXIvdmVyZG9jcy1sb2FkZXIuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvY29udHJvbHMvdmVyZG9jcy1sb2FkZXIvdmVyZG9jcy1sb2FkZXIudHN4Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbWJlZHMvdmVyZG9jcy12aWV3L3ZlcmRvY3Mtdmlldy5zY3NzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbWJlZHMvdmVyZG9jcy12aWV3L3ZlcmRvY3Mtdmlldy50c3giXSwibmFtZXMiOlsiY3JlYXRlUGFnZSIsImVuZHBvaW50IiwidGVtcGxhdGVJZCIsInBhcmFtcyIsImFwaSIsInBvc3QiLCJjb25jYXQiLCJ0aGVuIiwiciIsImRhdGEiLCJnZXRQYWdlSW1hZ2UiLCJzZXF1ZW5jZSIsImdldCIsImdldFRlbXBsYXRlcyIsImdldFRlbXBsYXRlIiwiY3JlYXRlVGVtcGxhdGUiLCJTREtFcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIkVycm9yIiwicmVzY2FsZSIsIm4iLCJpbnRlZ2VyU2VxdWVuY2UiLCJzdGFydCIsImNvdW50IiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiXyIsImluZGV4IiwiZnVsbE5hbWVUb0luaXRpYWxzIiwibmFtZSIsInNwbGl0Iiwid29yZCIsImpvaW4iLCJzZXRDb250cm9sU3R5bGVzIiwiZWwiLCJmaWVsZCIsInhTY2FsZSIsInlTY2FsZSIsIm9wdGlvbiIsInNldHRpbmdzIiwic2V0dGluZyIsIngiLCJ5Iiwid2lkdGgiLCJkZWZhdWx0V2lkdGgiLCJ0eXBlIiwiaGVpZ2h0IiwiZGVmYXVsdEhlaWdodCIsIm9wdGlvblNldHRpbmdzIiwidW5kZWZpbmVkIiwib3B0aW9ucyIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwiYm90dG9tIiwidHJhbnNmb3JtIiwiZ2V0RmllbGRJZCIsImdldEZpZWxkT3B0aW9uSWQiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZG9jUGFnZSIsInJvbGVJbmRleCIsImhhbmRsZUZpZWxkQ2hhbmdlIiwiZGlzYWJsZWQiLCJlZGl0YWJsZSIsImRyYWdnYWJsZSIsImNvbnRyb2xzRGl2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRhaW5lcklkIiwiaWQiLCJleGlzdGluZ0ZpZWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiYXBwZW5kQ2hpbGQiLCJmb3JFYWNoIiwiY2hlY2tib3hJbmRleCIsImNiRWwiLCJidXR0b25JbmRleCIsImNvbnNvbGUiLCJsb2ciLCJnZXRSb2xlSW5kZXgiLCJyb2xlcyIsInJvbGUiLCJpbmRleE9mIiwiZ2V0RmllbGRTZXR0aW5ncyIsInJlcXVpcmVkIiwicmVzdWx0IiwidmFsdWUiLCJWZXJkb2NzRG9jdW1lbnRQYWdlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiY29tcG9uZW50RGlkTG9hZCIsInRoaXMiLCJyZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwiZW50cmllcyIsInJlbmRlcmVkV2lkdGgiLCJjb250ZW50UmVjdCIsInJlbmRlcmVkSGVpZ2h0IiwidmlydHVhbEhlaWdodCIsInZpcnR1YWxXaWR0aCIsIm5vdGlmeVJlbmRlcmVkU2l6ZSIsIm9ic2VydmUiLCJjb250YWluZXIiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImRpc2Nvbm5lY3QiLCJza2lwRmlyc3ROb3RpZmljYXRpb24iLCJwYWdlUmVuZGVyZWQiLCJlbWl0IiwicGFnZU51bWJlciIsInJlbmRlciIsImgiLCJIb3N0IiwibGF5ZXJzIiwibGF5ZXIiLCJjbGFzcyIsInNyYyIsInBhZ2VJbWFnZVVyaSIsImFsdCIsIlZlcmRvY3NMb2FkZXIiLCJWZXJkb2NzVmlldyIsImRvbVBhZ2VzIiwic291cmNlUGFnZU1ldHJpY3MiLCJWZXJkb2NzRW5kcG9pbnQiLCJnZXREZWZhdWx0IiwiY29tcG9uZW50V2lsbExvYWQiLCJsb2FkU2Vzc2lvbiIsInRlbXBsYXRlIiwicGFnZU51bWJlcnMiLCJwYWdlcyIsImxlbmd0aCIsInBhZ2VVcmlzIiwicGFnZSIsImltYWdlIiwidXJsIiwibG9hZFByb2dyZXNzIiwic2RrRXJyb3IiLCJzdGF0dXMiLCJkb21QYWdlIiwicGFnZU1ldHJpY3MiLCJyZW5kZXJlZFBhZ2UiLCJ3YXJuIiwic3RvcFByb3BhZ2F0aW9uIiwiZGV0YWlsIiwicmVuZGVyUGFnZSIsInBhZ2VMYXllcnMiLCJvblBhZ2VSZW5kZXJlZCIsInAiLCJoYW5kbGVQYWdlUmVuZGVyZWQiXSwibWFwcGluZ3MiOiI7NFlBR1dBLFdBQWEsU0FBYkEsV0FBdUJDLFNBQVVDLFdBQVlDLFFBQ3BELE9BQU9GLFNBQVNHLElBQ1hDLEtBQUssY0FBY0MsT0FBT0osV0FBWSxVQUFXQyxRQUNqREksTUFBSyxTQUFVQyxHQUFLLE9BQU9BLEVBQUVD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UUMsSUFBSSx5QkFBMEJlLEtBQUtvQyxZQUFhcEMsS0FBS3VDLFVBSTNEcEIsMkRBQUNDLG1EQUFJLEtBQ0ZwQixLQUFLb0MsWUFBWTNHLEtBQUksU0FBQXdGLFksVUFBYyxPQUNsQ0Usb0ZBQ0VNLGFBQWMsT0FBS2MsU0FBU3RCLFlBQzVCVCxjQUFnRCxRQUFsQyxVQUFLc0Isa0JBQWtCYixtQkFBVyxpQkFBRXRFLFFBQVMsSUFDM0Q0RCxlQUFpRCxRQUFsQyxVQUFLdUIsa0JBQWtCYixtQkFBVyxpQkFBRW5FLFNBQVUsSUFDN0RtRSxXQUFZQSxXQUNaSSxPQUFRLE9BQUtnQyxXQUNiQyxlQUFnQix3QkFBQUMsR0FBQyxPQUFJLE9BQUtDLG1CQUFtQkQsRUFBRSxHLFFBS3hELG9DLHdGQTlScUIsRyxrQkRuQ0QsMGEiLCJmaWxlIjoiMjAuMTkwYmUzMTEuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWRkIGEgcGFnZSB0byBhIHRlbXBsYXRlLlxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVBhZ2UgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIHBhcmFtcykge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkLCBcIi9wYWdlc1wiKSwgcGFyYW1zKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIFVwZGF0ZSBhIHRlbXBsYXRlIHBhZ2UuXG4gKi9cbmV4cG9ydCB2YXIgZWRpdFBhZ2UgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIHNlcXVlbmNlKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucHV0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCwgXCIvcGFnZXMvXCIpLmNvbmNhdChzZXF1ZW5jZSkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogR2V0IGEgcGFnZSBmcm9tIGEgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0UGFnZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgc2VxdWVuY2UsIHRodW1ibmFpbCkge1xuICAgIGlmICh0aHVtYm5haWwgPT09IHZvaWQgMCkgeyB0aHVtYm5haWwgPSBmYWxzZTsgfVxuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQsIFwiL3BhZ2VzL1wiKS5jb25jYXQoc2VxdWVuY2UpLmNvbmNhdCh0aHVtYm5haWwgPyAnP3RodW1ibmFpbD10cnVlJyA6ICcnKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgYSBwYWdlIGltYWdlIChQTkcgZm9ybWF0KSBmcm9tIGEgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0UGFnZUltYWdlID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkLCBzZXF1ZW5jZSkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQsIFwiL3BhZ2VzL1wiKS5jb25jYXQoc2VxdWVuY2UsIFwiL2ltYWdlXCIpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIERlbGV0ZSBhIHBhZ2UgZnJvbSBhIHRlbXBsYXRlXG4gKi9cbmV4cG9ydCB2YXIgZGVsZXRlUGFnZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgc2VxdWVuY2UpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5kZWxldGUoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkLCBcIi9wYWdlcy9cIikuY29uY2F0KHNlcXVlbmNlKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiLyoqXG4gKiBBIFRlbXBsYXRlIGRlZmluZXMgaG93IGEgVmVyZG9jcyBzaWduaW5nIGZsb3cgd2lsbCBiZSBwZXJmb3JtZWQsIGluY2x1ZGluZyBhdHRhY2htZW50cywgc2lnbmluZyBmaWVsZHMsIGFuZFxuICogcmVjaXBpZW50cy5cbiAqXG4gKiBAbW9kdWxlXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG4vKipcbiAqIEdldCBhbGwgdGVtcGxhdGVzIGFjY2Vzc2libGUgYnkgdGhlIGNhbGxlciwgd2l0aCBvcHRpb25hbCBmaWx0ZXJzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpKTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgaXNfc3RhcnJlZDogdHJ1ZSB9KTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgaXNfY3JlYXRvcjogdHJ1ZSB9KTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgaXNfb3JnYW5pemF0aW9uOiB0cnVlIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzJywgeyBwYXJhbXM6IHBhcmFtcyB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBvbmUgdGVtcGxhdGUgYnkgaXRzIElELlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb3duZXIgaW5mb3JtYXRpb24gZm9yIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlT3duZXJJbmZvKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCAnODNkYTNkNzAtNzg1Ny00MzkyLWI4NzYtYzQ1OTJhMzA0YmM5Jyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRUZW1wbGF0ZU93bmVySW5mbyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIENyZWF0ZSBhIHRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCBuZXdUZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5jcmVhdGVUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgey4uLn0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlVGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoJy90ZW1wbGF0ZXMvJywgcGFyYW1zKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIFVwZGF0ZSBhIHRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB1cGRhdGVkVGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMudXBkYXRlVGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknLCB7IG5hbWU6ICdOZXcgTmFtZScgfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucHV0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCksIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBEZWxldGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgVGVtcGxhdGVzLmRlbGV0ZVRlbXBsYXRlKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCAnODNkYTNkNzAtNzg1Ny00MzkyLWI4NzYtYzQ1OTJhMzA0YmM5Jyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBkZWxldGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmRlbGV0ZShcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIFNlYXJjaCBmb3IgdGVtcGxhdGVzIG1hdGNoaW5nIHZhcmlvdXMgY3JpdGVyaWEuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IHtyZXN1bHQsIHBhZ2UsIHRvdGFsfSA9IGF3YWl0IFRlbXBsYXRlcy5zZWFyY2goKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgLi4uIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgc2VhcmNoVGVtcGxhdGVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnBvc3QoJy90ZW1wbGF0ZXMvc2VhcmNoJywgcGFyYW1zKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBHZXQgYSBzdW1tYXJ5IG9mIHRlbXBsYXRlIGRhdGEsIHR5cGljYWxseSB1c2VkIHRvIHBvcHVsYXRlIGFkbWluIHBhbmVsIGRhc2hib2FyZCBwYWdlcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3Qgc3VtbWFyeSA9IGF3YWl0IFRlbXBsYXRlcy5nZXRTdW1tYXJ5KChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCAwKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFN1bW1hcnkgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhcmFtcykge1xuICAgIGlmIChwYXJhbXMgPT09IHZvaWQgMCkgeyBwYXJhbXMgPSB7fTsgfVxuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzL3N1bW1hcnknLCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuIiwiLyoqXG4gKiBQYXNzZWQgdG8gcGFyZW50IGNvbXBvbmVudHMgaW4gY2VydGFpbiBjYWxsYmFja3Mgd2l0aCB0aGUgbG93ZXItbGV2ZWwgSlMtU0RLIGVtaXRzIGFuIGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBTREtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTtcbiAgc3RhdHVzQ29kZTtcbiAgcmVzcG9uc2U7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBzdGF0dXNDb2RlOiBudW1iZXIsIHJlc3BvbnNlOiBhbnkpIHtcbiAgICBzdXBlcihtZXNzYWdlIHx8ICdTREsgRXJyb3InKTtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UlRvcCh5LCBmaWVsZEhlaWdodCwgaVRleHRIZWlnaHQsIHlSYXRpbykge1xuICAgIHJldHVybiBpVGV4dEhlaWdodCAtICh5ICsgZmllbGRIZWlnaHQpICogeVJhdGlvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJMZWZ0KHgsIHJhdGlvKSB7XG4gICAgcmV0dXJuIHggKiByYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSVmFsdWUoeSwgcmF0aW8pIHtcbiAgICByZXR1cm4geSAqIHJhdGlvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChpbWFnZSkge1xuICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignUHJvYmxlbSByZWFkaW5nIGJsb2IuJykpO1xuICAgICAgICB9O1xuICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZmlsZVJlYWRlci5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2UpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2NhbGUociwgbikge1xuICAgIHJldHVybiByICogbjtcbn1cbiIsIi8vIFRoZXNlIHNob3VsZCBwcm9iYWJseSBhbGwgbW92ZSB0byBKUy1TREtcbmltcG9ydCB7cmVzY2FsZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1V0aWxzL0ZpZWxkcyc7XG4vLyBpbXBvcnQge2dldFJHQkF9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMnO1xuaW1wb3J0IHtJVGVtcGxhdGVGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UeXBlcyc7XG5pbXBvcnQge0lEb2N1bWVudEZpZWxkfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRG9jdW1lbnRzL1R5cGVzJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm99IGZyb20gJy4vVHlwZXMnO1xuXG5leHBvcnQgY29uc3QgaW50ZWdlclNlcXVlbmNlID0gKHN0YXJ0OiBudW1iZXIsIGNvdW50OiBudW1iZXIpOiBudW1iZXJbXSA9PlxuICBBcnJheShjb3VudClcbiAgICAuZmlsbCgxKVxuICAgIC5tYXAoKF8sIGluZGV4KSA9PiBpbmRleCArIHN0YXJ0KTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxOYW1lVG9Jbml0aWFscyA9IChuYW1lOiBzdHJpbmcpID0+XG4gIG5hbWVcbiAgICAuc3BsaXQoJyAnKVxuICAgIC5tYXAod29yZCA9PiB3b3JkWzBdKVxuICAgIC5qb2luKCcnKTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRXaWR0aCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICAgIHJldHVybiAyNDtcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICByZXR1cm4gMTQ7XG4gICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICAgIHJldHVybiA4MjtcbiAgfVxuXG4gIHJldHVybiAxNTA7XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdEhlaWdodCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICAgIHJldHVybiAyNDtcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICByZXR1cm4gMTQ7XG4gICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICAgIHJldHVybiA0MTtcbiAgfVxuXG4gIHJldHVybiA1MDtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRDb250cm9sU3R5bGVzID0gKGVsOiBIVE1MRWxlbWVudCwgZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQsIHhTY2FsZTogbnVtYmVyLCB5U2NhbGU6IG51bWJlciwgb3B0aW9uPzogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHNldHRpbmdzID0gKGZpZWxkIGFzIElUZW1wbGF0ZUZpZWxkKS5zZXR0aW5nIHx8IChmaWVsZCBhcyBJRG9jdW1lbnRGaWVsZCkuc2V0dGluZ3M7XG4gIGxldCB7eCA9IDAsIHkgPSAwLCB3aWR0aCA9IGRlZmF1bHRXaWR0aChmaWVsZCksIGhlaWdodCA9IGRlZmF1bHRIZWlnaHQoZmllbGQpfSA9IHNldHRpbmdzO1xuXG4gIGNvbnN0IG9wdGlvblNldHRpbmdzID0gb3B0aW9uICE9PSB1bmRlZmluZWQgJiYgc2V0dGluZ3Mub3B0aW9uc1tvcHRpb25dID8gc2V0dGluZ3Mub3B0aW9uc1tvcHRpb25dIDogbnVsbDtcbiAgaWYgKG9wdGlvblNldHRpbmdzKSB7XG4gICAgeCA9IG9wdGlvblNldHRpbmdzLnggPz8geDtcbiAgICB5ID0gb3B0aW9uU2V0dGluZ3MueSA/PyB5O1xuICAgIHdpZHRoID0gb3B0aW9uU2V0dGluZ3Mud2lkdGggPz8gd2lkdGg7XG4gICAgaGVpZ2h0ID0gb3B0aW9uU2V0dGluZ3MuaGVpZ2h0ID8/IGhlaWdodDtcbiAgfVxuXG4gIGVsLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICBlbC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIGVsLnN0eWxlLmxlZnQgPSBgJHtyZXNjYWxlKHhTY2FsZSwgeCl9cHhgO1xuICBlbC5zdHlsZS5ib3R0b20gPSBgJHtyZXNjYWxlKHlTY2FsZSwgeSl9cHhgO1xuICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHt4U2NhbGV9LCAke3lTY2FsZX0pYDtcbiAgLy8gZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZmllbGRbJ3JnYmEnXSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRJZCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZE9wdGlvbklkID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9LSR7aW5kZXh9YDtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJEb2N1bWVudEZpZWxkID0gKFxuICBmaWVsZDogSVRlbXBsYXRlRmllbGQsXG4gIGRvY1BhZ2U6IElEb2N1bWVudFBhZ2VJbmZvLFxuICByb2xlSW5kZXg6IG51bWJlcixcbiAgaGFuZGxlRmllbGRDaGFuZ2U6IChmaWVsZDogSVRlbXBsYXRlRmllbGQsIGU6IGFueSwgb3B0aW9uSWQ/OiBzdHJpbmcpID0+IHZvaWQsXG4gIGRpc2FibGVkOiBib29sZWFuLFxuICBlZGl0YWJsZTogYm9vbGVhbiA9IGZhbHNlLFxuICBkcmFnZ2FibGU6IGJvb2xlYW4gPSBmYWxzZSxcbikgPT4ge1xuICBjb25zdCBjb250cm9sc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvY1BhZ2UuY29udGFpbmVySWQgKyAnLWNvbnRyb2xzJyk7XG4gIGlmICghY29udHJvbHNEaXYpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICBjYXNlICdkYXRlJzpcbiAgICBjYXNlICdkcm9wZG93bic6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICBjYXNlICd0aW1lc3RhbXAnOlxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICBjYXNlICd0ZXh0Ym94Jzoge1xuICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZElkKGZpZWxkKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVsOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB2ZXJkb2NzLWZpZWxkLSR7ZmllbGQudHlwZX1gKTtcbiAgICAgIGVsLmZpZWxkID0gZmllbGQ7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZHJhZ2dhYmxlKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZENoYW5nZScsIGUgPT4gaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpKTtcbiAgICAgIHNldENvbnRyb2xTdHlsZXMoZWwsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQoZWwpO1xuXG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgICAgZmllbGQuc2V0dGluZy5vcHRpb25zLmZvckVhY2goKF8sIGNoZWNrYm94SW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZE9wdGlvbklkKGZpZWxkLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNiRWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtY2hlY2tib3hgKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgY2hlY2tib3hJbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNiRWwuYWRkRXZlbnRMaXN0ZW5lcignZmllbGRDaGFuZ2UnLCBlID0+IGhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKSk7XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoY2JFbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGNiRWwpO1xuXG4gICAgICAgIHJldHVybiBjYkVsO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgIGZpZWxkLnNldHRpbmcub3B0aW9ucy5mb3JFYWNoKChfLCBidXR0b25JbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldEZpZWxkT3B0aW9uSWQoZmllbGQsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNiRWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtcmFkaW8tYnV0dG9uYCk7XG4gICAgICAgIGNiRWwuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgncm9sZWluZGV4Jywgcm9sZUluZGV4KTtcbiAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ29wdGlvbicsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2JFbC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZENoYW5nZScsIGUgPT4gaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpKTtcbiAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhjYkVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCBidXR0b25JbmRleCk7XG4gICAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGNiRWwpO1xuXG4gICAgICAgIHJldHVybiBjYkVsO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gY2FzZSAnYXR0YWNobWVudCc6XG4gICAgLy8gICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZlcmRvY3MtZmllbGQtYXR0YWNobWVudCcpO1xuICAgIC8vICAgZWwuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3VsdCB8fCAnJyk7XG4gICAgLy8gICBicmVhaztcbiAgICAvLyBjYXNlICdwYXltZW50JzpcbiAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1wYXltZW50Jyk7XG4gICAgLy8gICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coJ1tQUkVWSUVXXSBTa2lwcGluZyB1bnN1cHBvcnRlZCBmaWVsZCB0eXBlJywgZmllbGQpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRSb2xlSW5kZXggPSAocm9sZXM6IHN0cmluZ1tdLCByb2xlOiBzdHJpbmcpID0+IHJvbGVzLmluZGV4T2Yocm9sZSkgfHwgMDtcblxuLy8gVE9ETzogV2UgY2FuIGNsZWFuIHRoaXMgdXAgYSBsb3QgaWYgd2UgYWx0ZXIgdGhlIEFQSSB0byBlbWl0IGJvdGggc2V0dGluZyBhbmQgc2V0dGluZ3MgcmVnYXJkbGVzcyBvZiB0aGUgc291cmNlIHR5cGUsXG4vLyAgIGJ1dCB0aGVuIG1lcmdlIHRoZSBTREsgdHlwZXMgdG8gZW5jb3VyYWdlIGRldmVsb3BlcnMgdG8gdXNlIGp1c3QgYHNldHRpbmdzYC5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZFNldHRpbmdzID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkKSA9PiB7XG4gIGlmICgoZmllbGQgYXMgSVRlbXBsYXRlRmllbGQpLnNldHRpbmcpIHtcbiAgICByZXR1cm4gKGZpZWxkIGFzIElUZW1wbGF0ZUZpZWxkKS5zZXR0aW5nO1xuICB9XG5cbiAgaWYgKChmaWVsZCBhcyBJRG9jdW1lbnRGaWVsZCkuc2V0dGluZ3MpIHtcbiAgICByZXR1cm4gKGZpZWxkIGFzIElEb2N1bWVudEZpZWxkKS5zZXR0aW5ncztcbiAgfVxuXG4gIHJldHVybiB7eDogMCwgeTogMCwgcmVxdWlyZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UsIHJlc3VsdDogJycsIHZhbHVlOiAnJ307XG59O1xuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtZG9jdW1lbnQtcGFnZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgLnZlcmRvY3MtZG9jdW1lbnQtcGFnZS1sYXllciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICAvL2JhY2tncm91bmQ6ICNmZmY7XG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggNXB4ICMwMDAwMDAwZjtcblxuICAgIC8vJi5iYWNrZ3JvdW5kIHtcbiAgICAvLyAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAvLyAgYm94LXNoYWRvdzogMCAwIDEwcHggNXB4ICMwMDAwMDAwZjtcbiAgICAvL31cbiAgfVxufVxuIiwiLy8gTk9URTogVGhpcyBjb21wb25lbnQgZG9lcyBub3QgaGF2ZSBhIHN0b3J5IGJlY2F1c2UgaXQncyBub3QgaW50ZW5kZWQgZm9yIGV4dGVybmFsIHVzZS5cblxuaW1wb3J0IHtDb21wb25lbnQsIGgsIEhvc3QsIFByb3AsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIFN0YXRlLCBFbGVtZW50fSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm8sIElQYWdlTGF5ZXJ9IGZyb20gJy4uLy4uLy4uL3V0aWxzL1R5cGVzJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIG9uZSBkb2N1bWVudCBwYWdlLiBUaGlzIGlzIHByaW1hcmlseSBhIGxheW91dCBjb250YWluZXIgdXNlZCB0byBjb29yZGluYXRlIHBvc2l0aW9ucyBvZlxuICogcGFnZS1yZWxhdGVkIGxheWVycyBzdWNoIGFzIHRoZSBwYWdlIGl0c2VsZiwgc2lnbmF0dXJlIGZpZWxkcywgZXRjLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy1kb2N1bWVudC1wYWdlJyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLWRvY3VtZW50LXBhZ2Uuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NEb2N1bWVudFBhZ2Uge1xuICBARWxlbWVudCgpIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBpbWFnZSB0byByZW5kZXIgYXMgdGhlIHBhZ2UgYmFja2dyb3VuZC5cbiAgICovXG4gIEBQcm9wKCkgcGFnZUltYWdlVXJpOiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogVGhlIHBhZ2UgbnVtYmVyIGJlaW5nIHJlbmRlcmVkLiBOb3QgdXNlZCBpbnRlcm5hbGx5IGJ1dCBpbmNsdWRlZCBpbiBjYWxsYmFja3MvZXZlbnRzIGJlYWN1c2UgcGFnZSBudW1iZXJzXG4gICAqIGFyZSB1c2VkIGV2ZXJ5d2hlcmUgaW4gZG9jdW1lbnQgaGFuZGxpbmcuXG4gICAqL1xuICBAUHJvcCgpIHBhZ2VOdW1iZXI6IG51bWJlciA9IDE7XG5cbiAgLyoqXG4gICAqIFRoZSBcInZpcnR1YWxcIiB3aWR0aCBvZiB0aGUgcGFnZSBjYW52YXMuIERlZmF1bHRzIHRvIDYxMiB3aGljaCBhdCA3MmRwaSBpcyA4LjVcIiB3aWRlLiBUaGlzIGlzIHVzZWQgdG8gY29tcHV0ZVxuICAgKiB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBmaW5hbCByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgQFByb3AoKSB2aXJ0dWFsV2lkdGg6IG51bWJlciA9IDYxMjtcblxuICAvKipcbiAgICogVGhlIFwidmlydHVhbFwiIGhlaWdodCBvZiB0aGUgcGFnZSBjYW52YXMuICBEZWZhdWx0cyB0byA3OTIgd2hpY2ggYXQgNzJkcGkgaXMgMTFcIiB0YWxsLiBUaGlzIGlzIHVzZWQgdG8gY29tcHV0ZVxuICAgKiB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBmaW5hbCByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgQFByb3AoKSB2aXJ0dWFsSGVpZ2h0OiBudW1iZXIgPSA3OTI7XG5cbiAgLyoqXG4gICAqIFRoZSBsYXllcnMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkLiBUaGUgRE9NIHN0cnVjdHVyZSB3aWxsIGJlIGEgRElWIGNvbnRhaW5lciB3aXRoIG9uZSBjaGlsZCBESVYgZm9yIGVhY2ggbGF5ZXIuXG4gICAqIFRoZSBwYXJlbnQgRElWIHdpbGwgaGF2ZSBhIHVuaXF1ZSBJRCwgYW5kIGVhY2ggY2hpbGQgRElWIHdpbGwgaGF2ZSB0aGF0IElEIHdpdGggdGhlIGxheWVyIG5hbWUgYXBwZW5kZWQsIGUuZy5cbiAgICogaWYgYHBhZ2VzYCB3YXMgWydwYWdlJywgJ2ZpZWxkcyddIHRoZSBzdHJ1Y3R1cmUgd2lsbCBiZTpcbiAgICpcbiAgICogYGBgXG4gICAqICAgICA8ZGl2IGlkPVwidmVyZG9jcy1kb2N1bWVudC1wYWdlLWtlcjJmcjFwOVwiPlxuICAgKiAgICAgICA8ZGl2IGlkPVwidmVyZG9jcy1kb2N1bWVudC1wYWdlLWtlcjJmcjFwOS1wYWdlXCI+PC9kaXY+XG4gICAqICAgICAgIDxkaXYgaWQ9XCJ2ZXJkb2NzLWRvY3VtZW50LXBhZ2Uta2VyMmZyMXA5LWZpZWxkc1wiPjwvZGl2PlxuICAgKiAgICAgPC9kaXY+XG4gICAqIGBgYFxuICAgKi9cbiAgQFByb3AoKSBsYXllcnM6IElQYWdlTGF5ZXJbXSA9IFt7bmFtZTogJ3BhZ2UnLCB0eXBlOiAnY2FudmFzJ31dO1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiByZW5kZXJlZC4gVGhpcyBpcyBhbHNvIGZpcmVkIHdoZW4gdGhlIHBhZ2UgaXMgcmVzaXplZC5cbiAgICovXG4gIEBFdmVudCgpIHBhZ2VSZW5kZXJlZDogRXZlbnRFbWl0dGVyPElEb2N1bWVudFBhZ2VJbmZvPjtcblxuICBAU3RhdGUoKSBjb250YWluZXJJZCA9IGB2ZXJkb2NzLWRvY3VtZW50LXBhZ2UtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpfWA7XG5cbiAgQFN0YXRlKCkgcmVuZGVyZWRXaWR0aDogbnVtYmVyID0gNjEyO1xuXG4gIEBTdGF0ZSgpIHJlbmRlcmVkSGVpZ2h0OiBudW1iZXIgPSA3OTI7XG5cbiAgQFN0YXRlKCkgc2tpcEZpcnN0Tm90aWZpY2F0aW9uID0gdHJ1ZTtcblxuICBjb21wb25lbnREaWRMb2FkKCk6IHZvaWQge1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWRXaWR0aCA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoO1xuICAgICAgICB0aGlzLnJlbmRlcmVkV2lkdGggPSByZW5kZXJlZFdpZHRoO1xuICAgICAgICB0aGlzLnJlbmRlcmVkSGVpZ2h0ID0gdGhpcy52aXJ0dWFsSGVpZ2h0ICogKHJlbmRlcmVkV2lkdGggLyB0aGlzLnZpcnR1YWxXaWR0aCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5UmVuZGVyZWRTaXplKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250YWluZXIpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgLy8gTGVmdCBoZXJlIGZvciBkb2N1bWVudGF0aW9uIHB1cnBvc2VzIGluIGNhc2Ugd2UgZmluZCBhbiBlZGdlIGNhc2Ugd2hlcmUgdGhpcyBpc24ndCB0cnVlLiBCdXQgd2UgYXBwYXJlbnRseSBkb24ndCBuZWVkIHRoaXMuXG4gIC8vIFdoZW4gd2UgYWRkIHRoZSByZXNpemUgb2JzZXJ2ZXIgaXQgd2lsbCBhbHdheXMgYmUgdHJpZ2dlcmVkIGF0IGxlYXN0IG9uY2Ugc28gbm90aWZ5aW5nIGhlcmUgYXMgd2VsbCBpcyBqdXN0IGEgZHVwZS5cbiAgLy8gY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAvLyAgIHRoaXMubm90aWZ5UmVuZGVyZWRTaXplKCk7XG4gIC8vIH1cblxuICBub3RpZnlSZW5kZXJlZFNpemUoKSB7XG4gICAgLy8gV2Ugc2tpcCBvbmUgbm90aWZpY2F0aW9uIGJlY2F1c2UgYnkgZGVmYXVsdCB3ZSB3aWxsIGFsd2F5cyBnZXQgYXQgbGVhc3QgdHdvLCBvbmUgd2hlbiByZW5kZXJpbmcgdGhlIGluaXRpYWwgc2l6ZVxuICAgIC8vIGFuZCBhIHNlY29uZCBvbmNlIHdlJ3JlIGFibGUgdG8gY29tcHV0ZSB0aGUgc2NhbGUgc2l6ZSwgd2hlbiB0aGUgcmVzaXplT2JzZXJ2ZXIgc2V0cyByZW5kZXJlZFdpZHRoL3JlbmRlcmVkSGVpZ2h0LlxuICAgIGlmICh0aGlzLnNraXBGaXJzdE5vdGlmaWNhdGlvbikge1xuICAgICAgdGhpcy5za2lwRmlyc3ROb3RpZmljYXRpb24gPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnBhZ2VSZW5kZXJlZC5lbWl0KHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICBjb250YWluZXJJZDogdGhpcy5jb250YWluZXJJZCxcbiAgICAgIHBhZ2VOdW1iZXI6IHRoaXMucGFnZU51bWJlcixcbiAgICAgIHZpcnR1YWxXaWR0aDogdGhpcy52aXJ0dWFsV2lkdGgsXG4gICAgICB2aXJ0dWFsSGVpZ2h0OiB0aGlzLnZpcnR1YWxIZWlnaHQsXG4gICAgICByZW5kZXJlZFdpZHRoOiB0aGlzLnJlbmRlcmVkV2lkdGgsXG4gICAgICByZW5kZXJlZEhlaWdodDogdGhpcy5yZW5kZXJlZEhlaWdodCxcbiAgICAgIHhTY2FsZTogdGhpcy5yZW5kZXJlZFdpZHRoIC8gdGhpcy52aXJ0dWFsV2lkdGgsXG4gICAgICB5U2NhbGU6IHRoaXMucmVuZGVyZWRIZWlnaHQgLyB0aGlzLnZpcnR1YWxIZWlnaHQsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5yZW5kZXJlZEhlaWdodCArICdweCc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3QgaWQ9e2Ake3RoaXMuY29udGFpbmVySWR9YH0gc3R5bGU9e3toZWlnaHR9fT5cbiAgICAgICAge3RoaXMubGF5ZXJzLm1hcChsYXllciA9PlxuICAgICAgICAgIGxheWVyLnR5cGUgPT09ICdkaXYnID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZlcmRvY3MtZG9jdW1lbnQtcGFnZS1sYXllclwiIGlkPXtgJHt0aGlzLmNvbnRhaW5lcklkfS0ke2xheWVyLm5hbWV9YH0gc3R5bGU9e3toZWlnaHR9fSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwidmVyZG9jcy1kb2N1bWVudC1wYWdlLWxheWVyXCIgaWQ9e2Ake3RoaXMuY29udGFpbmVySWR9LSR7bGF5ZXIubmFtZX1gfSBzdHlsZT17e2hlaWdodH19IHNyYz17dGhpcy5wYWdlSW1hZ2VVcml9IGFsdD17YFBhZ2UgJHt0aGlzLnBhZ2VOdW1iZXJ9YH0gLz5cbiAgICAgICAgICAgIC8vIDxjYW52YXMgY2xhc3M9XCJ2ZXJkb2NzLWRvY3VtZW50LXBhZ2UtbGF5ZXJcIiBpZD17YCR7dGhpcy5jb250YWluZXJJZH0tJHtsYXllci5uYW1lfWB9IHN0eWxlPXt7aGVpZ2h0fX0gLz5cbiAgICAgICAgICApLFxuICAgICAgICApfVxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLWxvYWRlciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIG1hcmdpbi1sZWZ0OiAtMjBweDtcbiAgbWFyZ2luLXRvcDogLTIwcHg7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgd2lkdGg6IDI0cHg7XG4gIGhlaWdodDogMjRweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB0ZXh0LWluZGVudDogLTk5OTllbTtcbiAgLXdlYmtpdC1hbmltYXRpb246IGxvYWQ1IDEuMXMgaW5maW5pdGUgZWFzZTtcbiAgYW5pbWF0aW9uOiB2ZXJkb2NzLWxvYWRlci1rZiAxLjFzIGluZmluaXRlIGVhc2U7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xuICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XG59XG5cbkBrZXlmcmFtZXMgdmVyZG9jcy1sb2FkZXIta2Yge1xuICAwJSxcbiAgMTAwJSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtICR2ZXJkb2NzLWJnLTIsIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLFxuICAgICAgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xuICB9XG4gIDEyLjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpLCAxLjhlbSAtMS44ZW0gMCAwZW0gJHZlcmRvY3MtYmctMiwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksXG4gICAgICAwZW0gMi41ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gIH1cbiAgMjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgwLCAwLCAwLCAwLjMpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpLCAyLjVlbSAwZW0gMCAwZW0gJHZlcmRvY3MtYmctMiwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksXG4gICAgICAwZW0gMi41ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbiAgMzcuNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gJHZlcmRvY3MtYmctMixcbiAgICAgIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgfVxuICA1MCUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpLFxuICAgICAgMGVtIDIuNWVtIDAgMGVtICR2ZXJkb2NzLWJnLTIsIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgfVxuICA2Mi41JSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksXG4gICAgICAwZW0gMi41ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpLCAtMS44ZW0gMS44ZW0gMCAwZW0gJHZlcmRvY3MtYmctMiwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB9XG4gIDc1JSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksXG4gICAgICAwZW0gMi41ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjMpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpLCAtMi42ZW0gMGVtIDAgMGVtICR2ZXJkb2NzLWJnLTIsIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB9XG4gIDg3LjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSxcbiAgICAgIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjQpLCAtMS44ZW0gLTEuOGVtIDAgMGVtICR2ZXJkb2NzLWJnLTI7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBoLCBIb3N0fSBmcm9tICdAc3RlbmNpbC9jb3JlJztcblxuLyoqXG4gKiBBbmltYXRlZCBsb2FkZXIgcGxhY2Vob2xkZXIuIFRoZXJlIGFyZSBjdXJyZW50bHkgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGlzIGNvbnRyb2wuXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLWxvYWRlcicsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1sb2FkZXIuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NMb2FkZXIge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxIb3N0IC8+O1xuICB9XG59XG4iLCJAaW1wb3J0ICcuLi8uLi8uLi90aGVtZS5zY3NzJztcblxudmVyZG9jcy12aWV3IHtcbiAgZm9udC1mYW1pbHk6ICR2ZXJkb2NzLXByaW1hcnktZm9udDtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMTVweDtcbiAgcm93LWdhcDogMTVweDtcbiAgbWluLWhlaWdodDogMjAwcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblxuICBkaXYsXG4gIGNhbnZhcyB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxufVxuIiwiLy8gaW1wb3J0IHBkZiBmcm9tICdwZGZqcy1kaXN0JztcbmltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuLy8gaW1wb3J0ICogYXMgcGRmanNMaWIgZnJvbSAncGRmanMtZGlzdC9sZWdhY3kvYnVpbGQvcGRmJztcbi8vIGltcG9ydCBQREZKU1dvcmtlciBmcm9tICdwZGZqcy1kaXN0L2xlZ2FjeS9idWlsZC9wZGYud29ya2VyLmVudHJ5Jztcbi8vIGltcG9ydCB7RG9jdW1lbnRJbml0UGFyYW1ldGVycywgT25Qcm9ncmVzc1BhcmFtZXRlcnN9IGZyb20gJ3BkZmpzLWRpc3QvdHlwZXMvc3JjL2Rpc3BsYXkvYXBpJztcbmltcG9ydCB7Q29tcG9uZW50LCBoLCBFbGVtZW50LCBFdmVudCwgSG9zdCwgUHJvcCwgRXZlbnRFbWl0dGVyLCBTdGF0ZX0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG4vLyBpbXBvcnQge0NvbXBvbmVudCwgaCwgRWxlbWVudCwgRXZlbnQsIEhvc3QsIFByb3AsIFdhdGNoLCBFdmVudEVtaXR0ZXIsIFN0YXRlfSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbi8vIGltcG9ydCB7aW50ZWdlclNlcXVlbmNlfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQge0lEb2N1bWVudFBhZ2VJbmZvLCBJUGFnZUxheWVyfSBmcm9tICcuLi8uLi8uLi91dGlscy9UeXBlcyc7XG5pbXBvcnQge1NES0Vycm9yfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMnO1xuaW1wb3J0IHtnZXRUZW1wbGF0ZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UZW1wbGF0ZXMnO1xuaW1wb3J0IHtnZXRQYWdlSW1hZ2V9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvUGFnZXMnO1xuaW1wb3J0IHtJVGVtcGxhdGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtpbnRlZ2VyU2VxdWVuY2V9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcblxuLy8gY29uc3QgQ01BUFNfVVJMID0gYGh0dHBzOi8vdW5wa2cuY29tL3BkZmpzLWRpc3RAJHtwZGZqc0xpYi52ZXJzaW9ufS9jbWFwcy9gO1xuXG4vLyBwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IFBERkpTV29ya2VyO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTb3VyY2VQYWdlTWV0cmljcyB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYWdlUmVuZGVyRXZlbnQge1xuICByZW5kZXJlZFBhZ2U6IElEb2N1bWVudFBhZ2VJbmZvO1xuICBzb3VyY2VQYWdlTWV0cmljczogSVNvdXJjZVBhZ2VNZXRyaWNzO1xuICBwYWdlczogUmVjb3JkPG51bWJlciwgSURvY3VtZW50UGFnZUluZm8+O1xufVxuXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy12aWV3JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXZpZXcuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NWaWV3IHtcbiAgQEVsZW1lbnQoKSBjb21wb25lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIC8vIHByaXZhdGUgcGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHk7XG4gIC8vIHByaXZhdGUgZmluZ2VycHJpbnRzID0gW10gYXMgc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFRoZSBlbmRwb2ludCB0byB1c2UgdG8gY29tbXVuaWNhdGUgd2l0aCBWZXJkb2NzLiBJZiBub3Qgc2V0LCB0aGUgZGVmYXVsdCBlbmRwb2ludCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBAUHJvcCgpIGVuZHBvaW50OiBWZXJkb2NzRW5kcG9pbnQgPSBWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpO1xuXG4gIC8qKlxuICAgKiBUaGUgdGVtcGxhdGUgSUQgdG8gcmVuZGVyXG4gICAqL1xuICBAUHJvcCgpIHRlbXBsYXRlSWQ6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhlIFBERiBpbiBkZWdyZWVzXG4gICAqL1xuICBAUHJvcCgpIHJvdGF0aW9uOiAwIHwgOTAgfCAxODAgfCAyNzAgPSAwO1xuXG4gIC8qKlxuICAgKiBMYXllcnMgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgaW5kaXZpZHVhbCBwYWdlcyBpbnNpZGUgdGhpcyBjb21wb25lbnQuXG4gICAqL1xuICBAUHJvcCgpIHBhZ2VMYXllcnM6IElQYWdlTGF5ZXJbXSA9IFtcbiAgICB7bmFtZTogJ3BhZ2UnLCB0eXBlOiAnY2FudmFzJ30sXG4gICAge25hbWU6ICdjb250cm9scycsIHR5cGU6ICdkaXYnfSxcbiAgXTtcblxuICAvKipcbiAgICogU3JjIG9mIHRoZSBQREYgdG8gbG9hZCBhbmQgcmVuZGVyXG4gICAqL1xuICBAUHJvcCgpIHNvdXJjZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBMaXN0ZW4gZm9yIGNoYW5nZXMgdG8gc3JjXG4gICAqL1xuICAvLyBAV2F0Y2goJ3NvdXJjZScpXG4gIC8vIGRvU3JjKG5ld1ZhbHVlOiBzdHJpbmcgfCBudWxsLCBvbGRWYWx1ZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAvLyAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgLy8gICAgIHJldHVybjtcbiAgLy8gICB9XG4gIC8vICAgdGhpcy5sb2FkQW5kUmVuZGVyKG5ld1ZhbHVlKTtcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiByZW5kZXJlZFxuICAgKi9cbiAgQEV2ZW50KCkgcGFnZVJlbmRlcmVkOiBFdmVudEVtaXR0ZXI8SVBhZ2VSZW5kZXJFdmVudD47XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYSBwYWdlIGhhcyBiZWVuIGNoYW5nZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VMb2FkZWQ6IEV2ZW50RW1pdHRlcjxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiBjaGFuZ2VkXG4gICAqL1xuICBARXZlbnQoKSBwYWdlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VJbml0OiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gc2NhbGVkXG4gICAqL1xuICBARXZlbnQoKSBzY2FsZUNoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIGlmIGFuIGVycm9yIG9jY3Vycy4gVGhlIGV2ZW50IGRldGFpbHMgd2lsbCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gTW9zdCBlcnJvcnMgd2lsbFxuICAgKiB0ZXJtaW5hdGUgdGhlIHByb2Nlc3MsIGFuZCB0aGUgY2FsbGluZyBhcHBsaWNhdGlvbiBzaG91bGQgY29ycmVjdCB0aGUgY29uZGl0aW9uIGFuZCByZS1yZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBzZGtFcnJvcjogRXZlbnRFbWl0dGVyPFNES0Vycm9yPjtcblxuICBAU3RhdGUoKSBsb2FkUHJvZ3Jlc3MgPSAwO1xuICBAU3RhdGUoKSB0ZW1wbGF0ZTogSVRlbXBsYXRlIHwgbnVsbCA9IG51bGw7XG4gIEBTdGF0ZSgpIHBhZ2VOdW1iZXJzOiBudW1iZXJbXSA9IFtdO1xuICBAU3RhdGUoKSBwYWdlVXJpczogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHt9O1xuXG4gIEBTdGF0ZSgpXG4gIG51bVBhZ2VzID0gMDtcblxuICBkb21QYWdlczogUmVjb3JkPG51bWJlciwgSURvY3VtZW50UGFnZUluZm8+ID0ge307XG5cbiAgc291cmNlUGFnZU1ldHJpY3M6IFJlY29yZDxudW1iZXIsIHt3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcn0+ID0ge307XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludC5sb2FkU2Vzc2lvbigpO1xuICB9XG5cbiAgLy8gVE9ETzogSGFuZGxpbmcgc2lnbmluZyB2cyBwcmV2aWV3LWFzLXVzZXIgY2FzZXNcbiAgLy8gVE9ETzogSGFuZGxlIGFub255bW91cyBjYXNlIGFuZCBmYWlsdXJlIHRvIGxvYWQgZHVlIHRvIG5vdCBiZWluZyBsb2dnZWQgaW5cbiAgYXN5bmMgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLmVuZHBvaW50LmxvYWRTZXNzaW9uKCk7XG5cbiAgICBpZiAoIXRoaXMudGVtcGxhdGVJZCkge1xuICAgICAgY29uc29sZS5sb2coYFtWSUVXXSBNaXNzaW5nIHJlcXVpcmVkIHRlbXBsYXRlIElEICR7dGhpcy50ZW1wbGF0ZUlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgW1ZJRVddIExvYWRpbmcgdGVtcGxhdGUgJHt0aGlzLnRlbXBsYXRlSWR9YCk7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IGdldFRlbXBsYXRlKHRoaXMuZW5kcG9pbnQsIHRoaXMudGVtcGxhdGVJZCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbVklFV10gR290IHRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSk7XG4gICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICB0aGlzLnBhZ2VOdW1iZXJzID0gaW50ZWdlclNlcXVlbmNlKDEsIHRlbXBsYXRlLnBhZ2VzLmxlbmd0aCk7XG5cbiAgICAgIGNvbnN0IHBhZ2VVcmlzOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge307XG4gICAgICBmb3IgYXdhaXQgKGxldCBwYWdlIG9mIHRlbXBsYXRlLnBhZ2VzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbVklFV10gTG9hZGluZyBwYWdlJywgcGFnZSk7XG4gICAgICAgIC8vIFRPRE86IE1ha2UgYW4gZW5kcG9pbnQgdG8gZ2V0IGFsbCBvZiB0aGUgcGFnZXMgZm9yIGEgdGVtcGxhdGVcbiAgICAgICAgLy8gVE9ETzogV2hlbiB1cGxvYWRpbmcgYSBuZXcgdGVtcGxhdGUsIHByZS1wcm9jZXNzIGl0cyBwYWdlcyBpbnRvIGltYWdlcyBhbmQgY29tbWVudCB0aGF0IHRoZSBpbmRpdmlkdWFsIHBhZ2UtbG9hZGVyIGlzIGEgdXRpbGl0eSxcbiAgICAgICAgLy8gIG5vdCB0aGUgcHJpbWFyeSBtZWNoYW5pc20uXG4gICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgZ2V0UGFnZUltYWdlKHRoaXMuZW5kcG9pbnQsIHRoaXMudGVtcGxhdGVJZCwgcGFnZS5zZXF1ZW5jZSk7XG4gICAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyB1cmkgdG8gbWF0Y2ggdGhlIHJlc3Qgb2YgdGhlIHRlcm1pbm9sb2d5P1xuICAgICAgICBwYWdlVXJpc1twYWdlLnNlcXVlbmNlXSA9IGltYWdlLnVybDtcbiAgICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBHb3QgaW1hZ2UgVXJpJywgaW1hZ2UudXJsKTtcbiAgICAgICAgdGhpcy5sb2FkUHJvZ3Jlc3MgPSBwYWdlLnNlcXVlbmNlIC8gdGVtcGxhdGUucGFnZXMubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBhZ2VVcmlzID0gcGFnZVVyaXM7XG4gICAgICB0aGlzLmxvYWRQcm9ncmVzcyA9IDEwMDtcblxuICAgICAgLy8gdGhpcy5wZGZVcmwgPSBgJHt0aGlzLmVuZHBvaW50LmdldEJhc2VVUkwoKX0vdGVtcGxhdGVzLyR7dGhpcy50ZW1wbGF0ZUlkfS9kb2N1bWVudHMvJHt0ZW1wbGF0ZS50ZW1wbGF0ZV9kb2N1bWVudD8uaWR9P2ZpbGU9dHJ1ZWA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBFcnJvciBsb2FkaW5nIHRlbXBsYXRlJywgZSk7XG4gICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgIH1cbiAgICAvLyBpZiAodGhpcy5zb3VyY2UpIHtcbiAgICAvLyAgIHRoaXMubG9hZEFuZFJlbmRlcih0aGlzLnNvdXJjZSk7XG4gICAgLy8gfVxuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWdlIGlzIFwicm90YXRlZFwiIChpbiBlaXRoZXIgZGlyZWN0aW9uKVxuICAvLyBpc1JvdGF0ZWQocm90YXRpb24pIHtcbiAgLy8gICByZXR1cm4gcm90YXRpb24gIT09IDAgJiYgcm90YXRpb24gJSAxODAgIT09IDA7XG4gIC8vIH1cblxuICAvLyBSZW5kZXIgb25lIGRvY3VtZW50IHBhZ2UuIE5vdGUgdGhhdCBwYWdlTnVtYmVyIGlzIDEtYmFzZWQuXG4gIGFzeW5jIHJlbmRlclBhZ2UocGFnZU51bWJlcjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZG9tUGFnZSA9IHRoaXMuZG9tUGFnZXNbcGFnZU51bWJlcl07XG5cbiAgICAvLyBUd28gYXN5bmMgb3BlcmF0aW9ucyBoYXBwZW4gaGVyZSwgbG9hZGluZyB0aGUgUERGIGFuZCByZW5kZXJpbmcgdGhlIERPTSBkaXYvY2FudmFzIHBsYWNlaG9sZGVycyB0byBkcmF3IHRoZSBwYWdlcyBvbi5cbiAgICBpZiAoIWRvbVBhZ2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbVklFV10gU2tpcHBpbmcgcmVuZGVyaW5nIHBhZ2Ugbm90IHlldCBpbiBET00nLCB7cGFnZU51bWJlcn0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VNZXRyaWNzID0gdGhpcy5zb3VyY2VQYWdlTWV0cmljc1twYWdlTnVtYmVyXTtcblxuICAgIGNvbnNvbGUubG9nKCdbVklFV10gUmVuZGVyaW5nIHBhZ2UnLCB7cGFnZU51bWJlciwgcGFnZU1ldHJpY3MsIGRvbVBhZ2V9KTtcbiAgICB0cnkge1xuICAgICAgLy8gY29uc3QgcGRmUGFnZSA9IGF3YWl0IHRoaXMucGRmRG9jdW1lbnQuZ2V0UGFnZShwYWdlTnVtYmVyKTtcbiAgICAgIC8vIGNvbnN0IHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7c2NhbGU6IGRvbVBhZ2UueFNjYWxlfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnW1ZJRVddIFBhZ2Ugdmlld3BvcnQnLCBkb21QYWdlLnhTY2FsZSwgdmlld3BvcnQpO1xuXG4gICAgICAvLyBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtkb21QYWdlLmNvbnRhaW5lcklkfS1wYWdlYCkgYXMgSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICAgICAgLy8gaWYgKCFjYW52YXMpIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBVbmFibGUgdG8gZmluZCBjYW52YXMgZWxlbWVudCcpO1xuICAgICAgLy8gICByZXR1cm47XG4gICAgICAvLyB9XG4gICAgICAvL1xuICAgICAgLy8gY2FudmFzLndpZHRoID0gZG9tUGFnZS5yZW5kZXJlZFdpZHRoO1xuICAgICAgLy8gY2FudmFzLmhlaWdodCA9IGRvbVBhZ2UucmVuZGVyZWRIZWlnaHQ7XG4gICAgICAvLyBjb25zdCBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAvLyBjYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBkb21QYWdlLnJlbmRlcmVkV2lkdGgsIGRvbVBhZ2UucmVuZGVyZWRIZWlnaHQpO1xuICAgICAgLy8gYXdhaXQgcGRmUGFnZS5yZW5kZXIoe2NhbnZhc0NvbnRleHQsIHZpZXdwb3J0fSk7XG5cbiAgICAgIHRoaXMucGFnZVJlbmRlcmVkLmVtaXQoe1xuICAgICAgICByZW5kZXJlZFBhZ2U6IGRvbVBhZ2UsXG4gICAgICAgIHNvdXJjZVBhZ2VNZXRyaWNzOiBwYWdlTWV0cmljcyxcbiAgICAgICAgcGFnZXM6IHRoaXMuZG9tUGFnZXMsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgY29uc29sZS53YXJuKCdbVklFV10gRXJyb3IgcmVuZGVyaW5nIHBhZ2UnLCBlKTtcbiAgICB9XG4gIH1cblxuICAvLyBhc3luYyByZW5kZXJQYWdlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHRoaXMubnVtUGFnZXMpO1xuICAvLyAgIGZvciBhd2FpdCAobGV0IHBhZ2VOdW1iZXIgb2YgcGFnZU51bWJlcnNUb1JlbmRlcikge1xuICAvLyAgICAgdHJ5IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKHBhZ2VOdW1iZXIpO1xuICAvLyAgICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgICBjb25zb2xlLndhcm4oJ1tWSUVXXSBFcnJvciByZW5kZXJpbmcgcGFnZXMnLCBlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBvblByb2dyZXNzKHByb2dyZXNzOiBPblByb2dyZXNzUGFyYW1ldGVycykge1xuICAvLyAgIGNvbnNvbGUubG9nKGBbVklFV10gUHJvZ3Jlc3MgJHtNYXRoLmZsb29yKChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDApfSAoJHtwcm9ncmVzcy5sb2FkZWR9IC8gJHtwcm9ncmVzcy50b3RhbH0pYCk7XG4gIC8vICAgdGhpcy5sb2FkUHJvZ3Jlc3MgPSBNYXRoLmZsb29yKCgxMDAgKiBwcm9ncmVzcy5sb2FkZWQpIC8gcHJvZ3Jlc3MudG90YWwpO1xuICAvLyB9XG5cbiAgLy8gQWZ0ZXIgYSBkb2N1bWVudCBpcyBkb25lIGxvYWRpbmcsIGdvIHRocm91Z2ggaXRzIHBhZ2VzIHRvIGdldCB0aGVpciBkaW1lbnNpb25zXG4gIC8vIGFzeW5jIHBhcnNlUGFnZU1ldHJpY3MocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpIHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHBkZkRvY3VtZW50Lm51bVBhZ2VzKTtcbiAgLy9cbiAgLy8gICBmb3IgYXdhaXQgKGxldCBwYWdlTnVtYmVyIG9mIHBhZ2VOdW1iZXJzVG9SZW5kZXIpIHtcbiAgLy8gICAgIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCBwZGZEb2N1bWVudC5nZXRQYWdlKDEpO1xuICAvLyAgICAgY29uc3QgW3BhZ2VYMCwgcGFnZVkwLCBwYWdlWDEsIHBhZ2VZMV0gPSBwZGZQYWdlLnZpZXc7XG4gIC8vICAgICB0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdID0ge3dpZHRoOiBwYWdlWDEgLSBwYWdlWDAsIGhlaWdodDogcGFnZVkxIC0gcGFnZVkwfTtcbiAgLy8gICB9XG4gIC8vXG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBQYXJzZWQgcGFnZSBtZXRyaWNzJywgdGhpcy5zb3VyY2VQYWdlTWV0cmljcyk7XG4gIC8vIH1cblxuICAvLyBsb2FkQW5kUmVuZGVyKHNyYzogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nJywgc3JjKTtcbiAgLy9cbiAgLy8gICBjb25zdCB0b2tlbiA9IHRoaXMuZW5kcG9pbnQuZ2V0VG9rZW4oKTtcbiAgLy8gICBjb25zdCBodHRwSGVhZGVycyA9IHRva2VuID8ge0F1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gfSA6IHt9O1xuICAvL1xuICAvLyAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgLy8gICAgIHVybDogc3JjLFxuICAvLyAgICAgY01hcFVybDogQ01BUFNfVVJMLFxuICAvLyAgICAgY01hcFBhY2tlZDogdHJ1ZSxcbiAgLy8gICAgIGh0dHBIZWFkZXJzLFxuICAvLyAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAvLyAgICAgc3RvcEF0RXJyb3JzOiB0cnVlLFxuICAvLyAgICAgdmVyYm9zaXR5OiBwZGZqc0xpYi5WZXJib3NpdHlMZXZlbC5XQVJOSU5HUyxcbiAgLy8gICAgIC8vIHZlcmJvc2l0eTogcGRmanNMaWIuVmVyYm9zaXR5TGV2ZWwuSU5GT1MsXG4gIC8vICAgfSBhcyBEb2N1bWVudEluaXRQYXJhbWV0ZXJzO1xuICAvL1xuICAvLyAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICBjb25zdCBsb2FkaW5nVGFzayA9IHBkZi5nZXREb2N1bWVudChzb3VyY2UsIG51bGwsIG51bGwsIHRoaXMub25Qcm9ncmVzcyk7XG4gIC8vICAgbG9hZGluZ1Rhc2sub25Qcm9ncmVzcyA9IHRoaXMub25Qcm9ncmVzcztcbiAgLy8gICBsb2FkaW5nVGFzay5wcm9taXNlXG4gIC8vICAgICAudGhlbihhc3luYyAocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpID0+IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5wYXJzZVBhZ2VNZXRyaWNzKHBkZkRvY3VtZW50KTtcbiAgLy9cbiAgLy8gICAgICAgdGhpcy5wZGZEb2N1bWVudCA9IHBkZkRvY3VtZW50O1xuICAvLyAgICAgICB0aGlzLm51bVBhZ2VzID0gcGRmRG9jdW1lbnQubnVtUGFnZXM7XG4gIC8vICAgICAgIHRoaXMuZmluZ2VycHJpbnRzID0gcGRmRG9jdW1lbnQuZmluZ2VycHJpbnRzO1xuICAvLyAgICAgICBjb25zb2xlLmxvZyhgW1ZJRVddIEdvdCBQREYgZG9jdW1lbnQgZmluZ2VycHJpbnRzIFwiJHt0aGlzLmZpbmdlcnByaW50cy5qb2luKCcsICcpfVwiLCAke3RoaXMubnVtUGFnZXN9IHBhZ2UocylgKTtcbiAgLy9cbiAgLy8gICAgICAgLy8gV2UgZG9uJ3QgdHJ5IHRvIHJlbmRlciB0aGUgcGFnZXMgaGVyZSwgc2V0dGluZyBsb2FkUHJvdHJlc3MgdHJpZ2dlcnMgdGhhdCBieSBhZGRpbmcgdGhlIGluZGl2aWR1YWwgcGFnZSBlbnRyaWVzIGluXG4gIC8vICAgICAgIC8vIERPTSBpbiByZW5kZXIoKSBiZWxvdy4gRWFjaCBwYWdlIHRoZW4gZmlyZXMgb25QYWdlUmVuZGVyZWQgd2hlbiBpdCBpcyByZWFkeSB0byByZWNlaXZlIGNvbnRlbnQuXG4gIC8vICAgICAgIHRoaXMubG9hZFByb2dyZXNzID0gMTAwO1xuICAvLyAgICAgfSlcbiAgLy8gICAgIC5jYXRjaChlID0+IHtcbiAgLy8gICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgLy8gICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nIGVycm9yJywgZSk7XG4gIC8vICAgICB9KTtcbiAgLy8gfVxuXG4gIGFzeW5jIGhhbmRsZVBhZ2VSZW5kZXJlZChlOiBhbnkpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgY29uc3QgZG9tUGFnZSA9IGUuZGV0YWlsIGFzIElEb2N1bWVudFBhZ2VJbmZvO1xuICAgIHRoaXMuZG9tUGFnZXNbZG9tUGFnZS5wYWdlTnVtYmVyXSA9IGRvbVBhZ2U7XG4gICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKGRvbVBhZ2UucGFnZU51bWJlcik7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nLi4uJywgdGhpcy5sb2FkUHJvZ3Jlc3MpO1xuICAgIGlmICh0aGlzLmxvYWRQcm9ncmVzcyA8IDEwMCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEhvc3Q+XG4gICAgICAgICAgPHZlcmRvY3MtbG9hZGVyIC8+XG4gICAgICAgIDwvSG9zdD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1tWSUVXXSBSZW5kZXJpbmcgcGFnZXMnLCB0aGlzLnBhZ2VOdW1iZXJzLCB0aGlzLnBhZ2VVcmlzKTtcblxuICAgIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nIGZvciBtaXNzaW5nIHBhZ2VzLiBJcyBpdCBiZXR0ZXIgdG8gc2tpcCB0aGUgcGFnZSBvciBzaG93IGEgcGxhY2Vob2xkZXI/XG4gICAgcmV0dXJuIChcbiAgICAgIDxIb3N0PlxuICAgICAgICB7dGhpcy5wYWdlTnVtYmVycy5tYXAocGFnZU51bWJlciA9PiAoXG4gICAgICAgICAgPHZlcmRvY3MtZG9jdW1lbnQtcGFnZVxuICAgICAgICAgICAgcGFnZUltYWdlVXJpPXt0aGlzLnBhZ2VVcmlzW3BhZ2VOdW1iZXJdfVxuICAgICAgICAgICAgdmlydHVhbFdpZHRoPXt0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdPy53aWR0aCB8fCA2MTJ9XG4gICAgICAgICAgICB2aXJ0dWFsSGVpZ2h0PXt0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdPy5oZWlnaHQgfHwgNzkyfVxuICAgICAgICAgICAgcGFnZU51bWJlcj17cGFnZU51bWJlcn1cbiAgICAgICAgICAgIGxheWVycz17dGhpcy5wYWdlTGF5ZXJzfVxuICAgICAgICAgICAgb25QYWdlUmVuZGVyZWQ9e3AgPT4gdGhpcy5oYW5kbGVQYWdlUmVuZGVyZWQocCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==