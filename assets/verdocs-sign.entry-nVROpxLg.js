import{m as c,H as I,F as C,r as G,n as S}from"./components-BUY51Sj4.js";import{V,k as P,w as M,x as T,y as z,z as U,A as B,B as q,C as H,D as O,E as W,F as Y,G as j,H as J,I as K,i as Q}from"./index-FOFzXDN2.js";import{a as X,u as Z,g as $,r as R}from"./utils-61c1093b-BdPfu6ZN.js";import{a as ee}from"./TemplateFieldStore-d7516adf-DcKvNlmt.js";import{V as te}from"./Toast-b71de686-BSDPq5kl.js";import{S as w}from"./errors-887f1e88-DR85jTO9.js";import"./index-CDs2tPxN.js";import"./index-BXagdh-V.js";import"./iframe-BIHgOnMp.js";import"../sb-preview/runtime.js";import"./Types-e4a6eba5-DhtnXEHy.js";import"./index-0329eed3-CmPFFxNR.js";import"./index-296aabaf-RiVWanv8.js";var x=function(p,i,e,n){function r(t){return t instanceof e?t:new e(function(o){o(t)})}return new(e||(e=Promise))(function(t,o){function l(d){try{s(n.next(d))}catch(u){o(u)}}function a(d){try{s(n.throw(d))}catch(u){o(u)}}function s(d){d.done?t(d.value):r(d.value).then(l,a)}s((n=n.apply(p,i||[])).next())})},y=function(p,i){var e={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},n,r,t,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(s){return function(d){return a([s,d])}}function a(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(e=0)),e;)try{if(n=1,r&&(t=s[0]&2?r.return:s[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,s[1])).done)return t;switch(r=0,t&&(s=[s[0]&2,t.value]),s[0]){case 0:case 1:t=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,r=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(t=e.trys,!(t=t.length>0&&t[t.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!t||s[1]>t[0]&&s[1]<t[3])){e.label=s[1];break}if(s[0]===6&&e.label<t[1]){e.label=t[1],t=s;break}if(t&&e.label<t[2]){e.label=t[2],e.ops.push(s);break}t[2]&&e.ops.pop(),e.trys.pop();continue}s=i.call(p,e)}catch(d){s=[6,d],r=0}finally{n=t=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},ie=function(p,i,e){if(e||arguments.length===2)for(var n=0,r=i.length,t;n<r;n++)(t||!(n in i))&&(t||(t=Array.prototype.slice.call(i,0,n)),t[n]=i[n]);return p.concat(t||Array.prototype.slice.call(i))},ne='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-sign{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-sign div{display:block;-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-sign input{vertical-align:top}verdocs-sign>.document{-ms-flex:1;flex:1;width:100%;height:100%;-ms-flex-item-align:center;align-self:center;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;max-width:1200px;min-height:200px;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column}verdocs-sign>.document .inner{width:100%;max-width:1028px}verdocs-sign .cover{top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;z-index:5000;position:absolute;padding-top:100px;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column;background:rgba(0, 0, 0, 0.5)}verdocs-sign .agree{-ms-flex:0;flex:0;width:600px;display:-ms-flexbox;display:flex;max-width:90%;padding:30px 15px;-ms-flex-direction:column;flex-direction:column;background-color:#ffffff}verdocs-sign .agree .header{-ms-flex:0 0 56px;flex:0 0 56px}verdocs-sign .agree li{margin:0.5em 0}verdocs-sign verdocs-ok-dialog .background-overlay{-ms-flex-align:start;align-items:flex-start;padding-top:100px}verdocs-sign .loading-indicator{top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;z-index:10000;position:fixed;background-color:rgba(0, 0, 0, 0.7)}@media print{verdocs-sign .header{display:none}}#verdocs-sign-header{color:#fff;width:100%;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex:0 0 56px;flex:0 0 56px;font-size:12px;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-webkit-transition:all 0.25s;transition:all 0.25s;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}#verdocs-sign-header .inner{width:100%;display:-ms-flexbox;display:flex;margin:0 auto;padding:0 20px;max-width:1200px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}#verdocs-sign-header .logo{width:80px;display:none;margin:-6px 0 0 0}#verdocs-sign-header .title{font-size:18px;font-weight:500;overflow:hidden;white-space:nowrap;padding:0 10px 0 0;text-overflow:ellipsis}',re=ne,oe=[{id:"later",label:"Finish Later"},{id:"decline",label:"Decline to Sign"},{id:"print",label:"Print Without Signing"},{id:"download",label:"Download"}],se=[{id:"print",label:"Print"},{id:"download",label:"Download"}],le=function(){function p(i){G(this,i),this.sdkError=S(this,"sdkError",7),this.envelopeLoaded=S(this,"envelopeLoaded",7),this.envelopeUpdated=S(this,"envelopeUpdated",7),this.endpoint=null,this.recipientIndex=-1,this.envelopeId=null,this.roleId=null,this.inviteCode=null,this.headerTargetId=null,this.envelope=null,this.roleNames=[],this.sortedRecipients=[],this.recipient=null,this.signerToken=null,this.hasSignature=!1,this.nextButtonLabel="Start",this.nextSubmits=!1,this.errorMessage="",this.focusedField="",this.submitting=!1,this.isDone=!1,this.showDone=!1,this.showLoadError=!1,this.finishLater=!1,this.showFinishLater=!1,this.agreed=!1,this.documentsSingularPlural="document"}return p.prototype.componentWillLoad=function(){this.endpoint=new V({sessionType:"signing"})},p.prototype.componentWillRender=function(){return x(this,void 0,void 0,function(){var i,e,n,r,t,o,l,a,s,d,u,m,g,f=this;return y(this,function(h){switch(h.label){case 0:if(!this.envelopeId)return(i=this.sdkError)===null||i===void 0||i.emit(new w("[SIGN] Missing required envelopId",500,"")),[2];if(!this.roleId)return(e=this.sdkError)===null||e===void 0||e.emit(new w("[SIGN] Missing required roleId",500,"")),[2];if(!this.inviteCode)return(n=this.sdkError)===null||n===void 0||n.emit(new w("[SIGN] Missing required inviteCode",500,"")),[2];h.label=1;case 1:return h.trys.push([1,4,,5]),console.log("[SIGN] Processing invite code for ".concat(this.envelopeId," / ").concat(this.roleId)),[4,M(this.endpoint,{envelopeId:this.envelopeId,roleId:this.roleId,inviteCode:this.inviteCode})];case 2:return a=h.sent(),s=a.session,d=a.recipient,u=a.signerToken,console.log("[SIGN] Loaded signing session ".concat(s.email," / ").concat(s.profile_id)),this.recipient=d,console.log("[SIGN] We are recipient",this.recipient),this.signerToken=u,this.endpoint.setToken(u),this.agreed&&(this.nextButtonLabel="Next"),m=this,[4,P(this.endpoint,this.envelopeId)];case 3:return m.envelope=h.sent(),ee(this.envelope),this.sortedRecipients=ie([],this.envelope.recipients,!0),this.sortedRecipients.sort(function(v,b){return v.sequence===b.sequence?v.order-b.order:v.sequence-b.sequence}),this.roleNames=this.sortedRecipients.map(function(v){return v.role_name}),this.envelope.documents.length>0&&(this.documentsSingularPlural="document(s)"),this.recipientIndex=this.roleNames.findIndex(function(v){return v==f.roleId}),this.recipientIndex>-1?(this.recipient=this.sortedRecipients[this.recipientIndex],this.agreed=this.recipient.agreed,console.log("[SIGN] Found our recipient in the envelope",this.recipientIndex,this.recipient)):console.log("[SIGN] Could not find our recipient record",this.roleId,this.sortedRecipients),this.isDone=["submitted","canceled","declined"].includes(this.recipient.status),this.checkRecipientFields(),(r=this.envelopeLoaded)===null||r===void 0||r.emit({endpoint:this.endpoint,envelope:this.envelope}),[3,5];case 4:return g=h.sent(),console.log("Error with signing session",g),(t=this.sdkError)===null||t===void 0||t.emit(new w(g.message,(o=g.response)===null||o===void 0?void 0:o.status,(l=g.response)===null||l===void 0?void 0:l.data)),this.showLoadError=!0,[3,5];case 5:return[2]}})})},p.prototype.componentDidRender=function(){var i=this.headerTargetId?document.getElementById(this.headerTargetId):null,e=document.getElementById("verdocs-sign-header");i&&e&&(console.log("[SIGN] Moving header"),e.remove(),i.append(e))},p.prototype.handleClickAgree=function(){var i=this;this.submitting=!0,T(this.endpoint,this.envelopeId,this.roleId,!0).then(function(){var e;i.nextButtonLabel="Next",i.recipient.agreed=!0,i.submitting=!1,i.agreed=!0,(e=i.envelopeUpdated)===null||e===void 0||e.emit({endpoint:i.endpoint,envelope:i.envelope,event:"agreed"})}).catch(function(e){var n,r,t;console.log("Update failure",e),i.submitting=!1,(n=i.sdkError)===null||n===void 0||n.emit(new w(e.message,(r=e.response)===null||r===void 0?void 0:r.status,(t=e.response)===null||t===void 0?void 0:t.data))})},p.prototype.handleOptionSelected=function(i){return x(this,void 0,void 0,function(){var e,n,r,t,o,l,a,s;return y(this,function(d){switch(d.label){case 0:switch(l=i.detail.id,l){case"later":return[3,1];case"claim":return[3,2];case"decline":return[3,3];case"print":return[3,5];case"download":return[3,6]}return[3,7];case 1:return this.finishLater=!0,this.showFinishLater=!0,(e=this.envelopeUpdated)===null||e===void 0||e.emit({endpoint:this.endpoint,envelope:this.envelope,event:"later"}),[3,7];case 2:return te("This feature will be available in an upcoming release."),(n=this.envelopeUpdated)===null||n===void 0||n.emit({endpoint:this.endpoint,envelope:this.envelope,event:"claimed"}),[3,7];case 3:return this.submitting=!0,[4,z(this.endpoint,this.envelopeId,this.roleId)];case 4:return a=d.sent(),console.log("Decline result",a),(r=this.envelopeUpdated)===null||r===void 0||r.emit({endpoint:this.endpoint,envelope:this.envelope,event:"declined"}),this.submitting=!1,this.isDone=!0,[3,7];case 5:return window.print(),(t=this.envelopeUpdated)===null||t===void 0||t.emit({endpoint:this.endpoint,envelope:this.envelope,event:"printed"}),[3,7];case 6:return s=this.envelope.documents.find(function(u){return u.type==="attachment"}),s&&(X(this.endpoint,this.envelope,s.id).catch(function(u){console.log("Error downloading PDF",u)}),(o=this.envelopeUpdated)===null||o===void 0||o.emit({endpoint:this.endpoint,envelope:this.envelope,event:"downloaded"})),[3,7];case 7:return[2]}})})},p.prototype.updateRecipientFieldValue=function(i,e){var n=this;console.log("[SIGN] updateRecipientFieldValue",i),this.getRecipientFields().forEach(function(r){r.name===i&&(r.settings=e.settings,Z(r),n.checkRecipientFields())})},p.prototype.saveFieldChange=function(i,e){var n=this;console.log("[SIGN] updateRecipientFieldValue",i),U(this.endpoint,this.envelopeId,i,e).then(function(r){return n.updateRecipientFieldValue(i,r)}).catch(function(r){var t,o,l,a,s,d;((t=r.response)===null||t===void 0?void 0:t.status)===401&&((l=(o=r.response)===null||o===void 0?void 0:o.data)===null||l===void 0?void 0:l.error)==="jwt expired"?(console.log("[SIGN] Signing session expired"),n.errorMessage="Signing session expired. Please reload your browser to continue."):console.log("[SIGN] Server error",r),(a=n.sdkError)===null||a===void 0||a.emit(new w(r.message,(s=r.response)===null||s===void 0?void 0:s.status,(d=r.response)===null||d===void 0?void 0:d.data))})},p.prototype.handleFieldChange=function(i,e){return x(this,void 0,void 0,function(){var n,r,t,o,l,l,a,s,d,u,m,g=this;return y(this,function(f){switch(f.label){case 0:switch(n=e.target,r=n.value,t=n.checked,o=i.type,o){case"textbox":return[3,1];case"checkbox_group":return[3,2];case"radio_button_group":return[3,3];case"dropdown":return[3,4];case"initial":return[3,5];case"signature":return[3,8];case"date":return[3,11];case"timestamp":return[3,12]}return[3,13];case 1:return[2,this.saveFieldChange(i.name,{prepared:!1,value:r})];case 2:return l=i.settings.options.map(function(h){return{id:h.id,checked:e.target.checked}}),[2,this.saveFieldChange(i.name,{prepared:!1,value:{options:l}})];case 3:return l=i.settings.options.map(function(h){return{id:h.id,selected:e.target.value===h.id}}),[2,this.saveFieldChange(i.name,{prepared:!1,value:{options:l}})];case 4:return[2,this.saveFieldChange(i.name,{prepared:!1,value:e.detail})];case 5:return e.detail?[4,fetch(e.detail)]:[2];case 6:return[4,f.sent().blob()];case 7:return a=f.sent(),[2,H(this.endpoint,"initial",a).then(function(h){return x(g,void 0,void 0,function(){var v;return y(this,function(b){switch(b.label){case 0:return[4,O(this.endpoint,this.envelopeId,i.name,h.id)];case 1:return v=b.sent(),this.updateRecipientFieldValue(i.name,v),[2]}})})})];case 8:return e.detail?[4,fetch(e.detail)]:[2];case 9:return[4,f.sent().blob()];case 10:return s=f.sent(),[2,B(this.endpoint,"signature",s).then(function(h){return x(g,void 0,void 0,function(){var v;return y(this,function(b){switch(b.label){case 0:return console.log("Signature update result",h),[4,q(this.endpoint,this.envelopeId,i.name,h.id)];case 1:return v=b.sent(),this.updateRecipientFieldValue(i.name,v),[2]}})})}).catch(function(h){console.warn("Error updating signature",h)})];case 11:return d=e.detail,u=d.date,m=d.formattedDate,m?(console.log("dt",{date:u,formattedDate:m}),[2,this.saveFieldChange(i.name,{prepared:!1,value:m})]):[3,14];case 12:return console.log("Updating timestamp",{value:r,ts:e.target.getAttribute("timestamp")}),[3,14];case 13:return console.log("Unhandled field update",{value:r,checked:t},i),[3,14];case 14:return[2]}})})},p.prototype.isFieldFilled=function(i){var e,n,r,t,o,l,a=i.settings||{},s=a.result,d=s===void 0?"":s,u=a.value,m=u===void 0?"":u,g=a.base64,f=g===void 0?"":g;switch(i.type){case"textbox":switch(i.validator||""){case"email":return Y(d);case"phone":return W(d);default:return d!==""}case"signature":case"initial":return f!=="";case"timestamp":return!0;case"textarea":case"date":case"attachment":return d!=="";case"dropdown":return m!=="";case"checkbox_group":var h=(((n=(e=i.settings)===null||e===void 0?void 0:e.options)===null||n===void 0?void 0:n.filter(function(v){return v.checked}))||[]).length;return h>=(((r=i.settings)===null||r===void 0?void 0:r.minimum_checked)||0)&&h<=(((t=i.settings)===null||t===void 0?void 0:t.maximum_checked)||999);case"radio_button_group":return(((l=(o=i.settings)===null||o===void 0?void 0:o.options)===null||l===void 0?void 0:l.filter(function(v){return v.selected}))||[]).length>0;default:return!1}},p.prototype.isFieldValid=function(i){var e=i.required,n=e===void 0?!1:e;return!n||this.isFieldFilled(i)},p.prototype.getSortedFillableFields=function(){var i=this.getRecipientFields().filter(function(e){return e.type!=="timestamp"});return i.sort(function(e,n){var r,t,o,l,a=((r=e.settings)===null||r===void 0?void 0:r.x)||0,s=((t=e.settings)===null||t===void 0?void 0:t.y)||0,d=((o=n.settings)===null||o===void 0?void 0:o.x)||0,u=((l=n.settings)===null||l===void 0?void 0:l.y)||0,m=Math.floor(s/5),g=Math.floor(u/5);return g!==m?g-m:a-d}),i},p.prototype.handleNext=function(){return x(this,void 0,void 0,function(){var i,e,n,r,t,o,l,a,s,d,u,m=this;return y(this,function(g){switch(g.label){case 0:if(!this.nextSubmits)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),(i=document.getElementById("air-datepicker-global-container"))===null||i===void 0||i.remove(),this.submitting=!0,[4,j(this.endpoint,this.envelopeId,this.roleId)];case 2:return n=g.sent(),console.log("[SIGN] Submitted successfully",n),this.recipient.status="submitted",this.showDone=!0,this.isDone=!0,[3,4];case 3:return r=g.sent(),console.log("[SIGN] Error submitting",r),[3,4];case 4:return this.submitting=!1,[2];case 5:return t=this.getSortedFillableFields().filter(function(f){return!m.isFieldFilled(f)}),t.sort(function(f,h){var v,b,k,F,_=((v=f.settings)===null||v===void 0?void 0:v.x)||0,L=((b=f.settings)===null||b===void 0?void 0:b.y)||0,A=((k=h.settings)===null||k===void 0?void 0:k.x)||0,D=((F=h.settings)===null||F===void 0?void 0:F.y)||0,E=Math.floor(L/5),N=Math.floor(D/5);return N!==E?N-E:_-A}),o=t.findIndex(function(f){return f.name===m.focusedField}),l=o+1,l>=t.length&&(l=0),a=t[l],s=0,s<t.length&&["signature","initial"].includes(a.type)&&((e=a.settings)===null||e===void 0?void 0:e.result)==="signed"&&(s++,l++,l>=t.length&&(l=0),a=t[l]),s>=t.length&&(a=null),a&&(d=$(a),u=document.getElementById(d),console.log("Jumping to next field",a),u==null||u.focusField(),u==null||u.scrollTo({behavior:"smooth",top:0}),this.focusedField=a.name),[2]}})})},p.prototype.getRecipientFields=function(){var i=this;return this.envelope.fields.filter(function(e){return e.recipient_role===i.recipient.role_name})},p.prototype.checkRecipientFields=function(){var i=this,e=this.getRecipientFields().filter(function(n){return!i.isFieldValid(n)});e.length<1?(this.nextButtonLabel="Finish",this.nextSubmits||(this.nextSubmits=!0)):(console.log("[SIGN] Invalid fields remaining",e),this.nextButtonLabel="Next",this.nextSubmits=!1)},p.prototype.attachFieldAttributes=function(i,e,n){var r=this,t;n.addEventListener("input",function(o){o.target.name.includes("date")||o.target.name.includes("checkbox_group")||o.target.name.includes("radio_button_group")?r.handleFieldChange(e,o).finally(function(){return r.checkRecipientFields()}):r.checkRecipientFields()}),n.addEventListener("attached",function(o){return x(r,void 0,void 0,function(){var l;return y(this,function(a){switch(a.label){case 0:return console.log("[SIGN] onAttached",o.detail,o.target.value),[4,J(this.endpoint,this.envelopeId,this.roleId,e.name,o.detail)];case 1:return l=a.sent(),console.log("upload result",l),this.checkRecipientFields(),[2]}})})}),n.addEventListener("removed",function(o){console.log("[SIGN] onRemoved",o.detail,o.target.value)}),n.addEventListener("focusout",function(o){return r.handleFieldChange(e,o).finally(function(){return r.checkRecipientFields()})}),n.addEventListener("fieldChange",function(o){return r.handleFieldChange(e,o).finally(function(){return r.checkRecipientFields()})}),n.setAttribute("templateid",this.envelope.template_id),n.setAttribute("fieldname",e.name),n.setAttribute("page",i.pageNumber),n.setAttribute("xScale",i.xScale),n.setAttribute("yScale",i.yScale),n.setAttribute("initials",this.recipient?K(this.recipient.full_name):""),n.setAttribute("name",((t=this.recipient)===null||t===void 0?void 0:t.full_name)||"")},p.prototype.handlePageRendered=function(i){var e=this,n=i.detail,r=this.getSortedFillableFields();r.forEach(function(t,o){if(t.page===n.pageNumber){var l=R(t,n,{disabled:!1,editable:!1,draggable:!1,done:e.isDone},o);l&&(Array.isArray(l)?l.map(function(a){return e.attachFieldAttributes(n,t,a)}):e.attachFieldAttributes(n,t,l))}}),this.sortedRecipients.filter(function(t){return t.role_name!==e.recipient.role_name&&(t.status==="invited"||t.status==="opened"||t.status==="pending")}).forEach(function(){e.getRecipientFields().filter(function(t){return t.page===n.pageNumber}).forEach(function(t){var o=R(t,n,{disabled:!0,editable:!1,draggable:!1,done:e.isDone});o&&(Array.isArray(o)?o.map(function(l){return e.attachFieldAttributes(n,t,l)}):e.attachFieldAttributes(n,t,o))})}),this.checkRecipientFields()},p.prototype.render=function(){var i=this;return this.envelope?this.isDone?c(I,{class:{agreed:this.agreed}},c("verdocs-view",{endpoint:this.endpoint,envelopeId:this.envelopeId,onSdkError:function(e){var n;return(n=i.sdkError)===null||n===void 0?void 0:n.emit(e.detail)}}),this.errorMessage&&c("verdocs-ok-dialog",{heading:"Network Error",message:this.errorMessage,onNext:function(){return i.errorMessage=""}}),this.showDone&&c("verdocs-ok-dialog",{heading:"You're Done!",message:"You can access the ".concat(this.documentsSingularPlural," at any time by clicking on the link from the invitation email.<br /><br />After all recipients have completed their actions, you will receive an email with the document and envelope certificate attached."),onNext:function(){i.showDone=!1,i.isDone=!0}}),this.submitting&&c("div",{class:"loading-indicator"},c("verdocs-loader",null))):c(I,{class:{agreed:this.agreed}},c("div",{id:"verdocs-sign-header"},c("div",{class:"inner"},c("img",{src:"https://verdocs.com/assets/white-logo.svg",alt:"Verdocs Logo",class:"logo"}),c("div",{class:"title"},this.envelope.name),c("div",{style:{flex:"1"}}),this.agreed&&!this.finishLater&&c("verdocs-button",{size:"small",label:this.nextButtonLabel,disabled:!this.agreed,onClick:function(){return i.handleNext()}}),c("div",{style:{marginLeft:"10px"}}),this.agreed&&c("verdocs-dropdown",{options:!this.isDone&&!this.finishLater?oe:se,onOptionSelected:function(e){return i.handleOptionSelected(e)}}))),c("div",{class:"document",style:{paddingTop:"15px"}},(this.envelope.documents||[]).map(function(e){var n=Q(1,e.pages);return c(C,null,n.map(function(r){return c("verdocs-envelope-document-page",{envelopeId:i.envelopeId,documentId:e.id,endpoint:i.endpoint,virtualWidth:612,virtualHeight:792,pageNumber:r,onPageRendered:function(t){return i.handlePageRendered(t)},type:"filled",layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})}))})),this.showFinishLater&&c("verdocs-ok-dialog",{heading:"You've saved your document to finish later.",message:"To complete the ".concat(this.documentsSingularPlural,", use the link in the original email notification inviting you to review and finish the document."),onNext:function(){return i.showFinishLater=!1}}),this.errorMessage&&c("verdocs-ok-dialog",{heading:"Network Error",message:this.errorMessage,onNext:function(){return i.errorMessage=""}}),this.showDone&&c("verdocs-ok-dialog",{heading:"You're Done!",message:"You can access the ".concat(this.documentsSingularPlural," at any time by clicking on the link from the invitation email.<br /><br />After all recipients have completed their actions, you will receive an email with the document and envelope certificate attached."),onNext:function(){i.showDone=!1,i.isDone=!0}}),this.showLoadError&&c("verdocs-ok-dialog",{heading:"Error Loading Document",message:"Please check with the sender to ensure it has not been canceled, and try again later.",buttonLabel:"Retry",onNext:function(){i.showLoadError=!1,window.location.reload()}}),this.submitting&&c("div",{class:"loading-indicator"},c("verdocs-loader",null)),!this.agreed&&c("div",{class:"cover"},c("div",{class:"agree"},c("verdocs-checkbox",{name:"agree",label:"By checking this box, you:",onInput:function(){return i.handleClickAgree()}}),c("ul",null,c("li",null,"Agree to use electronic records and signatures, and confirm you have read the"," ",c("a",{href:"https://verdocs.com/en/electronic-record-signature-disclosure/",target:"_blank"},"Electronic Record and Signatures Disclosure"),"."),c("li",null,"Agree to Verdocs"," ",c("a",{href:"https://verdocs.com/en/eula",target:"_blank"},"End User License Agreement")," ","and confirm you have read Verdocs'"," ",c("a",{href:"https://verdocs.com/en/privacy-policy/",target:"_blank"},"Privacy Policy"),"."))))):c(I,null,c("verdocs-loader",null))},p}();le.style=re;export{le as verdocs_sign};
