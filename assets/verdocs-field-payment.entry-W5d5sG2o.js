import{m as c,H as m,r as b,n as f,F as y}from"./components-BUY51Sj4.js";import{v}from"./index-FOFzXDN2.js";import{g as w,a as x}from"./TemplateRoleStore-ddc3b96f-B5kZ-UY0.js";import{g as k}from"./TemplateFieldStore-d7516adf-DcKvNlmt.js";import"./index-CDs2tPxN.js";import"./index-BXagdh-V.js";import"./iframe-BIHgOnMp.js";import"../sb-preview/runtime.js";import"./index-296aabaf-RiVWanv8.js";var h=function(l,i,n,o){function r(e){return e instanceof n?e:new n(function(s){s(e)})}return new(n||(n=Promise))(function(e,s){function d(a){try{t(o.next(a))}catch(p){s(p)}}function u(a){try{t(o.throw(a))}catch(p){s(p)}}function t(a){a.done?e(a.value):r(a.value).then(d,u)}t((o=o.apply(l,i||[])).next())})},g=function(l,i){var n={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},o,r,e,s;return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(t){return function(a){return u([t,a])}}function u(t){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,t[0]&&(n=0)),n;)try{if(o=1,r&&(e=t[0]&2?r.return:t[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,t[1])).done)return e;switch(r=0,e&&(t=[t[0]&2,e.value]),t[0]){case 0:case 1:e=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,r=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(e=n.trys,!(e=e.length>0&&e[e.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!e||t[1]>e[0]&&t[1]<e[3])){n.label=t[1];break}if(t[0]===6&&n.label<e[1]){n.label=e[1],e=t;break}if(e&&n.label<e[2]){n.label=e[2],n.ops.push(t);break}e[2]&&n.ops.pop(),n.trys.pop();continue}t=i.call(l,n)}catch(a){t=[6,a],r=0}finally{o=e=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},S='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-field-payment{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:24px;height:24px;display:block;font-size:11px;position:relative;border:1px solid #cfa;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-payment.disabled{opacity:0.5}verdocs-field-payment button,verdocs-field-payment div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-field-payment button{color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-payment button.hide{display:none}verdocs-field-payment input{float:left;font-family:Arial, sans-serif}verdocs-field-payment select{position:absolute;font-family:Arial, sans-serif;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-payment .frame{width:100%;height:100%;background-size:contain;text-align:left}verdocs-field-payment .frame img{position:absolute;height:auto;width:100%}verdocs-field-payment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}verdocs-field-payment .settings-icon{position:absolute;top:-3px;left:-20px;display:inline-block;cursor:pointer;opacity:0.3}verdocs-field-payment .settings-icon svg{fill:#707ae5}verdocs-field-payment .settings-icon:hover{opacity:1}',P=S,I=function(){function l(i){b(this,i),this.signatureComplete=f(this,"signatureComplete",7),this.initialComplete=f(this,"initialComplete",7),this.settingsChanged=f(this,"settingsChanged",7),this.deleted=f(this,"deleted",7),this.fieldStore=null,this.roleStore=null,this.templateid="",this.fieldname="",this.disabled=!1,this.fields=void 0,this.pageNum=void 0,this.roleName=void 0,this.fieldId=void 0,this.recipients=void 0,this.selectedRoleName=void 0,this.pdfPages=void 0,this.currentSignature=void 0,this.currentSignatureId=void 0,this.currentInitial=void 0,this.currentInitialId=void 0,this.focused=!1,this.signed=!1,this.xscale=1,this.yscale=1,this.pagenumber=1,this.preparedMessage=void 0,this.signatureUrl="",this.roleindex=0,this.showingProperties=!1}return l.prototype.componentWillLoad=function(){if(this.fieldStore=k(this.templateid),this.roleStore=w(this.templateid),this.recipients&&this.recipients.length>0){var i=this.recipients.find(function(n){return n.type==="preparer"});console.log("Found preparer",i),i&&(this.preparedMessage="Prepared by ".concat(i.full_name))}},l.prototype.showSettingsPanel=function(){return h(this,void 0,void 0,function(){var i;return g(this,function(n){return i=document.getElementById("verdocs-settings-panel-".concat(this.fieldname)),i&&i.showPanel&&i.showPanel(),[2]})})},l.prototype.hideSettingsPanel=function(){return h(this,void 0,void 0,function(){var i;return g(this,function(n){return i=document.getElementById("verdocs-settings-panel-".concat(this.fieldname)),i&&i.hidePanel&&i.hidePanel(),[2]})})},l.prototype.render=function(){var i=this,n,o=this.fieldStore.get("fields").find(function(d){return d.name===i.fieldname}),r=x(this.roleStore,o.role_name),e=o.rgba||v(r);if(!o)return c(y,null);var s=(n=this.disabled)!==null&&n!==void 0?n:!1;return c(m,{class:{focused:this.focused,disabled:s},style:{backgroundColor:e}},c("button",{class:{hide:this.signed}},"$"),this.signed?c("div",{class:"frame"}):c("div",{style:{display:"none"}}),c("img",{width:"100%",height:"100%",src:this.signatureUrl,alt:"Payment Icon"}))},l}();I.style=P;export{I as verdocs_field_payment};
