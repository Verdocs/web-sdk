import{r as g,c as r,h as t,H as m}from"./preview-X13RbvS2.js";import{V as d,$ as b,a0 as y,a1 as x,a2 as k,a3 as w,a4 as h,a5 as _,a6 as I,a7 as S,a8 as K,a9 as E,aa as z,ab as M,ac as T,ad as A,ae as C,af as P}from"./index-CL2BROP6.js";import{V as o}from"./Toast-b71de686-C5I_O3Ev.js";import{S as u}from"./errors-887f1e88-DR-_BPTJ.js";import{d as N}from"./index-fc5a08b9-CmPFFxNR.js";import{z as a}from"./index-7456b04f-CtY4qLFG.js";import{i as f}from"./utils-2cf884a7-7ztE_qbo.js";import"./chunk-QN4WKJDJ-Bf_F3oir.js";import"./iframe-DWV1oore.js";import"../sb-preview/runtime.js";import"./Types-e4a6eba5-BiEcJ5ex.js";const D='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-api-keys{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-api-keys .table{margin:12px 0}verdocs-settings-api-keys .data-col div{gap:12px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-settings-api-keys .data-col svg{width:24px;height:24px}verdocs-settings-api-keys .col-name svg,verdocs-settings-api-keys .col-client_id svg,verdocs-settings-api-keys .col-profile_id svg{fill:#a1a1aa}verdocs-settings-api-keys .col-actions svg{fill:#ffffff;stroke:#a1a1aa}verdocs-settings-api-keys .col-actions svg:hover{cursor:pointer;stroke:red}verdocs-settings-api-keys .col-actions>div{-ms-flex-pack:center;justify-content:center}verdocs-settings-api-keys .header-col.col-actions{text-align:center}verdocs-settings-api-keys verdocs-dialog p{font-size:16px;line-height:18px;margin:0 0 1em 0}@media all and (max-width: 450px){verdocs-settings-api-keys .col-client_id,verdocs-settings-api-keys .col-actions{display:none}}',F=D,U='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 003 5.5v2.879a2.5 2.5 0 00.732 1.767l6.5 6.5a2.5 2.5 0 003.536 0l2.878-2.878a2.5 2.5 0 000-3.536l-6.5-6.5A2.5 2.5 0 008.38 3H5.5zM6 7a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></svg>',L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z" clip-rule="evenodd" /></svg>',R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>',G='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" /></svg>',O=class{constructor(e){g(this,e),this.sdkError=r(this,"sdkError",7),this.memberInvited=r(this,"memberInvited",7),this.memberUpdated=r(this,"memberUpdated",7),this.memberRemoved=r(this,"memberRemoved",7),this.endpoint=d.getDefault(),this.keys=[],this.creatingKey=!1,this.createdKey=null,this.deletingKey=null,this.rotatingKey=null,this.newApiKeyName="",this.newApiKeyProfileId="",this.members=[]}componentWillLoad(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}}async componentDidLoad(){this.newApiKeyProfileId=this.endpoint.session.profile_id,b(this.endpoint,this.endpoint.session.organization_id).then(e=>{this.members=e}).catch(e=>{var i,s,n;console.log("[SETTINGS] Error loading organization members",e),(i=this.sdkError)===null||i===void 0||i.emit(new u(e.message,(s=e.response)===null||s===void 0?void 0:s.status,(n=e.response)===null||n===void 0?void 0:n.data)),o("Unable to load API keys. Please try again later",{style:"error"})}),this.loadKeys()}loadKeys(){y(this.endpoint,this.endpoint.session.organization_id).then(e=>{this.keys=e}).catch(e=>{var i,s,n;console.log("[SETTINGS] Unable to load API keys",e),(i=this.sdkError)===null||i===void 0||i.emit(new u(e.message,(s=e.response)===null||s===void 0?void 0:s.status,(n=e.response)===null||n===void 0?void 0:n.data)),o("Unable to load API keys. Please try again later",{style:"error"})})}async handleDeleteKey(){x(this.endpoint,this.deletingKey.organization_id,this.deletingKey.client_id).then(()=>{this.deletingKey=null,o("API key deleted",{style:"success"}),this.loadKeys()}).catch(e=>{var i,s,n;this.deletingKey=null,console.log("[SETTINGS] Unable to delete API key",e),(i=this.sdkError)===null||i===void 0||i.emit(new u(e.message,(s=e.response)===null||s===void 0?void 0:s.status,(n=e.response)===null||n===void 0?void 0:n.data)),o("Unable to delete API key. Please try again later",{style:"error"})})}async handleRotateKey(){k(this.endpoint,this.rotatingKey.organization_id,this.rotatingKey.client_id).then(e=>{this.rotatingKey=null,o("API key rotated",{style:"success"}),this.loadKeys(),this.createdKey=e}).catch(e=>{var i,s,n;this.rotatingKey=null,console.log("[SETTINGS] Unable to rotate API key",e),(i=this.sdkError)===null||i===void 0||i.emit(new u(e.message,(s=e.response)===null||s===void 0?void 0:s.status,(n=e.response)===null||n===void 0?void 0:n.data)),o("Unable to rotate API key. Please try again later",{style:"error"})})}async handleCreateKey(){w(this.endpoint,this.endpoint.session.organization_id,{permission:"personal",name:this.newApiKeyName,profile_id:this.newApiKeyProfileId}).then(e=>{this.creatingKey=!1,this.createdKey=e,o("API key created",{style:"success"}),this.loadKeys()}).catch(e=>{var i,s,n;this.creatingKey=!1,console.log("[SETTINGS] Unable to create API key",e),(i=this.sdkError)===null||i===void 0||i.emit(new u(e.message,(s=e.response)===null||s===void 0?void 0:s.status,(n=e.response)===null||n===void 0?void 0:n.data)),o("Unable to create API key. Please try again later",{style:"error"})})}render(){var e,i,s,n;const v=this.members.map(l=>({label:h(l),value:l.id}));return this.endpoint.session?t(m,null,t("verdocs-table",{data:this.keys,columns:[{id:"name",header:"Name",renderCell:(l,c)=>t("div",null,t("div",null,c.name))},{id:"client_id",header:"Client ID",renderCell:(l,c)=>t("div",null,t("div",{innerHTML:U}),t("div",null,c.client_id))},{id:"profile_id",header:"Acts as",renderCell:(l,c)=>t("div",null,t("div",{innerHTML:L}),t("div",null,h(c.profile)))},{id:"actions",header:"Actions",renderCell:(l,c)=>t("div",null,t("div",{innerHTML:R,onClick:()=>this.deletingKey=c}),t("div",{innerHTML:G,onClick:()=>this.rotatingKey=c}))}]}),t("verdocs-button",{label:"Add API Key",size:"normal",onClick:()=>this.creatingKey=!0}),this.deletingKey&&t("verdocs-dialog",{onExit:()=>this.deletingKey=null},t("div",{slot:"title",class:"heading"},'Delete API key "',this.deletingKey.name,'"?'),t("div",{class:"content"},t("p",null,"Are you sure you want to delete this key? This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",onClick:()=>this.deletingKey=null}),t("verdocs-button",{size:"small",label:"OK",onClick:()=>this.handleDeleteKey()})))),this.rotatingKey&&t("verdocs-dialog",{onExit:()=>this.rotatingKey=null},t("div",{slot:"title",class:"heading"},'Rotate API key "',this.rotatingKey.name,'"?'),t("div",{class:"content"},t("p",null,"Are you sure you want to rotate this key? A new client secret will be generated, and the old value will become unusable. This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",onClick:()=>this.rotatingKey=null}),t("verdocs-button",{size:"small",label:"OK",onClick:()=>this.handleRotateKey()})))),this.creatingKey&&t("verdocs-dialog",{onExit:()=>this.creatingKey=!1},t("div",{slot:"title",class:"heading"},"Create API Key"),t("div",{class:"content"},t("verdocs-text-input",{label:"Name",placeholder:"API key name...",id:"verdocs-api-key-name",value:this.newApiKeyName,autocomplete:"off",required:!0,onInput:l=>this.newApiKeyName=l.target.value,onFocusout:l=>{this.newApiKeyName=l.target.value.trim()}}),t("p",null,'API keys must be associated with a profile. Actions performed via API calls using this key will "act as" this profile.'),t("verdocs-select-input",{options:v,label:"Act as Profile",onInput:l=>{this.newApiKeyProfileId=l.target.value}}),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",onClick:()=>this.creatingKey=!1}),t("verdocs-button",{size:"small",label:"OK",onClick:()=>this.handleCreateKey()})))),this.createdKey&&t("verdocs-dialog",{onExit:()=>this.createdKey=null},t("div",{slot:"title",class:"heading"},"API Key Details"),t("div",{class:"content"},t("verdocs-text-input",{label:"Name",disabled:!0,value:(e=this.createdKey)===null||e===void 0?void 0:e.name}),t("verdocs-text-input",{label:"Profile",disabled:!0,value:h((i=this.createdKey)===null||i===void 0?void 0:i.profile)}),t("p",null,"Please save the Client ID and Secret below. Be sure to never expose your secret key in insecure (Web or mobile environments)!"),t("verdocs-text-input",{label:"Client ID",disabled:!0,value:(s=this.createdKey)===null||s===void 0?void 0:s.client_id,copyable:!0}),t("verdocs-text-input",{label:"Secret Key",disabled:!0,value:(n=this.createdKey)===null||n===void 0?void 0:n.client_secret,copyable:!0}),t("div",{class:"buttons"},t("verdocs-button",{size:"small",label:"Done",onClick:()=>this.createdKey=null}))))):(console.log("[SETTINGS] Must be authenticated"),t(m,{class:"authentication-required"},"Must be authenticated"))}};O.style=F;const B='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-members{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-members .table{margin:12px 0}verdocs-settings-members .role{font-size:12px;width:32px;height:32px;border-radius:32px;background:#777777;color:#ffffff;font-weight:700;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-settings-members .table{margin:12px 0}verdocs-settings-members .data-col div{gap:12px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-settings-members .data-col svg{width:24px;height:24px}verdocs-settings-members .col-name svg,verdocs-settings-members .col-client_id svg,verdocs-settings-members .col-profile_id svg{fill:#a1a1aa}verdocs-settings-members .col-actions svg{fill:#ffffff;stroke:#a1a1aa}verdocs-settings-members .col-actions svg:hover{cursor:pointer;stroke:red}verdocs-settings-members .col-actions>div{-ms-flex-pack:center;justify-content:center}verdocs-settings-members .header-col.col-actions{text-align:center}verdocs-settings-members verdocs-dialog p{font-size:16px;line-height:18px;margin:0 0 1em 0}@media all and (max-width: 450px){verdocs-settings-members .col-email,verdocs-settings-members .col-phone,verdocs-settings-members .col-actions{display:none}}',V=B,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>',q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" /></svg>',H=e=>{if(e.find(i=>i.name==="owner")!==void 0)return"#9333ea";if(e.find(i=>i.name==="admin")!==void 0)return"#2563eb";if(e.find(i=>i.name==="member")!==void 0)return"#16a34a";if(e.find(i=>i.name==="basic_user")!==void 0)return"#ea580c";if(e.find(i=>i.name==="contact")!==void 0)return"#52525B"},j=[{label:"Contact",value:"contact"},{label:"Basic User",value:"basic_user"},{label:"Member",value:"member"},{label:"Admin",value:"admin"},{label:"Owner",value:"owner"}],$=class{constructor(e){g(this,e),this.sdkError=r(this,"sdkError",7),this.memberInvited=r(this,"memberInvited",7),this.memberUpdated=r(this,"memberUpdated",7),this.memberRemoved=r(this,"memberRemoved",7),this.endpoint=d.getDefault(),this.members=[],this.invited=[],this.selectedTab=0,this.invitingMember=!1,this.newEmailAddress="",this.newRole="member",this.submitting=!1,this.deletingInvitation=null,this.resendingInvitation=null,this.deletingMember=null}componentWillLoad(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}}async componentDidLoad(){this.loadMembers().catch(e=>console.log("Unknown Error",e))}async loadMembers(){var e,i,s;try{const[n,v]=await Promise.all([b(this.endpoint,this.endpoint.session.organization_id),_(this.endpoint,this.endpoint.session.organization_id)]);this.members=n,this.invited=v,this.newRole="member"}catch(n){(e=this.sdkError)===null||e===void 0||e.emit(new u(n.message,(i=n.response)===null||i===void 0?void 0:i.status,(s=n.response)===null||s===void 0?void 0:s.data)),o("Unable to load members. Please try again later")}}async handleInviteMember(){this.submitting=!0,I(d.getDefault(),this.endpoint.session.organization_id,{email:this.newEmailAddress,role:this.newRole}).then(e=>{console.log("[SETTINGS] Invited member",e),this.invitingMember=!1,this.submitting=!1,this.newRole="member",this.newEmailAddress="",o("Invitation sent!",{style:"success"}),this.loadMembers()}).catch(e=>{console.log("[SETTINGS] Unable to invite member",e),this.invitingMember=!1,this.submitting=!1,this.newRole="member",this.newEmailAddress="",o("Unable to invite member. Please try again later",{style:"error"})})}async handleDeleteMember(){this.submitting=!0,S(d.getDefault(),this.deletingMember.organization_id,this.deletingMember.email).then(()=>{this.submitting=!1,this.deletingMember=null,o("The member has been deleted.",{style:"success"}),this.loadMembers()}).catch(e=>{this.submitting=!1,this.deletingMember=null,console.log("Delete error",e),o("Unable to cancel invitation. Please try again later",{style:"error"})})}async handleDeleteInvitation(){this.submitting=!0,K(d.getDefault(),this.deletingInvitation.organization_id,this.deletingInvitation.email).then(()=>{this.submitting=!1,this.deletingInvitation=null,o("The invitation has been cancelled.",{style:"success"}),this.loadMembers()}).catch(e=>{this.submitting=!1,this.deletingInvitation=null,console.log("Delete error",e),o("Unable to cancel invitation. Please try again later",{style:"error"})})}async handleResendInvitation(){this.submitting=!0,E(d.getDefault(),this.resendingInvitation.organization_id,this.resendingInvitation.email).then(()=>{this.submitting=!1,this.resendingInvitation=null,o("The invitation has been resent.",{style:"success"}),this.loadMembers()}).catch(e=>{this.submitting=!1,this.resendingInvitation=null,console.log("REsend error",e),o("Unable to resend invitation. Please try again later",{style:"error"})})}render(){return this.endpoint.session?t(m,null,t("verdocs-tabs",{tabs:[{label:`Members (${this.members.length})`},{label:`Pending Invitations (${this.invited.length})`}],onSelectTab:e=>this.selectedTab=e.detail.index}),this.selectedTab===0&&t("verdocs-table",{data:this.members,columns:[{id:"name",renderHeader:()=>"Member",renderCell:(e,i)=>t("div",{style:{display:"flex",flexDirection:"row",gap:"10px",alignItems:"center"}},t("div",{class:"role",style:{backgroundColor:H(i.roles)}},M(i)),t("span",null,h(i)))},{id:"email",header:"E-mail Address"},{id:"phone",header:"Phone Number"},{id:"roles",header:"Role",renderCell:(e,i)=>`${i.roles}`},{id:"actions",header:"Actions",renderCell:(e,i)=>t("div",null,i.id!==this.endpoint.session.profile_id&&t("div",{innerHTML:p,onClick:()=>this.deletingMember=i}))}]}),this.selectedTab===1&&t("verdocs-table",{data:this.invited,columns:[{id:"email",header:"E-mail Address"},{id:"generated_at",header:"Invited",renderCell:(e,i)=>t("div",null,N.format(new Date(i.generated_at),"MMM d, Y"))},{id:"role",header:"Role",renderCell:(e,i)=>t("div",null,i.role)},{id:"status",header:"Status",renderCell:(e,i)=>t("div",null,z(i.status))},{id:"actions",header:"Actions",renderCell:(e,i)=>t("div",null,t("div",{innerHTML:p,onClick:()=>this.deletingInvitation=i}),t("div",{innerHTML:q,onClick:()=>this.resendingInvitation=i}))}]}),t("verdocs-button",{label:"Invite New Member",size:"normal",disabled:this.submitting,onClick:()=>this.invitingMember=!0}),this.invitingMember&&t("verdocs-dialog",{onExit:()=>this.invitingMember=!1},t("div",{slot:"title",class:"heading"},"Invite New Member"),t("div",{class:"content"},t("verdocs-text-input",{label:"E-mail Address",placeholder:"Enter the user's email address...",id:"verdocs-invite-email",value:this.newEmailAddress,autocomplete:"off",required:!0,onInput:e=>this.newEmailAddress=e.target.value,onFocusout:e=>{this.newEmailAddress=e.target.value.trim()}}),t("div",{style:{marginBottom:"20px"}}),t("verdocs-select-input",{options:j,label:"Role",onInput:e=>{this.newRole=e.target.value}}),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",disabled:this.submitting,onClick:()=>this.invitingMember=!1}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting||!this.newEmailAddress||!this.newRole,onClick:()=>this.handleInviteMember()})))),this.deletingMember&&t("verdocs-dialog",{onExit:()=>this.deletingMember=null},t("div",{slot:"title",class:"heading"},"Delete Member?"),t("div",{class:"content"},t("p",null,"Are you sure you want to delete this member? This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",disabled:this.submitting,label:"Cancel",onClick:()=>this.deletingMember=null}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting,onClick:()=>this.handleDeleteMember()})))),this.deletingInvitation&&t("verdocs-dialog",{onExit:()=>this.deletingInvitation=null},t("div",{slot:"title",class:"heading"},"Cancel Invitation?"),t("div",{class:"content"},t("p",null,"Are you sure you want to cancel this invitation? This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",disabled:this.submitting,label:"Cancel",onClick:()=>this.deletingInvitation=null}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting,onClick:()=>this.handleDeleteInvitation()})))),this.resendingInvitation&&t("verdocs-dialog",{onExit:()=>this.resendingInvitation=null},t("div",{slot:"title",class:"heading"},"Resend Invitation?"),t("div",{class:"content"},t("p",null,"The user will receive an email reminder to join your organization."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",disabled:this.submitting,label:"Cancel",onClick:()=>this.resendingInvitation=null}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting,onClick:()=>this.handleResendInvitation()}))))):(console.log("[SETTINGS] Must be authenticated"),t(m,{class:"authentication-required"},"Must be authenticated"))}};$.style=V;const W='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-organization{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-organization .columns{gap:20px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}verdocs-settings-organization .column{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-settings-organization verdocs-text-input{margin:10px 0}verdocs-settings-organization verdocs-text-input input{height:32px}@media screen and (max-width: 600px){verdocs-settings-organization .columns{gap:0;-ms-flex-direction:column;flex-direction:column}}',Y=W,J=a.object({business_name:a.string().trim().max(30).optional(),contact_email:a.string().trim().email("Invalid email").optional().or(a.literal("")),phone:a.preprocess(e=>f(String(e).trim()),a.string().optional()),url:a.string().trim().optional()}),Q=class{constructor(e){g(this,e),this.sdkError=r(this,"sdkError",7),this.organizationUpdated=r(this,"organizationUpdated",7),this.endpoint=d.getDefault(),this.valid=!1,this.dirty=!1,this.submitting=!1,this.name="",this.business_name="",this.contact_email="",this.phone="",this.url=""}componentWillLoad(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}}async componentDidLoad(){const e=await T(this.endpoint,this.endpoint.session.organization_id);console.log("[SETTINGS] Loaded organization",e),this.resetForm(e)}resetForm(e){this.name=e.name,this.business_name=e.business_name,this.contact_email=e.contact_email,this.phone=e.phone,this.url=e.url,this.dirty=!1,this.valid=!0}handleSubmit(e){e.preventDefault(),e.stopPropagation(),A(d.getDefault(),this.endpoint.session.organization_id,{name:this.name,business_name:this.business_name,contact_email:this.contact_email,phone:this.phone,url:this.url}).then(i=>{var s;console.log("[SETTINGS] Update result",i),(s=this.organizationUpdated)===null||s===void 0||s.emit({endpoint:this.endpoint,organization:i}),this.resetForm(i)}).catch(i=>o(`Error updating organization: ${i.message}`,{style:"error"}))}processFields(){const e=J.safeParse({name:this.name,business_name:this.business_name,contact_email:this.contact_email,phone:this.phone,url:this.url});console.log("[SETTINGS] Validation result",e),this.valid=e.success,this.dirty=!0}render(){return this.endpoint.session?t(m,null,t("h1",null,"Organization Profile"),t("form",{onSubmit:e=>this.handleSubmit(e)},t("div",{class:"columns"},t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-organization-name",value:this.name,autocomplete:"off",label:"Name",required:!1,disabled:!1,placeholder:"Enter your organization's name...",onInput:e=>this.name=e.target.value,onFocusout:e=>{this.name=e.target.value.trim(),this.processFields()}}),t("verdocs-text-input",{id:"verdocs-organization-business-name",value:this.business_name,autocomplete:"off",label:"Display Name",placeholder:"The name to display on communications...",onInput:e=>this.business_name=e.target.value,onFocusout:e=>{this.business_name=e.target.value.trim(),this.processFields()}}),t("verdocs-text-input",{id:"verdocs-organization-url",value:this.url,autocomplete:"off",label:"Web URL",placeholder:"Enter your Web URL...",onInput:e=>this.url=e.target.value,onFocusout:e=>{this.url=e.target.value.trim(),this.processFields()}}),t("verdocs-text-input",{id:"verdocs-organization-phone",value:this.phone,autocomplete:"off",label:"Phone Number",placeholder:"Enter your phone number...",onInput:e=>this.phone=e.target.value,onFocusout:e=>{this.phone=e.target.value.trim(),this.processFields()}})),t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-organization-email",value:this.contact_email,clearable:!0,autocomplete:"off",label:"Contact Email",placeholder:"Enter your contact email address...",onInput:e=>this.contact_email=e.target.value,onFocusout:e=>{this.contact_email=e.target.value.trim(),this.processFields()}}))),t("verdocs-button",{type:"submit",label:"Save",size:"normal",disabled:this.submitting||!this.dirty}))):(console.log("[SETTINGS] Must be authenticated"),t(m,{class:"authentication-required"},"Must be authenticated"))}};Q.style=Y;const X='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-profile{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-profile .columns{gap:20px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}verdocs-settings-profile .column{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-settings-profile verdocs-text-input{margin:10px 0}verdocs-settings-profile verdocs-text-input input{height:32px}@media screen and (max-width: 600px){verdocs-settings-profile .columns{gap:0;-ms-flex-direction:column;flex-direction:column}}',Z=X,ee=a.object({first_name:a.string().trim().min(1,"First name is required").max(30),last_name:a.string().trim().min(1,"Last name is required").max(30),email:a.string().trim().email("Invalid email").min(1,"Email is required"),phone:a.preprocess(e=>f(String(e).trim()),a.string())}),te=class{constructor(e){g(this,e),this.sdkError=r(this,"sdkError",7),this.profileUpdated=r(this,"profileUpdated",7),this.endpoint=d.getDefault(),this.valid=!1,this.dirty=!1,this.submitting=!1,this.first_name="",this.last_name="",this.email="",this.phone=""}componentWillLoad(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}}async componentDidLoad(){const e=await C(this.endpoint);console.log("[SETTINGS] Loaded profile",e),this.resetForm(e)}resetForm(e){this.first_name=e.first_name,this.last_name=e.last_name,this.email=e.email,this.phone=e.phone,this.dirty=!1,this.valid=!0}handleSubmit(e){e.preventDefault(),e.stopPropagation(),P(d.getDefault(),this.endpoint.session.profile_id,{first_name:this.first_name,last_name:this.last_name,phone:this.phone}).then(i=>{var s;console.log("[SETTINGS] Update result",i),(s=this.profileUpdated)===null||s===void 0||s.emit({endpoint:this.endpoint,profile:i}),this.resetForm(i)}).catch(i=>o(`Error updating profile: ${i.message}`,{style:"error"}))}processFields(){const e=ee.safeParse({first_name:this.first_name,last_name:this.last_name,email:this.email,phone:this.phone});console.log("[SETTINGS] Validation result",e),this.valid=e.success,this.dirty=!0}render(){return this.endpoint.session?t(m,null,t("h1",null,"My Profile"),t("form",{onSubmit:e=>this.handleSubmit(e)},t("div",{class:"columns"},t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-profile-first-name",value:this.first_name,autocomplete:"off",label:"First Name",required:!0,placeholder:"Enter your first name...",onInput:e=>this.first_name=e.target.value,onFocusout:e=>{this.first_name=e.target.value.trim(),this.processFields()}}),t("verdocs-text-input",{id:"verdocs-profile-last-name",value:this.last_name,autocomplete:"off",label:"Last Name",required:!0,placeholder:"Enter your last name...",onInput:e=>this.last_name=e.target.value,onFocusout:e=>{this.last_name=e.target.value.trim(),this.processFields()}})),t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-profile-email",value:this.email,autocomplete:"off",label:"Email Address",required:!0,disabled:!0,placeholder:"Enter your email address...",onInput:e=>this.email=e.target.value,onFocusout:e=>{this.email=e.target.value.trim(),this.processFields()}}),t("verdocs-text-input",{id:"verdocs-profile-phone",value:this.phone,clearable:!0,autocomplete:"off",label:"Phone Number",placeholder:"Enter your phone number...",onInput:e=>this.phone=e.target.value,onFocusout:e=>{this.phone=e.target.value.trim(),this.processFields()}}))),t("verdocs-button",{type:"submit",label:"Save",size:"normal",disabled:this.submitting||!this.dirty}))):(console.log("[SETTINGS] Must be authenticated"),t(m,{class:"authentication-required"},"Must be authenticated"))}};te.style=Z;export{O as verdocs_settings_api_keys,$ as verdocs_settings_members,Q as verdocs_settings_organization,te as verdocs_settings_profile};
