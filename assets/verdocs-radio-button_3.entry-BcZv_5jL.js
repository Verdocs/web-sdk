import{r as n,h as e,H as d,c as r}from"./preview-X13RbvS2.js";import{V as c,Z as f,ak as m,U as h}from"./index-CL2BROP6.js";import{g as u,u as v,d as g}from"./TemplateRoleStore-ddc3b96f-DhMDWHWE.js";import{g as x}from"./TemplateFieldStore-d7516adf-DPqtitkf.js";import{g as p}from"./TemplateStore-df5484bb-Bwk0x2-p.js";import{S as b}from"./errors-887f1e88-DR-_BPTJ.js";import"./index-7456b04f-CtY4qLFG.js";import"./chunk-QN4WKJDJ-Bf_F3oir.js";import"./iframe-DWV1oore.js";import"../sb-preview/runtime.js";import"./index-296aabaf-BfkBbDig.js";const y='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-radio-button{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:20px;height:20px;display:block;font-size:11px;position:relative;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border-radius:100%}verdocs-radio-button.disabled{opacity:0.5}verdocs-radio-button input[type=radio]{position:absolute;opacity:0}verdocs-radio-button input[type=radio]+label:before{content:"";background:#f5f5fa;border-radius:100%;border:1px solid rgba(0, 0, 0, 0.6);display:inline-block;width:16px;height:16px;position:absolute;left:1px;top:1px;cursor:pointer;text-align:center;-webkit-transition:all 250ms ease;transition:all 250ms ease}verdocs-radio-button input[type=radio]:checked+label:before{background-color:#55bc81;-webkit-box-shadow:inset 0 0 0 2px #f5f5fa;box-shadow:inset 0 0 0 2px #f5f5fa}verdocs-radio-button input[type=radio]:focus+label:before{outline:none;border-color:#55bc81}verdocs-radio-button input[type=radio]:disabled+label:before{-webkit-box-shadow:inset 0 0 0 4px #f5f5fa;box-shadow:inset 0 0 0 4px #f5f5fa;border-color:#a0a0d0;background:#a0a0d0}verdocs-radio-button input[type=radio]+label:empty:before{margin-right:0}verdocs-radio-button.required input[type=radio]+label:before{border:1px solid #cc0000}verdocs-radio-button.hide{display:none}verdocs-radio-button.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',k=y,w=class{constructor(o){n(this,o),this.checked=!1,this.name="",this.value="",this.disabled=!1}render(){return e(d,{key:"08503221049dbcdb5ad6d8804576bd302437a784",class:{disabled:this.disabled}},e("input",{key:"649115f2c5d916fbec807ab0566ec3352abe6afd",type:"radio",value:this.value,name:this.name,id:`verdocs-radio-button-${this.name}-${this.value}`,checked:this.checked,disabled:this.disabled}),e("label",{key:"597495b414c518d808f241cea9c3c66b0fabdf63",htmlFor:`verdocs-radio-button-${this.name}-${this.value}`}))}};w.style=k;const S='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-template-role-properties{font-family:"Inter", "Barlow", sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-template-role-properties div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-template-role-properties .background-overlay{position:fixed;z-index:10000;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:rgba(0, 0, 0, 0.4980392157)}verdocs-template-role-properties .dialog{width:340px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border-radius:4px;overflow:hidden;background:#ffffff;padding:16px;-webkit-box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4);box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4)}verdocs-template-role-properties .heading{display:-ms-flexbox;display:flex;font-size:20px;font-weight:500;-ms-flex-direction:row;flex-direction:row}verdocs-template-role-properties .buttons{display:-ms-flexbox;display:flex;margin-top:10px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end}verdocs-template-role-properties .buttons verdocs-button{margin-left:16px}verdocs-template-role-properties form .row{display:-ms-flexbox;display:flex;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;margin:0 0 10px 0;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-template-role-properties form .row .input-label{display:block;color:#555570;font-weight:700;font-size:14px;margin:0 0 4px 0;-ms-flex:0 0 100px;flex:0 0 100px}verdocs-template-role-properties verdocs-select-input{-ms-flex:1;flex:1;margin:0}verdocs-template-role-properties verdocs-text-input{margin:0 0 10px 0}verdocs-template-role-properties verdocs-text-input label{margin:0;display:-ms-flexbox;display:flex;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-template-role-properties verdocs-text-input .input-label{-ms-flex:0 0 100px;flex:0 0 100px}verdocs-template-role-properties verdocs-text-input input{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}verdocs-template-role-properties verdocs-text-input verdocs-text-input{margin:0}verdocs-template-role-properties .checkbox-wrapper{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}verdocs-template-role-properties .delete-button{height:34px;display:-ms-flexbox;display:flex;padding:0 6px;cursor:pointer;background:none;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #999;-ms-flex-pack:center;justify-content:center}verdocs-template-role-properties .delete-button svg{width:24px;height:24px}verdocs-template-role-properties .delete-button:active{background:#f3f3f3}',_=S,I='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#a50021"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>',E=class{constructor(o){n(this,o),this.close=r(this,"close",7),this.delete=r(this,"delete",7),this.sdkError=r(this,"sdkError",7),this.templateStore=null,this.fieldStore=null,this.roleStore=null,this.endpoint=c.getDefault(),this.templateId="",this.roleName="",this.sender="everyone",this.dirty=!1,this.saving=!1,this.name="",this.type="signer",this.full_name="",this.email="",this.phone="",this.delegator=!1}async componentWillLoad(){var o,t,a;try{if(this.endpoint.loadSession(),!this.templateId){console.log(`[ROLE_PROPERTIES] Missing required template ID ${this.templateId}`);return}if(!this.endpoint.session){console.log("[ROLE_PROPERTIES] Unable to start builder session, must be authenticated");return}this.templateStore=await p(this.endpoint,this.templateId,!1),this.fieldStore=x(this.templateId),this.roleStore=u(this.templateId);const i=this.roleStore.state.roles.find(s=>s.name===this.roleName);i&&(this.name=i.name,this.type=i.type,this.full_name=i.full_name,this.email=i.email,this.phone=i.phone,this.delegator=i.delegator,console.log("[ROLE_PROPERTIES] Editing role",i))}catch(i){console.log("[ROLE_PROPERTIES Error with preview session",i),(o=this.sdkError)===null||o===void 0||o.emit(new b(i.message,(t=i.response)===null||t===void 0?void 0:t.status,(a=i.response)===null||a===void 0?void 0:a.data))}}handleCancel(o){var t;o.stopPropagation();const a=this.roleStore.state.roles.find(i=>i.name===this.roleName);a&&(this.name=a.name,this.type=a.type,this.full_name=a.full_name,this.email=a.email,this.phone=a.phone,this.delegator=a.delegator),this.dirty=!1,(t=this.close)===null||t===void 0||t.emit()}async handleSave(o){o.stopPropagation(),this.saving=!0,f(this.endpoint,this.templateId,this.roleName,{name:this.name,type:this.type,full_name:this.full_name,email:this.email,phone:this.phone,delegator:this.delegator}).then(async t=>{var a;console.log("[ROLE_PROPERTIES] Update result",t),this.saving=!1,this.dirty=!1,v(this.roleStore,this.roleName,t),(a=this.close)===null||a===void 0||a.emit()}).catch(t=>{console.log("[ROLE_PROPERTIES Update error",t),this.saving=!1})}async handleDelete(o){o.stopPropagation(),window.confirm("Are you sure you wish to remove this role? All associated fields will be removed as well. This action cannot be undone.")&&m(this.endpoint,this.templateId,this.roleName).then(()=>{var t;g(this.roleStore,this.roleName),(t=this.delete)===null||t===void 0||t.emit({templateId:this.templateId,roleName:this.roleName})}).catch(t=>{console.log("[ROLE_PROPERTIES Deletion error",t)})}render(){const o=this.fieldStore.get("fields").some(t=>t.role_name===this.roleName);return e(d,{key:"710e7f0ab8b1ecad6fa29a2872cfa8cd724deabd"},e("div",{key:"cce8cee42d046c80504e4ae6905cd290334612e6",class:"background-overlay",onClick:t=>this.handleCancel(t)},e("div",{key:"9d43dd9253210f0682f9cf59835702e3ccde5b4f",class:"dialog"},e("form",{key:"b532cbc42c82301bbb528b8a3c5112ccad7ae0e4",onSubmit:t=>t.preventDefault(),onClick:t=>t.stopPropagation(),autocomplete:"off"},e("verdocs-text-input",{key:"084af944f9d6c9f3e6fbc562caae052523c755f0",id:"verdocs-role-name",label:"Role Name",value:this.name,autocomplete:"off",disabled:o,helpText:o?"This role has fields assigned and can no longer be renamed.":"A unique name to identify the role in the workflow. Submitted data will also be tagged with this value.",placeholder:"Role Name...",onInput:t=>{this.name=t.target.value,this.dirty=!0}}),e("div",{key:"2dabe3a2431972036407ec97432809b58ca8f250",class:"row"},e("div",{key:"fe50813b64830cd68e0c24621aaf72b926aac517",class:"input-label"},"Type:"),e("verdocs-select-input",{key:"24ba6e3ae5f4fe7c187e7a11e12baaba4caaa094",value:this.type,options:[{label:"Signer",value:"signer"},{label:"CC",value:"cc"},{label:"Approver",value:"approver"}],onInput:t=>{this.type=t.target.value,this.dirty=!0}}),e("verdocs-help-icon",{key:"271c9d72f5b7b7ecb683cd4b0ea0dbfec26d385b",text:"Most participants are Signers. CC roles are notified when documents are signed, but have no other actions. Approvers get notified when signing is completed to perform a final review."})),e("verdocs-text-input",{key:"cccad696894aeb79f93803c8cc50fa9552a29860",id:"verdocs-recipient-email",label:"Full Name",value:this.full_name,autocomplete:"off",helpText:"The recipient's full name, if it will always stay the same. Leave blank to supply this value later, when each new envelope is created from the template.",placeholder:"Full Name...",onInput:t=>{this.full_name=t.target.value,this.dirty=!0}}),e("verdocs-text-input",{key:"5a374e483b87942567a63c39fe9fdef13d460c59",id:"verdocs-recipient-email",label:"Email",value:this.email,autocomplete:"off",helpText:"The recipient's email address, if it will always stay the same. Leave blank to supply this value later, when each new envelope is created from the template.",placeholder:"Email Address...",onInput:t=>{this.email=t.target.value,this.dirty=!0}}),e("verdocs-text-input",{key:"8e9bf75190115c2b856a5a109a82e4fade3d99a7",id:"verdocs-recipient-phone",label:"Phone",value:this.phone,autocomplete:"off",helpText:"The recipient's phone number, if it will always stay the same. Leave blank to supply this value later, when each new envelope is created from the template.",placeholder:"Phone Number...",onInput:t=>{this.phone=t.target.value,this.dirty=!0}}),e("div",{key:"9fd9cb1a91e78154bf1df75cec3b357a464955c5",class:"row"},e("div",{key:"480168f43800400d9572f6018a0d1d60cc56a588",class:"input-label"},"May Delegate:"),e("div",{key:"e65486b714f0e8917572494c57f1ea316ef73038",class:"checkbox-wrapper"},e("verdocs-checkbox",{key:"3c76bfc3d233e09be06e7bf252fd6997b30fc38b",checked:this.delegator,onInput:t=>{this.delegator=t.target.checked,this.dirty=!0}})),e("verdocs-help-icon",{key:"99076f70ccdf5a961a7078093e2f3f2ca73b56fb",text:"If enabled, this recipient may delegate their actions to another individual."})),e("div",{key:"86f63ddbd965d2709269cfeb1f105c69424d3a5c",class:"buttons"},e("button",{key:"ddde079896635a69dcd10bb82008c1986ed52383",class:"delete-button",disabled:this.dirty,onClick:t=>this.handleDelete(t),innerHTML:I}),e("div",{key:"f4d23743dce9acb5f16c519b569764bb17253944",style:{flex:"1"}}),e("verdocs-button",{key:"fe271dda2a5e9d6a8f0c4ba4199af5ea8f81077d",size:"small",variant:"outline",label:"Cancel",disabled:!this.dirty,onClick:t=>this.handleCancel(t)}),e("verdocs-button",{key:"38b2986e9e3b784215fcafdf486631f7ebf1361b",size:"small",label:"Save",disabled:!this.dirty,onClick:t=>this.handleSave(t)}))))))}};E.style=_;const R='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-template-sender{font-family:"Inter", "Barlow", sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-template-sender div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-template-sender .background-overlay{position:absolute;z-index:10000;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:rgba(0, 0, 0, 0.4980392157)}verdocs-template-sender .dialog{width:340px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border-radius:4px;overflow:hidden;background:#ffffff;padding:16px;-webkit-box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4);box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4)}verdocs-template-sender .heading{display:-ms-flexbox;display:flex;font-size:20px;font-weight:500;-ms-flex-direction:row;flex-direction:row}verdocs-template-sender .buttons{display:-ms-flexbox;display:flex;margin-top:10px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end}verdocs-template-sender .buttons verdocs-button{margin-left:16px}verdocs-template-sender .options{row-gap:10px}verdocs-template-sender .options .option{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}verdocs-template-sender .options .option .description{margin-left:10px}verdocs-template-sender .options .option .description .name{display:inline-block;vertical-align:top;margin-top:4px;margin-right:4px}',T=R,z=class{constructor(o){n(this,o),this.close=r(this,"close",7),this.sdkError=r(this,"sdkError",7),this.store=null,this.endpoint=c.getDefault(),this.templateId="",this.sender="everyone",this.saving=!1}async componentWillLoad(){var o,t,a,i,s;try{if(this.endpoint.loadSession(),!this.templateId){console.log(`[SENDER] Missing required template ID ${this.templateId}`);return}if(!this.endpoint.session){console.log("[SENDER] Unable to start builder session, must be authenticated");return}this.store=await p(this.endpoint,this.templateId,!1),this.sender=(t=(o=this.store)===null||o===void 0?void 0:o.state)===null||t===void 0?void 0:t.sender}catch(l){console.log("[SENDER] Error with preview session",l),(a=this.sdkError)===null||a===void 0||a.emit(new b(l.message,(i=l.response)===null||i===void 0?void 0:i.status,(s=l.response)===null||s===void 0?void 0:s.data))}}handleClose(){this.close.emit()}handleDismiss(o){o.target.className==="background-overlay"&&(o.preventDefault(),this.handleClose())}async handleSelectSetting(o){this.saving=!0,h(this.endpoint,this.templateId,{sender:o}).then(t=>{var a;console.log("Update result",t),!((a=this.store)===null||a===void 0)&&a.state&&(this.store.state.sender=o),this.saving=!1,this.sender=o}).catch(t=>{console.log("Error saving",t),this.saving=!1})}render(){return e(d,{key:"b8ca2ff8bdae1256801c67f7be188f6b3e4c5c33"},e("div",{key:"565b0287142ce32fd1d11b7e344b35b8151b9e93",class:"background-overlay",onClick:o=>this.handleDismiss(o)},e("div",{key:"2ece454c0aba99deb418e1ac2035e237a2296a6c",class:"dialog"},e("div",{key:"cbac2ba10ad6cd63e714019e4311627e7972ae52",class:"options"},e("div",{key:"1ab94e1e5f30089cabb6abf23ee1294663cfa878",class:"option"},e("verdocs-radio-button",{key:"ae1689ae1a34ff1f9e1ae99917e659c27e2b6731",name:"template-sender",value:"everyone",checked:this.sender==="everyone",onInput:()=>this.handleSelectSetting("everyone")}),e("div",{key:"78741f9340debb402dfcca11bf33a19660f7c541",class:"description"},e("div",{key:"ddee4eaf150cf0989849a2799896a2fd7c401411",class:"name"},"Anyone on the Web"),e("verdocs-help-icon",{key:"f51b1ba236eb08ebaae5a6171b9d3f8815dfb7c5",text:"Anyone can use this template. (Make its visibility is set to to 'Public' or 'Shared'.)"}))),e("div",{key:"37095164cf4cfa5030b1d2da04b6add9a572c914",class:"option"},e("verdocs-radio-button",{key:"8e8c8681e992cf00caa314c493afcd5bdb7a0fbe",name:"template-sender",value:"everyone_as_creator",checked:this.sender==="everyone_as_creator",onInput:()=>this.handleSelectSetting("everyone_as_creator")}),e("div",{key:"5a94fd99ef10648c5c1f68a91f80c31d1e8f5078",class:"description"},e("div",{key:"9a64f779ebe53499683f5af9ec7bc0218fe66499",class:"name"},"Anyone on the Web as me"),e("verdocs-help-icon",{key:"64edd79a609173c7399dbc2cce06269f0f7adc15",text:"Anyone can use this template on my behalf. (Make sure its visibility is set to 'Public' or 'Shared'.)"}))),e("div",{key:"b287986b5282e92153504a328a9273b0fcb81902",class:"option"},e("verdocs-radio-button",{key:"909e26ec66bf5d27014f2ef41c533662f5e2033e",name:"template-sender",value:"organization_member",checked:this.sender==="organization_member",onInput:()=>this.handleSelectSetting("organization_member")}),e("div",{key:"3a42018b36b144feefa5a662e23f852dcd230889",class:"description"},e("div",{key:"071573ff99a6019b9d9ba164c7d6d3123b209510",class:"name"},"Anyone in my organization"),e("verdocs-help-icon",{key:"ecb0c3cd3f39c92954dd20c94a12c38ce35aa8cb",text:"Anyone in my organization can use this template. (Make sure its visibility is set to 'Shared')"}))),e("div",{key:"2515c8c359379c70b7be04b2c50a139b760d777c",class:"option"},e("verdocs-radio-button",{key:"d5edd7267eb494c73cee3168de5d841c969a22aa",name:"template-sender",value:"organization_member_as_creator",checked:this.sender==="organization_member_as_creator",onInput:()=>this.handleSelectSetting("organization_member_as_creator")}),e("div",{key:"31cbe88f2cc23b74534bb2d51f280a3112827722",class:"description"},e("div",{key:"11160a0c962837e4c4342f46e111fe8ada8ca4d3",class:"name"},"Anyone in my organization as me"),e("verdocs-help-icon",{key:"d23472c9393598908dab4ae2a4cba983bafc89e1",text:"Anyone in my organization can use this template on my behalf. (Make sure its visibility is set to to 'Shared'.)"}))),e("div",{key:"128da3cd0259b4d72bd6bca910b932898d9f5f38",class:"option"},e("verdocs-radio-button",{key:"0a65d2f15e37330526bbf384868b4e65a3b7ce5b",name:"template-sender",value:"creator",checked:this.sender==="creator",onInput:()=>this.handleSelectSetting("creator")}),e("div",{key:"6182e6fd82ea55b8e59e175e6413f324657405b5",class:"description"},e("div",{key:"919c6b40c4f171b491b8001c30acca73c6308a86",class:"name"},"Me"),e("verdocs-help-icon",{key:"9aaaa7ad26ec56b5667c1c1ea31ce19f2742c81e",text:"Only I can use this template."})))),e("div",{key:"6b7bdc820887b652552d4ad9f08ac5c3f83fc71c",class:"buttons"},e("verdocs-button",{key:"bcaf3bc67e9de9c62cda7fb6cc1c5ecbfd168d9e",label:"Close",onClick:()=>this.handleClose()})))))}};z.style=T;export{w as verdocs_radio_button,E as verdocs_template_role_properties,z as verdocs_template_sender};
