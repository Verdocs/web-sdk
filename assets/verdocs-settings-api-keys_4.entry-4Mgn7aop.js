import{m as t,H as b,r as w,n as f}from"./components-BUY51Sj4.js";import{$ as _,a0 as z,a1 as E,a2 as K,a3 as M,a4 as x,a5 as T,a6 as A,V as g,a7 as C,a8 as P,a9 as N,aa as D,ab as F,ac as U,ad as L,ae as R,af as G}from"./index-FOFzXDN2.js";import{V as c}from"./Toast-b71de686-BSDPq5kl.js";import{S as y}from"./errors-887f1e88-DR85jTO9.js";import{d as O}from"./index-0329eed3-CmPFFxNR.js";import{z as m}from"./index-7456b04f-WYt0v2to.js";import{i as S}from"./utils-61c1093b-BdPfu6ZN.js";import"./index-CDs2tPxN.js";import"./index-BXagdh-V.js";import"./iframe-BIHgOnMp.js";import"../sb-preview/runtime.js";import"./Types-e4a6eba5-DhtnXEHy.js";var v=function(s,e,n,i){function r(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(h){try{a(i.next(h))}catch(k){l(k)}}function u(h){try{a(i.throw(h))}catch(k){l(k)}}function a(h){h.done?o(h.value):r(h.value).then(d,u)}a((i=i.apply(s,e||[])).next())})},p=function(s,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(a){return function(h){return u([a,h])}}function u(a){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(n=0)),n;)try{if(i=1,r&&(o=a[0]&2?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,r=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(s,n)}catch(h){a=[6,h],r=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},B='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-api-keys{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-api-keys .table{margin:12px 0}verdocs-settings-api-keys .data-col div{gap:12px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-settings-api-keys .data-col svg{width:24px;height:24px}verdocs-settings-api-keys .col-name svg,verdocs-settings-api-keys .col-client_id svg,verdocs-settings-api-keys .col-profile_id svg{fill:#a1a1aa}verdocs-settings-api-keys .col-actions svg{fill:#ffffff;stroke:#a1a1aa}verdocs-settings-api-keys .col-actions svg:hover{cursor:pointer;stroke:red}verdocs-settings-api-keys .col-actions>div{-ms-flex-pack:center;justify-content:center}verdocs-settings-api-keys .header-col.col-actions{text-align:center}verdocs-settings-api-keys verdocs-dialog p{font-size:16px;line-height:18px;margin:0 0 1em 0}@media all and (max-width: 450px){verdocs-settings-api-keys .col-client_id,verdocs-settings-api-keys .col-actions{display:none}}',V=B,q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 003 5.5v2.879a2.5 2.5 0 00.732 1.767l6.5 6.5a2.5 2.5 0 003.536 0l2.878-2.878a2.5 2.5 0 000-3.536l-6.5-6.5A2.5 2.5 0 008.38 3H5.5zM6 7a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></svg>',H='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z" clip-rule="evenodd" /></svg>',j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>',W='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" /></svg>',$=function(){function s(e){w(this,e),this.sdkError=f(this,"sdkError",7),this.memberInvited=f(this,"memberInvited",7),this.memberUpdated=f(this,"memberUpdated",7),this.memberRemoved=f(this,"memberRemoved",7),this.endpoint=g.getDefault(),this.keys=[],this.creatingKey=!1,this.createdKey=null,this.deletingKey=null,this.rotatingKey=null,this.newApiKeyName="",this.newApiKeyProfileId="",this.members=[]}return s.prototype.componentWillLoad=function(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}},s.prototype.componentDidLoad=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.newApiKeyProfileId=this.endpoint.session.profile_id,_(this.endpoint,this.endpoint.session.organization_id).then(function(i){e.members=i}).catch(function(i){var r,o,l;console.log("[SETTINGS] Error loading organization members",i),(r=e.sdkError)===null||r===void 0||r.emit(new y(i.message,(o=i.response)===null||o===void 0?void 0:o.status,(l=i.response)===null||l===void 0?void 0:l.data)),c("Unable to load API keys. Please try again later",{style:"error"})}),this.loadKeys(),[2]})})},s.prototype.loadKeys=function(){var e=this;z(this.endpoint,this.endpoint.session.organization_id).then(function(n){e.keys=n}).catch(function(n){var i,r,o;console.log("[SETTINGS] Unable to load API keys",n),(i=e.sdkError)===null||i===void 0||i.emit(new y(n.message,(r=n.response)===null||r===void 0?void 0:r.status,(o=n.response)===null||o===void 0?void 0:o.data)),c("Unable to load API keys. Please try again later",{style:"error"})})},s.prototype.handleDeleteKey=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return E(this.endpoint,this.deletingKey.organization_id,this.deletingKey.client_id).then(function(){e.deletingKey=null,c("API key deleted",{style:"success"}),e.loadKeys()}).catch(function(i){var r,o,l;e.deletingKey=null,console.log("[SETTINGS] Unable to delete API key",i),(r=e.sdkError)===null||r===void 0||r.emit(new y(i.message,(o=i.response)===null||o===void 0?void 0:o.status,(l=i.response)===null||l===void 0?void 0:l.data)),c("Unable to delete API key. Please try again later",{style:"error"})}),[2]})})},s.prototype.handleRotateKey=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return K(this.endpoint,this.rotatingKey.organization_id,this.rotatingKey.client_id).then(function(i){e.rotatingKey=null,c("API key rotated",{style:"success"}),e.loadKeys(),e.createdKey=i}).catch(function(i){var r,o,l;e.rotatingKey=null,console.log("[SETTINGS] Unable to rotate API key",i),(r=e.sdkError)===null||r===void 0||r.emit(new y(i.message,(o=i.response)===null||o===void 0?void 0:o.status,(l=i.response)===null||l===void 0?void 0:l.data)),c("Unable to rotate API key. Please try again later",{style:"error"})}),[2]})})},s.prototype.handleCreateKey=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return M(this.endpoint,this.endpoint.session.organization_id,{permission:"personal",name:this.newApiKeyName,profile_id:this.newApiKeyProfileId}).then(function(i){e.creatingKey=!1,e.createdKey=i,c("API key created",{style:"success"}),e.loadKeys()}).catch(function(i){var r,o,l;e.creatingKey=!1,console.log("[SETTINGS] Unable to create API key",i),(r=e.sdkError)===null||r===void 0||r.emit(new y(i.message,(o=i.response)===null||o===void 0?void 0:o.status,(l=i.response)===null||l===void 0?void 0:l.data)),c("Unable to create API key. Please try again later",{style:"error"})}),[2]})})},s.prototype.render=function(){var e=this,n,i,r,o,l=this.members.map(function(d){return{label:x(d),value:d.id}});return this.endpoint.session?t(b,null,t("verdocs-table",{data:this.keys,columns:[{id:"name",header:"Name",renderCell:function(d,u){return t("div",null,t("div",null,u.name))}},{id:"client_id",header:"Client ID",renderCell:function(d,u){return t("div",null,t("div",{innerHTML:q}),t("div",null,u.client_id))}},{id:"profile_id",header:"Acts as",renderCell:function(d,u){return t("div",null,t("div",{innerHTML:H}),t("div",null,x(u.profile)))}},{id:"actions",header:"Actions",renderCell:function(d,u){return t("div",null,t("div",{innerHTML:j,onClick:function(){return e.deletingKey=u}}),t("div",{innerHTML:W,onClick:function(){return e.rotatingKey=u}}))}}]}),t("verdocs-button",{label:"Add API Key",size:"normal",onClick:function(){return e.creatingKey=!0}}),this.deletingKey&&t("verdocs-dialog",{onExit:function(){return e.deletingKey=null}},t("div",{slot:"title",class:"heading"},'Delete API key "',this.deletingKey.name,'"?'),t("div",{class:"content"},t("p",null,"Are you sure you want to delete this key? This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",onClick:function(){return e.deletingKey=null}}),t("verdocs-button",{size:"small",label:"OK",onClick:function(){return e.handleDeleteKey()}})))),this.rotatingKey&&t("verdocs-dialog",{onExit:function(){return e.rotatingKey=null}},t("div",{slot:"title",class:"heading"},'Rotate API key "',this.rotatingKey.name,'"?'),t("div",{class:"content"},t("p",null,"Are you sure you want to rotate this key? A new client secret will be generated, and the old value will become unusable. This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",onClick:function(){return e.rotatingKey=null}}),t("verdocs-button",{size:"small",label:"OK",onClick:function(){return e.handleRotateKey()}})))),this.creatingKey&&t("verdocs-dialog",{onExit:function(){return e.creatingKey=!1}},t("div",{slot:"title",class:"heading"},"Create API Key"),t("div",{class:"content"},t("verdocs-text-input",{label:"Name",placeholder:"API key name...",id:"verdocs-api-key-name",value:this.newApiKeyName,autocomplete:"off",required:!0,onInput:function(d){return e.newApiKeyName=d.target.value},onFocusout:function(d){e.newApiKeyName=d.target.value.trim()}}),t("p",null,'API keys must be associated with a profile. Actions performed via API calls using this key will "act as" this profile.'),t("verdocs-select-input",{options:l,label:"Act as Profile",onInput:function(d){e.newApiKeyProfileId=d.target.value}}),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",onClick:function(){return e.creatingKey=!1}}),t("verdocs-button",{size:"small",label:"OK",onClick:function(){return e.handleCreateKey()}})))),this.createdKey&&t("verdocs-dialog",{onExit:function(){return e.createdKey=null}},t("div",{slot:"title",class:"heading"},"API Key Details"),t("div",{class:"content"},t("verdocs-text-input",{label:"Name",disabled:!0,value:(n=this.createdKey)===null||n===void 0?void 0:n.name}),t("verdocs-text-input",{label:"Profile",disabled:!0,value:x((i=this.createdKey)===null||i===void 0?void 0:i.profile)}),t("p",null,"Please save the Client ID and Secret below. Be sure to never expose your secret key in insecure (Web or mobile environments)!"),t("verdocs-text-input",{label:"Client ID",disabled:!0,value:(r=this.createdKey)===null||r===void 0?void 0:r.client_id,copyable:!0}),t("verdocs-text-input",{label:"Secret Key",disabled:!0,value:(o=this.createdKey)===null||o===void 0?void 0:o.client_secret,copyable:!0}),t("div",{class:"buttons"},t("verdocs-button",{size:"small",label:"Done",onClick:function(){return e.createdKey=null}}))))):(console.log("[SETTINGS] Must be authenticated"),t(b,{class:"authentication-required"},"Must be authenticated"))},s}();$.style=V;var Y='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-members{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-members .table{margin:12px 0}verdocs-settings-members .role{font-size:12px;width:32px;height:32px;border-radius:32px;background:#777777;color:#ffffff;font-weight:700;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-settings-members .table{margin:12px 0}verdocs-settings-members .data-col div{gap:12px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-settings-members .data-col svg{width:24px;height:24px}verdocs-settings-members .col-name svg,verdocs-settings-members .col-client_id svg,verdocs-settings-members .col-profile_id svg{fill:#a1a1aa}verdocs-settings-members .col-actions svg{fill:#ffffff;stroke:#a1a1aa}verdocs-settings-members .col-actions svg:hover{cursor:pointer;stroke:red}verdocs-settings-members .col-actions>div{-ms-flex-pack:center;justify-content:center}verdocs-settings-members .header-col.col-actions{text-align:center}verdocs-settings-members verdocs-dialog p{font-size:16px;line-height:18px;margin:0 0 1em 0}@media all and (max-width: 450px){verdocs-settings-members .col-email,verdocs-settings-members .col-phone,verdocs-settings-members .col-actions{display:none}}',J=Y,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>',Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" /></svg>',X=function(s){if(s.find(function(e){return e.name==="owner"})!==void 0)return"#9333ea";if(s.find(function(e){return e.name==="admin"})!==void 0)return"#2563eb";if(s.find(function(e){return e.name==="member"})!==void 0)return"#16a34a";if(s.find(function(e){return e.name==="basic_user"})!==void 0)return"#ea580c";if(s.find(function(e){return e.name==="contact"})!==void 0)return"#52525B"},Z=[{label:"Contact",value:"contact"},{label:"Basic User",value:"basic_user"},{label:"Member",value:"member"},{label:"Admin",value:"admin"},{label:"Owner",value:"owner"}],ee=function(){function s(e){w(this,e),this.sdkError=f(this,"sdkError",7),this.memberInvited=f(this,"memberInvited",7),this.memberUpdated=f(this,"memberUpdated",7),this.memberRemoved=f(this,"memberRemoved",7),this.endpoint=g.getDefault(),this.members=[],this.invited=[],this.selectedTab=0,this.invitingMember=!1,this.newEmailAddress="",this.newRole="member",this.submitting=!1,this.deletingInvitation=null,this.resendingInvitation=null,this.deletingMember=null}return s.prototype.componentWillLoad=function(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}},s.prototype.componentDidLoad=function(){return v(this,void 0,void 0,function(){return p(this,function(e){return this.loadMembers().catch(function(n){return console.log("Unknown Error",n)}),[2]})})},s.prototype.loadMembers=function(){return v(this,void 0,void 0,function(){var e,n,i,r,o,l,d;return p(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Promise.all([_(this.endpoint,this.endpoint.session.organization_id),T(this.endpoint,this.endpoint.session.organization_id)])];case 1:return r=u.sent(),o=r[0],l=r[1],this.members=o,this.invited=l,this.newRole="member",[3,3];case 2:return d=u.sent(),(e=this.sdkError)===null||e===void 0||e.emit(new y(d.message,(n=d.response)===null||n===void 0?void 0:n.status,(i=d.response)===null||i===void 0?void 0:i.data)),c("Unable to load members. Please try again later"),[3,3];case 3:return[2]}})})},s.prototype.handleInviteMember=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.submitting=!0,A(g.getDefault(),this.endpoint.session.organization_id,{email:this.newEmailAddress,role:this.newRole}).then(function(i){console.log("[SETTINGS] Invited member",i),e.invitingMember=!1,e.submitting=!1,e.newRole="member",e.newEmailAddress="",c("Invitation sent!",{style:"success"}),e.loadMembers()}).catch(function(i){console.log("[SETTINGS] Unable to invite member",i),e.invitingMember=!1,e.submitting=!1,e.newRole="member",e.newEmailAddress="",c("Unable to invite member. Please try again later",{style:"error"})}),[2]})})},s.prototype.handleDeleteMember=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.submitting=!0,C(g.getDefault(),this.deletingMember.organization_id,this.deletingMember.email).then(function(){e.submitting=!1,e.deletingMember=null,c("The member has been deleted.",{style:"success"}),e.loadMembers()}).catch(function(i){e.submitting=!1,e.deletingMember=null,console.log("Delete error",i),c("Unable to cancel invitation. Please try again later",{style:"error"})}),[2]})})},s.prototype.handleDeleteInvitation=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.submitting=!0,P(g.getDefault(),this.deletingInvitation.organization_id,this.deletingInvitation.email).then(function(){e.submitting=!1,e.deletingInvitation=null,c("The invitation has been cancelled.",{style:"success"}),e.loadMembers()}).catch(function(i){e.submitting=!1,e.deletingInvitation=null,console.log("Delete error",i),c("Unable to cancel invitation. Please try again later",{style:"error"})}),[2]})})},s.prototype.handleResendInvitation=function(){return v(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.submitting=!0,N(g.getDefault(),this.resendingInvitation.organization_id,this.resendingInvitation.email).then(function(){e.submitting=!1,e.resendingInvitation=null,c("The invitation has been resent.",{style:"success"}),e.loadMembers()}).catch(function(i){e.submitting=!1,e.resendingInvitation=null,console.log("REsend error",i),c("Unable to resend invitation. Please try again later",{style:"error"})}),[2]})})},s.prototype.render=function(){var e=this;return this.endpoint.session?t(b,null,t("verdocs-tabs",{tabs:[{label:"Members (".concat(this.members.length,")")},{label:"Pending Invitations (".concat(this.invited.length,")")}],onSelectTab:function(n){return e.selectedTab=n.detail.index}}),this.selectedTab===0&&t("verdocs-table",{data:this.members,columns:[{id:"name",renderHeader:function(){return"Member"},renderCell:function(n,i){return t("div",{style:{display:"flex",flexDirection:"row",gap:"10px",alignItems:"center"}},t("div",{class:"role",style:{backgroundColor:X(i.roles)}},F(i)),t("span",null,x(i)))}},{id:"email",header:"E-mail Address"},{id:"phone",header:"Phone Number"},{id:"roles",header:"Role",renderCell:function(n,i){return"".concat(i.roles)}},{id:"actions",header:"Actions",renderCell:function(n,i){return t("div",null,i.id!==e.endpoint.session.profile_id&&t("div",{innerHTML:I,onClick:function(){return e.deletingMember=i}}))}}]}),this.selectedTab===1&&t("verdocs-table",{data:this.invited,columns:[{id:"email",header:"E-mail Address"},{id:"generated_at",header:"Invited",renderCell:function(n,i){return t("div",null,O.format(new Date(i.generated_at),"MMM d, Y"))}},{id:"role",header:"Role",renderCell:function(n,i){return t("div",null,i.role)}},{id:"status",header:"Status",renderCell:function(n,i){return t("div",null,D(i.status))}},{id:"actions",header:"Actions",renderCell:function(n,i){return t("div",null,t("div",{innerHTML:I,onClick:function(){return e.deletingInvitation=i}}),t("div",{innerHTML:Q,onClick:function(){return e.resendingInvitation=i}}))}}]}),t("verdocs-button",{label:"Invite New Member",size:"normal",disabled:this.submitting,onClick:function(){return e.invitingMember=!0}}),this.invitingMember&&t("verdocs-dialog",{onExit:function(){return e.invitingMember=!1}},t("div",{slot:"title",class:"heading"},"Invite New Member"),t("div",{class:"content"},t("verdocs-text-input",{label:"E-mail Address",placeholder:"Enter the user's email address...",id:"verdocs-invite-email",value:this.newEmailAddress,autocomplete:"off",required:!0,onInput:function(n){return e.newEmailAddress=n.target.value},onFocusout:function(n){e.newEmailAddress=n.target.value.trim()}}),t("div",{style:{marginBottom:"20px"}}),t("verdocs-select-input",{options:Z,label:"Role",onInput:function(n){e.newRole=n.target.value}}),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",label:"Cancel",disabled:this.submitting,onClick:function(){return e.invitingMember=!1}}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting||!this.newEmailAddress||!this.newRole,onClick:function(){return e.handleInviteMember()}})))),this.deletingMember&&t("verdocs-dialog",{onExit:function(){return e.deletingMember=null}},t("div",{slot:"title",class:"heading"},"Delete Member?"),t("div",{class:"content"},t("p",null,"Are you sure you want to delete this member? This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",disabled:this.submitting,label:"Cancel",onClick:function(){return e.deletingMember=null}}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting,onClick:function(){return e.handleDeleteMember()}})))),this.deletingInvitation&&t("verdocs-dialog",{onExit:function(){return e.deletingInvitation=null}},t("div",{slot:"title",class:"heading"},"Cancel Invitation?"),t("div",{class:"content"},t("p",null,"Are you sure you want to cancel this invitation? This action cannot be undone."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",disabled:this.submitting,label:"Cancel",onClick:function(){return e.deletingInvitation=null}}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting,onClick:function(){return e.handleDeleteInvitation()}})))),this.resendingInvitation&&t("verdocs-dialog",{onExit:function(){return e.resendingInvitation=null}},t("div",{slot:"title",class:"heading"},"Resend Invitation?"),t("div",{class:"content"},t("p",null,"The user will receive an email reminder to join your organization."),t("div",{class:"buttons"},t("verdocs-button",{variant:"outline",size:"small",disabled:this.submitting,label:"Cancel",onClick:function(){return e.resendingInvitation=null}}),t("verdocs-button",{size:"small",label:"OK",disabled:this.submitting,onClick:function(){return e.handleResendInvitation()}}))))):(console.log("[SETTINGS] Must be authenticated"),t(b,{class:"authentication-required"},"Must be authenticated"))},s}();ee.style=J;var te='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-organization{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-organization .columns{gap:20px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}verdocs-settings-organization .column{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-settings-organization verdocs-text-input{margin:10px 0}verdocs-settings-organization verdocs-text-input input{height:32px}@media screen and (max-width: 600px){verdocs-settings-organization .columns{gap:0;-ms-flex-direction:column;flex-direction:column}}',ne=te,ie=m.object({business_name:m.string().trim().max(30).optional(),contact_email:m.string().trim().email("Invalid email").optional().or(m.literal("")),phone:m.preprocess(function(s){return S(String(s).trim())},m.string().optional()),url:m.string().trim().optional()}),oe=function(){function s(e){w(this,e),this.sdkError=f(this,"sdkError",7),this.organizationUpdated=f(this,"organizationUpdated",7),this.endpoint=g.getDefault(),this.valid=!1,this.dirty=!1,this.submitting=!1,this.name="",this.business_name="",this.contact_email="",this.phone="",this.url=""}return s.prototype.componentWillLoad=function(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}},s.prototype.componentDidLoad=function(){return v(this,void 0,void 0,function(){var e;return p(this,function(n){switch(n.label){case 0:return[4,U(this.endpoint,this.endpoint.session.organization_id)];case 1:return e=n.sent(),console.log("[SETTINGS] Loaded organization",e),this.resetForm(e),[2]}})})},s.prototype.resetForm=function(e){this.name=e.name,this.business_name=e.business_name,this.contact_email=e.contact_email,this.phone=e.phone,this.url=e.url,this.dirty=!1,this.valid=!0},s.prototype.handleSubmit=function(e){var n=this;e.preventDefault(),e.stopPropagation(),L(g.getDefault(),this.endpoint.session.organization_id,{name:this.name,business_name:this.business_name,contact_email:this.contact_email,phone:this.phone,url:this.url}).then(function(i){var r;console.log("[SETTINGS] Update result",i),(r=n.organizationUpdated)===null||r===void 0||r.emit({endpoint:n.endpoint,organization:i}),n.resetForm(i)}).catch(function(i){return c("Error updating organization: ".concat(i.message),{style:"error"})})},s.prototype.processFields=function(){var e=ie.safeParse({name:this.name,business_name:this.business_name,contact_email:this.contact_email,phone:this.phone,url:this.url});console.log("[SETTINGS] Validation result",e),this.valid=e.success,this.dirty=!0},s.prototype.render=function(){var e=this;return this.endpoint.session?t(b,null,t("h1",null,"Organization Profile"),t("form",{onSubmit:function(n){return e.handleSubmit(n)}},t("div",{class:"columns"},t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-organization-name",value:this.name,autocomplete:"off",label:"Name",required:!1,disabled:!1,placeholder:"Enter your organization's name...",onInput:function(n){return e.name=n.target.value},onFocusout:function(n){e.name=n.target.value.trim(),e.processFields()}}),t("verdocs-text-input",{id:"verdocs-organization-business-name",value:this.business_name,autocomplete:"off",label:"Display Name",placeholder:"The name to display on communications...",onInput:function(n){return e.business_name=n.target.value},onFocusout:function(n){e.business_name=n.target.value.trim(),e.processFields()}}),t("verdocs-text-input",{id:"verdocs-organization-url",value:this.url,autocomplete:"off",label:"Web URL",placeholder:"Enter your Web URL...",onInput:function(n){return e.url=n.target.value},onFocusout:function(n){e.url=n.target.value.trim(),e.processFields()}}),t("verdocs-text-input",{id:"verdocs-organization-phone",value:this.phone,autocomplete:"off",label:"Phone Number",placeholder:"Enter your phone number...",onInput:function(n){return e.phone=n.target.value},onFocusout:function(n){e.phone=n.target.value.trim(),e.processFields()}})),t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-organization-email",value:this.contact_email,clearable:!0,autocomplete:"off",label:"Contact Email",placeholder:"Enter your contact email address...",onInput:function(n){return e.contact_email=n.target.value},onFocusout:function(n){e.contact_email=n.target.value.trim(),e.processFields()}}))),t("verdocs-button",{type:"submit",label:"Save",size:"normal",disabled:this.submitting||!this.dirty}))):(console.log("[SETTINGS] Must be authenticated"),t(b,{class:"authentication-required"},"Must be authenticated"))},s}();oe.style=ne;var se='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-settings-profile{display:-ms-flexbox;display:flex;padding:10px;font-size:18px;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:6px;color:#33364b;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", "Barlow", sans-serif}verdocs-settings-profile .columns{gap:20px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}verdocs-settings-profile .column{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-settings-profile verdocs-text-input{margin:10px 0}verdocs-settings-profile verdocs-text-input input{height:32px}@media screen and (max-width: 600px){verdocs-settings-profile .columns{gap:0;-ms-flex-direction:column;flex-direction:column}}',re=se,ae=m.object({first_name:m.string().trim().min(1,"First name is required").max(30),last_name:m.string().trim().min(1,"Last name is required").max(30),email:m.string().trim().email("Invalid email").min(1,"Email is required"),phone:m.preprocess(function(s){return S(String(s).trim())},m.string())}),le=function(){function s(e){w(this,e),this.sdkError=f(this,"sdkError",7),this.profileUpdated=f(this,"profileUpdated",7),this.endpoint=g.getDefault(),this.valid=!1,this.dirty=!1,this.submitting=!1,this.first_name="",this.last_name="",this.email="",this.phone=""}return s.prototype.componentWillLoad=function(){if(this.endpoint.loadSession(),!this.endpoint.session){console.log("[SETTINGS] Must be authenticated");return}},s.prototype.componentDidLoad=function(){return v(this,void 0,void 0,function(){var e;return p(this,function(n){switch(n.label){case 0:return[4,R(this.endpoint)];case 1:return e=n.sent(),console.log("[SETTINGS] Loaded profile",e),this.resetForm(e),[2]}})})},s.prototype.resetForm=function(e){this.first_name=e.first_name,this.last_name=e.last_name,this.email=e.email,this.phone=e.phone,this.dirty=!1,this.valid=!0},s.prototype.handleSubmit=function(e){var n=this;e.preventDefault(),e.stopPropagation(),G(g.getDefault(),this.endpoint.session.profile_id,{first_name:this.first_name,last_name:this.last_name,phone:this.phone}).then(function(i){var r;console.log("[SETTINGS] Update result",i),(r=n.profileUpdated)===null||r===void 0||r.emit({endpoint:n.endpoint,profile:i}),n.resetForm(i)}).catch(function(i){return c("Error updating profile: ".concat(i.message),{style:"error"})})},s.prototype.processFields=function(){var e=ae.safeParse({first_name:this.first_name,last_name:this.last_name,email:this.email,phone:this.phone});console.log("[SETTINGS] Validation result",e),this.valid=e.success,this.dirty=!0},s.prototype.render=function(){var e=this;return this.endpoint.session?t(b,null,t("h1",null,"My Profile"),t("form",{onSubmit:function(n){return e.handleSubmit(n)}},t("div",{class:"columns"},t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-profile-first-name",value:this.first_name,autocomplete:"off",label:"First Name",required:!0,placeholder:"Enter your first name...",onInput:function(n){return e.first_name=n.target.value},onFocusout:function(n){e.first_name=n.target.value.trim(),e.processFields()}}),t("verdocs-text-input",{id:"verdocs-profile-last-name",value:this.last_name,autocomplete:"off",label:"Last Name",required:!0,placeholder:"Enter your last name...",onInput:function(n){return e.last_name=n.target.value},onFocusout:function(n){e.last_name=n.target.value.trim(),e.processFields()}})),t("div",{class:"column"},t("verdocs-text-input",{id:"verdocs-profile-email",value:this.email,autocomplete:"off",label:"Email Address",required:!0,disabled:!0,placeholder:"Enter your email address...",onInput:function(n){return e.email=n.target.value},onFocusout:function(n){e.email=n.target.value.trim(),e.processFields()}}),t("verdocs-text-input",{id:"verdocs-profile-phone",value:this.phone,clearable:!0,autocomplete:"off",label:"Phone Number",placeholder:"Enter your phone number...",onInput:function(n){return e.phone=n.target.value},onFocusout:function(n){e.phone=n.target.value.trim(),e.processFields()}}))),t("verdocs-button",{type:"submit",label:"Save",size:"normal",disabled:this.submitting||!this.dirty}))):(console.log("[SETTINGS] Must be authenticated"),t(b,{class:"authentication-required"},"Must be authenticated"))},s}();le.style=re;export{$ as verdocs_settings_api_keys,ee as verdocs_settings_members,oe as verdocs_settings_organization,le as verdocs_settings_profile};
