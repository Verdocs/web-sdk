import{r as d,c as s,h as t,H as l,F as c}from"./preview-X13RbvS2.js";import{v as p}from"./index-CL2BROP6.js";import{g as f,a as g}from"./TemplateRoleStore-ddc3b96f-DhMDWHWE.js";import{g as h}from"./TemplateFieldStore-d7516adf-DPqtitkf.js";import"./chunk-QN4WKJDJ-Bf_F3oir.js";import"./iframe-DWV1oore.js";import"../sb-preview/runtime.js";import"./index-296aabaf-BfkBbDig.js";const m='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-field-payment{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:24px;height:24px;display:block;font-size:11px;position:relative;border:1px solid #cfa;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-payment.disabled{opacity:0.5}verdocs-field-payment button,verdocs-field-payment div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-field-payment button{color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-payment button.hide{display:none}verdocs-field-payment input{float:left;font-family:Arial, sans-serif}verdocs-field-payment select{position:absolute;font-family:Arial, sans-serif;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-payment .frame{width:100%;height:100%;background-size:contain;text-align:left}verdocs-field-payment .frame img{position:absolute;height:auto;width:100%}verdocs-field-payment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}verdocs-field-payment .settings-icon{position:absolute;top:-3px;left:-20px;display:inline-block;cursor:pointer;opacity:0.3}verdocs-field-payment .settings-icon svg{fill:#707ae5}verdocs-field-payment .settings-icon:hover{opacity:1}',u=m,b=class{constructor(e){d(this,e),this.signatureComplete=s(this,"signatureComplete",7),this.initialComplete=s(this,"initialComplete",7),this.settingsChanged=s(this,"settingsChanged",7),this.deleted=s(this,"deleted",7),this.fieldStore=null,this.roleStore=null,this.templateid="",this.fieldname="",this.disabled=!1,this.fields=void 0,this.pageNum=void 0,this.roleName=void 0,this.fieldId=void 0,this.recipients=void 0,this.selectedRoleName=void 0,this.pdfPages=void 0,this.currentSignature=void 0,this.currentSignatureId=void 0,this.currentInitial=void 0,this.currentInitialId=void 0,this.focused=!1,this.signed=!1,this.xscale=1,this.yscale=1,this.pagenumber=1,this.preparedMessage=void 0,this.signatureUrl="",this.roleindex=0,this.showingProperties=!1}componentWillLoad(){if(this.fieldStore=h(this.templateid),this.roleStore=f(this.templateid),this.recipients&&this.recipients.length>0){const e=this.recipients.find(i=>i.type==="preparer");console.log("Found preparer",e),e&&(this.preparedMessage=`Prepared by ${e.full_name}`)}}async showSettingsPanel(){const e=document.getElementById(`verdocs-settings-panel-${this.fieldname}`);e&&e.showPanel&&e.showPanel()}async hideSettingsPanel(){const e=document.getElementById(`verdocs-settings-panel-${this.fieldname}`);e&&e.hidePanel&&e.hidePanel()}render(){var e;const i=this.fieldStore.get("fields").find(a=>a.name===this.fieldname),n=g(this.roleStore,i.role_name),o=i.rgba||p(n);if(!i)return t(c,null);const r=(e=this.disabled)!==null&&e!==void 0?e:!1;return t(l,{class:{focused:this.focused,disabled:r},style:{backgroundColor:o}},t("button",{class:{hide:this.signed}},"$"),this.signed?t("div",{class:"frame"}):t("div",{style:{display:"none"}}),t("img",{width:"100%",height:"100%",src:this.signatureUrl,alt:"Payment Icon"}))}};b.style=u;export{b as verdocs_field_payment};
