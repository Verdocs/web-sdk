import{m as s,H as v,r as g,n as m}from"./components-BUY51Sj4.js";import{M as h,m as I,N as L,V as b}from"./index-FOFzXDN2.js";import{g as y}from"./EnvelopeStore-fefba6fd-_VT1vrzR.js";import{V as x}from"./Toast-b71de686-BSDPq5kl.js";import{S as k}from"./errors-887f1e88-DR85jTO9.js";import"./index-7456b04f-WYt0v2to.js";import"./index-CDs2tPxN.js";import"./index-BXagdh-V.js";import"./iframe-BIHgOnMp.js";import"../sb-preview/runtime.js";import"./index-296aabaf-RiVWanv8.js";var u=function(){return u=Object.assign||function(a){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},u.apply(this,arguments)},w=function(a,n,e,r){function t(i){return i instanceof e?i:new e(function(l){l(i)})}return new(e||(e=Promise))(function(i,l){function p(c){try{o(r.next(c))}catch(f){l(f)}}function d(c){try{o(r.throw(c))}catch(f){l(f)}}function o(c){c.done?i(c.value):t(c.value).then(p,d)}o((r=r.apply(a,n||[])).next())})},E=function(a,n){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,t,i,l;return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(o){return function(c){return d([o,c])}}function d(o){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(e=0)),e;)try{if(r=1,t&&(i=o[0]&2?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;switch(t=0,i&&(o=[o[0]&2,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return e.label++,{value:o[1],done:!1};case 5:e.label++,t=o[1],o=[0];continue;case 7:o=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){e=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){e.label=o[1];break}if(o[0]===6&&e.label<i[1]){e.label=i[1],i=o;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(o);break}i[2]&&e.ops.pop(),e.trys.pop();continue}o=n.call(a,e)}catch(c){o=[6,c],t=0}finally{r=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},_='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-envelope-recipient-link{top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;z-index:100000;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-family:"Inter", "Barlow", sans-serif;background-color:rgba(0, 0, 0, 0.4980392157)}verdocs-envelope-recipient-link .summary-content{width:600px;display:-ms-flexbox;display:flex;max-width:90%;font-size:18px;-ms-flex:0 0 600px;flex:0 0 600px;border-radius:6px;background:#ffffff;-ms-flex-direction:column;flex-direction:column;padding:30px 20px 20px}verdocs-envelope-recipient-link .summary-content .summary-title{font-size:20px;font-weight:700;margin:0 0 10px 0;color:#33364b}verdocs-envelope-recipient-link .summary-recipient{display:-ms-flexbox;display:flex;color:#33364b;margin:8px 0 24px 0;-ms-flex-direction:column;flex-direction:column}verdocs-envelope-recipient-link .summary-recipient .role-name{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;font-size:14px;font-weight:600;margin:0 0 8px 0;color:#092c4c}verdocs-envelope-recipient-link .summary-recipient .role-info{gap:5px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:end;align-items:flex-end}verdocs-envelope-recipient-link .summary-recipient .role-full-name{-ms-flex:1;flex:1;height:34px;display:-ms-flexbox;display:flex;font-size:16px;padding:0 12px;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #cccccc;background:rgb(249, 250, 251)}verdocs-envelope-recipient-link .summary-recipient .recipient-link{width:120px;padding:0 16px;font-weight:500;margin:0 0 0 8px;text-align:center;font-size:0.875rem;border-radius:100%;color:rgb(55, 65, 81);line-height:1.25rem;background-color:#d8d8d8;border:2px solid rgb(156, 163, 175)}verdocs-envelope-recipient-link .summary-recipient .link-wrapper{gap:5px;display:-ms-flexbox;display:flex;margin:4px 0 0 0;-ms-flex-direction:row;flex-direction:row}verdocs-envelope-recipient-link .summary-recipient .link-wrapper .link{-ms-flex:1;flex:1;height:34px;display:-ms-flexbox;display:flex;font-size:16px;padding:0 12px;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #cccccc;background:rgb(249, 250, 251)}verdocs-envelope-recipient-link .buttons{display:-ms-flexbox;display:flex;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;margin:10px 0 0 0;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-envelope-recipient-link .buttons verdocs-button{-ms-flex:0 0 120px;flex:0 0 120px;margin-left:10px;white-space:nowrap}verdocs-envelope-recipient-link .buttons verdocs-button button{width:100%}',S=_,z=function(){function a(n){g(this,n),this.next=m(this,"next",7),this.sdkError=m(this,"sdkError",7),this.store=null,this.recipient=null,this.endpoint=b.getDefault(),this.envelopeId="",this.roleName="",this.isOpen=void 0,this.loading=!0,this.gettingLink=!0,this.link=""}return a.prototype.componentWillLoad=function(){return w(this,void 0,void 0,function(){var n,e,r,t,i,l,p,d,o=this;return E(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this.endpoint.loadSession(),this.envelopeId?this.endpoint.session?(p=this,[4,y(this.endpoint,this.envelopeId,!0)]):(console.log("[RECIPIENT_LINK] Unable to start session, must be authenticated"),[2]):(console.log("[RECIPIENT_LINK] Missing required envelope ID ".concat(this.envelopeId)),[2]);case 1:return p.store=c.sent(),this.loading=!1,this.gettingLink=!0,this.recipient=(r=(e=(n=this.store)===null||n===void 0?void 0:n.state)===null||e===void 0?void 0:e.recipients)===null||r===void 0?void 0:r.find(function(f){return f.role_name===o.roleName}),this.getLink(this.recipient),[3,3];case 2:return d=c.sent(),console.log("[RECIPIENT_LINK] Error loading envelope",d),(t=this.sdkError)===null||t===void 0||t.emit(new k(d.message,(i=d.response)===null||i===void 0?void 0:i.status,(l=d.response)===null||l===void 0?void 0:l.data)),[3,3];case 3:return[2]}})})},a.prototype.handleDone=function(n){var e;n.preventDefault(),(e=this.next)===null||e===void 0||e.emit({envelope:this.store.state})},a.prototype.copyLink=function(n){navigator.clipboard.writeText(n).then(function(){return x("Link copied to clipboard!",{style:"success",duration:3e3})}).catch(function(e){console.warn("[RECIPIENT_LINK] Error copying to clipboard",e),x("Unable to copy to clipboard: ".concat(e.message),{style:"error"})})},a.prototype.getLink=function(n){var e=this;this.gettingLink=!0,h(this.endpoint,n.envelope_id,n.role_name).then(function(r){e.gettingLink=!1,e.link=r.link}).catch(function(r){e.gettingLink=!1,console.log("[RECIPIENT_LINK] Error getting link",r),x("Unable to get link: "+r.message,{style:"error"})})},a.prototype.render=function(){var n=this;return this.loading||!this.recipient?s(v,null):s(v,null,s("div",{class:"summary-content"},s("h1",{class:"summary-title"},"In-Person Signing Link"),s("div",{class:"summary-rows"},s("div",{class:"summary-recipient"},s("div",{class:"role-name"},this.recipient.role_name),s("div",{class:"role-details"},s("div",{class:"role-info"},s("div",{class:"role-full-name"},this.recipient.full_name," (",this.recipient.email||this.recipient.phone,")"),!this.link&&s("verdocs-button",{size:"small",variant:"outline",label:this.gettingLink?"Loading...":"Get Link",disabled:this.gettingLink,onClick:function(){return n.getLink(n.recipient)}})),this.link&&s("div",{class:"link-wrapper"},s("div",{class:"link"},this.link),s("verdocs-button",{size:"small",variant:"outline",label:"Copy",onClick:function(){return n.copyLink(n.link)}}))))),s("div",{class:"buttons"},s("verdocs-button",{size:"small",label:"Done",onClick:function(e){return n.handleDone(e)}}))))},a}();z.style=S;var C='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-envelope-recipient-summary{top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;z-index:100000;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-family:"Inter", "Barlow", sans-serif;background-color:rgba(0, 0, 0, 0.4980392157)}verdocs-envelope-recipient-summary .summary-content{width:600px;display:-ms-flexbox;display:flex;max-width:90%;font-size:18px;-ms-flex:0 0 600px;flex:0 0 600px;border-radius:6px;background:#ffffff;-ms-flex-direction:column;flex-direction:column;padding:30px 20px 20px}verdocs-envelope-recipient-summary .summary-content .summary-title{font-size:20px;font-weight:700;margin:0 0 10px 0;color:#33364b}verdocs-envelope-recipient-summary .summary-recipient{display:-ms-flexbox;display:flex;color:#33364b;margin:8px 0 24px 0;-ms-flex-direction:column;flex-direction:column}verdocs-envelope-recipient-summary .summary-recipient .role-name{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;font-size:14px;font-weight:600;margin:0 0 8px 0;color:#092c4c}verdocs-envelope-recipient-summary .summary-recipient .role-info{gap:5px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:end;align-items:flex-end}verdocs-envelope-recipient-summary .summary-recipient .role-full-name{-ms-flex:1;flex:1;height:34px;display:-ms-flexbox;display:flex;font-size:16px;padding:0 12px;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #cccccc;background:rgb(249, 250, 251)}verdocs-envelope-recipient-summary .summary-recipient .recipient-link{width:120px;padding:0 16px;font-weight:500;margin:0 0 0 8px;text-align:center;font-size:0.875rem;border-radius:100%;color:rgb(55, 65, 81);line-height:1.25rem;background-color:#d8d8d8;border:2px solid rgb(156, 163, 175)}verdocs-envelope-recipient-summary .summary-recipient .link-wrapper{gap:5px;display:-ms-flexbox;display:flex;margin:4px 0 0 0;-ms-flex-direction:row;flex-direction:row}verdocs-envelope-recipient-summary .summary-recipient .link-wrapper .link{-ms-flex:1;flex:1;height:34px;display:-ms-flexbox;display:flex;font-size:16px;padding:0 12px;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #cccccc;background:rgb(249, 250, 251)}verdocs-envelope-recipient-summary .buttons{display:-ms-flexbox;display:flex;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;margin:10px 0 0 0;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-envelope-recipient-summary .buttons verdocs-button{-ms-flex:0 0 120px;flex:0 0 120px;margin-left:10px;white-space:nowrap}verdocs-envelope-recipient-summary .buttons verdocs-button button{width:100%}',R=C,N=function(){function a(n){g(this,n),this.another=m(this,"another",7),this.view=m(this,"view",7),this.next=m(this,"next",7),this.sdkError=m(this,"sdkError",7),this.store=null,this.endpoint=b.getDefault(),this.envelopeId="",this.canSendAnother=!0,this.canView=!0,this.canDone=!0,this.isOpen=void 0,this.loading=!0,this.recipientStatusIcons=[],this.containerId="verdocs-status-indicator-".concat(Math.random().toString(36).substring(2,11)),this.gettingLinks={},this.links={}}return a.prototype.componentWillLoad=function(){return w(this,void 0,void 0,function(){var n,e,r,t,i;return E(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.endpoint.loadSession(),this.envelopeId?this.endpoint.session?(t=this,[4,y(this.endpoint,this.envelopeId,!0)]):(console.log("[RECIPIENTS] Unable to start session, must be authenticated"),[2]):(console.log("[RECIPIENTS] Missing required envelope ID ".concat(this.envelopeId)),[2]);case 1:return t.store=l.sent(),this.sortEnvelopeRecipients(),this.loading=!1,[3,3];case 2:return i=l.sent(),console.log("[RECIPIENTS] Error loading envelope",i),(n=this.sdkError)===null||n===void 0||n.emit(new k(i.message,(e=i.response)===null||e===void 0?void 0:e.status,(r=i.response)===null||r===void 0?void 0:r.data)),[3,3];case 3:return[2]}})})},a.prototype.sortEnvelopeRecipients=function(){var n,e;(e=(n=this.store)===null||n===void 0?void 0:n.state)===null||e===void 0||e.recipients.sort(function(r,t){return r.sequence===t.sequence?r.order-t.order:r.sequence-t.sequence})},a.prototype.handleAnother=function(n){var e;n.preventDefault(),(e=this.another)===null||e===void 0||e.emit({envelope:this.store.state})},a.prototype.handleView=function(n){var e;n.preventDefault(),(e=this.view)===null||e===void 0||e.emit({envelope:this.store.state})},a.prototype.handleDone=function(n){var e;n.preventDefault(),(e=this.next)===null||e===void 0||e.emit({envelope:this.store.state})},a.prototype.copyLink=function(n){var e=this;navigator.clipboard.writeText(n).then(function(){}).catch(function(r){var t;console.warn("[RECIPIENTS] Error copying to clipboard",r),(t=e.sdkError)===null||t===void 0||t.emit(r)})},a.prototype.getLink=function(n){var e,r=this;this.gettingLinks=u(u({},this.gettingLinks),(e={},e[n.role_name]=!0,e)),h(this.endpoint,n.envelope_id,n.role_name).then(function(t){var i,l;r.gettingLinks=u(u({},r.gettingLinks),(i={},i[n.role_name]=!1,i)),r.links=u(u({},r.links),(l={},l[n.role_name]=t.link,l)),r.copyLink(t.link)}).catch(function(t){var i,l;r.gettingLinks=u(u({},r.gettingLinks),(i={},i[n.role_name]=!1,i)),console.log("[RECIPIENTS] Error getting link",t),(l=r.sdkError)===null||l===void 0||l.emit(t)})},a.prototype.render=function(){var n=this,e,r;return this.loading?s(v,null):s(v,null,s("div",{class:"summary-content"},s("h1",{class:"summary-title"},"Recipient Summary"),s("div",{class:"summary-rows"},(((r=(e=this.store)===null||e===void 0?void 0:e.state)===null||r===void 0?void 0:r.recipients)||[]).map(function(t){var i=I(n.store.state),l=L(t,i),p=n.links[t.role_name],d=n.gettingLinks[t.role_name];return s("div",{class:"summary-recipient"},s("div",{class:"role-name"},t.role_name),s("div",{class:"role-details"},s("div",{class:"role-info"},s("div",{class:"role-full-name"},t.full_name," (",t.email||t.phone,")"),l&&!p&&s("verdocs-button",{size:"small",variant:"outline",label:"Get Link",disabled:d,onClick:function(){return n.getLink(t)}})),p&&s("div",{class:"link-wrapper"},s("div",{class:"link"},p),s("verdocs-button",{size:"small",variant:"outline",label:"Copy",onClick:function(){return n.copyLink(p)}}))))})),(this.canSendAnother||this.canView||this.canDone)&&s("div",{class:"buttons"},this.canSendAnother&&s("verdocs-button",{size:"small",label:"Send Another",onClick:function(t){return n.handleAnother(t)}}),this.canView&&s("verdocs-button",{size:"small",label:"View Now",onClick:function(t){return n.handleView(t)}}),this.canDone&&s("verdocs-button",{size:"small",label:"Done",onClick:function(t){return n.handleDone(t)}}))))},a}();N.style=R;export{z as verdocs_envelope_recipient_link,N as verdocs_envelope_recipient_summary};
