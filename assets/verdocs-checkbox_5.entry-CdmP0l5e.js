import{m as r,H as f,o as q,r as v,n as b}from"./components-BUY51Sj4.js";import{S as y,an as N,V as z}from"./index-FOFzXDN2.js";import{g as L,u as k}from"./TemplateFieldStore-d7516adf-DcKvNlmt.js";import{g as R}from"./TemplateRoleStore-ddc3b96f-B5kZ-UY0.js";import{g as F}from"./TemplateStore-df5484bb-DdHXR8_e.js";import{S as O}from"./errors-887f1e88-DR85jTO9.js";import"./index-7456b04f-WYt0v2to.js";import"./index-CDs2tPxN.js";import"./index-BXagdh-V.js";import"./iframe-BIHgOnMp.js";import"../sb-preview/runtime.js";import"./index-296aabaf-RiVWanv8.js";var g=function(){return g=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(n[l]=e[l])}return n},g.apply(this,arguments)},w=function(n,e,t,o){function l(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function d(u){try{s(o.next(u))}catch(c){a(c)}}function p(u){try{s(o.throw(u))}catch(c){a(c)}}function s(u){u.done?i(u.value):l(u.value).then(d,p)}s((o=o.apply(n,e||[])).next())})},I=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,l,i,a;return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(s){return function(u){return p([s,u])}}function p(s){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(t=0)),t;)try{if(o=1,l&&(i=s[0]&2?l.return:s[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,s[1])).done)return i;switch(l=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,l=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(u){s=[6,u],l=0}finally{o=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},x=function(n,e,t){if(t||arguments.length===2)for(var o=0,l=e.length,i;o<l;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return n.concat(i||Array.prototype.slice.call(e))},D='@charset "UTF-8";@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-checkbox{line-height:18px;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-checkbox label>input[type=checkbox]{display:none}verdocs-checkbox label>input[type=checkbox]+*::before{content:"";width:20px;height:20px;-ms-flex-negative:0;flex-shrink:0;margin-right:8px;line-height:20px;border-radius:2px;border-style:solid;border-width:0.1rem;display:inline-block;vertical-align:bottom;border-color:#aeb4bf}verdocs-checkbox label>input[type=checkbox]:checked+*{color:#55bc81}verdocs-checkbox label>input[type=checkbox]:checked+*::before{content:"âœ“";color:white;text-align:center;background:#55bc81;border-color:#55bc81}verdocs-checkbox.dark label>input[type=checkbox]+*::before{border-color:#ffffff}verdocs-checkbox.dark label>input[type=checkbox]:checked+*::before{background:#55bc81;border-color:#55bc81}',H=D,M=function(){function n(e){v(this,e),this.checked=!1,this.name="",this.label="",this.value="",this.theme="light",this.disabled=!1}return n.prototype.render=function(){var e;return r(f,{key:"419474760206bae27e0ad8f578a0fb0d97702791",class:(e={disabled:this.disabled},e[this.theme]=!0,e)},r("label",{key:"4cb5190cdc28bec1528637bfeeb130d392ce4347"},r("input",{key:"f032febf516c10b0540094f058a59031ce2c706b",type:"checkbox",value:this.value,name:this.name,checked:this.checked,disabled:this.disabled}),r("span",{key:"c089f80a6a1060d775c1a13d8cbe8a577287f329"},this.label)))},n}();M.style=H;var A='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-component-error{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;padding:15px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-component-error .inner{-ms-flex:1;flex:1;height:300px;display:-ms-flexbox;display:flex;font-size:18px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 20px;background:#ffffff;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}',B=A,V=function(){function n(e){v(this,e),this.message=""}return n.prototype.render=function(){return r(f,{key:"af86792a4a2d09d2242645a1a8db657c5cd984bf"},r("div",{key:"52096cd84877537d50bea3e0e7a424e5d352c566",class:"inner"},this.message))},n}();V.style=B;var j="@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}",U=j,W="10001",Z=function(){function n(e){v(this,e),this.clickAway=b(this,"clickAway",7),this.moved=!1,this.anchor=void 0,this.voffset=0,this.align="left"}return n.prototype.handleScroll=function(){this.calculatePosition()},n.prototype.handleResize=function(){this.calculatePosition()},n.prototype.handleClick=function(e){var t;this.element.contains(e.target)||(t=this.clickAway)===null||t===void 0||t.emit()},n.prototype.calculateLeft=function(){var e=document.getElementById(this.anchor);if(!e)return 0;var t=e.getBoundingClientRect();return this.align==="left"?Math.max(t.left,0):this.align==="right"?Math.max(t.left+t.width-this.portal.offsetWidth,0):Math.max(t.left-this.portal.offsetWidth/2+t.width/2,0)},n.prototype.calculateTop=function(){var e=document.getElementById(this.anchor);if(!e)return 0;var t=e.getBoundingClientRect();return t.bottom+this.voffset},n.prototype.calculatePosition=function(){this.portal.style.top="".concat(this.calculateTop(),"px"),this.portal.style.left="".concat(this.calculateLeft(),"px")},n.prototype.componentWillLoad=function(){var e,t="".concat(this.anchor,"-portal");(e=document.getElementById(t))===null||e===void 0||e.remove(),this.portal=document.createElement("div"),this.portal.setAttribute("id",t),this.portal.style.zIndex=W,this.portal.style.position="absolute",document.body.append(this.portal)},n.prototype.componentDidLoad=function(){this.portal.appendChild(this.element),this.calculatePosition()},n.prototype.disconnectedCallback=function(){this.moved?this.portal.remove():this.moved=!0},n.prototype.render=function(){var e=this;return r(f,{key:"80b497808d7c72fdb5786712abdd50d98f0ab160",ref:function(t){return e.element=t}},r("slot",{key:"d52fd1a7acd0d7f301ca2c9ba81b406a0107c3a0"}))},n}();Z.style=U;var Q='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-select-input{font-family:"Inter", "Barlow", sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 0 10px 0;display:block}verdocs-select-input .input-element{-webkit-box-sizing:border-box;box-sizing:border-box;background:#ffffff;border:1px solid #cccccc;border-radius:4px;background:#ffffff;color:#092c4c;width:100%;font-size:16px;height:28px;padding:2px 8px}verdocs-select-input .input-element::-webkit-input-placeholder{color:#aaaaaa;opacity:1}verdocs-select-input .input-element::-moz-placeholder{color:#aaaaaa;opacity:1}verdocs-select-input .input-element:-ms-input-placeholder{color:#aaaaaa;opacity:1}verdocs-select-input .input-element::-ms-input-placeholder{color:#aaaaaa;opacity:1}verdocs-select-input .input-element::placeholder{color:#aaaaaa;opacity:1}verdocs-select-input .input-label{display:block;color:#555570;font-weight:700;font-size:14px;margin:0 0 4px 0}',G=Q,K=function(){function n(e){v(this,e),this.value="",this.label="",this.options=void 0,this.disabled=!1}return n.prototype.render=function(){var e=this;return r(f,{key:"a353e008560aed3f922fc52d5c091d88cbe099a3",class:"input-field"},r("label",{key:"90a9b8244853fa2083f0d7fb1672ed204ed22a4c"},this.label?r("div",{class:"input-label"},this.label+":"):r("div",null),r("select",{key:"a68e1ea7b9f9b6f375b2d6c1df859708acc79bea",class:"input-element",disabled:this.disabled},this.options.map(function(t){return r("option",{value:t.value,selected:t.value===e.value},t.label)}))))},n}();K.style=G;var X='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-template-field-properties{padding:20px;display:block;border-radius:4px;background:#ffffff;border:1px solid #ccc;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;-webkit-box-shadow:2px 2px 10px 0px rgba(0, 0, 0, 0.1215686275);box-shadow:2px 2px 10px 0px rgba(0, 0, 0, 0.1215686275)}verdocs-template-field-properties .buttons{display:-ms-flexbox;display:flex;margin-top:30px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end}verdocs-template-field-properties .buttons verdocs-button{margin-left:16px}verdocs-template-field-properties form .row{display:-ms-flexbox;display:flex;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;margin:0 0 10px 0;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-template-field-properties form .row .input-label{display:block;color:#555570;font-weight:700;font-size:14px;margin:0 0 4px 0;-ms-flex:0 0 100px;flex:0 0 100px}verdocs-template-field-properties verdocs-select-input{-ms-flex:1;flex:1;margin:0}verdocs-template-field-properties verdocs-text-input{margin:0;-ms-flex:1;flex:1}verdocs-template-field-properties verdocs-text-input label{margin:0;display:-ms-flexbox;display:flex;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-template-field-properties verdocs-text-input .input-label{-ms-flex:0 0 100px;flex:0 0 100px}verdocs-template-field-properties verdocs-text-input input{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}verdocs-template-field-properties .checkbox-wrapper{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}verdocs-template-field-properties .delete-button{height:34px;display:-ms-flexbox;display:flex;cursor:pointer;background:none;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #999;-ms-flex-pack:center;justify-content:center}verdocs-template-field-properties .delete-button:active{background:#f3f3f3}verdocs-template-field-properties .delete-button svg{width:24px;height:24px}verdocs-template-field-properties h6{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;font-size:16px;font-weight:bold;margin:0 0 8px 0;-ms-flex-direction:row;flex-direction:row;color:#092c4c}verdocs-template-field-properties h6 .help-icon{opacity:0.5}verdocs-template-field-properties h6 .help-icon:hover{opacity:1;cursor:pointer}verdocs-template-field-properties .row-header{gap:15px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}verdocs-template-field-properties .row-header h6{margin-bottom:0}verdocs-template-field-properties .row-header verdocs-help-icon{-webkit-transform:scale(0.85);transform:scale(0.85)}verdocs-template-field-properties .row-header verdocs-help-icon svg{margin-bottom:-5px}verdocs-template-field-properties .row-header .add-button{margin:0;padding:0;border:none;opacity:0.5;cursor:pointer;background:none}verdocs-template-field-properties .row-header .add-button:hover{opacity:1}verdocs-template-field-properties .row-header .add-button svg{width:32px;height:32px}verdocs-template-field-properties .option-row{margin:15px 0}verdocs-template-field-properties .option-row .remove-button{height:28px;display:-ms-flexbox;display:flex;cursor:pointer;background:none;border-radius:4px;-ms-flex-align:center;align-items:center;border:1px solid #999;-ms-flex-pack:center;justify-content:center}verdocs-template-field-properties .option-row .remove-button:active{background:#f3f3f3}verdocs-template-field-properties .option-row .remove-button:hover svg{stroke:rgb(165, 0, 33)}verdocs-template-field-properties .option-row .remove-button svg{width:20px;height:20px;stroke:#333333}verdocs-template-field-properties .options{background:#f3f3f3;padding:0 0 10px 0}verdocs-template-field-properties .options .row-header,verdocs-template-field-properties .options .option-row{padding:0 10px}verdocs-template-field-properties .options .add-option-button{border-radius:5px;border:1px solid #cccccc;background:#46497d;color:#ffffff;padding:3px 8px}verdocs-template-field-properties .options .option-row .input-element{font-size:14px}verdocs-template-field-properties .options verdocs-help-icon{opacity:1;-webkit-transform:scale(0.8);transform:scale(0.8)}verdocs-template-field-properties .options verdocs-help-icon svg{fill:#ffffff}',Y=X,S=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},E='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#a50021"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>',_='<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M11.925 18q.55 0 .938-.387.387-.388.387-.938 0-.55-.387-.925-.388-.375-.938-.375-.55 0-.925.375t-.375.925q0 .55.375.938.375.387.925.387Zm-.95-3.85h1.95q0-.8.2-1.287.2-.488 1.025-1.288.65-.625 1.025-1.213.375-.587.375-1.437 0-1.425-1.025-2.175Q13.5 6 12.1 6q-1.425 0-2.35.775t-1.275 1.85l1.775.7q.125-.45.55-.975.425-.525 1.275-.525.725 0 1.1.412.375.413.375.888 0 .475-.287.9-.288.425-.713.775-1.075.95-1.325 1.475-.25.525-.25 1.875ZM12 22.2q-2.125 0-3.988-.8-1.862-.8-3.237-2.175Q3.4 17.85 2.6 15.988 1.8 14.125 1.8 12t.8-3.988q.8-1.862 2.175-3.237Q6.15 3.4 8.012 2.6 9.875 1.8 12 1.8t3.988.8q1.862.8 3.237 2.175Q20.6 6.15 21.4 8.012q.8 1.863.8 3.988t-.8 3.988q-.8 1.862-2.175 3.237Q17.85 20.6 15.988 21.4q-1.863.8-3.988.8Zm0-2.275q3.325 0 5.625-2.3t2.3-5.625q0-3.325-2.3-5.625T12 4.075q-3.325 0-5.625 2.3T4.075 12q0 3.325 2.3 5.625t5.625 2.3ZM12 12Z"/></svg>';function T(){var n=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}var J=function(){function n(e){v(this,e),this.close=b(this,"close",7),this.delete=b(this,"delete",7),this.settingsChanged=b(this,"settingsChanged",7),this.sdkError=b(this,"sdkError",7),this.templateStore=null,this.fieldStore=null,this.roleStore=null,this.endpoint=z.getDefault(),this.templateId="",this.fieldName="",this.helpText="",this.dirty=!1,this.loading=!0,this.setting=null,this.label="",this.type="textbox",this.name="",this.required=!1,this.roleName="",this.group="",this.fieldType="",this.options=[],this.placeholder="",this.value="",this.leading=0,this.showingHelp=!1}return n.prototype.componentWillLoad=function(){return w(this,void 0,void 0,function(){var e,t,o,l,i,a,d,p,s,u,c,m,C=this;return I(this,function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),this.endpoint.loadSession(),this.templateId?this.fieldName?this.endpoint.session?(p=this,[4,F(this.endpoint,this.templateId)]):(console.log("[FIELD PROPERTIES] Unable to start builder session, must be authenticated"),[2]):(console.error("[FIELD PROPERTIES] Missing required field name"),[2]):(console.log("[FIELD PROPERTIES] Missing required template ID ".concat(this.templateId)),[2]);case 1:return p.templateStore=h.sent(),s=this,[4,L(this.templateId)];case 2:return s.fieldStore=h.sent(),u=this,[4,R(this.templateId)];case 3:return u.roleStore=h.sent(),c=this.fieldStore.get("fields").find(function(P){return P.name===C.fieldName}),c?console.log("props",c):console.log('[FIELD PROPERTIES] Unable to find field "'.concat(this.fieldName,'" in fields')),this.type=c.type,this.name=c.name,this.label=c.label,this.group=c.name,this.roleName=c.role_name,this.required=c.required,this.fieldType=c.type,this.placeholder=((e=c.settings)===null||e===void 0?void 0:e.placeholder)||"",this.value=((t=c.settings)===null||t===void 0?void 0:t.result)||"",this.leading=((o=c.settings)===null||o===void 0?void 0:o.leading)||0,this.setting=c.settings||{},this.options=((l=c.settings)===null||l===void 0?void 0:l.options)||[],this.dirty=!1,this.loading=!1,console.log("Displaying settings for",this.setting),[3,5];case 4:return m=h.sent(),console.log("[FIELD PROPERTIES] Error loading template",m),this.loading=!1,(i=this.sdkError)===null||i===void 0||i.emit(new O(m.message,(a=m.response)===null||a===void 0?void 0:a.status,(d=m.response)===null||d===void 0?void 0:d.data)),[3,5];case 5:return[2]}})})},n.prototype.handleCancel=function(e){var t=this,o,l,i,a,d;e.stopPropagation();var p=this.fieldStore.get("fields").find(function(s){return s.name===t.fieldName});p&&(this.name=p.name,this.label=p.label,this.roleName=p.role_name,this.required=p.required,this.placeholder=((o=p.settings)===null||o===void 0?void 0:o.placeholder)||"",this.value=((l=p.settings)===null||l===void 0?void 0:l.result)||"",this.leading=((i=p.settings)===null||i===void 0?void 0:i.leading)||0),this.dirty=!1,(a=this.close)===null||a===void 0||a.emit(),(d=document.getElementById("verdocs-template-field-properties"))===null||d===void 0||d.remove()},n.prototype.handleSave=function(e){var t=this;e.stopPropagation();var o={name:this.name,label:this.label||null,required:this.required,role_name:this.roleName};this.type==="checkbox_group"||this.type==="radio_button_group"?(o.settings=this.setting,o.settings.options=this.options):this.type==="textarea"||this.type==="textbox"?(o.settings=g({},this.setting),o.settings.result=(this.value||"").trim()):this.type==="dropdown"&&(o.settings={x:this.setting.x,y:this.setting.y,options:this.options}),console.log("FP: Will update",this.fieldName,o),y(this.endpoint,this.templateId,this.fieldName,o).then(function(l){var i,a,d;t.dirty=!1,k(t.fieldStore,t.fieldName,l),(i=t.settingsChanged)===null||i===void 0||i.emit({fieldName:t.fieldName,settings:o,field:l}),(a=t.close)===null||a===void 0||a.emit(),(d=document.getElementById("verdocs-template-field-properties"))===null||d===void 0||d.remove()}).catch(function(){console.log("Field update failed",e)})},n.prototype.handleAddOption=function(e){var t=this;e.stopPropagation();var o={name:this.name,required:this.required,role_name:this.roleName};this.options.push(this.type==="radio_button_group"?{id:T(),value:"Option ".concat(this.options.length+1),selected:!1,x:this.options.length>0?this.options[this.options.length-1].x:20,y:this.options.length>0?this.options[this.options.length-1].y-25:20}:{id:T(),value:"Option ".concat(this.options.length+1),checked:!1,x:this.options.length>0?this.options[this.options.length-1].x:20,y:this.options.length>0?this.options[this.options.length-1].y-25:20}),o.settings=g({},this.setting),delete o.settings.result,o.settings.options=x([],this.options,!0),y(this.endpoint,this.templateId,this.fieldName,o).then(function(l){var i,a,d;t.dirty=!1,k(t.fieldStore,t.fieldName,l),t.fieldName=l.name,(i=t.settingsChanged)===null||i===void 0||i.emit({fieldName:t.fieldName,settings:o,field:l}),(a=t.close)===null||a===void 0||a.emit(),(d=document.getElementById("verdocs-template-field-properties"))===null||d===void 0||d.remove()}).catch(function(){console.log("Field update failed",e)})},n.prototype.handleDelete=function(e){return w(this,void 0,void 0,function(){var t=this;return I(this,function(o){return e.stopPropagation(),window.confirm("Are you sure you wish to remove this field? This action cannot be undone.")&&N(this.endpoint,this.templateId,this.fieldName).then(function(){var l,i;t.fieldStore.set("fields",t.fieldStore.get("fields").filter(function(a){return a.name!==t.fieldName})),(l=t.delete)===null||l===void 0||l.emit({templateId:t.templateId,roleName:t.roleName}),(i=document.getElementById("verdocs-template-field-properties"))===null||i===void 0||i.remove()}).catch(function(l){console.log("[FIELD PROPERTIES] Deletion error",l)}),[2]})})},n.prototype.render=function(){var e=this,t;return this.endpoint.session?!this.endpoint.session||!this.fieldStore.get("fields").some(function(o){return o.name===e.fieldName})?r(f,{class:"empty"}):this.helpText&&this.showingHelp?r(f,null,r("h6",null,S(this.fieldType)," Settings ",r("div",{style:{flex:"1"}}),r("div",{class:"help-icon",innerHTML:_,onClick:function(){return e.showingHelp=!1}})),r("p",{class:"instructions",innerHTML:this.helpText})):r(f,{id:"verdocs-template-field-properties"},r("h6",null,S(this.fieldType.replace(/_/g," "))," Settings ",r("div",{style:{flex:"1"}}),this.helpText&&r("div",{class:"help-icon",innerHTML:_,onClick:function(){return e.showingHelp=!0}})),r("form",{onSubmit:function(o){return o.preventDefault()},onClick:function(o){return o.stopPropagation()},autocomplete:"off"},r("div",{class:"row"},r("verdocs-text-input",{id:"verdocs-field-name",label:"Field Name",value:this.name,autocomplete:"off",placeholder:"Field Name...",onInput:function(o){e.name=o.target.value,e.dirty=!0}})),r("div",{class:"row"},r("verdocs-text-input",{id:"verdocs-field-label",label:"Optional Label",value:this.label,autocomplete:"off",placeholder:"Optional Label...",onInput:function(o){e.label=o.target.value,e.dirty=!0}})),r("div",{class:"row"},r("div",{class:"input-label"},"Role:"),r("verdocs-select-input",{value:this.roleName,options:(t=this.roleStore.state)===null||t===void 0?void 0:t.roles.map(function(o){return{label:o.name,value:o.name}}),onInput:function(o){e.roleName=o.target.value,e.dirty=!0}})),["textbox","textarea"].includes(this.type)&&r("div",{class:"row",style:{marginTop:"10px",marginBottom:"10px"}},r("verdocs-text-input",{id:"verdocs-field-value",label:"Value",value:this.value,autocomplete:"off",placeholder:"Pre-defined value...",onInput:function(o){e.value=o.target.value,e.dirty=!0}})),["textbox","textarea"].includes(this.type)&&r("div",{class:"row",style:{marginTop:"10px",marginBottom:"10px"}},r("verdocs-text-input",{id:"verdocs-field-placeholder",label:"Placeholder",value:this.placeholder,autocomplete:"off",placeholder:"Placeholder...",onInput:function(o){e.placeholder=o.target.value,e.dirty=!0}})),r("div",{class:"row",style:{marginTop:"15px",marginBottom:"15px"}},r("label",{htmlFor:"verdocs-is-required",class:"input-label"},"Required"),r("verdocs-checkbox",{id:"verdocs-is-required",name:"is-required",checked:this.required,value:"on",onInput:function(o){e.required=o.target.checked,e.dirty=!0}})),["checkbox_group","radio_button_group"].includes(this.type)&&r("verdocs-button",{size:"small",onClick:function(o){return e.handleAddOption(o)},label:"Add Option"}),["dropdown"].includes(this.type)&&r("div",{class:"options"},r("div",{class:"row",style:{marginTop:"15px",marginBottom:"15px",textAlign:"center",fontWeight:"700",fontSize:"14px",justifyContent:"center",backgroundColor:"#333333",padding:"5px 8px",color:"#ffffff"}},"Options"),r("div",{class:"row-header"},r("h6",null,"ID"),r("h6",null,"Label"),r("div",{style:{width:"34px"}})),this.options.map(function(o,l){return r("div",{class:"row option-row",key:l},r("verdocs-text-input",{id:"verdocs-option-id-".concat(o.id),value:o.id,placeholder:"Unique ID",onInput:function(i){e.options[l].id=i.target.value,e.dirty=!0}}),r("verdocs-text-input",{id:"verdocs-option-value-".concat(o.id),value:o.value,placeholder:"Display value",onInput:function(i){e.options[l].value=i.target.value,e.dirty=!0}}),r("button",{innerHTML:E,class:"remove-button",onClick:function(){e.options=e.options.filter(function(i){return i.id!==o.id}),e.dirty=!0}}))}),r("div",{class:"row-header"},r("button",{class:"add-option-button",onClick:function(){e.options=x(x([],e.options,!0),[{id:"option-".concat(e.options.length+1),value:"Option ".concat(e.options.length+1)}],!1),e.dirty=!0}},"Add Option"))),r("div",{class:"buttons"},r("button",{class:"delete-button",disabled:this.dirty,onClick:function(o){return e.handleDelete(o)},innerHTML:E}),r("div",{style:{flex:"1"}}),r("verdocs-button",{size:"small",variant:"outline",label:"Cancel",disabled:!this.dirty,onClick:function(o){return e.handleCancel(o)}}),r("verdocs-button",{size:"small",label:"Save",disabled:!this.dirty,onClick:function(o){return e.handleSave(o)}})))):r(f,null,r("verdocs-component-error",{message:"You must be authenticated to use this module."}))},Object.defineProperty(n.prototype,"el",{get:function(){return q(this)},enumerable:!1,configurable:!0}),n}();J.style=Y;export{M as verdocs_checkbox,V as verdocs_component_error,Z as verdocs_portal,K as verdocs_select_input,J as verdocs_template_field_properties};
