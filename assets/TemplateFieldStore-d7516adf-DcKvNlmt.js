import{c as f}from"./index-296aabaf-RiVWanv8.js";var l=function(){return l=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},l.apply(this,arguments)},s=function(t,e,i){if(i||arguments.length===2)for(var r=0,a=e.length,n;r<a;r++)(n||!(r in e))&&(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},o={},d=function(t){return o[t]||(o[t]=f({fields:[]})),o[t]},p=function(t){var e=d(t.id);return e||(console.log("Creating template field store for template",t),e=f({fields:[]}),o[t.id]=e),e.set("fields",s([],t.fields,!0)),e},c=function(t){var e=d(t.template_id);return e?(console.log("Resetting field store for envelope",t.id,t.template_id),e.reset()):(console.log("Creating field store for envelope",t.id,t.template_id),e=f({fields:[]}),o[t.template_id]=e),e.set("fields",s([],t.fields,!0)),e},g=function(t,e,i){var r=t.get("fields")||[];if(e!==i.name){console.log("Renaming",e,i.name);var a=r.filter(function(n){return n.name!==e});t.set("fields",s(s([],a,!0),[i],!1))}else console.log("Updating",e),t.set("fields",r.map(function(n){return n.name===e?l(l({},n),i):l({},n)}))};export{c as a,p as c,d as g,g as u};
