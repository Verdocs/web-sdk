import{m as f,H as m,r as h,n as p}from"./components-BUY51Sj4.js";import{ag as b,V as g}from"./index-FOFzXDN2.js";import"./index-CDs2tPxN.js";import"./index-BXagdh-V.js";import"./iframe-BIHgOnMp.js";import"../sb-preview/runtime.js";var v=function(s,i,r,n){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function c(o){try{e(n.next(o))}catch(d){l(d)}}function u(o){try{e(n.throw(o))}catch(d){l(d)}}function e(o){o.done?t(o.value):a(o.value).then(c,u)}e((n=n.apply(s,i||[])).next())})},w=function(s,i){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},n,a,t,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(e){return function(o){return u([e,o])}}function u(e){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,e[0]&&(r=0)),r;)try{if(n=1,a&&(t=e[0]&2?a.return:e[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,e[1])).done)return t;switch(a=0,t&&(e=[e[0]&2,t.value]),e[0]){case 0:case 1:t=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++,a=e[1],e=[0];continue;case 7:e=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!t||e[1]>t[0]&&e[1]<t[3])){r.label=e[1];break}if(e[0]===6&&r.label<t[1]){r.label=t[1],t=e;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(e);break}t[2]&&r.ops.pop(),r.trys.pop();continue}e=i.call(s,r)}catch(o){e=[6,o],a=0}finally{n=t=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},k='@-webkit-keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}@keyframes verdocs-field-pulse{0%{background-color:rgba(0, 0, 0, 0.35)}50%{background-color:rgba(0, 0, 0, 0)}100%{background-color:rgba(0, 0, 0, 0.35)}}verdocs-template-star{display:-ms-flexbox;display:flex;-ms-flex:0 0 60px;flex:0 0 60px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;font-family:"Inter", "Barlow", sans-serif}verdocs-template-star .star{line-height:10px}verdocs-template-star .star.updating{-webkit-animation:spinningStar 2s infinite linear;animation:spinningStar 2s infinite linear}verdocs-template-star .star svg{width:24px;height:24px}verdocs-template-star .count{color:#595c5d;font-size:14px;margin-left:10px}@-webkit-keyframes spinningStar{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spinningStar{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}',y=k,x='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" /></svg>',S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" /></svg>',_=function(){function s(i){h(this,i),this.starChange=p(this,"starChange",7),this.sdkError=p(this,"sdkError",7),this.endpoint=g.getDefault(),this.template=void 0,this.updating=!1}return s.prototype.componentWillLoad=function(){return v(this,void 0,void 0,function(){return w(this,function(i){return this.endpoint.loadSession(),this.endpoint.session?[2]:(console.log("[TEMPLATES] Must be authenticated"),[2])})})},s.prototype.toggle=function(i){var r=this;i.stopPropagation(),this.updating=!0,b(g.getDefault(),this.template.id).then(function(n){r.updating=!1,r.template.star_counter=n.star_counter,r.starChange.emit({templateId:r.template.id,starred:n.star_counter>0,count:n.star_counter})}).catch(function(n){r.updating=!1,console.log("[STAR] Error toggling template star",n.message),r.sdkError.emit(n)})},s.prototype.render=function(){var i=this;return f(m,{key:"0bfc2a29037c8753d08852eb5b0d0e7ccae821fc"},f("div",{key:"16441206c390f010d43fddf52df556f503f2309b",class:"star ".concat(this.updating?"updating":""),innerHTML:this.template.star_counter?S:x,onClick:function(r){return i.toggle(r)}}),f("div",{key:"0b7ed0bba53a2e243c47195efcb09934d056d479",class:"count"},this.template.star_counter||"--"))},s}();_.style=y;export{_ as verdocs_template_star};
