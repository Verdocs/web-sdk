import{c as u}from"./index-296aabaf-RiVWanv8.js";var s=function(){return s=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},s.apply(this,arguments)},i=function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,a;n<o;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))},l={},f=function(r){return l[r]||(l[r]=u({roles:[]})),l[r]},p=function(r){var e=f(r.id);return e||(console.log("Creating template role store for template",r),e=u({roles:[]}),l[r.id]=e),e.set("roles",i([],r.roles,!0)),e},d=function(r,e,t){console.log("[ROLES] Updating store role",e,t);var n=i([],r.get("roles").map(function(o){return o.name!==e?o:s(s({},o),t)}),!0);r.set("roles",n)},m=function(r,e){console.log("[ROLES] Deleting store role",e);var t=i([],r.get("roles").filter(function(n){return n.name!==e}),!0);r.set("roles",t)},c=function(r){return(r.get("roles")||[]).map(function(e){return e.name})},v=function(r,e){return Math.max(c(r).findIndex(function(t){return t===e}),0)};export{v as a,c as b,p as c,m as d,f as g,d as u};
