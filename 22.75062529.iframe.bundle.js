/*! For license information please see 22.75062529.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"./dist/esm/verdocs-dropdown_12.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_dropdown",(function(){return VerdocsDropdown})),__webpack_require__.d(__webpack_exports__,"verdocs_field_attachment",(function(){return VerdocsFieldAttachment})),__webpack_require__.d(__webpack_exports__,"verdocs_field_checkbox",(function(){return VerdocsFieldCheckbox})),__webpack_require__.d(__webpack_exports__,"verdocs_field_date",(function(){return VerdocsFieldDate})),__webpack_require__.d(__webpack_exports__,"verdocs_field_dropdown",(function(){return VerdocsFieldDropdown})),__webpack_require__.d(__webpack_exports__,"verdocs_field_initial",(function(){return VerdocsFieldInitial})),__webpack_require__.d(__webpack_exports__,"verdocs_field_payment",(function(){return VerdocsFieldPayment})),__webpack_require__.d(__webpack_exports__,"verdocs_field_radio_button",(function(){return VerdocsFieldRadioButton})),__webpack_require__.d(__webpack_exports__,"verdocs_field_signature",(function(){return VerdocsFieldSignature})),__webpack_require__.d(__webpack_exports__,"verdocs_field_textarea",(function(){return VerdocsFieldTextarea})),__webpack_require__.d(__webpack_exports__,"verdocs_field_textbox",(function(){return VerdocsFieldTextbox})),__webpack_require__.d(__webpack_exports__,"verdocs_view",(function(){return VerdocsView}));var _home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_3__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_4__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_6__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/core-js/modules/es.promise.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_8__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_9__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_10__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_14__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_15__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_16__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_17__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_18__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_19__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_20__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_21__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_22__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_23__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_24__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_25__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/core-js/modules/es.string.pad-start.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_26__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_27__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_28__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_29__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_30__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_31__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_32__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_33__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_34__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_35__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_36__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./node_modules/core-js/modules/web.timers.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_37__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_38__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_39__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_40__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_41__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_42___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_42__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_to_iso_string_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_to_iso_string_js__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_to_iso_string_js__WEBPACK_IMPORTED_MODULE_43__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_44___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_44__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_global_this_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("./node_modules/core-js/modules/es.global-this.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_global_this_js__WEBPACK_IMPORTED_MODULE_45___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_global_this_js__WEBPACK_IMPORTED_MODULE_45__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_46___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_46__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_47___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_47__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_48___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_48__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_49___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_49__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_pad_end_js__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("./node_modules/core-js/modules/es.string.pad-end.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_pad_end_js__WEBPACK_IMPORTED_MODULE_50___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_pad_end_js__WEBPACK_IMPORTED_MODULE_50__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__("./node_modules/core-js/modules/web.url.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_51___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_51__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.uint8-array.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_52___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_52__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.copy-within.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_53___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_53__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.every.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_54___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_54__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.fill.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_55___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_55__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.filter.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_56___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_56__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.find.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_57___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_57__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.find-index.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_58___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_58__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_59__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.for-each.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_59___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_59__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_60__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.includes.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_60___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_60__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_61__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.index-of.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_61___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_61__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_62__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.iterator.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_62___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_62__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_63__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.join.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_63___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_63__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_64__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_64___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_64__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_65__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.map.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_65___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_65__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_66__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_66___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_66__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_67__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_67___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_67__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_68__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.reverse.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_68___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_68__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_69__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.set.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_69___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_69__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_70__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.slice.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_70___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_70__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_71__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.some.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_71___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_71__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_72__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.sort.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_72___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_72__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_73__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.subarray.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_73___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_73__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_74__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_74___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_74__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_75__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-string.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_75___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_75__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_76__=__webpack_require__("./node_modules/core-js/modules/es.array-buffer.slice.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_76___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_76__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_77__=__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_77___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_77__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_uint32_array_js__WEBPACK_IMPORTED_MODULE_78__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.uint32-array.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_uint32_array_js__WEBPACK_IMPORTED_MODULE_78___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_uint32_array_js__WEBPACK_IMPORTED_MODULE_78__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_79__=__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_79___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_79__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_80__=__webpack_require__("./node_modules/core-js/modules/es.map.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_80___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_80__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_81__=__webpack_require__("./node_modules/core-js/modules/es.set.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_81___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_81__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_82__=__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_82___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_82__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_83__=__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_83___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_83__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_84__=__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_84___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_84__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_85__=__webpack_require__("./node_modules/core-js/modules/es.promise.finally.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_85___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_85__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_86__=__webpack_require__("./node_modules/core-js/modules/es.weak-set.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_86___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_86__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_87__=__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_87___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_87__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_int32_array_js__WEBPACK_IMPORTED_MODULE_88__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.int32-array.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_int32_array_js__WEBPACK_IMPORTED_MODULE_88___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_int32_array_js__WEBPACK_IMPORTED_MODULE_88__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_89__=__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_89___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_89__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_fround_js__WEBPACK_IMPORTED_MODULE_90__=__webpack_require__("./node_modules/core-js/modules/es.math.fround.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_fround_js__WEBPACK_IMPORTED_MODULE_90___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_fround_js__WEBPACK_IMPORTED_MODULE_90__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_hypot_js__WEBPACK_IMPORTED_MODULE_91__=__webpack_require__("./node_modules/core-js/modules/es.math.hypot.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_hypot_js__WEBPACK_IMPORTED_MODULE_91___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_hypot_js__WEBPACK_IMPORTED_MODULE_91__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_bold_js__WEBPACK_IMPORTED_MODULE_92__=__webpack_require__("./node_modules/core-js/modules/es.string.bold.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_bold_js__WEBPACK_IMPORTED_MODULE_92___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_bold_js__WEBPACK_IMPORTED_MODULE_92__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_italics_js__WEBPACK_IMPORTED_MODULE_93__=__webpack_require__("./node_modules/core-js/modules/es.string.italics.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_italics_js__WEBPACK_IMPORTED_MODULE_93___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_string_italics_js__WEBPACK_IMPORTED_MODULE_93__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_epsilon_js__WEBPACK_IMPORTED_MODULE_94__=__webpack_require__("./node_modules/core-js/modules/es.number.epsilon.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_epsilon_js__WEBPACK_IMPORTED_MODULE_94___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_epsilon_js__WEBPACK_IMPORTED_MODULE_94__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_95__=__webpack_require__("./node_modules/core-js/modules/es.promise.all-settled.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_95___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_95__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_96__=__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_96___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_96__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_sign_js__WEBPACK_IMPORTED_MODULE_97__=__webpack_require__("./node_modules/core-js/modules/es.math.sign.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_sign_js__WEBPACK_IMPORTED_MODULE_97___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_sign_js__WEBPACK_IMPORTED_MODULE_97__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_98__=__webpack_require__("./node_modules/core-js/modules/es.typed-array.float64-array.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_98___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_98__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_99__=__webpack_require__("./node_modules/core-js/modules/es.number.to-fixed.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_99___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_99__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_100__=__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_100___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_100__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_101__=__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_101___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_101__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_102__=__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_102___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_102__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_103__=__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_103___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_103__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_104__=__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_104___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_104__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_105__=__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_105___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_105__),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_106__=__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_106___default=__webpack_require__.n(_home_runner_work_web_sdk_web_sdk_verdocs_web_sdk_node_modules_core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_106__),_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__=__webpack_require__("./dist/esm/index-859bc689.js"),_popper_93ecb064_js__WEBPACK_IMPORTED_MODULE_108__=__webpack_require__("./dist/esm/popper-93ecb064.js"),_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__=__webpack_require__("./dist/esm/buffer-es6-136673c8.js");function _classPrivateFieldLooseBase(receiver,privateKey){if(!Object.prototype.hasOwnProperty.call(receiver,privateKey))throw new TypeError("attempted to use private field on non-instance");return receiver}var id=0;function _classPrivateFieldLooseKey(name){return"__private_"+id+++"_"+name}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _asyncIterator(iterable){var method,async,sync,retry=2;for("undefined"!=typeof Symbol&&(async=Symbol.asyncIterator,sync=Symbol.iterator);retry--;){if(async&&null!=(method=iterable[async]))return method.call(iterable);if(sync&&null!=(method=iterable[sync]))return new AsyncFromSyncIterator(method.call(iterable));async="@@asyncIterator",sync="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(s){function AsyncFromSyncIteratorContinuation(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var done=r.done;return Promise.resolve(r.value).then((function(value){return{value:value,done:done}}))}return AsyncFromSyncIterator=function AsyncFromSyncIterator(s){this.s=s,this.n=s.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(value){var ret=this.s.return;return void 0===ret?Promise.resolve({value:value,done:!0}):AsyncFromSyncIteratorContinuation(ret.apply(this.s,arguments))},throw:function _throw(value){var thr=this.s.return;return void 0===thr?Promise.reject(value):AsyncFromSyncIteratorContinuation(thr.apply(this.s,arguments))}},new AsyncFromSyncIterator(s)}var SortDown='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#50BE80"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7 10l5 5 5-5H7z"/></svg>\n',verdocsDropdownCss='verdocs-dropdown{font-family:"Barlow", sans-serif;display:block}verdocs-dropdown .arrow{width:32px;height:26px;background:#fff;cursor:pointer;border-radius:4px;-ms-flex-align:center;align-items:center;display:-ms-inline-flexbox;display:inline-flex;border:1px solid #cccccc;-ms-flex-pack:center;justify-content:center}verdocs-dropdown .arrow svg{fill:#55bc81;-webkit-transition:0.3s;transition:0.3s}verdocs-dropdown .items{width:200px;display:none;z-index:10000;border-radius:5px;background:#33354c;border:1px solid #654dcb}verdocs-dropdown .items[data-show]{display:block}verdocs-dropdown .option{width:100%;color:#fff;border:none;display:block;text-align:left;background:none;padding:10px 20px}verdocs-dropdown .option:hover{cursor:pointer;background:#55bc81}verdocs-dropdown .option[disabled]{color:#aaaaaa}verdocs-dropdown .option[disabled]:hover{color:#aaaaaa;cursor:inherit;background:transparent}verdocs-dropdown.open .items{display:block}verdocs-dropdown.open .arrow{background:#4c56cb;border:1px solid #707ae5}verdocs-dropdown.open .arrow svg{-webkit-transform:scaleY(-1);transform:scaleY(-1);fill:#fff}',VerdocsDropdown=function(){function VerdocsDropdown(hostRef){_classCallCheck(this,VerdocsDropdown),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.optionSelected=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"optionSelected",7),this.options=[]}return _createClass(VerdocsDropdown,[{key:"componentWillLoad",value:function componentWillLoad(){this.isOpen=!!this.open}},{key:"componentDidLoad",value:function componentDidLoad(){this.popper=Object(_popper_93ecb064_js__WEBPACK_IMPORTED_MODULE_108__.a)(this.dropdownButton,this.dropdownMenu,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,6]}}]})}},{key:"handleSelectOption",value:function handleSelectOption(option){this.isOpen=!1,this.optionSelected.emit(option),this.hide()}},{key:"showDropdown",value:function showDropdown(){var _a,_b;this.isOpen=!0,this.dropdownMenu.setAttribute("data-show",""),this.dropdownMenu.removeAttribute("aria-hidden"),null===(_a=this.popper)||void 0===_a||_a.setOptions((function(options){return Object.assign({},options,{modifiers:[].concat(_toConsumableArray(options.modifiers),[{name:"eventListeners",enabled:!0}])})})),null===(_b=this.popper)||void 0===_b||_b.update()}},{key:"handleHideDropdown",value:function handleHideDropdown(e){var _a,_b;"button"===(null===(_a=null==e?void 0:e.target)||void 0===_a?void 0:_a.localName)&&"arrow"===(null===(_b=null==e?void 0:e.target)||void 0===_b?void 0:_b.className)||this.hide()}},{key:"toggleDropdown",value:function toggleDropdown(){this.isOpen?this.hide():this.showDropdown()}},{key:"hide",value:function hide(){var _a;this.isOpen=!1,this.dropdownMenu.removeAttribute("data-show"),this.dropdownMenu.setAttribute("aria-hidden","true"),null===(_a=this.popper)||void 0===_a||_a.setOptions((function(options){return Object.assign({},options,{modifiers:[].concat(_toConsumableArray(options.modifiers),[{name:"eventListeners",enabled:!1}])})}))}},{key:"render",value:function render(){var _a,_this=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV),open:!!this.isOpen}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("button",{class:"arrow",innerHTML:SortDown,"aria-label":"Open Menu",onClick:function onClick(){return _this.toggleDropdown()},onBlur:function onBlur(e){return _this.handleHideDropdown(e)},ref:function ref(el){return _this.dropdownButton=el}}),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("div",{class:"items","aria-hidden":!this.open,ref:function ref(el){return _this.dropdownMenu=el}},null===(_a=this.options)||void 0===_a?void 0:_a.map((function(option){return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("button",{onClick:function onClick(){return _this.handleSelectOption(option)},class:"option",disabled:option.disabled},option.label)}))))}}]),VerdocsDropdown}();VerdocsDropdown.style=verdocsDropdownCss;var Paperclip='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />\n</svg>\n',verdocsFieldAttachmentCss='verdocs-field-attachment{font-family:"Barlow", sans-serif;width:24px;height:24px;display:block;font-size:11px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-attachment span{width:20px;cursor:pointer}verdocs-field-attachment.required span{border:1px solid #cc0000}verdocs-field-attachment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldAttachment=function(){function VerdocsFieldAttachment(hostRef){_classCallCheck(this,VerdocsFieldAttachment),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.order=1,this.value="",this.required=!1,this.disabled=!1}var _focusField;return _createClass(VerdocsFieldAttachment,[{key:"focusField",value:(_focusField=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.handleShow();case 1:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"handleShow",value:function handleShow(){var _this2=this;this.dialog=document.createElement("verdocs-upload-dialog"),this.dialog.open=!0,this.dialog.addEventListener("cancel",(function(){var _a;console.log("cancel"),null===(_a=_this2.dialog)||void 0===_a||_a.remove()})),document.addEventListener("done",(function(e){var _a;console.log("done",e),null===(_a=_this2.dialog)||void 0===_a||_a.remove()})),document.body.append(this.dialog)}},{key:"render",value:function render(){var _this3=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{required:this.required}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("span",{innerHTML:Paperclip,onClick:function onClick(){return _this3.handleShow()}}))}}]),VerdocsFieldAttachment}();VerdocsFieldAttachment.style=verdocsFieldAttachmentCss;var verdocsFieldCheckboxCss='@charset "UTF-8";verdocs-field-checkbox{font-family:"Barlow", sans-serif;font-size:11px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-checkbox label>input[type=checkbox]{display:none}verdocs-field-checkbox label>input[type=checkbox]+*::before{content:"";display:block;vertical-align:bottom;width:14px;height:14px;border-radius:2px;border:1px solid rgba(0, 0, 0, 0.2);-ms-flex-negative:0;flex-shrink:0}verdocs-field-checkbox label>input[type=checkbox]:checked+*{color:var(--verdocs-primary-color)}verdocs-field-checkbox label>input[type=checkbox]:checked+*::before{content:"✓";color:white;text-align:center;background:var(--verdocs-primary-color);border-color:var(--verdocs-primary-color)}verdocs-field-checkbox.required label>input[type=checkbox]+*::before{border:1px solid var(--verdocs-required-color)}verdocs-field-checkbox.hide{display:none}verdocs-field-checkbox.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldCheckbox=function(){function VerdocsFieldCheckbox(hostRef){_classCallCheck(this,VerdocsFieldCheckbox),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.order=1,this.value=!1,this.required=!1,this.disabled=!1}return _createClass(VerdocsFieldCheckbox,[{key:"handleChange",value:function handleChange(e){this.fieldChange.emit(e.target.checked)}},{key:"render",value:function render(){var _this4=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{required:this.required}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("label",null,Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("input",{type:"checkbox",tabIndex:this.order,checked:this.value,disabled:this.disabled,required:this.required,onChange:function onChange(e){return _this4.handleChange(e)}}),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("span",null)))}}]),VerdocsFieldCheckbox}();function hasProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function lastItemOf(arr){return arr[arr.length-1]}function pushUnique(arr){for(var _len=arguments.length,items=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)items[_key-1]=arguments[_key];return items.forEach((function(item){arr.includes(item)||arr.push(item)})),arr}function stringToArray(str,separator){return str?str.split(separator):[]}function isInRange(testVal,min,max){return(void 0===min||testVal>=min)&&(void 0===max||testVal<=max)}function limitToRange(val,min,max){return val<min?min:val>max?max:val}function createTagRepeat(tagName,repeat){var attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},index=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,html=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",openTagSrc=Object.keys(attributes).reduce((function(src,attr){var val=attributes[attr];return"function"==typeof val&&(val=val(index)),src+" "+attr+'="'+val+'"'}),tagName);html+="<"+openTagSrc+"></"+tagName+">";var next=index+1;return next<repeat?createTagRepeat(tagName,repeat,attributes,next,html):html}function optimizeTemplateHTML(html){return html.replace(/>\s+/g,">").replace(/\s+</,"<")}function stripTime(timeValue){return new Date(timeValue).setHours(0,0,0,0)}function today(){return(new Date).setHours(0,0,0,0)}function dateValue(){switch(arguments.length){case 0:return today();case 1:return stripTime(arguments.length<=0?void 0:arguments[0])}var newDate=new Date(0);return newDate.setFullYear.apply(newDate,arguments),newDate.setHours(0,0,0,0)}function addDays(date,amount){var newDate=new Date(date);return newDate.setDate(newDate.getDate()+amount)}function addWeeks(date,amount){return addDays(date,7*amount)}function addMonths(date,amount){var newDate=new Date(date),monthsToSet=newDate.getMonth()+amount,expectedMonth=monthsToSet%12;expectedMonth<0&&(expectedMonth+=12);var time=newDate.setMonth(monthsToSet);return newDate.getMonth()!==expectedMonth?newDate.setDate(0):time}function addYears(date,amount){var newDate=new Date(date),expectedMonth=newDate.getMonth(),time=newDate.setFullYear(newDate.getFullYear()+amount);return 1===expectedMonth&&2===newDate.getMonth()?newDate.setDate(0):time}function dayDiff(day,from){return(day-from+7)%7}function dayOfTheWeekOf(baseDate,dayOfWeek){var weekStart=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,baseDay=new Date(baseDate).getDay();return addDays(baseDate,dayDiff(dayOfWeek,weekStart)-dayDiff(baseDay,weekStart))}function getWeek(date){var thuOfTheWeek=dayOfTheWeekOf(date,4,1),firstThu=dayOfTheWeekOf(new Date(thuOfTheWeek).setMonth(0,4),4,1);return Math.round((thuOfTheWeek-firstThu)/6048e5)+1}function startOfYearPeriod(date,years){var year=new Date(date).getFullYear();return Math.floor(year/years)*years}function regularizeDate(date,timeSpan,useLastDate){if(1!==timeSpan&&2!==timeSpan)return date;var newDate=new Date(date);return 1===timeSpan?useLastDate?newDate.setMonth(newDate.getMonth()+1,0):newDate.setDate(1):useLastDate?newDate.setFullYear(newDate.getFullYear()+1,0,0):newDate.setMonth(0,1),newDate.setHours(0,0,0,0)}VerdocsFieldCheckbox.style=verdocsFieldCheckboxCss;var reFormatTokens=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,reNonDateParts=/[\s!-/:-@[-`{-~年月日]+/,knownFormats={},parseFns={y:function y(date,year){return new Date(date).setFullYear(parseInt(year,10))},m:function m(date,month,locale){var newDate=new Date(date),monthIndex=parseInt(month,10)-1;if(isNaN(monthIndex)){if(!month)return NaN;var monthName=month.toLowerCase(),compareNames=function compareNames(name){return name.toLowerCase().startsWith(monthName)};if((monthIndex=locale.monthsShort.findIndex(compareNames))<0&&(monthIndex=locale.months.findIndex(compareNames)),monthIndex<0)return NaN}return newDate.setMonth(monthIndex),newDate.getMonth()!==normalizeMonth(monthIndex)?newDate.setDate(0):newDate.getTime()},d:function d(date,day){return new Date(date).setDate(parseInt(day,10))}},formatFns={d:function d(date){return date.getDate()},dd:function dd(date){return padZero(date.getDate(),2)},D:function D(date,locale){return locale.daysShort[date.getDay()]},DD:function DD(date,locale){return locale.days[date.getDay()]},m:function m(date){return date.getMonth()+1},mm:function mm(date){return padZero(date.getMonth()+1,2)},M:function M(date,locale){return locale.monthsShort[date.getMonth()]},MM:function MM(date,locale){return locale.months[date.getMonth()]},y:function y(date){return date.getFullYear()},yy:function yy(date){return padZero(date.getFullYear(),2).slice(-2)},yyyy:function yyyy(date){return padZero(date.getFullYear(),4)}};function normalizeMonth(monthIndex){return monthIndex>-1?monthIndex%12:normalizeMonth(monthIndex+12)}function padZero(num,length){return num.toString().padStart(length,"0")}function parseFormatString(format){if("string"!=typeof format)throw new Error("Invalid date format.");if(format in knownFormats)return knownFormats[format];var separators=format.split(reFormatTokens),parts=format.match(new RegExp(reFormatTokens,"g"));if(0===separators.length||!parts)throw new Error("Invalid date format.");var partFormatters=parts.map((function(token){return formatFns[token]})),partParserKeys=Object.keys(parseFns).reduce((function(keys,key){return parts.find((function(part){return"D"!==part[0]&&part[0].toLowerCase()===key}))&&keys.push(key),keys}),[]);return knownFormats[format]={parser:function parser(dateStr,locale){var dateParts=dateStr.split(reNonDateParts).reduce((function(dtParts,part,index){if(part.length>0&&parts[index]){var token=parts[index][0];"M"===token?dtParts.m=part:"D"!==token&&(dtParts[token]=part)}return dtParts}),{});return partParserKeys.reduce((function(origDate,key){var newDate=parseFns[key](origDate,dateParts[key],locale);return isNaN(newDate)?origDate:newDate}),today())},formatter:function formatter(date,locale){return partFormatters.reduce((function(str,fn,index){return str+""+separators[index]+fn(date,locale)}),"")+lastItemOf(separators)}}}function _parseDate(dateStr,format,locale){if(dateStr instanceof Date||"number"==typeof dateStr){var date=stripTime(dateStr);return isNaN(date)?void 0:date}if(dateStr){if("today"===dateStr)return today();if(format&&format.toValue){var _date=format.toValue(dateStr,format,locale);return isNaN(_date)?void 0:stripTime(_date)}return parseFormatString(format).parser(dateStr,locale)}}function _formatDate(date,format,locale){if(isNaN(date)||!date&&0!==date)return"";var dateObj="number"==typeof date?new Date(date):date;return format.toDisplay?format.toDisplay(dateObj,format,locale):parseFormatString(format).formatter(dateObj,locale)}var range=document.createRange();function parseHTML(html){return range.createContextualFragment(html)}function getParent(el){return el.parentElement||(el.parentNode instanceof ShadowRoot?el.parentNode.host:void 0)}function isActiveElement(el){return el.getRootNode().activeElement===el}function hideElement(el){"none"!==el.style.display&&(el.style.display&&(el.dataset.styleDisplay=el.style.display),el.style.display="none")}function showElement(el){"none"===el.style.display&&(el.dataset.styleDisplay?(el.style.display=el.dataset.styleDisplay,delete el.dataset.styleDisplay):el.style.display="")}function emptyChildNodes(el){el.firstChild&&(el.removeChild(el.firstChild),emptyChildNodes(el))}function replaceChildNodes(el,newChildNodes){emptyChildNodes(el),newChildNodes instanceof DocumentFragment?el.appendChild(newChildNodes):"string"==typeof newChildNodes?el.appendChild(parseHTML(newChildNodes)):"function"==typeof newChildNodes.forEach&&newChildNodes.forEach((function(node){el.appendChild(node)}))}var listenerRegistry=new WeakMap,_EventTarget$prototyp=EventTarget.prototype,addEventListener=_EventTarget$prototyp.addEventListener,removeEventListener=_EventTarget$prototyp.removeEventListener;function registerListeners(keyObj,listeners){var registered=listenerRegistry.get(keyObj);registered||(registered=[],listenerRegistry.set(keyObj,registered)),listeners.forEach((function(listener){addEventListener.call.apply(addEventListener,_toConsumableArray(listener)),registered.push(listener)}))}function unregisterListeners(keyObj){var listeners=listenerRegistry.get(keyObj);listeners&&(listeners.forEach((function(listener){removeEventListener.call.apply(removeEventListener,_toConsumableArray(listener))})),listenerRegistry.delete(keyObj))}if(!Event.prototype.composedPath){var getComposedPath=function getComposedPath(node){var parent,path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return path.push(node),node.parentNode?parent=node.parentNode:node.host?parent=node.host:node.defaultView&&(parent=node.defaultView),parent?getComposedPath(parent,path):path};Event.prototype.composedPath=function(){return getComposedPath(this.target)}}function findFromPath(path,criteria,currentTarget){var _path=_toArray(path),node=_path[0],rest=_path.slice(1);return criteria(node)?node:node!==currentTarget&&"HTML"!==node.tagName&&0!==rest.length?findFromPath(rest,criteria,currentTarget):void 0}function findElementInEventPath(ev,selector){var criteria="function"==typeof selector?selector:function(el){return el instanceof Element&&el.matches(selector)};return findFromPath(ev.composedPath(),criteria,ev.currentTarget)}var locales={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},defaultOptions={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},defaultLang=defaultOptions.language,defaultFormat=defaultOptions.format,defaultWeekStart=defaultOptions.weekStart;function sanitizeDOW(dow,day){return dow.length<6&&day>=0&&day<7?pushUnique(dow,day):dow}function calcEndOfWeek(startOfWeek){return(startOfWeek+6)%7}function validateDate(value,format,locale,origValue){var date=_parseDate(value,format,locale);return void 0!==date?date:origValue}function validateViewId(value,origValue){var max=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,viewId=parseInt(value,10);return viewId>=0&&viewId<=max?viewId:origValue}function processOptions(options,datepicker){var lang,inOpts=Object.assign({},options),config={},locales=datepicker.constructor.locales,rangeSideIndex=datepicker.rangeSideIndex,_ref=datepicker.config||{},format=_ref.format,language=_ref.language,locale=_ref.locale,maxDate=_ref.maxDate,maxView=_ref.maxView,minDate=_ref.minDate,pickLevel=_ref.pickLevel,startView=_ref.startView,weekStart=_ref.weekStart;if(inOpts.language&&(inOpts.language!==language&&(locales[inOpts.language]?lang=inOpts.language:void 0===locales[lang=inOpts.language.split("-")[0]]&&(lang=!1)),delete inOpts.language,lang)){language=config.language=lang;var origLocale=locale||locales[defaultLang];locale=Object.assign({format:defaultFormat,weekStart:defaultWeekStart},locales[defaultLang]),language!==defaultLang&&Object.assign(locale,locales[language]),config.locale=locale,format===origLocale.format&&(format=config.format=locale.format),weekStart===origLocale.weekStart&&(weekStart=config.weekStart=locale.weekStart,config.weekEnd=calcEndOfWeek(locale.weekStart))}if(inOpts.format){var hasToDisplay="function"==typeof inOpts.format.toDisplay,hasToValue="function"==typeof inOpts.format.toValue,validFormatString=reFormatTokens.test(inOpts.format);(hasToDisplay&&hasToValue||validFormatString)&&(format=config.format=inOpts.format),delete inOpts.format}var newPickLevel=pickLevel;void 0!==inOpts.pickLevel&&(newPickLevel=validateViewId(inOpts.pickLevel,2),delete inOpts.pickLevel),newPickLevel!==pickLevel&&(newPickLevel>pickLevel&&(void 0===inOpts.minDate&&(inOpts.minDate=minDate),void 0===inOpts.maxDate&&(inOpts.maxDate=maxDate)),inOpts.datesDisabled||(inOpts.datesDisabled=[]),pickLevel=config.pickLevel=newPickLevel);var minDt=minDate,maxDt=maxDate;if(void 0!==inOpts.minDate){var defaultMinDt=dateValue(0,0,1);(minDt=null===inOpts.minDate?defaultMinDt:validateDate(inOpts.minDate,format,locale,minDt))!==defaultMinDt&&(minDt=regularizeDate(minDt,pickLevel,!1)),delete inOpts.minDate}if(void 0!==inOpts.maxDate&&(void 0!==(maxDt=null===inOpts.maxDate?void 0:validateDate(inOpts.maxDate,format,locale,maxDt))&&(maxDt=regularizeDate(maxDt,pickLevel,!0)),delete inOpts.maxDate),maxDt<minDt?(minDate=config.minDate=maxDt,maxDate=config.maxDate=minDt):(minDate!==minDt&&(minDate=config.minDate=minDt),maxDate!==maxDt&&(maxDate=config.maxDate=maxDt)),inOpts.datesDisabled&&(config.datesDisabled=inOpts.datesDisabled.reduce((function(dates,dt){var date=_parseDate(dt,format,locale);return void 0!==date?pushUnique(dates,regularizeDate(date,pickLevel,rangeSideIndex)):dates}),[]),delete inOpts.datesDisabled),void 0!==inOpts.defaultViewDate){var viewDate=_parseDate(inOpts.defaultViewDate,format,locale);void 0!==viewDate&&(config.defaultViewDate=viewDate),delete inOpts.defaultViewDate}if(void 0!==inOpts.weekStart){var wkStart=Number(inOpts.weekStart)%7;isNaN(wkStart)||(weekStart=config.weekStart=wkStart,config.weekEnd=calcEndOfWeek(wkStart)),delete inOpts.weekStart}if(inOpts.daysOfWeekDisabled&&(config.daysOfWeekDisabled=inOpts.daysOfWeekDisabled.reduce(sanitizeDOW,[]),delete inOpts.daysOfWeekDisabled),inOpts.daysOfWeekHighlighted&&(config.daysOfWeekHighlighted=inOpts.daysOfWeekHighlighted.reduce(sanitizeDOW,[]),delete inOpts.daysOfWeekHighlighted),void 0!==inOpts.maxNumberOfDates){var maxNumberOfDates=parseInt(inOpts.maxNumberOfDates,10);maxNumberOfDates>=0&&(config.maxNumberOfDates=maxNumberOfDates,config.multidate=1!==maxNumberOfDates),delete inOpts.maxNumberOfDates}inOpts.dateDelimiter&&(config.dateDelimiter=String(inOpts.dateDelimiter),delete inOpts.dateDelimiter);var newMaxView=maxView;void 0!==inOpts.maxView&&(newMaxView=validateViewId(inOpts.maxView,maxView),delete inOpts.maxView),(newMaxView=pickLevel>newMaxView?pickLevel:newMaxView)!==maxView&&(maxView=config.maxView=newMaxView);var newStartView=startView;if(void 0!==inOpts.startView&&(newStartView=validateViewId(inOpts.startView,newStartView),delete inOpts.startView),newStartView<pickLevel?newStartView=pickLevel:newStartView>maxView&&(newStartView=maxView),newStartView!==startView&&(config.startView=newStartView),inOpts.prevArrow){var prevArrow=parseHTML(inOpts.prevArrow);prevArrow.childNodes.length>0&&(config.prevArrow=prevArrow.childNodes),delete inOpts.prevArrow}if(inOpts.nextArrow){var nextArrow=parseHTML(inOpts.nextArrow);nextArrow.childNodes.length>0&&(config.nextArrow=nextArrow.childNodes),delete inOpts.nextArrow}if(void 0!==inOpts.disableTouchKeyboard&&(config.disableTouchKeyboard="ontouchstart"in document&&!!inOpts.disableTouchKeyboard,delete inOpts.disableTouchKeyboard),inOpts.orientation){var orientation=inOpts.orientation.toLowerCase().split(/\s+/g);config.orientation={x:orientation.find((function(x){return"left"===x||"right"===x}))||"auto",y:orientation.find((function(y){return"top"===y||"bottom"===y}))||"auto"},delete inOpts.orientation}if(void 0!==inOpts.todayBtnMode){switch(inOpts.todayBtnMode){case 0:case 1:config.todayBtnMode=inOpts.todayBtnMode}delete inOpts.todayBtnMode}return Object.keys(inOpts).forEach((function(key){void 0!==inOpts[key]&&hasProperty(defaultOptions,key)&&(config[key]=inOpts[key])})),config}var pickerTemplate=optimizeTemplateHTML('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),daysTemplate=optimizeTemplateHTML('<div class="days">\n  <div class="days-of-week">'+createTagRepeat("span",7,{class:"dow"})+'</div>\n  <div class="datepicker-grid">'+createTagRepeat("span",42)+"</div>\n</div>"),calendarWeeksTemplate=optimizeTemplateHTML('<div class="calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">'+createTagRepeat("span",6,{class:"week"})+"</div>\n</div>"),View=function(){function View(picker,config){_classCallCheck(this,View),Object.assign(this,config,{picker:picker,element:parseHTML('<div class="datepicker-view"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return _createClass(View,[{key:"init",value:function init(options){void 0!==options.pickLevel&&(this.isMinView=this.id===options.pickLevel),this.setOptions(options),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function performBeforeHook(el,current,timeValue){var result=this.beforeShow(new Date(timeValue));switch(typeof result){case"boolean":result={enabled:result};break;case"string":result={classes:result}}if(result){if(!1===result.enabled&&(el.classList.add("disabled"),pushUnique(this.disabled,current)),result.classes){var _el$classList,extraClasses=result.classes.split(/\s+/);(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(extraClasses)),extraClasses.includes("disabled")&&pushUnique(this.disabled,current)}result.content&&replaceChildNodes(el,result.content)}}}]),View}(),DaysView=function(_View){_inherits(DaysView,_View);var _super=_createSuper(DaysView);function DaysView(picker){return _classCallCheck(this,DaysView),_super.call(this,picker,{id:0,name:"days",cellClass:"day"})}return _createClass(DaysView,[{key:"init",value:function init(options){var onConstruction=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(onConstruction){var inner=parseHTML(daysTemplate).firstChild;this.dow=inner.firstChild,this.grid=inner.lastChild,this.element.appendChild(inner)}_get(_getPrototypeOf(DaysView.prototype),"init",this).call(this,options)}},{key:"setOptions",value:function setOptions(options){var updateDOW,_this5=this;if(hasProperty(options,"minDate")&&(this.minDate=options.minDate),hasProperty(options,"maxDate")&&(this.maxDate=options.maxDate),options.datesDisabled&&(this.datesDisabled=options.datesDisabled),options.daysOfWeekDisabled&&(this.daysOfWeekDisabled=options.daysOfWeekDisabled,updateDOW=!0),options.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=options.daysOfWeekHighlighted),void 0!==options.todayHighlight&&(this.todayHighlight=options.todayHighlight),void 0!==options.weekStart&&(this.weekStart=options.weekStart,this.weekEnd=options.weekEnd,updateDOW=!0),options.locale){var locale=this.locale=options.locale;this.dayNames=locale.daysMin,this.switchLabelFormat=locale.titleFormat,updateDOW=!0}if(void 0!==options.beforeShowDay&&(this.beforeShow="function"==typeof options.beforeShowDay?options.beforeShowDay:void 0),void 0!==options.calendarWeeks)if(options.calendarWeeks&&!this.calendarWeeks){var weeksElem=parseHTML(calendarWeeksTemplate).firstChild;this.calendarWeeks={element:weeksElem,dow:weeksElem.firstChild,weeks:weeksElem.lastChild},this.element.insertBefore(weeksElem,this.element.firstChild)}else this.calendarWeeks&&!options.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==options.showDaysOfWeek&&(options.showDaysOfWeek?(showElement(this.dow),this.calendarWeeks&&showElement(this.calendarWeeks.dow)):(hideElement(this.dow),this.calendarWeeks&&hideElement(this.calendarWeeks.dow))),updateDOW&&Array.from(this.dow.children).forEach((function(el,index){var dow=(_this5.weekStart+index)%7;el.textContent=_this5.dayNames[dow],el.className=_this5.daysOfWeekDisabled.includes(dow)?"dow disabled":"dow"}))}},{key:"updateFocus",value:function updateFocus(){var viewDate=new Date(this.picker.viewDate),viewYear=viewDate.getFullYear(),viewMonth=viewDate.getMonth(),firstOfMonth=dateValue(viewYear,viewMonth,1),start=dayOfTheWeekOf(firstOfMonth,this.weekStart,this.weekStart);this.first=firstOfMonth,this.last=dateValue(viewYear,viewMonth+1,0),this.start=start,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function updateSelection(){var _this$picker$datepick=this.picker.datepicker,dates=_this$picker$datepick.dates,rangepicker=_this$picker$datepick.rangepicker;this.selected=dates,rangepicker&&(this.range=rangepicker.dates)}},{key:"render",value:function render(){var _this6=this;this.today=this.todayHighlight?today():void 0,this.disabled=_toConsumableArray(this.datesDisabled);var switchLabel=_formatDate(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(switchLabel),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var startOfWeek=dayOfTheWeekOf(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(el,index){el.textContent=getWeek(addWeeks(startOfWeek,index))}))}Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList,current=addDays(_this6.start,index),date=new Date(current),day=date.getDay();if(el.className="datepicker-cell "+_this6.cellClass,el.dataset.date=current,el.textContent=date.getDate(),current<_this6.first?classList.add("prev"):current>_this6.last&&classList.add("next"),_this6.today===current&&classList.add("today"),(current<_this6.minDate||current>_this6.maxDate||_this6.disabled.includes(current))&&classList.add("disabled"),_this6.daysOfWeekDisabled.includes(day)&&(classList.add("disabled"),pushUnique(_this6.disabled,current)),_this6.daysOfWeekHighlighted.includes(day)&&classList.add("highlighted"),_this6.range){var _this6$range=_slicedToArray(_this6.range,2),rangeStart=_this6$range[0],rangeEnd=_this6$range[1];current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end")}_this6.selected.includes(current)&&classList.add("selected"),current===_this6.focused&&classList.add("focused"),_this6.beforeShow&&_this6.performBeforeHook(el,current,current)}))}},{key:"refresh",value:function refresh(){var _this7=this,_ref3=_slicedToArray(this.range||[],2),rangeStart=_ref3[0],rangeEnd=_ref3[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(el){el.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((function(el){var current=Number(el.dataset.date),classList=el.classList;current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end"),_this7.selected.includes(current)&&classList.add("selected"),current===_this7.focused&&classList.add("focused")}))}},{key:"refreshFocus",value:function refreshFocus(){var index=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(el){el.classList.remove("focused")})),this.grid.children[index].classList.add("focused")}}]),DaysView}(View);function computeMonthRange(range,thisYear){if(range&&range[0]&&range[1]){var _range=_slicedToArray(range,2),_range$=_slicedToArray(_range[0],2),startY=_range$[0],startM=_range$[1],_range$2=_slicedToArray(_range[1],2),endY=_range$2[0],endM=_range$2[1];if(!(startY>thisYear||endY<thisYear))return[startY===thisYear?startM:-1,endY===thisYear?endM:12]}}var MonthsView=function(_View2){_inherits(MonthsView,_View2);var _super2=_createSuper(MonthsView);function MonthsView(picker){return _classCallCheck(this,MonthsView),_super2.call(this,picker,{id:1,name:"months",cellClass:"month"})}return _createClass(MonthsView,[{key:"init",value:function init(options){var onConstruction=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];onConstruction&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(parseHTML(createTagRepeat("span",12,{"data-month":function dataMonth(ix){return ix}})))),_get(_getPrototypeOf(MonthsView.prototype),"init",this).call(this,options)}},{key:"setOptions",value:function setOptions(options){if(options.locale&&(this.monthNames=options.locale.monthsShort),hasProperty(options,"minDate"))if(void 0===options.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var minDateObj=new Date(options.minDate);this.minYear=minDateObj.getFullYear(),this.minMonth=minDateObj.getMonth(),this.minDate=minDateObj.setDate(1)}if(hasProperty(options,"maxDate"))if(void 0===options.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var maxDateObj=new Date(options.maxDate);this.maxYear=maxDateObj.getFullYear(),this.maxMonth=maxDateObj.getMonth(),this.maxDate=dateValue(this.maxYear,this.maxMonth+1,0)}this.isMinView?options.datesDisabled&&(this.datesDisabled=options.datesDisabled):this.datesDisabled=[],void 0!==options.beforeShowMonth&&(this.beforeShow="function"==typeof options.beforeShowMonth?options.beforeShowMonth:void 0)}},{key:"updateFocus",value:function updateFocus(){var viewDate=new Date(this.picker.viewDate);this.year=viewDate.getFullYear(),this.focused=viewDate.getMonth()}},{key:"updateSelection",value:function updateSelection(){var _this$picker$datepick2=this.picker.datepicker,dates=_this$picker$datepick2.dates,rangepicker=_this$picker$datepick2.rangepicker;this.selected=dates.reduce((function(selected,timeValue){var date=new Date(timeValue),year=date.getFullYear(),month=date.getMonth();return void 0===selected[year]?selected[year]=[month]:pushUnique(selected[year],month),selected}),{}),rangepicker&&rangepicker.dates&&(this.range=rangepicker.dates.map((function(timeValue){var date=new Date(timeValue);return isNaN(date)?void 0:[date.getFullYear(),date.getMonth()]})))}},{key:"render",value:function render(){var _this8=this;this.disabled=this.datesDisabled.reduce((function(arr,disabled){var dt=new Date(disabled);return _this8.year===dt.getFullYear()&&arr.push(dt.getMonth()),arr}),[]),this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var selected=this.selected[this.year]||[],yrOutOfRange=this.year<this.minYear||this.year>this.maxYear,isMinYear=this.year===this.minYear,isMaxYear=this.year===this.maxYear,range=computeMonthRange(this.range,this.year);Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList,date=dateValue(_this8.year,index,1);if(el.className="datepicker-cell "+_this8.cellClass,_this8.isMinView&&(el.dataset.date=date),el.textContent=_this8.monthNames[index],(yrOutOfRange||isMinYear&&index<_this8.minMonth||isMaxYear&&index>_this8.maxMonth||_this8.disabled.includes(index))&&classList.add("disabled"),range){var _range2=_slicedToArray(range,2),rangeStart=_range2[0],rangeEnd=_range2[1];index>rangeStart&&index<rangeEnd&&classList.add("range"),index===rangeStart&&classList.add("range-start"),index===rangeEnd&&classList.add("range-end")}selected.includes(index)&&classList.add("selected"),index===_this8.focused&&classList.add("focused"),_this8.beforeShow&&_this8.performBeforeHook(el,index,date)}))}},{key:"refresh",value:function refresh(){var _this9=this,selected=this.selected[this.year]||[],_ref5=_slicedToArray(computeMonthRange(this.range,this.year)||[],2),rangeStart=_ref5[0],rangeEnd=_ref5[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(el){el.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList;index>rangeStart&&index<rangeEnd&&classList.add("range"),index===rangeStart&&classList.add("range-start"),index===rangeEnd&&classList.add("range-end"),selected.includes(index)&&classList.add("selected"),index===_this9.focused&&classList.add("focused")}))}},{key:"refreshFocus",value:function refreshFocus(){this.grid.querySelectorAll(".focused").forEach((function(el){el.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}]),MonthsView}(View);function toTitleCase(word){return _toConsumableArray(word).reduce((function(str,ch,ix){return str+(ix?ch:ch.toUpperCase())}),"")}var YearsView=function(_View3){_inherits(YearsView,_View3);var _super3=_createSuper(YearsView);function YearsView(picker,config){return _classCallCheck(this,YearsView),_super3.call(this,picker,config)}return _createClass(YearsView,[{key:"init",value:function init(options){var onConstruction=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];onConstruction&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow"+toTitleCase(this.cellClass),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(parseHTML(createTagRepeat("span",12)))),_get(_getPrototypeOf(YearsView.prototype),"init",this).call(this,options)}},{key:"setOptions",value:function setOptions(options){if(hasProperty(options,"minDate")&&(void 0===options.minDate?this.minYear=this.minDate=void 0:(this.minYear=startOfYearPeriod(options.minDate,this.step),this.minDate=dateValue(this.minYear,0,1))),hasProperty(options,"maxDate")&&(void 0===options.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=startOfYearPeriod(options.maxDate,this.step),this.maxDate=dateValue(this.maxYear,11,31))),this.isMinView?options.datesDisabled&&(this.datesDisabled=options.datesDisabled):this.datesDisabled=[],void 0!==options[this.beforeShowOption]){var beforeShow=options[this.beforeShowOption];this.beforeShow="function"==typeof beforeShow?beforeShow:void 0}}},{key:"updateFocus",value:function updateFocus(){var viewDate=new Date(this.picker.viewDate),first=startOfYearPeriod(viewDate,this.navStep),last=first+9*this.step;this.first=first,this.last=last,this.start=first-this.step,this.focused=startOfYearPeriod(viewDate,this.step)}},{key:"updateSelection",value:function updateSelection(){var _this10=this,_this$picker$datepick3=this.picker.datepicker,dates=_this$picker$datepick3.dates,rangepicker=_this$picker$datepick3.rangepicker;this.selected=dates.reduce((function(years,timeValue){return pushUnique(years,startOfYearPeriod(timeValue,_this10.step))}),[]),rangepicker&&rangepicker.dates&&(this.range=rangepicker.dates.map((function(timeValue){if(void 0!==timeValue)return startOfYearPeriod(timeValue,_this10.step)})))}},{key:"render",value:function render(){var _this11=this;this.disabled=this.datesDisabled.map((function(disabled){return new Date(disabled).getFullYear()})),this.picker.setViewSwitchLabel(this.first+"-"+this.last),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(el,index){var classList=el.classList,current=_this11.start+index*_this11.step,date=dateValue(current,0,1);if(el.className="datepicker-cell "+_this11.cellClass,_this11.isMinView&&(el.dataset.date=date),el.textContent=el.dataset.year=current,0===index?classList.add("prev"):11===index&&classList.add("next"),(current<_this11.minYear||current>_this11.maxYear||_this11.disabled.includes(current))&&classList.add("disabled"),_this11.range){var _this11$range=_slicedToArray(_this11.range,2),rangeStart=_this11$range[0],rangeEnd=_this11$range[1];current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end")}_this11.selected.includes(current)&&classList.add("selected"),current===_this11.focused&&classList.add("focused"),_this11.beforeShow&&_this11.performBeforeHook(el,current,date)}))}},{key:"refresh",value:function refresh(){var _this12=this,_ref7=_slicedToArray(this.range||[],2),rangeStart=_ref7[0],rangeEnd=_ref7[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(el){el.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((function(el){var current=Number(el.textContent),classList=el.classList;current>rangeStart&&current<rangeEnd&&classList.add("range"),current===rangeStart&&classList.add("range-start"),current===rangeEnd&&classList.add("range-end"),_this12.selected.includes(current)&&classList.add("selected"),current===_this12.focused&&classList.add("focused")}))}},{key:"refreshFocus",value:function refreshFocus(){var index=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(el){el.classList.remove("focused")})),this.grid.children[index].classList.add("focused")}}]),YearsView}(View);function triggerDatepickerEvent(datepicker,type){var detail={date:datepicker.getDate(),viewDate:new Date(datepicker.picker.viewDate),viewId:datepicker.picker.currentView.id,datepicker:datepicker};datepicker.element.dispatchEvent(new CustomEvent(type,{detail:detail}))}function goToPrevOrNext(datepicker,direction){var newViewDate,_datepicker$config=datepicker.config,minDate=_datepicker$config.minDate,maxDate=_datepicker$config.maxDate,_datepicker$picker=datepicker.picker,currentView=_datepicker$picker.currentView,viewDate=_datepicker$picker.viewDate;switch(currentView.id){case 0:newViewDate=addMonths(viewDate,direction);break;case 1:newViewDate=addYears(viewDate,direction);break;default:newViewDate=addYears(viewDate,direction*currentView.navStep)}newViewDate=limitToRange(newViewDate,minDate,maxDate),datepicker.picker.changeFocus(newViewDate).render()}function switchView(datepicker){var viewId=datepicker.picker.currentView.id;viewId!==datepicker.config.maxView&&datepicker.picker.changeView(viewId+1).render()}function unfocus(datepicker){datepicker.config.updateOnBlur?datepicker.update({revert:!0}):datepicker.refresh("input"),datepicker.hide()}function goToSelectedMonthOrYear(datepicker,selection){var picker=datepicker.picker,viewDate=new Date(picker.viewDate),viewId=picker.currentView.id,newDate=1===viewId?addMonths(viewDate,selection-viewDate.getMonth()):addYears(viewDate,selection-viewDate.getFullYear());picker.changeFocus(newDate).changeView(viewId-1).render()}function onClickTodayBtn(datepicker){var picker=datepicker.picker,currentDate=today();if(1===datepicker.config.todayBtnMode){if(datepicker.config.autohide)return void datepicker.setDate(currentDate);datepicker.setDate(currentDate,{render:!1}),picker.update()}picker.viewDate!==currentDate&&picker.changeFocus(currentDate),picker.changeView(0).render()}function onClickClearBtn(datepicker){datepicker.setDate({clear:!0})}function onClickViewSwitch(datepicker){switchView(datepicker)}function onClickPrevBtn(datepicker){goToPrevOrNext(datepicker,-1)}function onClickNextBtn(datepicker){goToPrevOrNext(datepicker,1)}function onClickView(datepicker,ev){var target=findElementInEventPath(ev,".datepicker-cell");if(target&&!target.classList.contains("disabled")){var _datepicker$picker$cu=datepicker.picker.currentView,id=_datepicker$picker$cu.id;_datepicker$picker$cu.isMinView?datepicker.setDate(Number(target.dataset.date)):goToSelectedMonthOrYear(datepicker,Number(1===id?target.dataset.month:target.dataset.year))}}function onMousedownPicker(ev){ev.preventDefault()}var orientClasses=["left","top","right","bottom"].reduce((function(obj,key){return obj[key]="datepicker-orient-"+key,obj}),{}),toPx=function toPx(num){return num?num+"px":num};function processPickerOptions(picker,options){if(void 0!==options.title&&(options.title?(picker.controls.title.textContent=options.title,showElement(picker.controls.title)):(picker.controls.title.textContent="",hideElement(picker.controls.title))),options.prevArrow){var prevBtn=picker.controls.prevBtn;emptyChildNodes(prevBtn),options.prevArrow.forEach((function(node){prevBtn.appendChild(node.cloneNode(!0))}))}if(options.nextArrow){var nextBtn=picker.controls.nextBtn;emptyChildNodes(nextBtn),options.nextArrow.forEach((function(node){nextBtn.appendChild(node.cloneNode(!0))}))}if(options.locale&&(picker.controls.todayBtn.textContent=options.locale.today,picker.controls.clearBtn.textContent=options.locale.clear),void 0!==options.todayBtn&&(options.todayBtn?showElement(picker.controls.todayBtn):hideElement(picker.controls.todayBtn)),hasProperty(options,"minDate")||hasProperty(options,"maxDate")){var _picker$datepicker$co=picker.datepicker.config,minDate=_picker$datepicker$co.minDate,maxDate=_picker$datepicker$co.maxDate;picker.controls.todayBtn.disabled=!isInRange(today(),minDate,maxDate)}void 0!==options.clearBtn&&(options.clearBtn?showElement(picker.controls.clearBtn):hideElement(picker.controls.clearBtn))}function computeResetViewDate(datepicker){var dates=datepicker.dates,config=datepicker.config;return limitToRange(dates.length>0?lastItemOf(dates):config.defaultViewDate,config.minDate,config.maxDate)}function setViewDate(picker,newDate){var oldViewDate=new Date(picker.viewDate),newViewDate=new Date(newDate),_picker$currentView=picker.currentView,id=_picker$currentView.id,year=_picker$currentView.year,first=_picker$currentView.first,last=_picker$currentView.last,viewYear=newViewDate.getFullYear();switch(picker.viewDate=newDate,viewYear!==oldViewDate.getFullYear()&&triggerDatepickerEvent(picker.datepicker,"changeYear"),newViewDate.getMonth()!==oldViewDate.getMonth()&&triggerDatepickerEvent(picker.datepicker,"changeMonth"),id){case 0:return newDate<first||newDate>last;case 1:return viewYear!==year;default:return viewYear<first||viewYear>last}}function getTextDirection(el){return window.getComputedStyle(el).direction}function findScrollParents(el){var parent=getParent(el);if(parent!==document.body&&parent)return"visible"!==window.getComputedStyle(parent).overflow?parent:findScrollParents(parent)}var Picker=function(){function Picker(datepicker){_classCallCheck(this,Picker);var config=(this.datepicker=datepicker).config,template=pickerTemplate.replace(/%buttonClass%/g,config.buttonClass),element=this.element=parseHTML(template).firstChild,_element$firstChild$c=_slicedToArray(element.firstChild.children,3),header=_element$firstChild$c[0],main=_element$firstChild$c[1],footer=_element$firstChild$c[2],title=header.firstElementChild,_header$lastElementCh=_slicedToArray(header.lastElementChild.children,3),prevBtn=_header$lastElementCh[0],viewSwitch=_header$lastElementCh[1],nextBtn=_header$lastElementCh[2],_footer$firstChild$ch=_slicedToArray(footer.firstChild.children,2),controls={title:title,prevBtn:prevBtn,viewSwitch:viewSwitch,nextBtn:nextBtn,todayBtn:_footer$firstChild$ch[0],clearBtn:_footer$firstChild$ch[1]};this.main=main,this.controls=controls;var elementClass=datepicker.inline?"inline":"dropdown";element.classList.add("datepicker-"+elementClass),processPickerOptions(this,config),this.viewDate=computeResetViewDate(datepicker),registerListeners(datepicker,[[element,"mousedown",onMousedownPicker],[main,"click",onClickView.bind(null,datepicker)],[controls.viewSwitch,"click",onClickViewSwitch.bind(null,datepicker)],[controls.prevBtn,"click",onClickPrevBtn.bind(null,datepicker)],[controls.nextBtn,"click",onClickNextBtn.bind(null,datepicker)],[controls.todayBtn,"click",onClickTodayBtn.bind(null,datepicker)],[controls.clearBtn,"click",onClickClearBtn.bind(null,datepicker)]]),this.views=[new DaysView(this),new MonthsView(this),new YearsView(this,{id:2,name:"years",cellClass:"year",step:1}),new YearsView(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),config.container?config.container.appendChild(this.element):datepicker.inputField.after(this.element)}return _createClass(Picker,[{key:"setOptions",value:function setOptions(options){processPickerOptions(this,options),this.views.forEach((function(view){view.init(options,!1)})),this.currentView.render()}},{key:"detach",value:function detach(){this.element.remove()}},{key:"show",value:function show(){if(!this.active){var datepicker=this.datepicker,element=this.element;if(datepicker.inline)element.classList.add("active");else{var inputDirection=getTextDirection(datepicker.inputField);inputDirection!==getTextDirection(getParent(element))?element.dir=inputDirection:element.dir&&element.removeAttribute("dir"),element.style.visiblity="hidden",element.classList.add("active"),this.place(),element.style.visiblity="",datepicker.config.disableTouchKeyboard&&datepicker.inputField.blur()}this.active=!0,triggerDatepickerEvent(datepicker,"show")}}},{key:"hide",value:function hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,triggerDatepickerEvent(this.datepicker,"hide"))}},{key:"place",value:function place(){var _this$element=this.element,classList=_this$element.classList,offsetParent=_this$element.offsetParent,style=_this$element.style,_this$datepicker2=this.datepicker,config=_this$datepicker2.config,inputField=_this$datepicker2.inputField,_this$element$getBoun=this.element.getBoundingClientRect(),calendarWidth=_this$element$getBoun.width,calendarHeight=_this$element$getBoun.height,_inputField$getBoundi=inputField.getBoundingClientRect(),inputLeft=_inputField$getBoundi.left,inputTop=_inputField$getBoundi.top,inputRight=_inputField$getBoundi.right,inputBottom=_inputField$getBoundi.bottom,inputWidth=_inputField$getBoundi.width,inputHeight=_inputField$getBoundi.height,_config$orientation=config.orientation,orientX=_config$orientation.x,orientY=_config$orientation.y,left=inputLeft,top=inputTop;if(offsetParent!==document.body&&offsetParent){var offsetParentRect=offsetParent.getBoundingClientRect();left-=offsetParentRect.left-offsetParent.scrollLeft,top-=offsetParentRect.top-offsetParent.scrollTop}else left+=window.scrollX,top+=window.scrollY;var scrollParent=findScrollParents(inputField),scrollAreaLeft=0,scrollAreaTop=0,_document$documentEle=document.documentElement,scrollAreaRight=_document$documentEle.clientWidth,scrollAreaBottom=_document$documentEle.clientHeight;if(scrollParent){var scrollParentRect=scrollParent.getBoundingClientRect();scrollParentRect.top>0&&(scrollAreaTop=scrollParentRect.top),scrollParentRect.left>0&&(scrollAreaLeft=scrollParentRect.left),scrollParentRect.right<scrollAreaRight&&(scrollAreaRight=scrollParentRect.right),scrollParentRect.bottom<scrollAreaBottom&&(scrollAreaBottom=scrollParentRect.bottom)}var adjustment=0;"auto"===orientX&&(inputLeft<scrollAreaLeft?(orientX="left",adjustment=scrollAreaLeft-inputLeft):inputLeft+calendarWidth>scrollAreaRight?(orientX="right",scrollAreaRight<inputRight&&(adjustment=scrollAreaRight-inputRight)):orientX="rtl"===getTextDirection(inputField)?inputRight-calendarWidth<scrollAreaLeft?"left":"right":"left"),"right"===orientX&&(left+=inputWidth-calendarWidth),left+=adjustment,"auto"===orientY&&(orientY=inputTop-calendarHeight>scrollAreaTop&&inputBottom+calendarHeight>scrollAreaBottom?"top":"bottom"),"top"===orientY?top-=calendarHeight:top+=inputHeight,classList.remove.apply(classList,_toConsumableArray(Object.values(orientClasses))),classList.add(orientClasses[orientX],orientClasses[orientY]),style.left=toPx(left),style.top=toPx(top)}},{key:"setViewSwitchLabel",value:function setViewSwitchLabel(labelText){this.controls.viewSwitch.textContent=labelText}},{key:"setPrevBtnDisabled",value:function setPrevBtnDisabled(disabled){this.controls.prevBtn.disabled=disabled}},{key:"setNextBtnDisabled",value:function setNextBtnDisabled(disabled){this.controls.nextBtn.disabled=disabled}},{key:"changeView",value:function changeView(viewId){var oldView=this.currentView,newView=this.views[viewId];return newView.id!==oldView.id&&(this.currentView=newView,this._renderMethod="render",triggerDatepickerEvent(this.datepicker,"changeView"),this.main.replaceChild(newView.element,oldView.element)),this}},{key:"changeFocus",value:function changeFocus(newViewDate){return this._renderMethod=setViewDate(this,newViewDate)?"render":"refreshFocus",this.views.forEach((function(view){view.updateFocus()})),this}},{key:"update",value:function update(){var newViewDate=computeResetViewDate(this.datepicker);return this._renderMethod=setViewDate(this,newViewDate)?"render":"refresh",this.views.forEach((function(view){view.updateFocus(),view.updateSelection()})),this}},{key:"render",value:function render(){var quickRender=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],renderMethod=quickRender&&this._renderMethod||"render";delete this._renderMethod,this.currentView[renderMethod]()}}]),Picker}();function findNextAvailableOne(date,addFn,increase,testFn,min,max){if(isInRange(date,min,max))return testFn(date)?findNextAvailableOne(addFn(date,increase),addFn,increase,testFn,min,max):date}function moveByArrowKey(datepicker,ev,direction,vertical){var addFn,testFn,picker=datepicker.picker,currentView=picker.currentView,step=currentView.step||1,viewDate=picker.viewDate;switch(currentView.id){case 0:viewDate=vertical?addDays(viewDate,7*direction):ev.ctrlKey||ev.metaKey?addYears(viewDate,direction):addDays(viewDate,direction),addFn=addDays,testFn=function testFn(date){return currentView.disabled.includes(date)};break;case 1:viewDate=addMonths(viewDate,vertical?4*direction:direction),addFn=addMonths,testFn=function testFn(date){var dt=new Date(date),year=currentView.year,disabled=currentView.disabled;return dt.getFullYear()===year&&disabled.includes(dt.getMonth())};break;default:viewDate=addYears(viewDate,direction*(vertical?4:1)*step),addFn=addYears,testFn=function testFn(date){return currentView.disabled.includes(startOfYearPeriod(date,step))}}void 0!==(viewDate=findNextAvailableOne(viewDate,addFn,direction<0?-step:step,testFn,currentView.minDate,currentView.maxDate))&&picker.changeFocus(viewDate).render()}function onKeydown(datepicker,ev){var key=ev.key;if("Tab"!==key){var picker=datepicker.picker,_picker$currentView2=picker.currentView,id=_picker$currentView2.id,isMinView=_picker$currentView2.isMinView;if(picker.active){if(datepicker.editMode)return void("Enter"===key?datepicker.exitEditMode({update:!0,autohide:datepicker.config.autohide}):"Escape"===key&&picker.hide());if("ArrowLeft"===key)if(ev.ctrlKey||ev.metaKey)goToPrevOrNext(datepicker,-1);else{if(ev.shiftKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,-1,!1)}else if("ArrowRight"===key)if(ev.ctrlKey||ev.metaKey)goToPrevOrNext(datepicker,1);else{if(ev.shiftKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,1,!1)}else if("ArrowUp"===key)if(ev.ctrlKey||ev.metaKey)switchView(datepicker);else{if(ev.shiftKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,-1,!0)}else if("ArrowDown"===key){if(ev.shiftKey&&!ev.ctrlKey&&!ev.metaKey)return void datepicker.enterEditMode();moveByArrowKey(datepicker,ev,1,!0)}else{if("Enter"!==key)return void("Escape"===key?picker.hide():"Backspace"!==key&&"Delete"!==key&&(1!==key.length||ev.ctrlKey||ev.metaKey)||datepicker.enterEditMode());if(isMinView)return void datepicker.setDate(picker.viewDate);picker.changeView(id-1).render()}}else{if("ArrowDown"!==key)return void("Enter"===key?datepicker.update():"Escape"===key&&picker.show());picker.show()}ev.preventDefault()}else unfocus(datepicker)}function onFocus(datepicker){datepicker.config.showOnFocus&&!datepicker._showing&&datepicker.show()}function onMousedown(datepicker,ev){var el=ev.target;(datepicker.picker.active||datepicker.config.showOnClick)&&(el._active=isActiveElement(el),el._clicking=setTimeout((function(){delete el._active,delete el._clicking}),2e3))}function onClickInput(datepicker,ev){var el=ev.target;el._clicking&&(clearTimeout(el._clicking),delete el._clicking,el._active&&datepicker.enterEditMode(),delete el._active,datepicker.config.showOnClick&&datepicker.show())}function onPaste(datepicker,ev){ev.clipboardData.types.includes("text/plain")&&datepicker.enterEditMode()}function onClickOutside(datepicker,ev){var element=datepicker.element,picker=datepicker.picker;if(picker.active||isActiveElement(element)){var pickerElem=picker.element;findElementInEventPath(ev,(function(el){return el===element||el===pickerElem}))||unfocus(datepicker)}}function stringifyDates(dates,config){return dates.map((function(dt){return _formatDate(dt,config.format,config.locale)})).join(config.dateDelimiter)}function processInputDates(datepicker,inputDates){var clear=arguments.length>2&&void 0!==arguments[2]&&arguments[2],config=datepicker.config,origDates=datepicker.dates,rangeSideIndex=datepicker.rangeSideIndex;if(0===inputDates.length)return clear?[]:void 0;var newDates=inputDates.reduce((function(dates,dt){var date=_parseDate(dt,config.format,config.locale);return void 0===date||!isInRange(date=regularizeDate(date,config.pickLevel,rangeSideIndex),config.minDate,config.maxDate)||dates.includes(date)||config.datesDisabled.includes(date)||!(config.pickLevel>0)&&config.daysOfWeekDisabled.includes(new Date(date).getDay())||dates.push(date),dates}),[]);return 0!==newDates.length?(config.multidate&&!clear&&(newDates=newDates.reduce((function(dates,date){return origDates.includes(date)||dates.push(date),dates}),origDates.filter((function(date){return!newDates.includes(date)})))),config.maxNumberOfDates&&newDates.length>config.maxNumberOfDates?newDates.slice(-1*config.maxNumberOfDates):newDates):void 0}function refreshUI(datepicker){var mode=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,quickRender=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],config=datepicker.config,picker=datepicker.picker,inputField=datepicker.inputField;if(2&mode){var newView=picker.active?config.pickLevel:config.startView;picker.update().changeView(newView).render(quickRender)}1&mode&&inputField&&(inputField.value=stringifyDates(datepicker.dates,config))}function _setDate(datepicker,inputDates,options){var clear=options.clear,render=options.render,autohide=options.autohide,revert=options.revert;void 0===render&&(render=!0),render?void 0===autohide&&(autohide=datepicker.config.autohide):autohide=!1;var newDates=processInputDates(datepicker,inputDates,clear);(newDates||revert)&&(newDates&&newDates.toString()!==datepicker.dates.toString()?(datepicker.dates=newDates,refreshUI(datepicker,render?3:1),triggerDatepickerEvent(datepicker,"changeDate")):refreshUI(datepicker,1),autohide&&datepicker.hide())}var Datepicker=function(){function Datepicker(element){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rangepicker=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;_classCallCheck(this,Datepicker),element.datepicker=this,this.element=element;var inputField,initialDates,config=this.config=Object.assign({buttonClass:options.buttonClass&&String(options.buttonClass)||"button",container:null,defaultViewDate:today(),maxDate:void 0,minDate:void 0},processOptions(defaultOptions,this)),inline=this.inline="INPUT"!==element.tagName;if(inline?config.container=element:(options.container&&(config.container=options.container instanceof HTMLElement?options.container:document.querySelector(options.container)),(inputField=this.inputField=element).classList.add("datepicker-input")),rangepicker){var index=rangepicker.inputs.indexOf(inputField),datepickers=rangepicker.datepickers;if(index<0||index>1||!Array.isArray(datepickers))throw Error("Invalid rangepicker object.");datepickers[index]=this,Object.defineProperty(this,"rangepicker",{get:function get(){return rangepicker}}),Object.defineProperty(this,"rangeSideIndex",{get:function get(){return index}})}this._options=options,Object.assign(config,processOptions(options,this)),inline?(initialDates=stringToArray(element.dataset.date,config.dateDelimiter),delete element.dataset.date):initialDates=stringToArray(inputField.value,config.dateDelimiter),this.dates=[];var inputDateValues=processInputDates(this,initialDates);inputDateValues&&inputDateValues.length>0&&(this.dates=inputDateValues),inputField&&(inputField.value=stringifyDates(this.dates,config));var picker=this.picker=new Picker(this);if(inline)this.show();else{var onMousedownDocument=onClickOutside.bind(null,this),listeners=[[inputField,"keydown",onKeydown.bind(null,this)],[inputField,"focus",onFocus.bind(null,this)],[inputField,"mousedown",onMousedown.bind(null,this)],[inputField,"click",onClickInput.bind(null,this)],[inputField,"paste",onPaste.bind(null,this)],[document,"mousedown",onMousedownDocument],[document,"touchstart",onMousedownDocument],[window,"resize",picker.place.bind(picker)]];registerListeners(this,listeners)}}return _createClass(Datepicker,[{key:"active",get:function get(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function get(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function setOptions(options){var picker=this.picker,newOptions=processOptions(options,this);Object.assign(this._options,options),Object.assign(this.config,newOptions),picker.setOptions(newOptions),refreshUI(this,3)}},{key:"show",value:function show(){if(this.inputField){if(this.inputField.disabled)return;isActiveElement(this.inputField)||this.config.disableTouchKeyboard||(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function destroy(){return this.hide(),unregisterListeners(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function getDate(){var _this13=this,format=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,callback=format?function(date){return _formatDate(date,format,_this13.config.locale)}:function(date){return new Date(date)};return this.config.multidate?this.dates.map(callback):this.dates.length>0?callback(this.dates[0]):void 0}},{key:"setDate",value:function setDate(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var dates=[].concat(args),opts={},lastArg=lastItemOf(args);"object"!=typeof lastArg||Array.isArray(lastArg)||lastArg instanceof Date||!lastArg||Object.assign(opts,dates.pop());var inputDates=Array.isArray(dates[0])?dates[0]:dates;_setDate(this,inputDates,opts)}},{key:"update",value:function update(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var opts=Object.assign(options||{},{clear:!0,render:!0}),inputDates=stringToArray(this.inputField.value,this.config.dateDelimiter);_setDate(this,inputDates,opts)}}},{key:"refresh",value:function refresh(){var target=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,forceRender=arguments.length>1&&void 0!==arguments[1]&&arguments[1];target&&"string"!=typeof target&&(forceRender=target,target=void 0),refreshUI(this,"picker"===target?2:"input"===target?1:3,!forceRender)}},{key:"enterEditMode",value:function enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit"))}},{key:"exitEditMode",value:function exitEditMode(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var opts=Object.assign({update:!1},options);delete this.editMode,this.inputField.classList.remove("in-edit"),opts.update&&this.update(opts)}}}],[{key:"formatDate",value:function formatDate(date,format,lang){return _formatDate(date,format,lang&&locales[lang]||locales.en)}},{key:"parseDate",value:function parseDate(dateStr,format,lang){return _parseDate(dateStr,format,lang&&locales[lang]||locales.en)}},{key:"locales",get:function get(){return locales}}]),Datepicker}(),verdocsFieldDateCss='.datepicker{display:none}.datepicker.active{display:block}.datepicker-dropdown{position:absolute;top:0;left:0;z-index:20;padding-top:4px}.datepicker-dropdown.datepicker-orient-top{padding-top:0;padding-bottom:4px}.datepicker-picker{display:inline-block;border-radius:4px;background-color:white}.datepicker-dropdown .datepicker-picker{-webkit-box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)}.datepicker-picker span{display:block;-ms-flex:1;flex:1;border:0;border-radius:4px;cursor:default;text-align:center;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.datepicker-main{padding:2px}.datepicker-footer{-webkit-box-shadow:inset 0 1px 1px rgba(10, 10, 10, 0.1);box-shadow:inset 0 1px 1px rgba(10, 10, 10, 0.1);background-color:whitesmoke}.datepicker-grid,.datepicker-view .days-of-week,.datepicker-view,.datepicker-controls{display:-ms-flexbox;display:flex}.datepicker-grid{-ms-flex-wrap:wrap;flex-wrap:wrap}.datepicker-view .days .datepicker-cell,.datepicker-view .dow{-ms-flex-preferred-size:14.2857142857%;flex-basis:14.2857142857%}.datepicker-view.datepicker-grid .datepicker-cell{-ms-flex-preferred-size:25%;flex-basis:25%}.datepicker-cell,.datepicker-view .week{height:2.25rem;line-height:2.25rem}.datepicker-title{-webkit-box-shadow:inset 0 -1px 1px rgba(10, 10, 10, 0.1);box-shadow:inset 0 -1px 1px rgba(10, 10, 10, 0.1);background-color:whitesmoke;padding:0.375rem 0.75rem;text-align:center;font-weight:700}.datepicker-header .datepicker-controls{padding:2px 2px 0}.datepicker-controls .button{display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:0;border:1px solid #dbdbdb;border-radius:4px;-webkit-box-shadow:none;box-shadow:none;background-color:white;cursor:pointer;padding:calc(0.375em - 1px) 0.75em;height:2.25em;vertical-align:top;text-align:center;line-height:1.5;white-space:nowrap;color:#363636;font-size:1rem}.datepicker-controls .button:focus,.datepicker-controls .button:active{outline:none}.datepicker-controls .button:hover{border-color:#b5b5b5;color:#363636}.datepicker-controls .button:focus{border-color:#3273dc;color:#363636}.datepicker-controls .button:focus:not(:active){-webkit-box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25);box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25)}.datepicker-controls .button:active{border-color:#4a4a4a;color:#363636}.datepicker-controls .button[disabled]{cursor:not-allowed}.datepicker-header .datepicker-controls .button{border-color:transparent;font-weight:bold}.datepicker-header .datepicker-controls .button:hover{background-color:#f9f9f9}.datepicker-header .datepicker-controls .button:focus:not(:active){-webkit-box-shadow:0 0 0 0.125em rgba(255, 255, 255, 0.25);box-shadow:0 0 0 0.125em rgba(255, 255, 255, 0.25)}.datepicker-header .datepicker-controls .button:active{background-color:#f2f2f2}.datepicker-header .datepicker-controls .button[disabled]{-webkit-box-shadow:none;box-shadow:none}.datepicker-footer .datepicker-controls .button{margin:calc(0.375rem - 1px) 0.375rem;border-radius:2px;width:100%;font-size:0.75rem}.datepicker-controls .view-switch{-ms-flex:auto;flex:auto}.datepicker-controls .prev-btn,.datepicker-controls .next-btn{padding-right:0.375rem;padding-left:0.375rem;width:2.25rem}.datepicker-controls .prev-btn.disabled,.datepicker-controls .next-btn.disabled{visibility:hidden}.datepicker-view .dow{height:1.5rem;line-height:1.5rem;font-size:0.875rem;font-weight:700}.datepicker-view .week{width:2.25rem;color:#b5b5b5;font-size:0.75rem}@media (max-width: 22.5rem){.datepicker-view .week{width:1.96875rem}}.datepicker-grid{width:15.75rem}@media (max-width: 22.5rem){.calendar-weeks+.days .datepicker-grid{width:13.78125rem}}.datepicker-cell:not(.disabled):hover{background-color:#f9f9f9;cursor:pointer}.datepicker-cell.focused:not(.selected){background-color:#e8e8e8}.datepicker-cell.selected,.datepicker-cell.selected:hover{background-color:#3273dc;color:#fff;font-weight:600}.datepicker-cell.disabled{color:#dbdbdb}.datepicker-cell.prev:not(.disabled),.datepicker-cell.next:not(.disabled){color:#7a7a7a}.datepicker-cell.prev.selected,.datepicker-cell.next.selected{color:#e6e6e6}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today){border-radius:0;background-color:whitesmoke}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today):not(.disabled):hover{background-color:#eeeeee}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today).focused{background-color:#e8e8e8}.datepicker-cell.today:not(.selected){background-color:#00d1b2}.datepicker-cell.today:not(.selected):not(.disabled){color:#fff}.datepicker-cell.today.focused:not(.selected){background-color:#00c4a7}.datepicker-cell.range-end:not(.selected),.datepicker-cell.range-start:not(.selected){background-color:#b5b5b5;color:#fff}.datepicker-cell.range-end.focused:not(.selected),.datepicker-cell.range-start.focused:not(.selected){background-color:#afafaf}.datepicker-cell.range-start{border-radius:4px 0 0 4px}.datepicker-cell.range-end{border-radius:0 4px 4px 0}.datepicker-cell.range{border-radius:0;background-color:#dbdbdb}.datepicker-cell.range:not(.disabled):not(.focused):not(.today):hover{background-color:#d5d5d5}.datepicker-cell.range.disabled{color:#c2c2c2}.datepicker-cell.range.focused{background-color:#cfcfcf}.datepicker-view.datepicker-grid .datepicker-cell{height:4.5rem;line-height:4.5rem}.datepicker-input.in-edit{border-color:#2366d1}.datepicker-input.in-edit:focus,.datepicker-input.in-edit:active{-webkit-box-shadow:0 0 0.25em 0.25em rgba(35, 102, 209, 0.2);box-shadow:0 0 0.25em 0.25em rgba(35, 102, 209, 0.2)}verdocs-field-date{font-family:"Barlow", sans-serif;width:64px;height:15px;display:block;font-size:11px;position:relative;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-date input{-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px;border:1px solid #ccc;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-date input.hide{display:none}verdocs-field-date.required input{border:1px solid var(--verdocs-required-color)}verdocs-field-date.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldDate=function(){function VerdocsFieldDate(hostRef){_classCallCheck(this,VerdocsFieldDate),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldFocus=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldFocus",7),this.fieldBlur=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldBlur",7),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.fieldInput=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldInput",7),this.placeholder="Select Date",this.order=1,this.value="",this.required=!1,this.disabled=!1,this.focused=!1}var _focusField2;return _createClass(VerdocsFieldDate,[{key:"focusField",value:(_focusField2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:this.focused=!0,this.el.focus(),this.fieldFocus.emit(!0);case 3:case"end":return _context2.stop()}}),_callee2,this)}))),function focusField(){return _focusField2.apply(this,arguments)})},{key:"componentDidLoad",value:function componentDidLoad(){new Datepicker(this.el,{autohide:!0,todayHighlight:!0}),this.el.addEventListener("changeDate",(function(e){console.log("changeDate",e.detail.date.toISOString())}))}},{key:"handleBlur",value:function handleBlur(){this.focused=!1,this.fieldBlur.emit(!0)}},{key:"handleFocus",value:function handleFocus(){this.focused=!0,this.fieldFocus.emit(!0)}},{key:"handleChange",value:function handleChange(e){this.fieldChange.emit(e.target.value)}},{key:"handleInput",value:function handleInput(e){this.fieldInput.emit(e.target.value)}},{key:"render",value:function render(){var _this14=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{focused:this.focused,required:this.required,storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV)}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("input",{type:"text",value:"",placeholder:this.placeholder,required:this.required,ref:function ref(el){return _this14.el=el},onBlur:function onBlur(){return _this14.handleBlur()},onFocus:function onFocus(){return _this14.handleFocus()},onChange:function onChange(e){return _this14.handleChange(e)},onInput:function onInput(e){return _this14.handleInput(e)}}))}}]),VerdocsFieldDate}();VerdocsFieldDate.style=verdocsFieldDateCss;var verdocsFieldDropdownCss='verdocs-field-dropdown{font-family:"Barlow", sans-serif;width:85px;height:20px;display:block;font-size:11px;position:relative;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-dropdown select{position:absolute;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;font-size:11px;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-dropdown select:focus{outline:none}verdocs-field-dropdown select.hide{display:none}verdocs-field-dropdown.required select{border:1px solid var(--verdocs-required-color)}verdocs-field-dropdown.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldDropdown=function(){function VerdocsFieldDropdown(hostRef){_classCallCheck(this,VerdocsFieldDropdown),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldFocus=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldFocus",7),this.fieldBlur=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldBlur",7),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.options=[],this.required=!1,this.order=1,this.disabled=!1,this.value="",this.focused=!1}var _focusField3;return _createClass(VerdocsFieldDropdown,[{key:"focusField",value:(_focusField3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:this.focused=!0,this.el.focus(),this.fieldFocus.emit(!0);case 3:case"end":return _context3.stop()}}),_callee3,this)}))),function focusField(){return _focusField3.apply(this,arguments)})},{key:"handleBlur",value:function handleBlur(){this.focused=!1,this.fieldBlur.emit(!0)}},{key:"handleFocus",value:function handleFocus(){this.focused=!0,this.fieldFocus.emit(!0)}},{key:"handleChange",value:function handleChange(e){this.fieldChange.emit(e.target.value)}},{key:"render",value:function render(){var _this15=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{focused:this.focused,required:this.required}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("select",{tabIndex:this.order,disabled:this.disabled,ref:function ref(el){return _this15.el=el},onChange:function onChange(e){return _this15.handleChange(e)},onBlur:function onBlur(){return _this15.handleBlur()},onFocus:function onFocus(){return _this15.handleFocus()}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("option",{value:""},"Select..."),this.options.map((function(option){return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("option",{value:option.id,selected:option.value===_this15.value},option.value)}))))}}]),VerdocsFieldDropdown}();VerdocsFieldDropdown.style=verdocsFieldDropdownCss;var verdocsFieldInitialCss='verdocs-field-initial{font-family:"Barlow", sans-serif;width:83px;height:36px;display:block;font-size:11px;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-initial img{display:block;max-width:100%;max-height:100%}verdocs-field-initial button{-webkit-box-sizing:border-box;box-sizing:border-box;border:none;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-initial button.hide{display:none}verdocs-field-initial.required{border:1px solid var(--verdocs-required-color)}verdocs-field-initial.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldInitial=function(){function VerdocsFieldInitial(hostRef){_classCallCheck(this,VerdocsFieldInitial),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.adopt=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"adopt",7),this.cancel=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"cancel",7),this.required=!1,this.fullName="",this.value=""}var _focusField4;return _createClass(VerdocsFieldInitial,[{key:"focusField",value:(_focusField4=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.handleShow();case 1:case"end":return _context4.stop()}}),_callee4,this)}))),function focusField(){return _focusField4.apply(this,arguments)})},{key:"handleShow",value:function handleShow(){var _this16=this;this.dialog=document.createElement("verdocs-initial-dialog"),this.dialog.open=!0,this.dialog.fullName=this.fullName,this.dialog.addEventListener("cancel",(function(){var _a;console.log("cancel"),null===(_a=_this16.dialog)||void 0===_a||_a.remove()})),document.addEventListener("adopt",(function(e){var _a;console.log("adopt",e),null===(_a=_this16.dialog)||void 0===_a||_a.remove()})),document.body.append(this.dialog)}},{key:"render",value:function render(){var _this17=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{required:this.required}},""!==this.value?Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("img",{src:this.value,alt:"Initials"}):Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("button",{class:{},onClick:function onClick(){return _this17.handleShow()}},"Initial"))}}]),VerdocsFieldInitial}();VerdocsFieldInitial.style=verdocsFieldInitialCss;var verdocsFieldPaymentCss='verdocs-field-payment{font-family:"Barlow", sans-serif;width:24px;height:24px;display:block;font-size:11px;position:relative;border:1px solid #cfa;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-payment button,verdocs-field-payment div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-field-payment button{color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-payment button.hide{display:none}verdocs-field-payment input{float:left;font-family:Arial, sans-serif}verdocs-field-payment select{position:absolute;font-family:Arial, sans-serif;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-payment .frame{width:100%;height:100%;background-size:contain;text-align:left}verdocs-field-payment .frame img{position:absolute;height:auto;width:100%}verdocs-field-payment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldPayment=function(){function VerdocsFieldPayment(hostRef){_classCallCheck(this,VerdocsFieldPayment),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.signatureComplete=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"signatureComplete",7),this.initialComplete=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"initialComplete",7),this.focused=!1,this.signed=!1,this.signatureUrl="",this._fields=[],this.signatureFile=null,this.initialFile=null,this.focusOrderNumber=-1,this.focusFieldName="",this.activeElement=null,this.showError={pageNum:-1,fieldIndex:-1,type:null},this.dialogOpened=!1,this.closeAllErrors=!1,this.fieldsMap={},this.fieldsForCurrentSigner=[],this.fontSize=11,this.averageFontWidth=5,this.requiredFields=[]}return _createClass(VerdocsFieldPayment,[{key:"componentWillLoad",value:function componentWillLoad(){if(console.log("sign field",this.field),this.recipients&&this.recipients.length>0){var preparer=this.recipients.find((function(r){return"preparer"===r.type}));console.log("Found preparer",preparer),preparer&&(this.preparedMessage="Prepared by "+preparer.full_name)}}},{key:"render",value:function render(){return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{focused:this.focused,storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV)}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("button",{class:{hide:this.signed}},"Payment"),this.signed?Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("div",{class:"frame"}):Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("div",{style:{display:"none"}}),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("img",{width:"100%",height:"100%",src:this.signatureUrl}))}}]),VerdocsFieldPayment}();VerdocsFieldPayment.style=verdocsFieldPaymentCss;var verdocsFieldRadioButtonCss='verdocs-field-radio-button{font-family:"Barlow", sans-serif;width:14px;height:14px;display:block;font-size:11px;position:relative;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border-radius:100%}verdocs-field-radio-button input[type=radio]{position:absolute;opacity:0}verdocs-field-radio-button input[type=radio]+label:before{content:"";background:#f4f4f4;border-radius:100%;border:1px solid rgba(0, 0, 0, 0.2);display:inline-block;width:13px;height:13px;position:relative;top:2px;margin-right:2px;vertical-align:top;cursor:pointer;text-align:center;-webkit-transition:all 250ms ease;transition:all 250ms ease}verdocs-field-radio-button input[type=radio]:checked+label:before{background-color:#55bc81;-webkit-box-shadow:inset 0 0 0 2px #f4f4f4;box-shadow:inset 0 0 0 2px #f4f4f4}verdocs-field-radio-button input[type=radio]:focus+label:before{outline:none;border-color:#55bc81}verdocs-field-radio-button input[type=radio]:disabled+label:before{-webkit-box-shadow:inset 0 0 0 4px #f4f4f4;box-shadow:inset 0 0 0 4px #f4f4f4;border-color:#b4b4b4;background:#b4b4b4}verdocs-field-radio-button input[type=radio]+label:empty:before{margin-right:0}verdocs-field-radio-button.required input[type=radio]+label:before{border:1px solid var(--verdocs-required-color)}verdocs-field-radio-button.hide{display:none}verdocs-field-radio-button.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldRadioButton=function(){function VerdocsFieldRadioButton(hostRef){_classCallCheck(this,VerdocsFieldRadioButton),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.order=1,this.checked=!1,this.value="",this.name="",this.required=!1,this.disabled=!1}return _createClass(VerdocsFieldRadioButton,[{key:"handleChange",value:function handleChange(e){console.log("changed",e),this.fieldChange.emit(e.target.checked)}},{key:"render",value:function render(){var _this18=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{required:this.required,storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV)}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("input",{type:"radio",tabIndex:this.order,value:this.value,name:this.name,id:this.name+"="+this.value,checked:this.checked,disabled:this.disabled,required:this.required,onChange:function onChange(e){return _this18.handleChange(e)}}),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("label",{htmlFor:this.name+"="+this.value}))}}]),VerdocsFieldRadioButton}();VerdocsFieldRadioButton.style=verdocsFieldRadioButtonCss;var verdocsFieldSignatureCss='verdocs-field-signature{font-family:"Barlow", sans-serif;width:83px;height:36px;display:block;font-size:11px;position:relative;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-signature img{display:block;max-width:100%;max-height:100%}verdocs-field-signature button{-webkit-box-sizing:border-box;box-sizing:border-box;border:none;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-signature button.hide{display:none}verdocs-field-signature.required{border:1px solid var(--verdocs-required-color)}verdocs-field-signature.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldSignature=function(){function VerdocsFieldSignature(hostRef){_classCallCheck(this,VerdocsFieldSignature),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.adopt=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"adopt",7),this.cancel=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"cancel",7),this.required=!1,this.fullName="",this.value=""}var _focusField5;return _createClass(VerdocsFieldSignature,[{key:"focusField",value:(_focusField5=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:this.handleShow();case 1:case"end":return _context5.stop()}}),_callee5,this)}))),function focusField(){return _focusField5.apply(this,arguments)})},{key:"handleShow",value:function handleShow(){var _this19=this;this.dialog=document.createElement("verdocs-signature-dialog"),this.dialog.open=!0,this.dialog.fullName=this.fullName,this.dialog.addEventListener("cancel",(function(){var _a;console.log("cancel"),null===(_a=_this19.dialog)||void 0===_a||_a.remove()})),document.addEventListener("adopt",(function(e){var _a;console.log("adopt",e),null===(_a=_this19.dialog)||void 0===_a||_a.remove()})),document.body.append(this.dialog)}},{key:"render",value:function render(){var _this20=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{required:this.required}},""!==this.value?Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("img",{src:this.value,alt:"Signature"}):Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("button",{class:{},onClick:function onClick(){return _this20.handleShow()}},"Signature"))}}]),VerdocsFieldSignature}();VerdocsFieldSignature.style=verdocsFieldSignatureCss;var verdocsFieldTextareaCss='verdocs-field-textarea{font-family:"Barlow", sans-serif;width:150px;height:15px;display:block;font-size:11px;position:relative;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-textarea textarea{-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-textarea textarea.hide{display:none}verdocs-field-textarea.required{border:1px solid var(--verdocs-required-color)}verdocs-field-textarea.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldTextarea=function(){function VerdocsFieldTextarea(hostRef){_classCallCheck(this,VerdocsFieldTextarea),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldFocus=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldFocus",7),this.fieldBlur=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldBlur",7),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.fieldInput=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldInput",7),this.placeholder="",this.order=1,this.value="",this.required=!1,this.disabled=!1,this.focused=!1}var _focusField6;return _createClass(VerdocsFieldTextarea,[{key:"focusField",value:(_focusField6=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){return _regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:this.focused=!0,this.el.focus(),this.fieldFocus.emit(!0);case 3:case"end":return _context6.stop()}}),_callee6,this)}))),function focusField(){return _focusField6.apply(this,arguments)})},{key:"handleBlur",value:function handleBlur(){this.focused=!1,this.fieldBlur.emit(!0)}},{key:"handleFocus",value:function handleFocus(){this.focused=!0,this.fieldFocus.emit(!0)}},{key:"handleChange",value:function handleChange(e){this.fieldChange.emit(e.target.value)}},{key:"handleInput",value:function handleInput(e){this.fieldInput.emit(e.target.value)}},{key:"render",value:function render(){var _this21=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{focused:this.focused,required:this.required,storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV)}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("textarea",{placeholder:this.placeholder||"",tabIndex:this.order,value:this.value,disabled:this.disabled,required:this.required,ref:function ref(el){return _this21.el=el},onBlur:function onBlur(){return _this21.handleBlur()},onFocus:function onFocus(){return _this21.handleFocus()},onChange:function onChange(e){return _this21.handleChange(e)},onInput:function onInput(e){return _this21.handleInput(e)}}))}}]),VerdocsFieldTextarea}();VerdocsFieldTextarea.style=verdocsFieldTextareaCss;var verdocsFieldTextboxCss='verdocs-field-textbox{font-family:"Barlow", sans-serif;width:150px;height:15px;display:block;font-size:11px;position:relative;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-textbox input{-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-textbox input.hide{display:none}verdocs-field-textbox.required{border:1px solid var(--verdocs-required-color)}verdocs-field-textbox.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}',VerdocsFieldTextbox=function(){function VerdocsFieldTextbox(hostRef){_classCallCheck(this,VerdocsFieldTextbox),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.fieldFocus=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldFocus",7),this.fieldBlur=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldBlur",7),this.fieldChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldChange",7),this.fieldInput=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"fieldInput",7),this.placeholder="",this.order=1,this.value="",this.required=!1,this.disabled=!1,this.focused=!1}var _focusField7;return _createClass(VerdocsFieldTextbox,[{key:"focusField",value:(_focusField7=_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(){return _regeneratorRuntime().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:this.focused=!0,this.el.focus(),this.fieldFocus.emit(!0);case 3:case"end":return _context7.stop()}}),_callee7,this)}))),function focusField(){return _focusField7.apply(this,arguments)})},{key:"handleBlur",value:function handleBlur(){this.focused=!1,this.fieldBlur.emit(!0)}},{key:"handleFocus",value:function handleFocus(){this.focused=!0,this.fieldFocus.emit(!0)}},{key:"handleChange",value:function handleChange(e){this.fieldChange.emit(e.target.value)}},{key:"handleInput",value:function handleInput(e){this.fieldInput.emit(e.target.value)}},{key:"render",value:function render(){var _this22=this;return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.b,{class:{focused:this.focused,required:this.required}},Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("input",{type:"text",placeholder:this.placeholder||"",tabIndex:this.order,value:this.value,disabled:this.disabled,required:this.required,ref:function ref(el){return _this22.el=el},onBlur:function onBlur(){return _this22.handleBlur()},onFocus:function onFocus(){return _this22.handleFocus()},onChange:function onChange(e){return _this22.handleChange(e)},onInput:function onInput(e){return _this22.handleInput(e)}}))}}]),VerdocsFieldTextbox}();VerdocsFieldTextbox.style=verdocsFieldTextboxCss;var _nodeResolve_empty={},_nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$5=Object(_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.f)(_nodeResolve_empty$1),pdf=Object(_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.d)((function(module,exports){!function webpackUniversalModuleDefinition(root,factory){module.exports=factory()}(_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.c,(function(){return function(){var __webpack_modules__=[,function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatTimer=exports.RenderingCancelledException=exports.PixelsPerInch=exports.PageViewport=exports.PDFDateString=exports.LinkTarget=exports.DOMStandardFontDataFactory=exports.DOMSVGFactory=exports.DOMCanvasFactory=exports.DOMCMapReaderFactory=void 0,exports.addLinkAttributes=function addLinkAttributes(link){var _ref11=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url=_ref11.url,target=_ref11.target,rel=_ref11.rel,_ref11$enabled=_ref11.enabled,enabled=void 0===_ref11$enabled||_ref11$enabled;(0,_util.assert)(url&&"string"==typeof url,'addLinkAttributes: A valid "url" parameter must provided.');var urlNullRemoved=(0,_util.removeNullCharacters)(url);enabled?link.href=link.title=urlNullRemoved:(link.href="",link.title="Disabled: "+urlNullRemoved,link.onclick=function(){return!1});var targetStr="";switch(target){case LinkTarget.NONE:break;case LinkTarget.SELF:targetStr="_self";break;case LinkTarget.BLANK:targetStr="_blank";break;case LinkTarget.PARENT:targetStr="_parent";break;case LinkTarget.TOP:targetStr="_top"}link.target=targetStr,link.rel="string"==typeof rel?rel:"noopener noreferrer nofollow"},exports.deprecated=function deprecated(details){console.log("Deprecated API usage: "+details)},exports.getFilenameFromUrl=function getFilenameFromUrl(url){var anchor=url.indexOf("#"),query=url.indexOf("?"),end=Math.min(anchor>0?anchor:url.length,query>0?query:url.length);return url.substring(url.lastIndexOf("/",end)+1,end)},exports.getPdfFilenameFromUrl=function getPdfFilenameFromUrl(url){var defaultFilename=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof url)return defaultFilename;if(isDataScheme(url))return(0,_util.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),defaultFilename;var reURI=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,reFilename=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,splitURI=reURI.exec(url),suggestedFilename=reFilename.exec(splitURI[1])||reFilename.exec(splitURI[2])||reFilename.exec(splitURI[3]);if(suggestedFilename&&(suggestedFilename=suggestedFilename[0]).includes("%"))try{suggestedFilename=reFilename.exec(decodeURIComponent(suggestedFilename))[0]}catch(ex){}return suggestedFilename||defaultFilename},exports.getXfaPageViewport=function getXfaPageViewport(xfaPage,_ref13){var _ref13$scale=_ref13.scale,scale=void 0===_ref13$scale?1:_ref13$scale,_ref13$rotation=_ref13.rotation,rotation=void 0===_ref13$rotation?0:_ref13$rotation,_xfaPage$attributes$s=xfaPage.attributes.style,width=_xfaPage$attributes$s.width,height=_xfaPage$attributes$s.height,viewBox=[0,0,parseInt(width),parseInt(height)];return new PageViewport({viewBox:viewBox,scale:scale,rotation:rotation})},exports.isDataScheme=isDataScheme,exports.isPdfFile=function isPdfFile(filename){return"string"==typeof filename&&/\.pdf$/i.test(filename)},exports.isValidFetchUrl=isValidFetchUrl,exports.loadScript=function loadScript(src){var removeScriptElement=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(resolve,reject){var script=document.createElement("script");script.src=src,script.onload=function(evt){removeScriptElement&&script.remove(),resolve(evt)},script.onerror=function(){reject(new Error("Cannot load script at: "+script.src))},(document.head||document.documentElement).appendChild(script)}))};var _util=__w_pdfjs_require__(2),_base_factory=__w_pdfjs_require__(5),PixelsPerInch={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,_util.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};exports.PixelsPerInch=PixelsPerInch;var DOMCanvasFactory=function(_base_factory$BaseCan){_inherits(DOMCanvasFactory,_base_factory$BaseCan);var _super4=_createSuper(DOMCanvasFactory);function DOMCanvasFactory(){var _this23,_ref8=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref8$ownerDocument=_ref8.ownerDocument,ownerDocument=void 0===_ref8$ownerDocument?globalThis.document:_ref8$ownerDocument;return _classCallCheck(this,DOMCanvasFactory),(_this23=_super4.call(this))._document=ownerDocument,_this23}return _createClass(DOMCanvasFactory,[{key:"_createCanvas",value:function _createCanvas(width,height){var canvas=this._document.createElement("canvas");return canvas.width=width,canvas.height=height,canvas}}]),DOMCanvasFactory}(_base_factory.BaseCanvasFactory);function fetchData(_x){return _fetchData.apply(this,arguments)}function _fetchData(){return _fetchData=_asyncToGenerator(_regeneratorRuntime().mark((function _callee8(url){var asTypedArray,response,_args7=arguments;return _regeneratorRuntime().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(asTypedArray=_args7.length>1&&void 0!==_args7[1]&&_args7[1],!isValidFetchUrl(url,document.baseURI)){_context8.next=21;break}return _context8.next=4,fetch(url);case 4:if((response=_context8.sent).ok){_context8.next=7;break}throw new Error(response.statusText);case 7:if(!asTypedArray){_context8.next=15;break}return _context8.t1=Uint8Array,_context8.next=11,response.arrayBuffer();case 11:_context8.t2=_context8.sent,_context8.t0=new _context8.t1(_context8.t2),_context8.next=20;break;case 15:return _context8.t3=_util.stringToBytes,_context8.next=18,response.text();case 18:_context8.t4=_context8.sent,_context8.t0=(0,_context8.t3)(_context8.t4);case 20:return _context8.abrupt("return",_context8.t0);case 21:return _context8.abrupt("return",new Promise((function(resolve,reject){var request=new XMLHttpRequest;request.open("GET",url,!0),asTypedArray&&(request.responseType="arraybuffer"),request.onreadystatechange=function(){if(request.readyState===XMLHttpRequest.DONE){var data;if(200===request.status||0===request.status)if(asTypedArray&&request.response?data=new Uint8Array(request.response):!asTypedArray&&request.responseText&&(data=(0,_util.stringToBytes)(request.responseText)),data)return void resolve(data);reject(new Error(request.statusText))}},request.send(null)})));case 22:case"end":return _context8.stop()}}),_callee8)}))),_fetchData.apply(this,arguments)}exports.DOMCanvasFactory=DOMCanvasFactory;var DOMCMapReaderFactory=function(_base_factory$BaseCMa){_inherits(DOMCMapReaderFactory,_base_factory$BaseCMa);var _super5=_createSuper(DOMCMapReaderFactory);function DOMCMapReaderFactory(){return _classCallCheck(this,DOMCMapReaderFactory),_super5.apply(this,arguments)}return _createClass(DOMCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(url,compressionType){return fetchData(url,this.isCompressed).then((function(data){return{cMapData:data,compressionType:compressionType}}))}}]),DOMCMapReaderFactory}(_base_factory.BaseCMapReaderFactory);exports.DOMCMapReaderFactory=DOMCMapReaderFactory;var DOMStandardFontDataFactory=function(_base_factory$BaseSta){_inherits(DOMStandardFontDataFactory,_base_factory$BaseSta);var _super6=_createSuper(DOMStandardFontDataFactory);function DOMStandardFontDataFactory(){return _classCallCheck(this,DOMStandardFontDataFactory),_super6.apply(this,arguments)}return _createClass(DOMStandardFontDataFactory,[{key:"_fetchData",value:function _fetchData(url){return fetchData(url,!0)}}]),DOMStandardFontDataFactory}(_base_factory.BaseStandardFontDataFactory);exports.DOMStandardFontDataFactory=DOMStandardFontDataFactory;var DOMSVGFactory=function(_base_factory$BaseSVG){_inherits(DOMSVGFactory,_base_factory$BaseSVG);var _super7=_createSuper(DOMSVGFactory);function DOMSVGFactory(){return _classCallCheck(this,DOMSVGFactory),_super7.apply(this,arguments)}return _createClass(DOMSVGFactory,[{key:"_createSVG",value:function _createSVG(type){return document.createElementNS("http://www.w3.org/2000/svg",type)}}]),DOMSVGFactory}(_base_factory.BaseSVGFactory);exports.DOMSVGFactory=DOMSVGFactory;var PageViewport=function(){function PageViewport(_ref9){var viewBox=_ref9.viewBox,scale=_ref9.scale,rotation=_ref9.rotation,_ref9$offsetX=_ref9.offsetX,offsetX=void 0===_ref9$offsetX?0:_ref9$offsetX,_ref9$offsetY=_ref9.offsetY,offsetY=void 0===_ref9$offsetY?0:_ref9$offsetY,_ref9$dontFlip=_ref9.dontFlip,dontFlip=void 0!==_ref9$dontFlip&&_ref9$dontFlip;_classCallCheck(this,PageViewport),this.viewBox=viewBox,this.scale=scale,this.rotation=rotation,this.offsetX=offsetX,this.offsetY=offsetY;var rotateA,rotateB,rotateC,rotateD,offsetCanvasX,offsetCanvasY,width,height,centerX=(viewBox[2]+viewBox[0])/2,centerY=(viewBox[3]+viewBox[1])/2;switch((rotation%=360)<0&&(rotation+=360),rotation){case 180:rotateA=-1,rotateB=0,rotateC=0,rotateD=1;break;case 90:rotateA=0,rotateB=1,rotateC=1,rotateD=0;break;case 270:rotateA=0,rotateB=-1,rotateC=-1,rotateD=0;break;case 0:rotateA=1,rotateB=0,rotateC=0,rotateD=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}dontFlip&&(rotateC=-rotateC,rotateD=-rotateD),0===rotateA?(offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+offsetX,offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+offsetY,width=Math.abs(viewBox[3]-viewBox[1])*scale,height=Math.abs(viewBox[2]-viewBox[0])*scale):(offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+offsetX,offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+offsetY,width=Math.abs(viewBox[2]-viewBox[0])*scale,height=Math.abs(viewBox[3]-viewBox[1])*scale),this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY],this.width=width,this.height=height}return _createClass(PageViewport,[{key:"clone",value:function clone(){var _ref10=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref10$scale=_ref10.scale,scale=void 0===_ref10$scale?this.scale:_ref10$scale,_ref10$rotation=_ref10.rotation,rotation=void 0===_ref10$rotation?this.rotation:_ref10$rotation,_ref10$offsetX=_ref10.offsetX,offsetX=void 0===_ref10$offsetX?this.offsetX:_ref10$offsetX,_ref10$offsetY=_ref10.offsetY,offsetY=void 0===_ref10$offsetY?this.offsetY:_ref10$offsetY,_ref10$dontFlip=_ref10.dontFlip,dontFlip=void 0!==_ref10$dontFlip&&_ref10$dontFlip;return new PageViewport({viewBox:this.viewBox.slice(),scale:scale,rotation:rotation,offsetX:offsetX,offsetY:offsetY,dontFlip:dontFlip})}},{key:"convertToViewportPoint",value:function convertToViewportPoint(x,y){return _util.Util.applyTransform([x,y],this.transform)}},{key:"convertToViewportRectangle",value:function convertToViewportRectangle(rect){var topLeft=_util.Util.applyTransform([rect[0],rect[1]],this.transform),bottomRight=_util.Util.applyTransform([rect[2],rect[3]],this.transform);return[topLeft[0],topLeft[1],bottomRight[0],bottomRight[1]]}},{key:"convertToPdfPoint",value:function convertToPdfPoint(x,y){return _util.Util.applyInverseTransform([x,y],this.transform)}}]),PageViewport}();exports.PageViewport=PageViewport;var RenderingCancelledException=function(_util$BaseException){_inherits(RenderingCancelledException,_util$BaseException);var _super8=_createSuper(RenderingCancelledException);function RenderingCancelledException(msg,type){var _this24;return _classCallCheck(this,RenderingCancelledException),(_this24=_super8.call(this,msg,"RenderingCancelledException")).type=type,_this24}return _createClass(RenderingCancelledException)}(_util.BaseException);exports.RenderingCancelledException=RenderingCancelledException;var LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function isDataScheme(url){for(var ii=url.length,i=0;i<ii&&""===url[i].trim();)i++;return"data:"===url.substring(i,i+5).toLowerCase()}exports.LinkTarget=LinkTarget;var pdfDateStringRegex,StatTimer=function(){function StatTimer(){_classCallCheck(this,StatTimer),this.started=Object.create(null),this.times=[]}return _createClass(StatTimer,[{key:"time",value:function time(name){name in this.started&&(0,_util.warn)("Timer is already running for "+name),this.started[name]=Date.now()}},{key:"timeEnd",value:function timeEnd(name){name in this.started||(0,_util.warn)("Timer has not been started for "+name),this.times.push({name:name,start:this.started[name],end:Date.now()}),delete this.started[name]}},{key:"toString",value:function toString(){var _step2,outBuf=[],longest=0,_iterator2=_createForOfIteratorHelper(this.times);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var name=_step2.value.name;name.length>longest&&(longest=name.length)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _step3,_iterator3=_createForOfIteratorHelper(this.times);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _time=_step3.value,duration=_time.end-_time.start;outBuf.push(_time.name.padEnd(longest)+" "+duration+"ms\n")}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return outBuf.join("")}}]),StatTimer}();function isValidFetchUrl(url,baseUrl){try{var protocol=(baseUrl?new URL(url,baseUrl):new URL(url)).protocol;return"http:"===protocol||"https:"===protocol}catch(ex){return!1}}exports.StatTimer=StatTimer;var PDFDateString=function(){function PDFDateString(){_classCallCheck(this,PDFDateString)}return _createClass(PDFDateString,null,[{key:"toDateObject",value:function toDateObject(input){if(!input||!(0,_util.isString)(input))return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var matches=pdfDateStringRegex.exec(input);if(!matches)return null;var year=parseInt(matches[1],10),month=parseInt(matches[2],10);month=month>=1&&month<=12?month-1:0;var day=parseInt(matches[3],10);day=day>=1&&day<=31?day:1;var hour=parseInt(matches[4],10);hour=hour>=0&&hour<=23?hour:0;var minute=parseInt(matches[5],10);minute=minute>=0&&minute<=59?minute:0;var second=parseInt(matches[6],10);second=second>=0&&second<=59?second:0;var universalTimeRelation=matches[7]||"Z",offsetHour=parseInt(matches[8],10);offsetHour=offsetHour>=0&&offsetHour<=23?offsetHour:0;var offsetMinute=parseInt(matches[9],10)||0;return offsetMinute=offsetMinute>=0&&offsetMinute<=59?offsetMinute:0,"-"===universalTimeRelation?(hour+=offsetHour,minute+=offsetMinute):"+"===universalTimeRelation&&(hour-=offsetHour,minute-=offsetMinute),new Date(Date.UTC(year,month,day,hour,minute,second))}}]),PDFDateString}();exports.PDFDateString=PDFDateString},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.VerbosityLevel=exports.Util=exports.UnknownErrorException=exports.UnexpectedResponseException=exports.UNSUPPORTED_FEATURES=exports.TextRenderingMode=exports.StreamType=exports.RenderingIntentFlag=exports.PermissionFlag=exports.PasswordResponses=exports.PasswordException=exports.PageActionEventType=exports.OPS=exports.MissingPDFException=exports.IsLittleEndianCached=exports.IsEvalSupportedCached=exports.InvalidPDFException=exports.ImageKind=exports.IDENTITY_MATRIX=exports.FormatError=exports.FontType=exports.FONT_IDENTITY_MATRIX=exports.DocumentActionEventType=exports.CMapCompressionType=exports.BaseException=exports.AnnotationType=exports.AnnotationStateModelType=exports.AnnotationReviewState=exports.AnnotationReplyType=exports.AnnotationMode=exports.AnnotationMarkedState=exports.AnnotationFlag=exports.AnnotationFieldFlag=exports.AnnotationBorderStyleType=exports.AnnotationActionEventType=exports.AbortException=void 0,exports.arrayByteLength=arrayByteLength,exports.arraysToBytes=function arraysToBytes(arr){var length=arr.length;if(1===length&&arr[0]instanceof Uint8Array)return arr[0];for(var resultLength=0,i=0;i<length;i++)resultLength+=arrayByteLength(arr[i]);for(var pos=0,data=new Uint8Array(resultLength),_i2=0;_i2<length;_i2++){var item=arr[_i2];item instanceof Uint8Array||(item="string"==typeof item?stringToBytes(item):new Uint8Array(item));var itemLength=item.byteLength;data.set(item,pos),pos+=itemLength}return data},exports.assert=assert,exports.bytesToString=function bytesToString(bytes){assert(null!==bytes&&"object"==typeof bytes&&void 0!==bytes.length,"Invalid argument for bytesToString");var length=bytes.length;if(length<8192)return String.fromCharCode.apply(null,bytes);for(var strBuf=[],i=0;i<length;i+=8192){var chunkEnd=Math.min(i+8192,length),chunk=bytes.subarray(i,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunk))}return strBuf.join("")},exports.createObjectURL=function createObjectURL(data){var contentType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",forceDataSchema=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!=typeof Blob&&!forceDataSchema)return URL.createObjectURL(new Blob([data],{type:contentType}));for(var digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",buffer="data:"+contentType+";base64,",i=0,ii=data.length;i<ii;i+=3){var b1=255&data[i],b2=255&data[i+1],b3=255&data[i+2],d1=b1>>2,d2=(3&b1)<<4|b2>>4,d3=i+1<ii?(15&b2)<<2|b3>>6:64,d4=i+2<ii?63&b3:64;buffer+=digits[d1]+digits[d2]+digits[d3]+digits[d4]}return buffer},exports.createPromiseCapability=function createPromiseCapability(){var capability=Object.create(null),isSettled=!1;return Object.defineProperty(capability,"settled",{get:function get(){return isSettled}}),capability.promise=new Promise((function(resolve,reject){capability.resolve=function(data){isSettled=!0,resolve(data)},capability.reject=function(reason){isSettled=!0,reject(reason)}})),capability},exports.createValidAbsoluteUrl=function createValidAbsoluteUrl(url){var baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!url)return null;try{if(options&&"string"==typeof url){if(options.addDefaultProtocol&&url.startsWith("www.")){var dots=url.match(/\./g);dots&&dots.length>=2&&(url="http://"+url)}if(options.tryConvertEncoding)try{url=stringToUTF8String(url)}catch(ex){}}var absoluteUrl=baseUrl?new URL(url,baseUrl):new URL(url);if(_isValidProtocol(absoluteUrl))return absoluteUrl}catch(ex){}return null},exports.escapeString=function escapeString(str){return str.replace(/([()\\\n\r])/g,(function(match){return"\n"===match?"\\n":"\r"===match?"\\r":"\\"+match}))},exports.getModificationDate=function getModificationDate(){var date=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,buffer=[date.getUTCFullYear().toString(),(date.getUTCMonth()+1).toString().padStart(2,"0"),date.getUTCDate().toString().padStart(2,"0"),date.getUTCHours().toString().padStart(2,"0"),date.getUTCMinutes().toString().padStart(2,"0"),date.getUTCSeconds().toString().padStart(2,"0")];return buffer.join("")},exports.getVerbosityLevel=function getVerbosityLevel(){return verbosity},exports.info=function info(msg){verbosity>=VerbosityLevel.INFOS&&console.log("Info: "+msg)},exports.isArrayBuffer=function isArrayBuffer(v){return"object"==typeof v&&null!==v&&void 0!==v.byteLength},exports.isArrayEqual=function isArrayEqual(arr1,arr2){if(arr1.length!==arr2.length)return!1;for(var i=0,ii=arr1.length;i<ii;i++)if(arr1[i]!==arr2[i])return!1;return!0},exports.isAscii=function isAscii(str){return/^[\x00-\x7F]*$/.test(str)},exports.isBool=function isBool(v){return"boolean"==typeof v},exports.isNum=function isNum(v){return"number"==typeof v},exports.isSameOrigin=function isSameOrigin(baseUrl,otherUrl){var base;try{if(!(base=new URL(baseUrl)).origin||"null"===base.origin)return!1}catch(e){return!1}var other=new URL(otherUrl,base);return base.origin===other.origin},exports.isString=function isString(v){return"string"==typeof v},exports.objectFromMap=function objectFromMap(map){var _step4,obj=Object.create(null),_iterator4=_createForOfIteratorHelper(map);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _ref15=_slicedToArray(_step4.value,2),key=_ref15[0],value=_ref15[1];obj[key]=value}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return obj},exports.objectSize=function objectSize(obj){return Object.keys(obj).length},exports.removeNullCharacters=function removeNullCharacters(str){var replaceInvisible=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof str)return warn("The argument for removeNullCharacters must be a string."),str;replaceInvisible&&(str=str.replace(InvisibleCharactersRegExp," "));return str.replace(NullCharactersRegExp,"")},exports.setVerbosityLevel=function setVerbosityLevel(level){Number.isInteger(level)&&(verbosity=level)},exports.shadow=shadow,exports.string32=function string32(value){return String.fromCharCode(value>>24&255,value>>16&255,value>>8&255,255&value)},exports.stringToBytes=stringToBytes,exports.stringToPDFString=function stringToPDFString(str){var length=str.length,strBuf=[];if("þ"===str[0]&&"ÿ"===str[1])for(var i=2;i<length;i+=2)strBuf.push(String.fromCharCode(str.charCodeAt(i)<<8|str.charCodeAt(i+1)));else if("ÿ"===str[0]&&"þ"===str[1])for(var _i3=2;_i3<length;_i3+=2)strBuf.push(String.fromCharCode(str.charCodeAt(_i3+1)<<8|str.charCodeAt(_i3)));else for(var _i4=0;_i4<length;++_i4){var code=PDFStringTranslateTable[str.charCodeAt(_i4)];strBuf.push(code?String.fromCharCode(code):str.charAt(_i4))}return strBuf.join("")},exports.stringToUTF16BEString=function stringToUTF16BEString(str){for(var buf=["þÿ"],i=0,ii=str.length;i<ii;i++){var _char=str.charCodeAt(i);buf.push(String.fromCharCode(_char>>8&255),String.fromCharCode(255&_char))}return buf.join("")},exports.stringToUTF8String=stringToUTF8String,exports.unreachable=unreachable,exports.utf8StringToString=function utf8StringToString(str){return unescape(encodeURIComponent(str))},exports.warn=warn,__w_pdfjs_require__(3);exports.IDENTITY_MATRIX=[1,0,0,1,0,0];exports.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];exports.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};exports.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};exports.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};exports.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};exports.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};exports.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};exports.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};exports.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};exports.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};exports.AnnotationReplyType={GROUP:"Group",REPLY:"R"};exports.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};exports.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};exports.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};exports.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};exports.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};exports.PageActionEventType={O:"PageOpen",C:"PageClose"};exports.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};exports.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5};exports.VerbosityLevel=VerbosityLevel;exports.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};exports.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};exports.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};exports.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var verbosity=VerbosityLevel.WARNINGS;function warn(msg){verbosity>=VerbosityLevel.WARNINGS&&console.log("Warning: "+msg)}function unreachable(msg){throw new Error(msg)}function assert(cond,msg){cond||unreachable(msg)}function _isValidProtocol(url){if(!url)return!1;switch(url.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function shadow(obj,prop,value){return Object.defineProperty(obj,prop,{value:value,enumerable:!0,configurable:!0,writable:!1}),value}var BaseException=function BaseExceptionClosure(){function BaseException(message,name){this.constructor===BaseException&&unreachable("Cannot initialize BaseException."),this.message=message,this.name=name}return BaseException.prototype=new Error,BaseException.constructor=BaseException,BaseException}();exports.BaseException=BaseException;var PasswordException=function(_BaseException){_inherits(PasswordException,_BaseException);var _super9=_createSuper(PasswordException);function PasswordException(msg,code){var _this25;return _classCallCheck(this,PasswordException),(_this25=_super9.call(this,msg,"PasswordException")).code=code,_this25}return _createClass(PasswordException)}(BaseException);exports.PasswordException=PasswordException;var UnknownErrorException=function(_BaseException2){_inherits(UnknownErrorException,_BaseException2);var _super10=_createSuper(UnknownErrorException);function UnknownErrorException(msg,details){var _this26;return _classCallCheck(this,UnknownErrorException),(_this26=_super10.call(this,msg,"UnknownErrorException")).details=details,_this26}return _createClass(UnknownErrorException)}(BaseException);exports.UnknownErrorException=UnknownErrorException;var InvalidPDFException=function(_BaseException3){_inherits(InvalidPDFException,_BaseException3);var _super11=_createSuper(InvalidPDFException);function InvalidPDFException(msg){return _classCallCheck(this,InvalidPDFException),_super11.call(this,msg,"InvalidPDFException")}return _createClass(InvalidPDFException)}(BaseException);exports.InvalidPDFException=InvalidPDFException;var MissingPDFException=function(_BaseException4){_inherits(MissingPDFException,_BaseException4);var _super12=_createSuper(MissingPDFException);function MissingPDFException(msg){return _classCallCheck(this,MissingPDFException),_super12.call(this,msg,"MissingPDFException")}return _createClass(MissingPDFException)}(BaseException);exports.MissingPDFException=MissingPDFException;var UnexpectedResponseException=function(_BaseException5){_inherits(UnexpectedResponseException,_BaseException5);var _super13=_createSuper(UnexpectedResponseException);function UnexpectedResponseException(msg,status){var _this27;return _classCallCheck(this,UnexpectedResponseException),(_this27=_super13.call(this,msg,"UnexpectedResponseException")).status=status,_this27}return _createClass(UnexpectedResponseException)}(BaseException);exports.UnexpectedResponseException=UnexpectedResponseException;var FormatError=function(_BaseException6){_inherits(FormatError,_BaseException6);var _super14=_createSuper(FormatError);function FormatError(msg){return _classCallCheck(this,FormatError),_super14.call(this,msg,"FormatError")}return _createClass(FormatError)}(BaseException);exports.FormatError=FormatError;var AbortException=function(_BaseException7){_inherits(AbortException,_BaseException7);var _super15=_createSuper(AbortException);function AbortException(msg){return _classCallCheck(this,AbortException),_super15.call(this,msg,"AbortException")}return _createClass(AbortException)}(BaseException);exports.AbortException=AbortException;var NullCharactersRegExp=/\x00+/g,InvisibleCharactersRegExp=/[\x01-\x1F]/g;function stringToBytes(str){assert("string"==typeof str,"Invalid argument for stringToBytes");for(var length=str.length,bytes=new Uint8Array(length),i=0;i<length;++i)bytes[i]=255&str.charCodeAt(i);return bytes}function arrayByteLength(arr){return void 0!==arr.length?arr.length:(assert(void 0!==arr.byteLength,"arrayByteLength - invalid argument."),arr.byteLength)}var IsLittleEndianCached={get value(){return shadow(this,"value",function isLittleEndian(){var buffer8=new Uint8Array(4);return buffer8[0]=1,1===new Uint32Array(buffer8.buffer,0,1)[0]}())}};exports.IsLittleEndianCached=IsLittleEndianCached;var IsEvalSupportedCached={get value(){return shadow(this,"value",function isEvalSupported(){try{return new Function(""),!0}catch(e){return!1}}())}};exports.IsEvalSupportedCached=IsEvalSupportedCached;var hexNumbers=_toConsumableArray(Array(256).keys()).map((function(n){return n.toString(16).padStart(2,"0")})),Util=function(){function Util(){_classCallCheck(this,Util)}return _createClass(Util,null,[{key:"makeHexColor",value:function makeHexColor(r,g,b){return"#"+hexNumbers[r]+hexNumbers[g]+hexNumbers[b]}},{key:"transform",value:function transform(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]}},{key:"applyTransform",value:function applyTransform(p,m){return[p[0]*m[0]+p[1]*m[2]+m[4],p[0]*m[1]+p[1]*m[3]+m[5]]}},{key:"applyInverseTransform",value:function applyInverseTransform(p,m){var d=m[0]*m[3]-m[1]*m[2];return[(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d,(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d]}},{key:"getAxialAlignedBoundingBox",value:function getAxialAlignedBoundingBox(r,m){var p1=Util.applyTransform(r,m),p2=Util.applyTransform(r.slice(2,4),m),p3=Util.applyTransform([r[0],r[3]],m),p4=Util.applyTransform([r[2],r[1]],m);return[Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1])]}},{key:"inverseTransform",value:function inverseTransform(m){var d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d]}},{key:"apply3dTransform",value:function apply3dTransform(m,v){return[m[0]*v[0]+m[1]*v[1]+m[2]*v[2],m[3]*v[0]+m[4]*v[1]+m[5]*v[2],m[6]*v[0]+m[7]*v[1]+m[8]*v[2]]}},{key:"singularValueDecompose2dScale",value:function singularValueDecompose2dScale(m){var transpose=[m[0],m[2],m[1],m[3]],a=m[0]*transpose[0]+m[1]*transpose[2],b=m[0]*transpose[1]+m[1]*transpose[3],c=m[2]*transpose[0]+m[3]*transpose[2],d=m[2]*transpose[1]+m[3]*transpose[3],first=(a+d)/2,second=Math.sqrt(Math.pow(a+d,2)-4*(a*d-c*b))/2,sx=first+second||1,sy=first-second||1;return[Math.sqrt(sx),Math.sqrt(sy)]}},{key:"normalizeRect",value:function normalizeRect(rect){var r=rect.slice(0);return rect[0]>rect[2]&&(r[0]=rect[2],r[2]=rect[0]),rect[1]>rect[3]&&(r[1]=rect[3],r[3]=rect[1]),r}},{key:"intersect",value:function intersect(rect1,rect2){function compare(a,b){return a-b}var orderedX=[rect1[0],rect1[2],rect2[0],rect2[2]].sort(compare),orderedY=[rect1[1],rect1[3],rect2[1],rect2[3]].sort(compare),result=[];return rect1=Util.normalizeRect(rect1),rect2=Util.normalizeRect(rect2),orderedX[0]===rect1[0]&&orderedX[1]===rect2[0]||orderedX[0]===rect2[0]&&orderedX[1]===rect1[0]?(result[0]=orderedX[1],result[2]=orderedX[2],orderedY[0]===rect1[1]&&orderedY[1]===rect2[1]||orderedY[0]===rect2[1]&&orderedY[1]===rect1[1]?(result[1]=orderedY[1],result[3]=orderedY[2],result):null):null}},{key:"bezierBoundingBox",value:function bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3){for(var a,b,c,t,t1,t2,b2ac,sqrtb2ac,tvalues=[],bounds=[[],[]],i=0;i<2;++i)if(0===i?(b=6*x0-12*x1+6*x2,a=-3*x0+9*x1-9*x2+3*x3,c=3*x1-3*x0):(b=6*y0-12*y1+6*y2,a=-3*y0+9*y1-9*y2+3*y3,c=3*y1-3*y0),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;0<(t=-c/b)&&t<1&&tvalues.push(t)}else b2ac=b*b-4*c*a,sqrtb2ac=Math.sqrt(b2ac),b2ac<0||(0<(t1=(-b+sqrtb2ac)/(2*a))&&t1<1&&tvalues.push(t1),0<(t2=(-b-sqrtb2ac)/(2*a))&&t2<1&&tvalues.push(t2));for(var mt,j=tvalues.length,jlen=j;j--;)mt=1-(t=tvalues[j]),bounds[0][j]=mt*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3,bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,[Math.min.apply(Math,_toConsumableArray(bounds[0])),Math.min.apply(Math,_toConsumableArray(bounds[1])),Math.max.apply(Math,_toConsumableArray(bounds[0])),Math.max.apply(Math,_toConsumableArray(bounds[1]))]}}]),Util}();exports.Util=Util;var PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToUTF8String(str){return decodeURIComponent(escape(str))}},function(__unused_webpack_module,__unused_webpack_exports,__w_pdfjs_require__){__w_pdfjs_require__(4)},function(__unused_webpack_module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNodeJS=void 0;var isNodeJS=!("object"!=typeof _buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g||_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g+""!="[object process]"||_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g.versions.nw||_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g.versions.electron&&_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g.type&&"browser"!==_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g.type);exports.isNodeJS=isNodeJS},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseStandardFontDataFactory=exports.BaseSVGFactory=exports.BaseCanvasFactory=exports.BaseCMapReaderFactory=void 0;var _util=__w_pdfjs_require__(2),BaseCanvasFactory=function(){function BaseCanvasFactory(){_classCallCheck(this,BaseCanvasFactory),this.constructor===BaseCanvasFactory&&(0,_util.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(BaseCanvasFactory,[{key:"create",value:function create(width,height){if(width<=0||height<=0)throw new Error("Invalid canvas size");var canvas=this._createCanvas(width,height);return{canvas:canvas,context:canvas.getContext("2d")}}},{key:"reset",value:function reset(canvasAndContext,width,height){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");if(width<=0||height<=0)throw new Error("Invalid canvas size");canvasAndContext.canvas.width=width,canvasAndContext.canvas.height=height}},{key:"destroy",value:function destroy(canvasAndContext){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");canvasAndContext.canvas.width=0,canvasAndContext.canvas.height=0,canvasAndContext.canvas=null,canvasAndContext.context=null}},{key:"_createCanvas",value:function _createCanvas(width,height){(0,_util.unreachable)("Abstract method `_createCanvas` called.")}}]),BaseCanvasFactory}();exports.BaseCanvasFactory=BaseCanvasFactory;var BaseCMapReaderFactory=function(){function BaseCMapReaderFactory(_ref16){var _ref16$baseUrl=_ref16.baseUrl,baseUrl=void 0===_ref16$baseUrl?null:_ref16$baseUrl,_ref16$isCompressed=_ref16.isCompressed,isCompressed=void 0!==_ref16$isCompressed&&_ref16$isCompressed;_classCallCheck(this,BaseCMapReaderFactory),this.constructor===BaseCMapReaderFactory&&(0,_util.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=baseUrl,this.isCompressed=isCompressed}var _fetch;return _createClass(BaseCMapReaderFactory,[{key:"fetch",value:(_fetch=_asyncToGenerator(_regeneratorRuntime().mark((function _callee9(_ref17){var name,url,compressionType,_this28=this;return _regeneratorRuntime().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(name=_ref17.name,this.baseUrl){_context9.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(name){_context9.next=5;break}throw new Error("CMap name must be specified.");case 5:return url=this.baseUrl+name+(this.isCompressed?".bcmap":""),compressionType=this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE,_context9.abrupt("return",this._fetchData(url,compressionType).catch((function(reason){throw new Error("Unable to load "+(_this28.isCompressed?"binary ":"")+"CMap at: "+url)})));case 8:case"end":return _context9.stop()}}),_callee9,this)}))),function fetch(_x2){return _fetch.apply(this,arguments)})},{key:"_fetchData",value:function _fetchData(url,compressionType){(0,_util.unreachable)("Abstract method `_fetchData` called.")}}]),BaseCMapReaderFactory}();exports.BaseCMapReaderFactory=BaseCMapReaderFactory;var BaseStandardFontDataFactory=function(){function BaseStandardFontDataFactory(_ref18){var _ref18$baseUrl=_ref18.baseUrl,baseUrl=void 0===_ref18$baseUrl?null:_ref18$baseUrl;_classCallCheck(this,BaseStandardFontDataFactory),this.constructor===BaseStandardFontDataFactory&&(0,_util.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=baseUrl}var _fetch2;return _createClass(BaseStandardFontDataFactory,[{key:"fetch",value:(_fetch2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee10(_ref19){var filename,url;return _regeneratorRuntime().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(filename=_ref19.filename,this.baseUrl){_context10.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(filename){_context10.next=5;break}throw new Error("Font filename must be specified.");case 5:return url=""+this.baseUrl+filename,_context10.abrupt("return",this._fetchData(url).catch((function(reason){throw new Error("Unable to load font data at: "+url)})));case 7:case"end":return _context10.stop()}}),_callee10,this)}))),function fetch(_x3){return _fetch2.apply(this,arguments)})},{key:"_fetchData",value:function _fetchData(url){(0,_util.unreachable)("Abstract method `_fetchData` called.")}}]),BaseStandardFontDataFactory}();exports.BaseStandardFontDataFactory=BaseStandardFontDataFactory;var BaseSVGFactory=function(){function BaseSVGFactory(){_classCallCheck(this,BaseSVGFactory),this.constructor===BaseSVGFactory&&(0,_util.unreachable)("Cannot initialize BaseSVGFactory.")}return _createClass(BaseSVGFactory,[{key:"create",value:function create(width,height){if(width<=0||height<=0)throw new Error("Invalid SVG dimensions");var svg=this._createSVG("svg:svg");return svg.setAttribute("version","1.1"),svg.setAttribute("width",width+"px"),svg.setAttribute("height",height+"px"),svg.setAttribute("preserveAspectRatio","none"),svg.setAttribute("viewBox","0 0 "+width+" "+height),svg}},{key:"createElement",value:function createElement(type){if("string"!=typeof type)throw new Error("Invalid SVG element type");return this._createSVG(type)}},{key:"_createSVG",value:function _createSVG(type){(0,_util.unreachable)("Abstract method `_createSVG` called.")}}]),BaseSVGFactory}();exports.BaseSVGFactory=BaseSVGFactory},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(pdfNetworkStreamFactory){createPDFNetworkStream=pdfNetworkStreamFactory}function getDocument(src){var source,task=new PDFDocumentLoadingTask;if("string"==typeof src||src instanceof URL)source={url:src};else if((0,_util.isArrayBuffer)(src))source={data:src};else if(src instanceof PDFDataRangeTransport)source={range:src};else{if("object"!=typeof src)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!src.url&&!src.data&&!src.range)throw new Error("Invalid parameter object: need either .data, .range or .url");source=src}var params=Object.create(null),rangeTransport=null,worker=null;for(var key in source){var value=source[key];switch(key){case"url":if("undefined"!=typeof window)try{params[key]=new URL(value,window.location).href;continue}catch(ex){(0,_util.warn)('Cannot create valid URL: "'+ex+'".')}else if("string"==typeof value||value instanceof URL){params[key]=value.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":rangeTransport=value;continue;case"worker":worker=value;continue;case"data":if(_is_node.isNodeJS&&void 0!==_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.a&&value instanceof _buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.a)params[key]=new Uint8Array(value);else{if(value instanceof Uint8Array)break;if("string"==typeof value)params[key]=(0,_util.stringToBytes)(value);else if("object"!=typeof value||null===value||isNaN(value.length)){if(!(0,_util.isArrayBuffer)(value))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");params[key]=new Uint8Array(value)}else params[key]=new Uint8Array(value)}continue}params[key]=value}if(params.rangeChunkSize=params.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,params.CMapReaderFactory=params.CMapReaderFactory||DefaultCMapReaderFactory,params.StandardFontDataFactory=params.StandardFontDataFactory||DefaultStandardFontDataFactory,params.ignoreErrors=!0!==params.stopAtErrors,params.fontExtraProperties=!0===params.fontExtraProperties,params.pdfBug=!0===params.pdfBug,params.enableXfa=!0===params.enableXfa,("string"!=typeof params.docBaseUrl||(0,_display_utils.isDataScheme)(params.docBaseUrl))&&(params.docBaseUrl=null),Number.isInteger(params.maxImageSize)||(params.maxImageSize=-1),"boolean"!=typeof params.useWorkerFetch&&(params.useWorkerFetch=params.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&params.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof params.isEvalSupported&&(params.isEvalSupported=!0),"boolean"!=typeof params.disableFontFace&&(params.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof params.useSystemFonts&&(params.useSystemFonts=!_is_node.isNodeJS&&!params.disableFontFace),void 0===params.ownerDocument&&(params.ownerDocument=globalThis.document),"boolean"!=typeof params.disableRange&&(params.disableRange=!1),"boolean"!=typeof params.disableStream&&(params.disableStream=!1),"boolean"!=typeof params.disableAutoFetch&&(params.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(params.verbosity),!worker){var workerParams={verbosity:params.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};worker=workerParams.port?PDFWorker.fromPort(workerParams):new PDFWorker(workerParams),task._worker=worker}var docId=task.docId;return worker.promise.then((function(){if(task.destroyed)throw new Error("Loading aborted");var workerIdPromise=_fetchDocument(worker,params,rangeTransport,docId),networkStreamPromise=new Promise((function(resolve){var networkStream;rangeTransport?networkStream=new _transport_stream.PDFDataTransportStream({length:params.length,initialData:params.initialData,progressiveDone:params.progressiveDone,contentDispositionFilename:params.contentDispositionFilename,disableRange:params.disableRange,disableStream:params.disableStream},rangeTransport):params.data||(networkStream=createPDFNetworkStream({url:params.url,length:params.length,httpHeaders:params.httpHeaders,withCredentials:params.withCredentials,rangeChunkSize:params.rangeChunkSize,disableRange:params.disableRange,disableStream:params.disableStream})),resolve(networkStream)}));return Promise.all([workerIdPromise,networkStreamPromise]).then((function(_ref20){var _ref21=_slicedToArray(_ref20,2),workerId=_ref21[0],networkStream=_ref21[1];if(task.destroyed)throw new Error("Loading aborted");var messageHandler=new _message_handler.MessageHandler(docId,workerId,worker.port),transport=new WorkerTransport(messageHandler,task,networkStream,params);task._transport=transport,messageHandler.send("Ready",null)}))})).catch(task._capability.reject),task}function _fetchDocument(_x4,_x5,_x6,_x7){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee17(worker,source,pdfDataRangeTransport,docId){var workerId;return _regeneratorRuntime().wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:if(!worker.destroyed){_context17.next=2;break}throw new Error("Worker was destroyed");case 2:return pdfDataRangeTransport&&(source.length=pdfDataRangeTransport.length,source.initialData=pdfDataRangeTransport.initialData,source.progressiveDone=pdfDataRangeTransport.progressiveDone,source.contentDispositionFilename=pdfDataRangeTransport.contentDispositionFilename),_context17.next=5,worker.messageHandler.sendWithPromise("GetDocRequest",{docId:docId,apiVersion:"2.12.313",source:{data:source.data,url:source.url,password:source.password,disableAutoFetch:source.disableAutoFetch,rangeChunkSize:source.rangeChunkSize,length:source.length},maxImageSize:source.maxImageSize,disableFontFace:source.disableFontFace,docBaseUrl:source.docBaseUrl,ignoreErrors:source.ignoreErrors,isEvalSupported:source.isEvalSupported,fontExtraProperties:source.fontExtraProperties,enableXfa:source.enableXfa,useSystemFonts:source.useSystemFonts,cMapUrl:source.useWorkerFetch?source.cMapUrl:null,standardFontDataUrl:source.useWorkerFetch?source.standardFontDataUrl:null});case 5:if(workerId=_context17.sent,!worker.destroyed){_context17.next=8;break}throw new Error("Worker was destroyed");case 8:return _context17.abrupt("return",workerId);case 9:case"end":return _context17.stop()}}),_callee17)})))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function PDFDocumentLoadingTask(){_classCallCheck(this,PDFDocumentLoadingTask),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var _destroy;return _createClass(PDFDocumentLoadingTask,[{key:"promise",get:function get(){return this._capability.promise}},{key:"destroy",value:(_destroy=_asyncToGenerator(_regeneratorRuntime().mark((function _callee11(){var _this$_transport;return _regeneratorRuntime().wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return this.destroyed=!0,_context11.next=3,null===(_this$_transport=this._transport)||void 0===_this$_transport?void 0:_this$_transport.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return _context11.stop()}}),_callee11,this)}))),function destroy(){return _destroy.apply(this,arguments)})}],[{key:"idCounters",get:function get(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),PDFDocumentLoadingTask}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function PDFDataRangeTransport(length,initialData){var progressiveDone=arguments.length>2&&void 0!==arguments[2]&&arguments[2],contentDispositionFilename=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,PDFDataRangeTransport),this.length=length,this.initialData=initialData,this.progressiveDone=progressiveDone,this.contentDispositionFilename=contentDispositionFilename,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function addRangeListener(listener){this._rangeListeners.push(listener)}},{key:"addProgressListener",value:function addProgressListener(listener){this._progressListeners.push(listener)}},{key:"addProgressiveReadListener",value:function addProgressiveReadListener(listener){this._progressiveReadListeners.push(listener)}},{key:"addProgressiveDoneListener",value:function addProgressiveDoneListener(listener){this._progressiveDoneListeners.push(listener)}},{key:"onDataRange",value:function onDataRange(begin,chunk){var _step5,_iterator5=_createForOfIteratorHelper(this._rangeListeners);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){(0,_step5.value)(begin,chunk)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}},{key:"onDataProgress",value:function onDataProgress(loaded,total){var _this29=this;this._readyCapability.promise.then((function(){var _step6,_iterator6=_createForOfIteratorHelper(_this29._progressListeners);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){(0,_step6.value)(loaded,total)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}}))}},{key:"onDataProgressiveRead",value:function onDataProgressiveRead(chunk){var _this30=this;this._readyCapability.promise.then((function(){var _step7,_iterator7=_createForOfIteratorHelper(_this30._progressiveReadListeners);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){(0,_step7.value)(chunk)}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}}))}},{key:"onDataProgressiveDone",value:function onDataProgressiveDone(){var _this31=this;this._readyCapability.promise.then((function(){var _step8,_iterator8=_createForOfIteratorHelper(_this31._progressiveDoneListeners);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){(0,_step8.value)()}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}))}},{key:"transportReady",value:function transportReady(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function requestDataRange(begin,end){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function abort(){}}]),PDFDataRangeTransport}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function PDFDocumentProxy(pdfInfo,transport){var _value,_this32=this;_classCallCheck(this,PDFDocumentProxy),this._pdfInfo=pdfInfo,this._transport=transport,Object.defineProperty(this,"fingerprint",{get:function get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(_value=_asyncToGenerator(_regeneratorRuntime().mark((function _callee12(){return _regeneratorRuntime().wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),_context12.abrupt("return",_this32.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return _context12.stop()}}),_callee12)}))),function value(){return _value.apply(this,arguments)})})}return _createClass(PDFDocumentProxy,[{key:"annotationStorage",get:function get(){return this._transport.annotationStorage}},{key:"numPages",get:function get(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function get(){return this._pdfInfo.fingerprints}},{key:"stats",get:function get(){return this._transport.stats}},{key:"isPureXfa",get:function get(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function get(){return this._transport._htmlForXfa}},{key:"getPage",value:function getPage(pageNumber){return this._transport.getPage(pageNumber)}},{key:"getPageIndex",value:function getPageIndex(ref){return this._transport.getPageIndex(ref)}},{key:"getDestinations",value:function getDestinations(){return this._transport.getDestinations()}},{key:"getDestination",value:function getDestination(id){return this._transport.getDestination(id)}},{key:"getPageLabels",value:function getPageLabels(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function getPageLayout(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function getPageMode(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function getOpenAction(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function getAttachments(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function getJavaScript(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function getJSActions(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function getOutline(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function getPermissions(){return this._transport.getPermissions()}},{key:"getMetadata",value:function getMetadata(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function getMarkInfo(){return this._transport.getMarkInfo()}},{key:"getData",value:function getData(){return this._transport.getData()}},{key:"getDownloadInfo",value:function getDownloadInfo(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function cleanup(){var keepLoadedFonts=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(keepLoadedFonts||this.isPureXfa)}},{key:"destroy",value:function destroy(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function get(){return this._transport.loadingParams}},{key:"loadingTask",get:function get(){return this._transport.loadingTask}},{key:"saveDocument",value:function saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function getFieldObjects(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function hasJSActions(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}]),PDFDocumentProxy}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function PDFPageProxy(pageIndex,pageInfo,transport,ownerDocument){var pdfBug=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,PDFPageProxy),this._pageIndex=pageIndex,this._pageInfo=pageInfo,this._ownerDocument=ownerDocument,this._transport=transport,this._stats=pdfBug?new _display_utils.StatTimer:null,this._pdfBug=pdfBug,this.commonObjs=transport.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}var _getXfa;return _createClass(PDFPageProxy,[{key:"pageNumber",get:function get(){return this._pageIndex+1}},{key:"rotate",get:function get(){return this._pageInfo.rotate}},{key:"ref",get:function get(){return this._pageInfo.ref}},{key:"userUnit",get:function get(){return this._pageInfo.userUnit}},{key:"view",get:function get(){return this._pageInfo.view}},{key:"getViewport",value:function getViewport(){var _ref22=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},scale=_ref22.scale,_ref22$rotation=_ref22.rotation,rotation=void 0===_ref22$rotation?this.rotate:_ref22$rotation,_ref22$offsetX=_ref22.offsetX,offsetX=void 0===_ref22$offsetX?0:_ref22$offsetX,_ref22$offsetY=_ref22.offsetY,offsetY=void 0===_ref22$offsetY?0:_ref22$offsetY,_ref22$dontFlip=_ref22.dontFlip,dontFlip=void 0!==_ref22$dontFlip&&_ref22$dontFlip;return new _display_utils.PageViewport({viewBox:this.view,scale:scale,rotation:rotation,offsetX:offsetX,offsetY:offsetY,dontFlip:dontFlip})}},{key:"getAnnotations",value:function getAnnotations(){var _ref23=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref23$intent=_ref23.intent,intent=void 0===_ref23$intent?"display":_ref23$intent,intentArgs=this._transport.getRenderingIntent(intent),promise=this._annotationPromises.get(intentArgs.cacheKey);return promise||(promise=this._transport.getAnnotations(this._pageIndex,intentArgs.renderingIntent),this._annotationPromises.set(intentArgs.cacheKey,promise),promise=promise.then((function(annotations){var _step9,_loop=function _loop(annotation){void 0!==annotation.titleObj&&Object.defineProperty(annotation,"title",{get:function get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),annotation.titleObj.str}}),void 0!==annotation.contentsObj&&Object.defineProperty(annotation,"contents",{get:function get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),annotation.contentsObj.str}})},_iterator9=_createForOfIteratorHelper(annotations);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){_loop(_step9.value)}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}return annotations}))),promise}},{key:"getJSActions",value:function getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(_getXfa=_asyncToGenerator(_regeneratorRuntime().mark((function _callee13(){var _this$_transport$_htm;return _regeneratorRuntime().wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.abrupt("return",(null===(_this$_transport$_htm=this._transport._htmlForXfa)||void 0===_this$_transport$_htm?void 0:_this$_transport$_htm.children[this._pageIndex])||null);case 1:case"end":return _context13.stop()}}),_callee13,this)}))),function getXfa(){return _getXfa.apply(this,arguments)})},{key:"render",value:function render(_ref24){var _arguments$,_arguments$2,_intentState,_this33=this,canvasContext=_ref24.canvasContext,viewport=_ref24.viewport,_ref24$intent=_ref24.intent,intent=void 0===_ref24$intent?"display":_ref24$intent,_ref24$annotationMode=_ref24.annotationMode,annotationMode=void 0===_ref24$annotationMode?_util.AnnotationMode.ENABLE:_ref24$annotationMode,_ref24$transform=_ref24.transform,transform=void 0===_ref24$transform?null:_ref24$transform,_ref24$imageLayer=_ref24.imageLayer,imageLayer=void 0===_ref24$imageLayer?null:_ref24$imageLayer,_ref24$canvasFactory=_ref24.canvasFactory,canvasFactory=void 0===_ref24$canvasFactory?null:_ref24$canvasFactory,_ref24$background=_ref24.background,background=void 0===_ref24$background?null:_ref24$background,_ref24$optionalConten=_ref24.optionalContentConfigPromise,optionalContentConfigPromise=void 0===_ref24$optionalConten?null:_ref24$optionalConten,_ref24$annotationCanv=_ref24.annotationCanvasMap,annotationCanvasMap=void 0===_ref24$annotationCanv?null:_ref24$annotationCanv;void 0!==(null===(_arguments$=arguments[0])||void 0===_arguments$?void 0:_arguments$.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&annotationMode===_util.AnnotationMode.ENABLE&&(annotationMode=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(_arguments$2=arguments[0])||void 0===_arguments$2?void 0:_arguments$2.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&annotationMode===_util.AnnotationMode.ENABLE&&(annotationMode=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var intentArgs=this._transport.getRenderingIntent(intent,annotationMode);this.pendingCleanup=!1,optionalContentConfigPromise||(optionalContentConfigPromise=this._transport.getOptionalContentConfig());var intentState=this._intentStates.get(intentArgs.cacheKey);intentState||(intentState=Object.create(null),this._intentStates.set(intentArgs.cacheKey,intentState)),intentState.streamReaderCancelTimeout&&(clearTimeout(intentState.streamReaderCancelTimeout),intentState.streamReaderCancelTimeout=null);var canvasFactoryInstance=canvasFactory||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),intentPrint=!!(intentArgs.renderingIntent&_util.RenderingIntentFlag.PRINT);intentState.displayReadyCapability||(intentState.displayReadyCapability=(0,_util.createPromiseCapability)(),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(intentArgs));var complete=function complete(error){intentState.renderTasks.delete(internalRenderTask),(_this33.cleanupAfterRender||intentPrint)&&(_this33.pendingCleanup=!0),_this33._tryCleanup(),error?(internalRenderTask.capability.reject(error),_this33._abortOperatorList({intentState:intentState,reason:error instanceof Error?error:new Error(error)})):internalRenderTask.capability.resolve(),_this33._stats&&(_this33._stats.timeEnd("Rendering"),_this33._stats.timeEnd("Overall"))},internalRenderTask=new InternalRenderTask({callback:complete,params:{canvasContext:canvasContext,viewport:viewport,transform:transform,imageLayer:imageLayer,background:background},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:annotationCanvasMap,operatorList:intentState.operatorList,pageIndex:this._pageIndex,canvasFactory:canvasFactoryInstance,useRequestAnimationFrame:!intentPrint,pdfBug:this._pdfBug});((_intentState=intentState).renderTasks||(_intentState.renderTasks=new Set)).add(internalRenderTask);var renderTask=internalRenderTask.task;return Promise.all([intentState.displayReadyCapability.promise,optionalContentConfigPromise]).then((function(_ref25){var _ref26=_slicedToArray(_ref25,2),transparency=_ref26[0],optionalContentConfig=_ref26[1];_this33.pendingCleanup?complete():(_this33._stats&&_this33._stats.time("Rendering"),internalRenderTask.initializeGraphics({transparency:transparency,optionalContentConfig:optionalContentConfig}),internalRenderTask.operatorListChanged())})).catch(complete),renderTask}},{key:"getOperatorList",value:function getOperatorList(){var _ref27=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref27$intent=_ref27.intent,intent=void 0===_ref27$intent?"display":_ref27$intent,_ref27$annotationMode=_ref27.annotationMode,annotationMode=void 0===_ref27$annotationMode?_util.AnnotationMode.ENABLE:_ref27$annotationMode;function operatorListChanged(){intentState.operatorList.lastChunk&&(intentState.opListReadCapability.resolve(intentState.operatorList),intentState.renderTasks.delete(opListTask))}var opListTask,_intentState2,intentArgs=this._transport.getRenderingIntent(intent,annotationMode,!0),intentState=this._intentStates.get(intentArgs.cacheKey);(intentState||(intentState=Object.create(null),this._intentStates.set(intentArgs.cacheKey,intentState)),intentState.opListReadCapability)||((opListTask=Object.create(null)).operatorListChanged=operatorListChanged,intentState.opListReadCapability=(0,_util.createPromiseCapability)(),((_intentState2=intentState).renderTasks||(_intentState2.renderTasks=new Set)).add(opListTask),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(intentArgs));return intentState.opListReadCapability.promise}},{key:"streamTextContent",value:function streamTextContent(){var _ref28=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref28$normalizeWhite=_ref28.normalizeWhitespace,normalizeWhitespace=void 0!==_ref28$normalizeWhite&&_ref28$normalizeWhite,_ref28$disableCombine=_ref28.disableCombineTextItems,disableCombineTextItems=void 0!==_ref28$disableCombine&&_ref28$disableCombine,_ref28$includeMarkedC=_ref28.includeMarkedContent,includeMarkedContent=void 0!==_ref28$includeMarkedC&&_ref28$includeMarkedC,TEXT_CONTENT_CHUNK_SIZE=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===normalizeWhitespace,combineTextItems:!0!==disableCombineTextItems,includeMarkedContent:!0===includeMarkedContent},{highWaterMark:TEXT_CONTENT_CHUNK_SIZE,size:function size(textContent){return textContent.items.length}})}},{key:"getTextContent",value:function getTextContent(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(xfa){return _xfa_text.XfaText.textContent(xfa)}));var readableStream=this.streamTextContent(params);return new Promise((function(resolve,reject){var reader=readableStream.getReader(),textContent={items:[],styles:Object.create(null)};!function pump(){reader.read().then((function(_ref29){var _textContent$items,value=_ref29.value;_ref29.done?resolve(textContent):(Object.assign(textContent.styles,value.styles),(_textContent$items=textContent.items).push.apply(_textContent$items,_toConsumableArray(value.items)),pump())}),reject)}()}))}},{key:"getStructTree",value:function getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function _destroy(){this.destroyed=!0;var _step10,waitOn=[],_iterator10=_createForOfIteratorHelper(this._intentStates.values());try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var intentState=_step10.value;if(this._abortOperatorList({intentState:intentState,reason:new Error("Page was destroyed."),force:!0}),!intentState.opListReadCapability){var _step11,_iterator11=_createForOfIteratorHelper(intentState.renderTasks);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var internalRenderTask=_step11.value;waitOn.push(internalRenderTask.completed),internalRenderTask.cancel()}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}}}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(waitOn)}},{key:"cleanup",value:function cleanup(){var resetStats=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(resetStats)}},{key:"_tryCleanup",value:function _tryCleanup(){var resetStats=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var _step12,_iterator12=_createForOfIteratorHelper(this._intentStates.values());try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _ref30=_step12.value,renderTasks=_ref30.renderTasks,operatorList=_ref30.operatorList;if(renderTasks.size>0||!operatorList.lastChunk)return!1}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,resetStats&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function _startRenderPage(transparency,cacheKey){var intentState=this._intentStates.get(cacheKey);intentState&&(this._stats&&this._stats.timeEnd("Page Request"),intentState.displayReadyCapability&&intentState.displayReadyCapability.resolve(transparency))}},{key:"_renderPageChunk",value:function _renderPageChunk(operatorListChunk,intentState){for(var i=0,ii=operatorListChunk.length;i<ii;i++)intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]),intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);intentState.operatorList.lastChunk=operatorListChunk.lastChunk;var _step13,_iterator13=_createForOfIteratorHelper(intentState.renderTasks);try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){_step13.value.operatorListChanged()}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}operatorListChunk.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function _pumpOperatorList(_ref31){var _this34=this,renderingIntent=_ref31.renderingIntent,cacheKey=_ref31.cacheKey,reader=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:renderingIntent,cacheKey:cacheKey,annotationStorage:renderingIntent&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),intentState=this._intentStates.get(cacheKey);intentState.streamReader=reader;!function pump(){reader.read().then((function(_ref32){var value=_ref32.value;_ref32.done?intentState.streamReader=null:_this34._transport.destroyed||(_this34._renderPageChunk(value,intentState),pump())}),(function(reason){if(intentState.streamReader=null,!_this34._transport.destroyed){if(intentState.operatorList){intentState.operatorList.lastChunk=!0;var _step14,_iterator14=_createForOfIteratorHelper(intentState.renderTasks);try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){_step14.value.operatorListChanged()}}catch(err){_iterator14.e(err)}finally{_iterator14.f()}_this34._tryCleanup()}if(intentState.displayReadyCapability)intentState.displayReadyCapability.reject(reason);else{if(!intentState.opListReadCapability)throw reason;intentState.opListReadCapability.reject(reason)}}}))}()}},{key:"_abortOperatorList",value:function _abortOperatorList(_ref33){var _this35=this,intentState=_ref33.intentState,reason=_ref33.reason,_ref33$force=_ref33.force,force=void 0!==_ref33$force&&_ref33$force;if(intentState.streamReader){if(!force){if(intentState.renderTasks.size>0)return;if(reason instanceof _display_utils.RenderingCancelledException)return void(intentState.streamReaderCancelTimeout=setTimeout((function(){_this35._abortOperatorList({intentState:intentState,reason:reason,force:!0}),intentState.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(intentState.streamReader.cancel(new _util.AbortException(reason.message)).catch((function(){})),intentState.streamReader=null,!this._transport.destroyed){var _step15,_iterator15=_createForOfIteratorHelper(this._intentStates);try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _ref35=_slicedToArray(_step15.value,2),curCacheKey=_ref35[0];if(_ref35[1]===intentState){this._intentStates.delete(curCacheKey);break}}}catch(err){_iterator15.e(err)}finally{_iterator15.f()}this.cleanup()}}}},{key:"stats",get:function get(){return this._stats}}]),PDFPageProxy}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function LoopbackPort(){_classCallCheck(this,LoopbackPort),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(LoopbackPort,[{key:"postMessage",value:function postMessage(obj,transfers){var _this36=this;var event={data:function cloneValue(object){if(globalThis.structuredClone)return globalThis.structuredClone(object,transfers);var cloned=new WeakMap;return function fallbackCloneValue(value){if("function"==typeof value||"symbol"==typeof value||value instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: "+(null==value?void 0:value.toString()));if("object"!=typeof value||null===value)return value;if(cloned.has(value))return cloned.get(value);var buffer,result;if((buffer=value.buffer)&&(0,_util.isArrayBuffer)(buffer))return result=null!=transfers&&transfers.includes(buffer)?new value.constructor(buffer,value.byteOffset,value.byteLength):new value.constructor(value),cloned.set(value,result),result;if(value instanceof Map){result=new Map,cloned.set(value,result);var _step16,_iterator16=_createForOfIteratorHelper(value);try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _ref37=_slicedToArray(_step16.value,2),key=_ref37[0],val=_ref37[1];result.set(key,fallbackCloneValue(val))}}catch(err){_iterator16.e(err)}finally{_iterator16.f()}return result}if(value instanceof Set){result=new Set,cloned.set(value,result);var _step17,_iterator17=_createForOfIteratorHelper(value);try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _val=_step17.value;result.add(fallbackCloneValue(_val))}}catch(err){_iterator17.e(err)}finally{_iterator17.f()}return result}for(var i in result=Array.isArray(value)?[]:Object.create(null),cloned.set(value,result),value){for(var _value$hasOwnProperty,desc=void 0,p=value;!(desc=Object.getOwnPropertyDescriptor(p,i));)p=Object.getPrototypeOf(p);void 0!==desc.value&&(("function"!=typeof desc.value||null!==(_value$hasOwnProperty=value.hasOwnProperty)&&void 0!==_value$hasOwnProperty&&_value$hasOwnProperty.call(value,i))&&(result[i]=fallbackCloneValue(desc.value)))}return result}(object)}(obj)};this._deferred.then((function(){var _step18,_iterator18=_createForOfIteratorHelper(_this36._listeners);try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){_step18.value.call(_this36,event)}}catch(err){_iterator18.e(err)}finally{_iterator18.f()}}))}},{key:"addEventListener",value:function addEventListener(name,listener){this._listeners.push(listener)}},{key:"removeEventListener",value:function removeEventListener(name,listener){var i=this._listeners.indexOf(listener);this._listeners.splice(i,1)}},{key:"terminate",value:function terminate(){this._listeners.length=0}}]),LoopbackPort}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS&&"function"==typeof _buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.e)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(url){var wrapper='importScripts("'+url+'");';return URL.createObjectURL(new Blob([wrapper]))};var PDFWorker=function(){function PDFWorker(){var _ref38=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref38$name=_ref38.name,name=void 0===_ref38$name?null:_ref38$name,_ref38$port=_ref38.port,port=void 0===_ref38$port?null:_ref38$port,_ref38$verbosity=_ref38.verbosity,verbosity=void 0===_ref38$verbosity?(0,_util.getVerbosityLevel)():_ref38$verbosity;if(_classCallCheck(this,PDFWorker),port&&PDFWorker._workerPorts.has(port))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=name,this.destroyed=!1,this.verbosity=verbosity,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,port)return PDFWorker._workerPorts.set(port,this),void this._initializeFromPort(port);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function get(){return this._readyCapability.promise}},{key:"port",get:function get(){return this._port}},{key:"messageHandler",get:function get(){return this._messageHandler}},{key:"_initializeFromPort",value:function _initializeFromPort(port){this._port=port,this._messageHandler=new _message_handler.MessageHandler("main","worker",port),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function _initialize(){var _this37=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var workerSrc=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,workerSrc)||(workerSrc=PDFWorkerUtil.createCDNWrapper(new URL(workerSrc,window.location).href));var worker=new Worker(workerSrc),messageHandler=new _message_handler.MessageHandler("main","worker",worker),terminateEarly=function terminateEarly(){worker.removeEventListener("error",onWorkerError),messageHandler.destroy(),worker.terminate(),_this37.destroyed?_this37._readyCapability.reject(new Error("Worker was destroyed")):_this37._setupFakeWorker()},onWorkerError=function onWorkerError(){_this37._webWorker||terminateEarly()};worker.addEventListener("error",onWorkerError),messageHandler.on("test",(function(data){worker.removeEventListener("error",onWorkerError),_this37.destroyed?terminateEarly():data?(_this37._messageHandler=messageHandler,_this37._port=worker,_this37._webWorker=worker,_this37._readyCapability.resolve(),messageHandler.send("configure",{verbosity:_this37.verbosity})):(_this37._setupFakeWorker(),messageHandler.destroy(),worker.terminate())})),messageHandler.on("ready",(function(data){if(worker.removeEventListener("error",onWorkerError),_this37.destroyed)terminateEarly();else try{sendTest()}catch(e){_this37._setupFakeWorker()}}));var sendTest=function sendTest(){var testObj=new Uint8Array([255]);try{messageHandler.send("test",testObj,[testObj.buffer])}catch(ex){(0,_util.warn)("Cannot use postMessage transfers."),testObj[0]=0,messageHandler.send("test",testObj)}};return void sendTest()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function _setupFakeWorker(){var _this38=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((function(WorkerMessageHandler){if(_this38.destroyed)_this38._readyCapability.reject(new Error("Worker was destroyed"));else{var port=new LoopbackPort;_this38._port=port;var id="fake"+PDFWorkerUtil.fakeWorkerId++,workerHandler=new _message_handler.MessageHandler(id+"_worker",id,port);WorkerMessageHandler.setup(workerHandler,port);var messageHandler=new _message_handler.MessageHandler(id,id+"_worker",port);_this38._messageHandler=messageHandler,_this38._readyCapability.resolve(),messageHandler.send("configure",{verbosity:_this38.verbosity})}})).catch((function(reason){_this38._readyCapability.reject(new Error('Setting up fake worker failed: "'+reason.message+'".'))}))}},{key:"destroy",value:function destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function get(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function fromPort(params){if(null==params||!params.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(params.port)?this._workerPorts.get(params.port):new PDFWorker(params)}},{key:"workerSrc",get:function get(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function get(){try{var _globalThis$pdfjsWork;return(null===(_globalThis$pdfjsWork=globalThis.pdfjsWorker)||void 0===_globalThis$pdfjsWork?void 0:_globalThis$pdfjsWork.WorkerMessageHandler)||null}catch(ex){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this39=this,loader=function(){var _ref39=_asyncToGenerator(_regeneratorRuntime().mark((function _callee14(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime().wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:if(mainWorkerMessageHandler=_this39._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context14.next=3;break}return _context14.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS||"function"!=typeof _buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.e){_context14.next=6;break}return worker=eval("require")(_this39.workerSrc),_context14.abrupt("return",worker.WorkerMessageHandler);case 6:return _context14.next=8,(0,_display_utils.loadScript)(_this39.workerSrc);case 8:return _context14.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context14.stop()}}),_callee14)})));return function loader(){return _ref39.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=_classPrivateFieldLooseKey("docStats"),_pageCache=_classPrivateFieldLooseKey("pageCache"),_pagePromises=_classPrivateFieldLooseKey("pagePromises"),_metadataPromise=_classPrivateFieldLooseKey("metadataPromise"),WorkerTransport=function(){function WorkerTransport(messageHandler,loadingTask,networkStream,params){_classCallCheck(this,WorkerTransport),Object.defineProperty(this,_docStats,{writable:!0,value:null}),Object.defineProperty(this,_pageCache,{writable:!0,value:new Map}),Object.defineProperty(this,_pagePromises,{writable:!0,value:new Map}),Object.defineProperty(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=messageHandler,this.loadingTask=loadingTask,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:loadingTask.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:params.ownerDocument,styleElement:params.styleElement}),this._params=params,params.useWorkerFetch||(this.CMapReaderFactory=new params.CMapReaderFactory({baseUrl:params.cMapUrl,isCompressed:params.cMapPacked}),this.StandardFontDataFactory=new params.StandardFontDataFactory({baseUrl:params.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=networkStream,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var _startCleanup;return _createClass(WorkerTransport,[{key:"annotationStorage",get:function get(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function get(){return _classPrivateFieldLooseBase(this,_docStats)[_docStats]}},{key:"getRenderingIntent",value:function getRenderingIntent(intent){var annotationMode=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,isOpList=arguments.length>2&&void 0!==arguments[2]&&arguments[2],renderingIntent=_util.RenderingIntentFlag.DISPLAY,lastModified="";switch(intent){case"any":renderingIntent=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":renderingIntent=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: "+intent)}switch(annotationMode){case _util.AnnotationMode.DISABLE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,lastModified=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: "+annotationMode)}return isOpList&&(renderingIntent+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:renderingIntent,cacheKey:renderingIntent+"_"+lastModified}}},{key:"destroy",value:function destroy(){var _this40=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var _step19,waitOn=[],_iterator19=_createForOfIteratorHelper(_classPrivateFieldLooseBase(this,_pageCache)[_pageCache].values());try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var page=_step19.value;waitOn.push(page._destroy())}}catch(err){_iterator19.e(err)}finally{_iterator19.f()}_classPrivateFieldLooseBase(this,_pageCache)[_pageCache].clear(),_classPrivateFieldLooseBase(this,_pagePromises)[_pagePromises].clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var terminated=this.messageHandler.sendWithPromise("Terminate",null);return waitOn.push(terminated),Promise.all(waitOn).then((function(){_this40.commonObjs.clear(),_this40.fontLoader.clear(),_classPrivateFieldLooseBase(_this40,_metadataPromise)[_metadataPromise]=null,_this40._getFieldObjectsPromise=null,_this40._hasJSActionsPromise=null,_this40._networkStream&&_this40._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),_this40.messageHandler&&(_this40.messageHandler.destroy(),_this40.messageHandler=null),_this40.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function setupMessageHandler(){var _this41=this,messageHandler=this.messageHandler,loadingTask=this.loadingTask;messageHandler.on("GetReader",(function(data,sink){(0,_util.assert)(_this41._networkStream,"GetReader - no `IPDFStream` instance available."),_this41._fullReader=_this41._networkStream.getFullReader(),_this41._fullReader.onProgress=function(evt){_this41._lastProgress={loaded:evt.loaded,total:evt.total}},sink.onPull=function(){_this41._fullReader.read().then((function(_ref40){var value=_ref40.value;_ref40.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value),"GetReader - expected an ArrayBuffer."),sink.enqueue(new Uint8Array(value),1,[value]))})).catch((function(reason){sink.error(reason)}))},sink.onCancel=function(reason){_this41._fullReader.cancel(reason),sink.ready.catch((function(readyReason){if(!_this41.destroyed)throw readyReason}))}})),messageHandler.on("ReaderHeadersReady",(function(data){var headersCapability=(0,_util.createPromiseCapability)(),fullReader=_this41._fullReader;return fullReader.headersReady.then((function(){if(!fullReader.isStreamingSupported||!fullReader.isRangeSupported){var _loadingTask$onProgre;if(_this41._lastProgress)null===(_loadingTask$onProgre=loadingTask.onProgress)||void 0===_loadingTask$onProgre||_loadingTask$onProgre.call(loadingTask,_this41._lastProgress);fullReader.onProgress=function(evt){var _loadingTask$onProgre2;null===(_loadingTask$onProgre2=loadingTask.onProgress)||void 0===_loadingTask$onProgre2||_loadingTask$onProgre2.call(loadingTask,{loaded:evt.loaded,total:evt.total})}}headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength})}),headersCapability.reject),headersCapability.promise})),messageHandler.on("GetRangeReader",(function(data,sink){(0,_util.assert)(_this41._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var rangeReader=_this41._networkStream.getRangeReader(data.begin,data.end);rangeReader?(sink.onPull=function(){rangeReader.read().then((function(_ref41){var value=_ref41.value;_ref41.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value),"GetRangeReader - expected an ArrayBuffer."),sink.enqueue(new Uint8Array(value),1,[value]))})).catch((function(reason){sink.error(reason)}))},sink.onCancel=function(reason){rangeReader.cancel(reason),sink.ready.catch((function(readyReason){if(!_this41.destroyed)throw readyReason}))}):sink.close()})),messageHandler.on("GetDoc",(function(_ref42){var pdfInfo=_ref42.pdfInfo;_this41._numPages=pdfInfo.numPages,_this41._htmlForXfa=pdfInfo.htmlForXfa,delete pdfInfo.htmlForXfa,loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo,_this41))})),messageHandler.on("DocException",(function(ex){var reason;switch(ex.name){case"PasswordException":reason=new _util.PasswordException(ex.message,ex.code);break;case"InvalidPDFException":reason=new _util.InvalidPDFException(ex.message);break;case"MissingPDFException":reason=new _util.MissingPDFException(ex.message);break;case"UnexpectedResponseException":reason=new _util.UnexpectedResponseException(ex.message,ex.status);break;case"UnknownErrorException":reason=new _util.UnknownErrorException(ex.message,ex.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}loadingTask._capability.reject(reason)})),messageHandler.on("PasswordRequest",(function(exception){if(_this41._passwordCapability=(0,_util.createPromiseCapability)(),loadingTask.onPassword){try{loadingTask.onPassword((function updatePassword(password){_this41._passwordCapability.resolve({password:password})}),exception.code)}catch(ex){_this41._passwordCapability.reject(ex)}}else _this41._passwordCapability.reject(new _util.PasswordException(exception.message,exception.code));return _this41._passwordCapability.promise})),messageHandler.on("DataLoaded",(function(data){var _loadingTask$onProgre3;null===(_loadingTask$onProgre3=loadingTask.onProgress)||void 0===_loadingTask$onProgre3||_loadingTask$onProgre3.call(loadingTask,{loaded:data.length,total:data.length}),_this41.downloadInfoCapability.resolve(data)})),messageHandler.on("StartRenderPage",(function(data){_this41.destroyed||_classPrivateFieldLooseBase(_this41,_pageCache)[_pageCache].get(data.pageIndex)._startRenderPage(data.transparency,data.cacheKey)})),messageHandler.on("commonobj",(function(_ref43){var _globalThis$FontInspe,_ref44=_slicedToArray(_ref43,3),id=_ref44[0],type=_ref44[1],exportedData=_ref44[2];if(!_this41.destroyed&&!_this41.commonObjs.has(id))switch(type){case"Font":var params=_this41._params;if("error"in exportedData){var exportedError=exportedData.error;(0,_util.warn)("Error during font loading: "+exportedError),_this41.commonObjs.resolve(id,exportedError);break}var fontRegistry=null;params.pdfBug&&null!==(_globalThis$FontInspe=globalThis.FontInspector)&&void 0!==_globalThis$FontInspe&&_globalThis$FontInspe.enabled&&(fontRegistry={registerFont:function registerFont(font,url){globalThis.FontInspector.fontAdded(font,url)}});var font=new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,onUnsupportedFeature:_this41._onUnsupportedFeature.bind(_this41),fontRegistry:fontRegistry});_this41.fontLoader.bind(font).catch((function(reason){return messageHandler.sendWithPromise("FontFallback",{id:id})})).finally((function(){!params.fontExtraProperties&&font.data&&(font.data=null),_this41.commonObjs.resolve(id,font)}));break;case"FontPath":case"Image":_this41.commonObjs.resolve(id,exportedData);break;default:throw new Error("Got unknown common object type "+type)}})),messageHandler.on("obj",(function(_ref45){var _imageData$data,_ref46=_slicedToArray(_ref45,4),id=_ref46[0],pageIndex=_ref46[1],type=_ref46[2],imageData=_ref46[3];if(!_this41.destroyed){var pageProxy=_classPrivateFieldLooseBase(_this41,_pageCache)[_pageCache].get(pageIndex);if(!pageProxy.objs.has(id))switch(type){case"Image":pageProxy.objs.resolve(id,imageData);(null==imageData||null===(_imageData$data=imageData.data)||void 0===_imageData$data?void 0:_imageData$data.length)>8e6&&(pageProxy.cleanupAfterRender=!0);break;case"Pattern":pageProxy.objs.resolve(id,imageData);break;default:throw new Error("Got unknown object type "+type)}}})),messageHandler.on("DocProgress",(function(data){var _loadingTask$onProgre4;_this41.destroyed||null===(_loadingTask$onProgre4=loadingTask.onProgress)||void 0===_loadingTask$onProgre4||_loadingTask$onProgre4.call(loadingTask,{loaded:data.loaded,total:data.total})})),messageHandler.on("DocStats",(function(data){_this41.destroyed||(_classPrivateFieldLooseBase(_this41,_docStats)[_docStats]=Object.freeze({streamTypes:Object.freeze(data.streamTypes),fontTypes:Object.freeze(data.fontTypes)}))})),messageHandler.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),messageHandler.on("FetchBuiltInCMap",(function(data){return _this41.destroyed?Promise.reject(new Error("Worker was destroyed.")):_this41.CMapReaderFactory?_this41.CMapReaderFactory.fetch(data):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),messageHandler.on("FetchStandardFontData",(function(data){return _this41.destroyed?Promise.reject(new Error("Worker was destroyed.")):_this41.StandardFontDataFactory?_this41.StandardFontDataFactory.fetch(data):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"_onUnsupportedFeature",value:function _onUnsupportedFeature(_ref47){var _this$loadingTask$onU,_this$loadingTask,featureId=_ref47.featureId;this.destroyed||null===(_this$loadingTask$onU=(_this$loadingTask=this.loadingTask).onUnsupportedFeature)||void 0===_this$loadingTask$onU||_this$loadingTask$onU.call(_this$loadingTask,featureId)}},{key:"getData",value:function getData(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function getPage(pageNumber){var _this42=this;if(!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this._numPages)return Promise.reject(new Error("Invalid page request"));var pageIndex=pageNumber-1,cachedPromise=_classPrivateFieldLooseBase(this,_pagePromises)[_pagePromises].get(pageIndex);if(cachedPromise)return cachedPromise;var promise=this.messageHandler.sendWithPromise("GetPage",{pageIndex:pageIndex}).then((function(pageInfo){if(_this42.destroyed)throw new Error("Transport destroyed");var page=new PDFPageProxy(pageIndex,pageInfo,_this42,_this42._params.ownerDocument,_this42._params.pdfBug);return _classPrivateFieldLooseBase(_this42,_pageCache)[_pageCache].set(pageIndex,page),page}));return _classPrivateFieldLooseBase(this,_pagePromises)[_pagePromises].set(pageIndex,promise),promise}},{key:"getPageIndex",value:function getPageIndex(ref){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:ref})}},{key:"getAnnotations",value:function getAnnotations(pageIndex,intent){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:pageIndex,intent:intent})}},{key:"saveDocument",value:function saveDocument(){var _this$_fullReader$fil,_this$_fullReader,_this43=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(_this$_fullReader$fil=null===(_this$_fullReader=this._fullReader)||void 0===_this$_fullReader?void 0:_this$_fullReader.filename)&&void 0!==_this$_fullReader$fil?_this$_fullReader$fil:null}).finally((function(){_this43.annotationStorage.resetModified()}))}},{key:"getFieldObjects",value:function getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function getDestination(id){return"string"!=typeof id?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:id})}},{key:"getPageLabels",value:function getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function getPageJSActions(pageIndex){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:pageIndex})}},{key:"getStructTree",value:function getStructTree(pageIndex){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:pageIndex})}},{key:"getOutline",value:function getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(results){return new _optional_content_config.OptionalContentConfig(results)}))}},{key:"getPermissions",value:function getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function getMetadata(){var _classPrivateFieldLoo,_this44=this;return(_classPrivateFieldLoo=_classPrivateFieldLooseBase(this,_metadataPromise))[_metadataPromise]||(_classPrivateFieldLoo[_metadataPromise]=this.messageHandler.sendWithPromise("GetMetadata",null).then((function(results){var _this44$_fullReader$f,_this44$_fullReader,_this44$_fullReader$c,_this44$_fullReader2;return{info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:null!==(_this44$_fullReader$f=null===(_this44$_fullReader=_this44._fullReader)||void 0===_this44$_fullReader?void 0:_this44$_fullReader.filename)&&void 0!==_this44$_fullReader$f?_this44$_fullReader$f:null,contentLength:null!==(_this44$_fullReader$c=null===(_this44$_fullReader2=_this44._fullReader)||void 0===_this44$_fullReader2?void 0:_this44$_fullReader2.contentLength)&&void 0!==_this44$_fullReader$c?_this44$_fullReader$c:null}})))}},{key:"getMarkInfo",value:function getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(_startCleanup=_asyncToGenerator(_regeneratorRuntime().mark((function _callee15(){var keepLoadedFonts,_iterator20,_step20,page,_args14=arguments;return _regeneratorRuntime().wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return keepLoadedFonts=_args14.length>0&&void 0!==_args14[0]&&_args14[0],_context15.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){_context15.next=5;break}return _context15.abrupt("return");case 5:_iterator20=_createForOfIteratorHelper(_classPrivateFieldLooseBase(this,_pageCache)[_pageCache].values()),_context15.prev=6,_iterator20.s();case 8:if((_step20=_iterator20.n()).done){_context15.next=15;break}if((page=_step20.value).cleanup()){_context15.next=13;break}throw new Error("startCleanup: Page "+page.pageNumber+" is currently rendering.");case 13:_context15.next=8;break;case 15:_context15.next=20;break;case 17:_context15.prev=17,_context15.t0=_context15.catch(6),_iterator20.e(_context15.t0);case 20:return _context15.prev=20,_iterator20.f(),_context15.finish(20);case 23:this.commonObjs.clear(),keepLoadedFonts||this.fontLoader.clear(),_classPrivateFieldLooseBase(this,_metadataPromise)[_metadataPromise]=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return _context15.stop()}}),_callee15,this,[[6,17,20,23]])}))),function startCleanup(){return _startCleanup.apply(this,arguments)})},{key:"loadingParams",get:function get(){var params=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:params.disableAutoFetch,enableXfa:params.enableXfa})}}]),WorkerTransport}(),PDFObjects=function(){function PDFObjects(){_classCallCheck(this,PDFObjects),this._objs=Object.create(null)}return _createClass(PDFObjects,[{key:"_ensureObj",value:function _ensureObj(objId){return this._objs[objId]?this._objs[objId]:this._objs[objId]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function get(objId){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(callback)return this._ensureObj(objId).capability.promise.then(callback),null;var obj=this._objs[objId];if(!obj||!obj.resolved)throw new Error("Requesting object that isn't resolved yet "+objId+".");return obj.data}},{key:"has",value:function has(objId){var obj=this._objs[objId];return(null==obj?void 0:obj.resolved)||!1}},{key:"resolve",value:function resolve(objId,data){var obj=this._ensureObj(objId);obj.resolved=!0,obj.data=data,obj.capability.resolve(data)}},{key:"clear",value:function clear(){this._objs=Object.create(null)}}]),PDFObjects}(),RenderTask=function(){function RenderTask(internalRenderTask){_classCallCheck(this,RenderTask),this._internalRenderTask=internalRenderTask,this.onContinue=null}return _createClass(RenderTask,[{key:"promise",get:function get(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function cancel(){this._internalRenderTask.cancel()}}]),RenderTask}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function InternalRenderTask(_ref48){var callback=_ref48.callback,params=_ref48.params,objs=_ref48.objs,commonObjs=_ref48.commonObjs,annotationCanvasMap=_ref48.annotationCanvasMap,operatorList=_ref48.operatorList,pageIndex=_ref48.pageIndex,canvasFactory=_ref48.canvasFactory,_ref48$useRequestAnim=_ref48.useRequestAnimationFrame,useRequestAnimationFrame=void 0!==_ref48$useRequestAnim&&_ref48$useRequestAnim,_ref48$pdfBug=_ref48.pdfBug,pdfBug=void 0!==_ref48$pdfBug&&_ref48$pdfBug;_classCallCheck(this,InternalRenderTask),this.callback=callback,this.params=params,this.objs=objs,this.commonObjs=commonObjs,this.annotationCanvasMap=annotationCanvasMap,this.operatorListIdx=null,this.operatorList=operatorList,this._pageIndex=pageIndex,this.canvasFactory=canvasFactory,this._pdfBug=pdfBug,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===useRequestAnimationFrame&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=params.canvasContext.canvas}var _next2;return _createClass(InternalRenderTask,[{key:"completed",get:function get(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function initializeGraphics(_ref49){var _globalThis$StepperMa,_ref49$transparency=_ref49.transparency,transparency=void 0!==_ref49$transparency&&_ref49$transparency,optionalContentConfig=_ref49.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(_globalThis$StepperMa=globalThis.StepperManager)&&void 0!==_globalThis$StepperMa&&_globalThis$StepperMa.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var _this$params=this.params,canvasContext=_this$params.canvasContext,viewport=_this$params.viewport,transform=_this$params.transform,imageLayer=_this$params.imageLayer,background=_this$params.background;this.gfx=new _canvas.CanvasGraphics(canvasContext,this.commonObjs,this.objs,this.canvasFactory,imageLayer,optionalContentConfig,this.annotationCanvasMap),this.gfx.beginDrawing({transform:transform,viewport:viewport,transparency:transparency,background:background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function cancel(){var error=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(error||new _display_utils.RenderingCancelledException("Rendering cancelled, page "+(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function _continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function _scheduleNext(){var _this45=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){_this45._nextBound().catch(_this45._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(_next2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee16(){return _regeneratorRuntime().wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:if(!this.cancelled){_context16.next=2;break}return _context16.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return _context16.stop()}}),_callee16,this)}))),function _next(){return _next2.apply(this,arguments)})}],[{key:"canvasInUse",get:function get(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),InternalRenderTask}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontLoader=exports.FontFaceObject=void 0;var FontLoader,_util=__w_pdfjs_require__(2),BaseFontLoader=function(){function BaseFontLoader(_ref50){var docId=_ref50.docId,onUnsupportedFeature=_ref50.onUnsupportedFeature,_ref50$ownerDocument=_ref50.ownerDocument,ownerDocument=void 0===_ref50$ownerDocument?globalThis.document:_ref50$ownerDocument;_ref50.styleElement;_classCallCheck(this,BaseFontLoader),this.constructor===BaseFontLoader&&(0,_util.unreachable)("Cannot initialize BaseFontLoader."),this.docId=docId,this._onUnsupportedFeature=onUnsupportedFeature,this._document=ownerDocument,this.nativeFontFaces=[],this.styleElement=null}var _bind;return _createClass(BaseFontLoader,[{key:"addNativeFontFace",value:function addNativeFontFace(nativeFontFace){this.nativeFontFaces.push(nativeFontFace),this._document.fonts.add(nativeFontFace)}},{key:"insertRule",value:function insertRule(rule){var styleElement=this.styleElement;styleElement||((styleElement=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,this._document.documentElement.getElementsByTagName("head")[0].appendChild(styleElement));var styleSheet=styleElement.sheet;styleSheet.insertRule(rule,styleSheet.cssRules.length)}},{key:"clear",value:function clear(){var _step21,_iterator21=_createForOfIteratorHelper(this.nativeFontFaces);try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var nativeFontFace=_step21.value;this._document.fonts.delete(nativeFontFace)}}catch(err){_iterator21.e(err)}finally{_iterator21.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(_bind=_asyncToGenerator(_regeneratorRuntime().mark((function _callee18(font){var nativeFontFace,rule,_this46=this;return _regeneratorRuntime().wrap((function _callee18$(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:if(!font.attached&&!font.missingFile){_context18.next=2;break}return _context18.abrupt("return");case 2:if(font.attached=!0,!this.isFontLoadingAPISupported){_context18.next=19;break}if(!(nativeFontFace=font.createNativeFontFace())){_context18.next=18;break}return this.addNativeFontFace(nativeFontFace),_context18.prev=7,_context18.next=10,nativeFontFace.loaded;case 10:_context18.next=18;break;case 12:throw _context18.prev=12,_context18.t0=_context18.catch(7),this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_util.warn)("Failed to load font '"+nativeFontFace.family+"': '"+_context18.t0+"'."),font.disableFontFace=!0,_context18.t0;case 18:return _context18.abrupt("return");case 19:if(!(rule=font.createFontFaceRule())){_context18.next=26;break}if(this.insertRule(rule),!this.isSyncFontLoadingSupported){_context18.next=24;break}return _context18.abrupt("return");case 24:return _context18.next=26,new Promise((function(resolve){var request=_this46._queueLoadingCallback(resolve);_this46._prepareFontLoadEvent([rule],[font],request)}));case 26:case"end":return _context18.stop()}}),_callee18,this,[[7,12]])}))),function bind(_x8){return _bind.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function _queueLoadingCallback(callback){(0,_util.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function get(){var _this$_document,hasFonts=!(null===(_this$_document=this._document)||void 0===_this$_document||!_this$_document.fonts);return(0,_util.shadow)(this,"isFontLoadingAPISupported",hasFonts)}},{key:"isSyncFontLoadingSupported",get:function get(){(0,_util.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function get(){(0,_util.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(rules,fontsToLoad,request){(0,_util.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),BaseFontLoader}();exports.FontLoader=FontLoader,exports.FontLoader=FontLoader=function(_BaseFontLoader){_inherits(GenericFontLoader,_BaseFontLoader);var _super16=_createSuper(GenericFontLoader);function GenericFontLoader(params){var _this47;return _classCallCheck(this,GenericFontLoader),(_this47=_super16.call(this,params)).loadingContext={requests:[],nextRequestId:0},_this47.loadTestFontId=0,_this47}return _createClass(GenericFontLoader,[{key:"isSyncFontLoadingSupported",get:function get(){var supported=!1;if("undefined"==typeof navigator)supported=!0;else{var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==m?void 0:m[1])>=14&&(supported=!0)}return(0,_util.shadow)(this,"isSyncFontLoadingSupported",supported)}},{key:"_queueLoadingCallback",value:function _queueLoadingCallback(callback){var context=this.loadingContext,request={id:"pdfjs-font-loading-"+context.nextRequestId++,done:!1,complete:function completeRequest(){for((0,_util.assert)(!request.done,"completeRequest() cannot be called twice."),request.done=!0;context.requests.length>0&&context.requests[0].done;){var otherRequest=context.requests.shift();setTimeout(otherRequest.callback,0)}},callback:callback};return context.requests.push(request),request}},{key:"_loadTestFont",get:function get(){return(0,_util.shadow)(this,"_loadTestFont",function getLoadTestFont(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")}())}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(rules,fonts,request){function int32(data,offset){return data.charCodeAt(offset)<<24|data.charCodeAt(offset+1)<<16|data.charCodeAt(offset+2)<<8|255&data.charCodeAt(offset+3)}function spliceString(s,offset,remove,insert){return s.substring(0,offset)+insert+s.substring(offset+remove)}var i,ii,canvas=this._document.createElement("canvas");canvas.width=1,canvas.height=1;var ctx=canvas.getContext("2d"),called=0;var loadTestFontId="lt"+Date.now()+this.loadTestFontId++,data=this._loadTestFont,checksum=int32(data=spliceString(data,976,loadTestFontId.length,loadTestFontId),16);for(i=0,ii=loadTestFontId.length-3;i<ii;i+=4)checksum=checksum-1482184792+int32(loadTestFontId,i)|0;i<loadTestFontId.length&&(checksum=checksum-1482184792+int32(loadTestFontId+"XXX",i)|0),data=spliceString(data,16,4,(0,_util.string32)(checksum));var rule='@font-face {font-family:"'+loadTestFontId+'";src:'+("url(data:font/opentype;base64,"+btoa(data)+");")+"}";this.insertRule(rule);var _step22,names=[],_iterator22=_createForOfIteratorHelper(fonts);try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var font=_step22.value;names.push(font.loadedName)}}catch(err){_iterator22.e(err)}finally{_iterator22.f()}names.push(loadTestFontId);var div=this._document.createElement("div");div.style.visibility="hidden",div.style.width=div.style.height="10px",div.style.position="absolute",div.style.top=div.style.left="0px";for(var _i5=0,_names=names;_i5<_names.length;_i5++){var name=_names[_i5],span=this._document.createElement("span");span.textContent="Hi",span.style.fontFamily=name,div.appendChild(span)}this._document.body.appendChild(div),function isFontReady(name,callback){if(++called>30)return(0,_util.warn)("Load test font never loaded."),void callback();ctx.font="30px "+name,ctx.fillText(".",0,20),ctx.getImageData(0,0,1,1).data[3]>0?callback():setTimeout(isFontReady.bind(null,name,callback))}(loadTestFontId,(function(){div.remove(),request.complete()}))}}]),GenericFontLoader}(BaseFontLoader);var FontFaceObject=function(){function FontFaceObject(translatedData,_ref51){var _ref51$isEvalSupporte=_ref51.isEvalSupported,isEvalSupported=void 0===_ref51$isEvalSupporte||_ref51$isEvalSupporte,_ref51$disableFontFac=_ref51.disableFontFace,disableFontFace=void 0!==_ref51$disableFontFac&&_ref51$disableFontFac,_ref51$ignoreErrors=_ref51.ignoreErrors,ignoreErrors=void 0!==_ref51$ignoreErrors&&_ref51$ignoreErrors,onUnsupportedFeature=_ref51.onUnsupportedFeature,_ref51$fontRegistry=_ref51.fontRegistry,fontRegistry=void 0===_ref51$fontRegistry?null:_ref51$fontRegistry;for(var i in _classCallCheck(this,FontFaceObject),this.compiledGlyphs=Object.create(null),translatedData)this[i]=translatedData[i];this.isEvalSupported=!1!==isEvalSupported,this.disableFontFace=!0===disableFontFace,this.ignoreErrors=!0===ignoreErrors,this._onUnsupportedFeature=onUnsupportedFeature,this.fontRegistry=fontRegistry}return _createClass(FontFaceObject,[{key:"createNativeFontFace",value:function createNativeFontFace(){if(!this.data||this.disableFontFace)return null;var nativeFontFace;if(this.cssFontInfo){var css={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(css.style="oblique "+this.cssFontInfo.italicAngle+"deg"),nativeFontFace=new FontFace(this.cssFontInfo.fontFamily,this.data,css)}else nativeFontFace=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),nativeFontFace}},{key:"createFontFaceRule",value:function createFontFaceRule(){if(!this.data||this.disableFontFace)return null;var rule,data=(0,_util.bytesToString)(this.data),url="url(data:"+this.mimetype+";base64,"+btoa(data)+");";if(this.cssFontInfo){var css="font-weight: "+this.cssFontInfo.fontWeight+";";this.cssFontInfo.italicAngle&&(css+="font-style: oblique "+this.cssFontInfo.italicAngle+"deg;"),rule='@font-face {font-family:"'+this.cssFontInfo.fontFamily+'";'+css+"src:"+url+"}"}else rule='@font-face {font-family:"'+this.loadedName+'";src:'+url+"}";return this.fontRegistry&&this.fontRegistry.registerFont(this,url),rule}},{key:"getPathGenerator",value:function getPathGenerator(objs,character){if(void 0!==this.compiledGlyphs[character])return this.compiledGlyphs[character];var cmds;try{cmds=objs.get(this.loadedName+"_path_"+character)}catch(ex){if(!this.ignoreErrors)throw ex;return this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_util.warn)('getPathGenerator - ignoring character: "'+ex+'".'),this.compiledGlyphs[character]=function(c,size){}}if(this.isEvalSupported&&_util.IsEvalSupportedCached.value){var _step23,jsBuf=[],_iterator23=_createForOfIteratorHelper(cmds);try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var current=_step23.value,args=void 0!==current.args?current.args.join(","):"";jsBuf.push("c.",current.cmd,"(",args,");\n")}}catch(err){_iterator23.e(err)}finally{_iterator23.f()}return this.compiledGlyphs[character]=new Function("c","size",jsBuf.join(""))}return this.compiledGlyphs[character]=function(c,size){var _step24,_iterator24=_createForOfIteratorHelper(cmds);try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _current=_step24.value;"scale"===_current.cmd&&(_current.args=[size,-size]),c[_current.cmd].apply(c,_current.args)}}catch(err){_iterator24.e(err)}finally{_iterator24.f()}}}}]),FontFaceObject}();exports.FontFaceObject=FontFaceObject},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeStandardFontDataFactory=exports.NodeCanvasFactory=exports.NodeCMapReaderFactory=void 0;var _base_factory=__w_pdfjs_require__(5),_is_node=__w_pdfjs_require__(4),_util=__w_pdfjs_require__(2),NodeCanvasFactory=_createClass((function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory),(0,_util.unreachable)("Not implemented: NodeCanvasFactory")}));exports.NodeCanvasFactory=NodeCanvasFactory;var NodeCMapReaderFactory=_createClass((function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory),(0,_util.unreachable)("Not implemented: NodeCMapReaderFactory")}));exports.NodeCMapReaderFactory=NodeCMapReaderFactory;var NodeStandardFontDataFactory=_createClass((function NodeStandardFontDataFactory(){_classCallCheck(this,NodeStandardFontDataFactory),(0,_util.unreachable)("Not implemented: NodeStandardFontDataFactory")}));if(exports.NodeStandardFontDataFactory=NodeStandardFontDataFactory,_is_node.isNodeJS){var fetchData=function fetchData(url){return new Promise((function(resolve,reject){require$$5.readFile(url,(function(error,data){!error&&data?resolve(new Uint8Array(data)):reject(new Error(error))}))}))};exports.NodeCanvasFactory=NodeCanvasFactory=function(_base_factory$BaseCan2){_inherits(NodeCanvasFactory,_base_factory$BaseCan2);var _super17=_createSuper(NodeCanvasFactory);function NodeCanvasFactory(){return _classCallCheck(this,NodeCanvasFactory),_super17.apply(this,arguments)}return _createClass(NodeCanvasFactory,[{key:"_createCanvas",value:function _createCanvas(width,height){return require$$5.createCanvas(width,height)}}]),NodeCanvasFactory}(_base_factory.BaseCanvasFactory),exports.NodeCMapReaderFactory=NodeCMapReaderFactory=function(_base_factory$BaseCMa2){_inherits(NodeCMapReaderFactory,_base_factory$BaseCMa2);var _super18=_createSuper(NodeCMapReaderFactory);function NodeCMapReaderFactory(){return _classCallCheck(this,NodeCMapReaderFactory),_super18.apply(this,arguments)}return _createClass(NodeCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(url,compressionType){return fetchData(url).then((function(data){return{cMapData:data,compressionType:compressionType}}))}}]),NodeCMapReaderFactory}(_base_factory.BaseCMapReaderFactory),exports.NodeStandardFontDataFactory=NodeStandardFontDataFactory=function(_base_factory$BaseSta2){_inherits(NodeStandardFontDataFactory,_base_factory$BaseSta2);var _super19=_createSuper(NodeStandardFontDataFactory);function NodeStandardFontDataFactory(){return _classCallCheck(this,NodeStandardFontDataFactory),_super19.apply(this,arguments)}return _createClass(NodeStandardFontDataFactory,[{key:"_fetchData",value:function _fetchData(url){return fetchData(url)}}]),NodeStandardFontDataFactory}(_base_factory.BaseStandardFontDataFactory)}},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnotationStorage=void 0;var _util=__w_pdfjs_require__(2),AnnotationStorage=function(){function AnnotationStorage(){_classCallCheck(this,AnnotationStorage),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return _createClass(AnnotationStorage,[{key:"getValue",value:function getValue(key,defaultValue){var value=this._storage.get(key);return void 0===value?defaultValue:Object.assign(defaultValue,value)}},{key:"setValue",value:function setValue(key,value){var obj=this._storage.get(key),modified=!1;if(void 0!==obj)for(var _i6=0,_Object$entries=Object.entries(value);_i6<_Object$entries.length;_i6++){var _ref53=_slicedToArray(_Object$entries[_i6],2),entry=_ref53[0],val=_ref53[1];obj[entry]!==val&&(modified=!0,obj[entry]=val)}else modified=!0,this._storage.set(key,value);modified&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function getAll(){return this._storage.size>0?(0,_util.objectFromMap)(this._storage):null}},{key:"size",get:function get(){return this._storage.size}},{key:"_setModified",value:function _setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function get(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function get(){return this._timeStamp.toString()}}]),AnnotationStorage}();exports.AnnotationStorage=AnnotationStorage},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasGraphics=void 0;var _util=__w_pdfjs_require__(2),_pattern_helper=__w_pdfjs_require__(11),_display_utils=__w_pdfjs_require__(1);function addContextCurrentTransform(ctx){if(!ctx.mozCurrentTransform){ctx._originalSave=ctx.save,ctx._originalRestore=ctx.restore,ctx._originalRotate=ctx.rotate,ctx._originalScale=ctx.scale,ctx._originalTranslate=ctx.translate,ctx._originalTransform=ctx.transform,ctx._originalSetTransform=ctx.setTransform,ctx._originalResetTransform=ctx.resetTransform,ctx._transformMatrix=ctx._transformMatrix||[1,0,0,1,0,0],ctx._transformStack=[];try{var desc=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ctx),"lineWidth");ctx._setLineWidth=desc.set,ctx._getLineWidth=desc.get,Object.defineProperty(ctx,"lineWidth",{set:function setLineWidth(width){this._setLineWidth(1.000001*width)},get:function getLineWidth(){return this._getLineWidth()}})}catch(_){}Object.defineProperty(ctx,"mozCurrentTransform",{get:function getCurrentTransform(){return this._transformMatrix}}),Object.defineProperty(ctx,"mozCurrentTransformInverse",{get:function getCurrentTransformInverse(){var _this$_transformMatri=_slicedToArray(this._transformMatrix,6),a=_this$_transformMatri[0],b=_this$_transformMatri[1],c=_this$_transformMatri[2],d=_this$_transformMatri[3],e=_this$_transformMatri[4],f=_this$_transformMatri[5],ad_bc=a*d-b*c,bc_ad=b*c-a*d;return[d/ad_bc,b/bc_ad,c/bc_ad,a/ad_bc,(d*e-c*f)/bc_ad,(b*e-a*f)/ad_bc]}}),ctx.save=function ctxSave(){var old=this._transformMatrix;this._transformStack.push(old),this._transformMatrix=old.slice(0,6),this._originalSave()},ctx.restore=function ctxRestore(){var prev=this._transformStack.pop();prev&&(this._transformMatrix=prev,this._originalRestore())},ctx.translate=function ctxTranslate(x,y){var m=this._transformMatrix;m[4]=m[0]*x+m[2]*y+m[4],m[5]=m[1]*x+m[3]*y+m[5],this._originalTranslate(x,y)},ctx.scale=function ctxScale(x,y){var m=this._transformMatrix;m[0]*=x,m[1]*=x,m[2]*=y,m[3]*=y,this._originalScale(x,y)},ctx.transform=function ctxTransform(a,b,c,d,e,f){var m=this._transformMatrix;this._transformMatrix=[m[0]*a+m[2]*b,m[1]*a+m[3]*b,m[0]*c+m[2]*d,m[1]*c+m[3]*d,m[0]*e+m[2]*f+m[4],m[1]*e+m[3]*f+m[5]],ctx._originalTransform(a,b,c,d,e,f)},ctx.setTransform=function ctxSetTransform(a,b,c,d,e,f){this._transformMatrix=[a,b,c,d,e,f],ctx._originalSetTransform(a,b,c,d,e,f)},ctx.resetTransform=function ctxResetTransform(){this._transformMatrix=[1,0,0,1,0,0],ctx._originalResetTransform()},ctx.rotate=function ctxRotate(angle){var cosValue=Math.cos(angle),sinValue=Math.sin(angle),m=this._transformMatrix;this._transformMatrix=[m[0]*cosValue+m[2]*sinValue,m[1]*cosValue+m[3]*sinValue,m[0]*-sinValue+m[2]*cosValue,m[1]*-sinValue+m[3]*cosValue,m[4],m[5]],this._originalRotate(angle)}}}var CachedCanvases=function(){function CachedCanvases(canvasFactory){_classCallCheck(this,CachedCanvases),this.canvasFactory=canvasFactory,this.cache=Object.create(null)}return _createClass(CachedCanvases,[{key:"getCanvas",value:function getCanvas(id,width,height,trackTransform){var canvasEntry;return void 0!==this.cache[id]?(canvasEntry=this.cache[id],this.canvasFactory.reset(canvasEntry,width,height),canvasEntry.context.setTransform(1,0,0,1,0,0)):(canvasEntry=this.canvasFactory.create(width,height),this.cache[id]=canvasEntry),trackTransform&&addContextCurrentTransform(canvasEntry.context),canvasEntry}},{key:"clear",value:function clear(){for(var _id in this.cache){var canvasEntry=this.cache[_id];this.canvasFactory.destroy(canvasEntry),delete this.cache[_id]}}}]),CachedCanvases}();var CanvasExtraState=function(){function CanvasExtraState(width,height){_classCallCheck(this,CanvasExtraState),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_util.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,width,height])}return _createClass(CanvasExtraState,[{key:"clone",value:function clone(){var clone=Object.create(this);return clone.clipBox=this.clipBox.slice(),clone}},{key:"setCurrentPoint",value:function setCurrentPoint(x,y){this.x=x,this.y=y}},{key:"updatePathMinMax",value:function updatePathMinMax(transform,x,y){var _util$Util$applyTrans2=_slicedToArray(_util.Util.applyTransform([x,y],transform),2);x=_util$Util$applyTrans2[0],y=_util$Util$applyTrans2[1],this.minX=Math.min(this.minX,x),this.minY=Math.min(this.minY,y),this.maxX=Math.max(this.maxX,x),this.maxY=Math.max(this.maxY,y)}},{key:"updateCurvePathMinMax",value:function updateCurvePathMinMax(transform,x0,y0,x1,y1,x2,y2,x3,y3){var box=_util.Util.bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3);this.updatePathMinMax(transform,box[0],box[1]),this.updatePathMinMax(transform,box[2],box[3])}},{key:"getPathBoundingBox",value:function getPathBoundingBox(){var pathType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_pattern_helper.PathType.FILL,transform=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,box=[this.minX,this.minY,this.maxX,this.maxY];if(pathType===_pattern_helper.PathType.STROKE){transform||(0,_util.unreachable)("Stroke bounding box must include transform.");var scale=_util.Util.singularValueDecompose2dScale(transform),xStrokePad=scale[0]*this.lineWidth/2,yStrokePad=scale[1]*this.lineWidth/2;box[0]-=xStrokePad,box[1]-=yStrokePad,box[2]+=xStrokePad,box[3]+=yStrokePad}return box}},{key:"updateClipFromPath",value:function updateClipFromPath(){var intersect=_util.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(intersect||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function startNewPathAndClipBox(box){this.clipBox=box,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function getClippedPathBoundingBox(){var pathType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_pattern_helper.PathType.FILL,transform=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _util.Util.intersect(this.clipBox,this.getPathBoundingBox(pathType,transform))}}]),CanvasExtraState}();function putBinaryImageData(ctx,imgData){var transferMaps=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&imgData instanceof ImageData)ctx.putImageData(imgData,0,0);else{var destPos,i,j,thisChunkHeight,elemsInThisChunk,transferMapRed,transferMapGreen,transferMapBlue,transferMapGray,height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data;if(transferMaps)switch(transferMaps.length){case 1:transferMapRed=transferMaps[0],transferMapGreen=transferMaps[0],transferMapBlue=transferMaps[0],transferMapGray=transferMaps[0];break;case 4:transferMapRed=transferMaps[0],transferMapGreen=transferMaps[1],transferMapBlue=transferMaps[2],transferMapGray=transferMaps[3]}if(imgData.kind===_util.ImageKind.GRAYSCALE_1BPP){var srcLength=src.byteLength,dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2),dest32DataLength=dest32.length,fullSrcDiff=width+7>>3,white=4294967295,black=_util.IsLittleEndianCached.value?4278190080:255;if(transferMapGray&&255===transferMapGray[0]&&0===transferMapGray[255]){var _ref54=[black,white];white=_ref54[0],black=_ref54[1]}for(i=0;i<totalChunks;i++){for(thisChunkHeight=i<fullChunks?16:partialChunkHeight,destPos=0,j=0;j<thisChunkHeight;j++){for(var srcDiff=srcLength-srcPos,k=0,kEnd=srcDiff>fullSrcDiff?width:8*srcDiff-7,kEndUnrolled=-8&kEnd,mask=0,srcByte=0;k<kEndUnrolled;k+=8)srcByte=src[srcPos++],dest32[destPos++]=128&srcByte?white:black,dest32[destPos++]=64&srcByte?white:black,dest32[destPos++]=32&srcByte?white:black,dest32[destPos++]=16&srcByte?white:black,dest32[destPos++]=8&srcByte?white:black,dest32[destPos++]=4&srcByte?white:black,dest32[destPos++]=2&srcByte?white:black,dest32[destPos++]=1&srcByte?white:black;for(;k<kEnd;k++)0===mask&&(srcByte=src[srcPos++],mask=128),dest32[destPos++]=srcByte&mask?white:black,mask>>=1}for(;destPos<dest32DataLength;)dest32[destPos++]=0;ctx.putImageData(chunkImgData,0,16*i)}}else if(imgData.kind===_util.ImageKind.RGBA_32BPP){var hasTransferMaps=!!(transferMapRed||transferMapGreen||transferMapBlue);for(j=0,elemsInThisChunk=16*width*4,i=0;i<fullChunks;i++){if(dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),srcPos+=elemsInThisChunk,hasTransferMaps)for(var _k=0;_k<elemsInThisChunk;_k+=4)transferMapRed&&(dest[_k+0]=transferMapRed[dest[_k+0]]),transferMapGreen&&(dest[_k+1]=transferMapGreen[dest[_k+1]]),transferMapBlue&&(dest[_k+2]=transferMapBlue[dest[_k+2]]);ctx.putImageData(chunkImgData,0,j),j+=16}if(i<totalChunks){if(elemsInThisChunk=width*partialChunkHeight*4,dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),hasTransferMaps)for(var _k2=0;_k2<elemsInThisChunk;_k2+=4)transferMapRed&&(dest[_k2+0]=transferMapRed[dest[_k2+0]]),transferMapGreen&&(dest[_k2+1]=transferMapGreen[dest[_k2+1]]),transferMapBlue&&(dest[_k2+2]=transferMapBlue[dest[_k2+2]]);ctx.putImageData(chunkImgData,0,j)}}else{if(imgData.kind!==_util.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+imgData.kind);var _hasTransferMaps=!!(transferMapRed||transferMapGreen||transferMapBlue);for(elemsInThisChunk=width*(thisChunkHeight=16),i=0;i<totalChunks;i++){for(i>=fullChunks&&(elemsInThisChunk=width*(thisChunkHeight=partialChunkHeight)),destPos=0,j=elemsInThisChunk;j--;)dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=255;if(_hasTransferMaps)for(var _k3=0;_k3<destPos;_k3+=4)transferMapRed&&(dest[_k3+0]=transferMapRed[dest[_k3+0]]),transferMapGreen&&(dest[_k3+1]=transferMapGreen[dest[_k3+1]]),transferMapBlue&&(dest[_k3+2]=transferMapBlue[dest[_k3+2]]);ctx.putImageData(chunkImgData,0,16*i)}}}}function putBinaryImageMask(ctx,imgData){for(var height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data,i=0;i<totalChunks;i++){for(var thisChunkHeight=i<fullChunks?16:partialChunkHeight,destPos=3,j=0;j<thisChunkHeight;j++)for(var elem=void 0,mask=0,k=0;k<width;k++)mask||(elem=src[srcPos++],mask=128),dest[destPos]=elem&mask?0:255,destPos+=4,mask>>=1;ctx.putImageData(chunkImgData,0,16*i)}}function copyCtxState(sourceCtx,destCtx){for(var properties=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,ii=properties.length;i<ii;i++){var property=properties[i];void 0!==sourceCtx[property]&&(destCtx[property]=sourceCtx[property])}void 0!==sourceCtx.setLineDash&&(destCtx.setLineDash(sourceCtx.getLineDash()),destCtx.lineDashOffset=sourceCtx.lineDashOffset)}function resetCtxToDefault(ctx){ctx.strokeStyle="#000000",ctx.fillStyle="#000000",ctx.fillRule="nonzero",ctx.globalAlpha=1,ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.globalCompositeOperation="source-over",ctx.font="10px sans-serif",void 0!==ctx.setLineDash&&(ctx.setLineDash([]),ctx.lineDashOffset=0)}function composeSMaskBackdrop(bytes,r0,g0,b0){for(var length=bytes.length,i=3;i<length;i+=4){var alpha=bytes[i];if(0===alpha)bytes[i-3]=r0,bytes[i-2]=g0,bytes[i-1]=b0;else if(alpha<255){var alpha_=255-alpha;bytes[i-3]=bytes[i-3]*alpha+r0*alpha_>>8,bytes[i-2]=bytes[i-2]*alpha+g0*alpha_>>8,bytes[i-1]=bytes[i-1]*alpha+b0*alpha_>>8}}}function composeSMaskAlpha(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var alpha=transferMap?transferMap[maskData[i]]:maskData[i];layerData[i]=layerData[i]*alpha*.00392156862745098|0}}function composeSMaskLuminosity(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var y=77*maskData[i-3]+152*maskData[i-2]+28*maskData[i-1];layerData[i]=transferMap?layerData[i]*transferMap[y>>8]>>8:layerData[i]*y>>16}}function composeSMask(ctx,smask,layerCtx,layerBox){var layerOffsetX=layerBox[0],layerOffsetY=layerBox[1],layerWidth=layerBox[2]-layerOffsetX,layerHeight=layerBox[3]-layerOffsetY;0!==layerWidth&&0!==layerHeight&&(!function genericComposeSMask(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap,layerOffsetX,layerOffsetY,maskOffsetX,maskOffsetY){var composeFn,hasBackdrop=!!backdrop,r0=hasBackdrop?backdrop[0]:0,g0=hasBackdrop?backdrop[1]:0,b0=hasBackdrop?backdrop[2]:0;composeFn="Luminosity"===subtype?composeSMaskLuminosity:composeSMaskAlpha;for(var chunkSize=Math.min(height,Math.ceil(1048576/width)),row=0;row<height;row+=chunkSize){var chunkHeight=Math.min(chunkSize,height-row),maskData=maskCtx.getImageData(layerOffsetX-maskOffsetX,row+(layerOffsetY-maskOffsetY),width,chunkHeight),layerData=layerCtx.getImageData(layerOffsetX,row+layerOffsetY,width,chunkHeight);hasBackdrop&&composeSMaskBackdrop(maskData.data,r0,g0,b0),composeFn(maskData.data,layerData.data,transferMap),layerCtx.putImageData(layerData,layerOffsetX,row+layerOffsetY)}}(smask.context,layerCtx,layerWidth,layerHeight,smask.subtype,smask.backdrop,smask.transferMap,layerOffsetX,layerOffsetY,smask.offsetX,smask.offsetY),ctx.save(),ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(layerCtx.canvas,0,0),ctx.restore())}function getImageSmoothingEnabled(transform,interpolate){var scale=_util.Util.singularValueDecompose2dScale(transform);scale[0]=Math.fround(scale[0]),scale[1]=Math.fround(scale[1]);var actualScale=Math.fround((globalThis.devicePixelRatio||1)*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==interpolate?interpolate:scale[0]<=actualScale||scale[1]<=actualScale}var LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={},CanvasGraphics=function(){function CanvasGraphics(canvasCtx,commonObjs,objs,canvasFactory,imageLayer,optionalContentConfig,annotationCanvasMap){_classCallCheck(this,CanvasGraphics),this.ctx=canvasCtx,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=commonObjs,this.objs=objs,this.canvasFactory=canvasFactory,this.imageLayer=imageLayer,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=optionalContentConfig,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=annotationCanvasMap,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,canvasCtx&&addContextCurrentTransform(canvasCtx),this._cachedGetSinglePixelWidth=null}return _createClass(CanvasGraphics,[{key:"beginDrawing",value:function beginDrawing(_ref55){var transform=_ref55.transform,viewport=_ref55.viewport,_ref55$transparency=_ref55.transparency,transparency=void 0!==_ref55$transparency&&_ref55$transparency,_ref55$background=_ref55.background,background=void 0===_ref55$background?null:_ref55$background,width=this.ctx.canvas.width,height=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=background||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,width,height),this.ctx.restore(),transparency){var transparentCanvas=this.cachedCanvases.getCanvas("transparent",width,height,!0);this.compositeCtx=this.ctx,this.transparentCanvas=transparentCanvas.canvas,this.ctx=transparentCanvas.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),resetCtxToDefault(this.ctx),transform&&(this.ctx.transform.apply(this.ctx,transform),this.outputScaleX=transform[0],this.outputScaleY=transform[0]),this.ctx.transform.apply(this.ctx,viewport.transform),this.viewportScale=viewport.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function executeOperatorList(operatorList,executionStartIdx,continueCallback,stepper){var argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,i=executionStartIdx||0,argsArrayLen=argsArray.length;if(argsArrayLen===i)return i;for(var fnId,chunkOperations=argsArrayLen-i>10&&"function"==typeof continueCallback,endTime=chunkOperations?Date.now()+15:0,steps=0,commonObjs=this.commonObjs,objs=this.objs;;){if(void 0!==stepper&&i===stepper.nextBreakPoint)return stepper.breakIt(i,continueCallback),i;if((fnId=fnArray[i])!==_util.OPS.dependency)this[fnId].apply(this,argsArray[i]);else{var _step25,_iterator25=_createForOfIteratorHelper(argsArray[i]);try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var depObjId=_step25.value,objsPool=depObjId.startsWith("g_")?commonObjs:objs;if(!objsPool.has(depObjId))return objsPool.get(depObjId,continueCallback),i}}catch(err){_iterator25.e(err)}finally{_iterator25.f()}}if(++i===argsArrayLen)return i;if(chunkOperations&&++steps>10){if(Date.now()>endTime)return continueCallback(),i;steps=0}}}},{key:"endDrawing",value:function endDrawing(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function _scaleImage(img,inverseTransform){for(var tmpCanvas,tmpCtx,width=img.width,height=img.height,widthScale=Math.max(Math.hypot(inverseTransform[0],inverseTransform[1]),1),heightScale=Math.max(Math.hypot(inverseTransform[2],inverseTransform[3]),1),paintWidth=width,paintHeight=height,tmpCanvasId="prescale1";widthScale>2&&paintWidth>1||heightScale>2&&paintHeight>1;){var newWidth=paintWidth,newHeight=paintHeight;widthScale>2&&paintWidth>1&&(widthScale/=paintWidth/(newWidth=Math.ceil(paintWidth/2))),heightScale>2&&paintHeight>1&&(heightScale/=paintHeight/(newHeight=Math.ceil(paintHeight/2))),(tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight)).context).clearRect(0,0,newWidth,newHeight),tmpCtx.drawImage(img,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight),img=tmpCanvas.canvas,paintWidth=newWidth,paintHeight=newHeight,tmpCanvasId="prescale1"===tmpCanvasId?"prescale2":"prescale1"}return{img:img,paintWidth:paintWidth,paintHeight:paintHeight}}},{key:"_createMaskCanvas",value:function _createMaskCanvas(img){var ctx=this.ctx,width=img.width,height=img.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height);putBinaryImageMask(maskCanvas.context,img);var objToCanvas=ctx.mozCurrentTransform,maskToCanvas=_util.Util.transform(objToCanvas,[1/width,0,0,-1/height,0,0]);maskToCanvas=_util.Util.transform(maskToCanvas,[1,0,0,1,0,-height]);var cord1=_util.Util.applyTransform([0,0],maskToCanvas),cord2=_util.Util.applyTransform([width,height],maskToCanvas),rect=_util.Util.normalizeRect([cord1[0],cord1[1],cord2[0],cord2[1]]),drawnWidth=Math.ceil(rect[2]-rect[0]),drawnHeight=Math.ceil(rect[3]-rect[1]),fillCanvas=this.cachedCanvases.getCanvas("fillCanvas",drawnWidth,drawnHeight,!0),fillCtx=fillCanvas.context,offsetX=Math.min(cord1[0],cord2[0]),offsetY=Math.min(cord1[1],cord2[1]);fillCtx.translate(-offsetX,-offsetY),fillCtx.transform.apply(fillCtx,maskToCanvas);var scaled=this._scaleImage(maskCanvas.canvas,fillCtx.mozCurrentTransformInverse);fillCtx.imageSmoothingEnabled=getImageSmoothingEnabled(fillCtx.mozCurrentTransform,img.interpolate),fillCtx.drawImage(scaled.img,0,0,scaled.img.width,scaled.img.height,0,0,width,height),fillCtx.globalCompositeOperation="source-in";var inverse=_util.Util.transform(fillCtx.mozCurrentTransformInverse,[1,0,0,1,-offsetX,-offsetY]);return fillCtx.fillStyle=isPatternFill?fillColor.getPattern(ctx,this,inverse,_pattern_helper.PathType.FILL):fillColor,fillCtx.fillRect(0,0,width,height),{canvas:fillCanvas.canvas,offsetX:Math.round(offsetX),offsetY:Math.round(offsetY)}}},{key:"setLineWidth",value:function setLineWidth(width){this.current.lineWidth=width,this.ctx.lineWidth=width}},{key:"setLineCap",value:function setLineCap(style){this.ctx.lineCap=LINE_CAP_STYLES[style]}},{key:"setLineJoin",value:function setLineJoin(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style]}},{key:"setMiterLimit",value:function setMiterLimit(limit){this.ctx.miterLimit=limit}},{key:"setDash",value:function setDash(dashArray,dashPhase){var ctx=this.ctx;void 0!==ctx.setLineDash&&(ctx.setLineDash(dashArray),ctx.lineDashOffset=dashPhase)}},{key:"setRenderingIntent",value:function setRenderingIntent(intent){}},{key:"setFlatness",value:function setFlatness(flatness){}},{key:"setGState",value:function setGState(states){for(var i=0,ii=states.length;i<ii;i++){var state=states[i],key=state[0],value=state[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value[0],value[1]);break;case"CA":this.current.strokeAlpha=state[1];break;case"ca":this.current.fillAlpha=state[1],this.ctx.globalAlpha=state[1];break;case"BM":this.ctx.globalCompositeOperation=value;break;case"SMask":this.current.activeSMask=value?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=value}}}},{key:"checkSMaskState",value:function checkSMaskState(){var inSMaskMode=!!this.suspendedCtx;this.current.activeSMask&&!inSMaskMode?this.beginSMaskMode():!this.current.activeSMask&&inSMaskMode&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function beginSMaskMode(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var drawnWidth=this.ctx.canvas.width,drawnHeight=this.ctx.canvas.height,cacheId="smaskGroupAt"+this.groupLevel,scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight,!0);this.suspendedCtx=this.ctx,this.ctx=scratchCanvas.context;var ctx=this.ctx;ctx.setTransform.apply(ctx,this.suspendedCtx.mozCurrentTransform),copyCtxState(this.suspendedCtx,ctx),function mirrorContextOperations(ctx,destCtx){if(ctx._removeMirroring)throw new Error("Context is already forwarding operations.");ctx.__originalSave=ctx.save,ctx.__originalRestore=ctx.restore,ctx.__originalRotate=ctx.rotate,ctx.__originalScale=ctx.scale,ctx.__originalTranslate=ctx.translate,ctx.__originalTransform=ctx.transform,ctx.__originalSetTransform=ctx.setTransform,ctx.__originalResetTransform=ctx.resetTransform,ctx.__originalClip=ctx.clip,ctx.__originalMoveTo=ctx.moveTo,ctx.__originalLineTo=ctx.lineTo,ctx.__originalBezierCurveTo=ctx.bezierCurveTo,ctx.__originalRect=ctx.rect,ctx.__originalClosePath=ctx.closePath,ctx.__originalBeginPath=ctx.beginPath,ctx._removeMirroring=function(){ctx.save=ctx.__originalSave,ctx.restore=ctx.__originalRestore,ctx.rotate=ctx.__originalRotate,ctx.scale=ctx.__originalScale,ctx.translate=ctx.__originalTranslate,ctx.transform=ctx.__originalTransform,ctx.setTransform=ctx.__originalSetTransform,ctx.resetTransform=ctx.__originalResetTransform,ctx.clip=ctx.__originalClip,ctx.moveTo=ctx.__originalMoveTo,ctx.lineTo=ctx.__originalLineTo,ctx.bezierCurveTo=ctx.__originalBezierCurveTo,ctx.rect=ctx.__originalRect,ctx.closePath=ctx.__originalClosePath,ctx.beginPath=ctx.__originalBeginPath,delete ctx._removeMirroring},ctx.save=function ctxSave(){destCtx.save(),this.__originalSave()},ctx.restore=function ctxRestore(){destCtx.restore(),this.__originalRestore()},ctx.translate=function ctxTranslate(x,y){destCtx.translate(x,y),this.__originalTranslate(x,y)},ctx.scale=function ctxScale(x,y){destCtx.scale(x,y),this.__originalScale(x,y)},ctx.transform=function ctxTransform(a,b,c,d,e,f){destCtx.transform(a,b,c,d,e,f),this.__originalTransform(a,b,c,d,e,f)},ctx.setTransform=function ctxSetTransform(a,b,c,d,e,f){destCtx.setTransform(a,b,c,d,e,f),this.__originalSetTransform(a,b,c,d,e,f)},ctx.resetTransform=function ctxResetTransform(){destCtx.resetTransform(),this.__originalResetTransform()},ctx.rotate=function ctxRotate(angle){destCtx.rotate(angle),this.__originalRotate(angle)},ctx.clip=function ctxRotate(rule){destCtx.clip(rule),this.__originalClip(rule)},ctx.moveTo=function(x,y){destCtx.moveTo(x,y),this.__originalMoveTo(x,y)},ctx.lineTo=function(x,y){destCtx.lineTo(x,y),this.__originalLineTo(x,y)},ctx.bezierCurveTo=function(cp1x,cp1y,cp2x,cp2y,x,y){destCtx.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y),this.__originalBezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)},ctx.rect=function(x,y,width,height){destCtx.rect(x,y,width,height),this.__originalRect(x,y,width,height)},ctx.closePath=function(){destCtx.closePath(),this.__originalClosePath()},ctx.beginPath=function(){destCtx.beginPath(),this.__originalBeginPath()}}(ctx,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function endSMaskMode(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function compose(dirtyBox){if(this.current.activeSMask){dirtyBox?(dirtyBox[0]=Math.floor(dirtyBox[0]),dirtyBox[1]=Math.floor(dirtyBox[1]),dirtyBox[2]=Math.ceil(dirtyBox[2]),dirtyBox[3]=Math.ceil(dirtyBox[3])):dirtyBox=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var smask=this.current.activeSMask;composeSMask(this.suspendedCtx,smask,this.ctx,dirtyBox),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function save(){this.ctx.save();var old=this.current;this.stateStack.push(old),this.current=old.clone()}},{key:"restore",value:function restore(){0===this.stateStack.length&&this.current.activeSMask&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function transform(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function constructPath(ops,args){for(var startX,startY,ctx=this.ctx,current=this.current,x=current.x,y=current.y,i=0,j=0,ii=ops.length;i<ii;i++)switch(0|ops[i]){case _util.OPS.rectangle:x=args[j++],y=args[j++];var width=args[j++],height=args[j++],xw=x+width,yh=y+height;ctx.moveTo(x,y),0===width||0===height?ctx.lineTo(xw,yh):(ctx.lineTo(xw,y),ctx.lineTo(xw,yh),ctx.lineTo(x,yh)),current.updatePathMinMax(ctx.mozCurrentTransform,x,y),current.updatePathMinMax(ctx.mozCurrentTransform,xw,yh),ctx.closePath();break;case _util.OPS.moveTo:x=args[j++],y=args[j++],ctx.moveTo(x,y),current.updatePathMinMax(ctx.mozCurrentTransform,x,y);break;case _util.OPS.lineTo:x=args[j++],y=args[j++],ctx.lineTo(x,y),current.updatePathMinMax(ctx.mozCurrentTransform,x,y);break;case _util.OPS.curveTo:startX=x,startY=y,x=args[j+4],y=args[j+5],ctx.bezierCurveTo(args[j],args[j+1],args[j+2],args[j+3],x,y),current.updateCurvePathMinMax(ctx.mozCurrentTransform,startX,startY,args[j],args[j+1],args[j+2],args[j+3],x,y),j+=6;break;case _util.OPS.curveTo2:startX=x,startY=y,ctx.bezierCurveTo(x,y,args[j],args[j+1],args[j+2],args[j+3]),current.updateCurvePathMinMax(ctx.mozCurrentTransform,startX,startY,x,y,args[j],args[j+1],args[j+2],args[j+3]),x=args[j+2],y=args[j+3],j+=4;break;case _util.OPS.curveTo3:startX=x,startY=y,x=args[j+2],y=args[j+3],ctx.bezierCurveTo(args[j],args[j+1],x,y,x,y),current.updateCurvePathMinMax(ctx.mozCurrentTransform,startX,startY,args[j],args[j+1],x,y,x,y),j+=4;break;case _util.OPS.closePath:ctx.closePath()}current.setCurrentPoint(x,y)}},{key:"closePath",value:function closePath(){this.ctx.closePath()}},{key:"stroke",value:function stroke(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,strokeColor=this.current.strokeColor;if(ctx.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof strokeColor&&null!=strokeColor&&strokeColor.getPattern){var lineWidth=this.getSinglePixelWidth();ctx.save(),ctx.strokeStyle=strokeColor.getPattern(ctx,this,ctx.mozCurrentTransformInverse,_pattern_helper.PathType.STROKE),ctx.lineWidth=Math.max(lineWidth,this.current.lineWidth),ctx.stroke(),ctx.restore()}else{var _lineWidth=this.getSinglePixelWidth();_lineWidth<0&&-_lineWidth>=this.current.lineWidth?(ctx.save(),ctx.resetTransform(),ctx.lineWidth=Math.round(this._combinedScaleFactor),ctx.stroke(),ctx.restore()):(ctx.lineWidth=Math.max(_lineWidth,this.current.lineWidth),ctx.stroke())}consumePath&&this.consumePath(this.current.getClippedPathBoundingBox()),ctx.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function closeStroke(){this.closePath(),this.stroke()}},{key:"fill",value:function fill(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,fillColor=this.current.fillColor,needRestore=!1;this.current.patternFill&&(ctx.save(),ctx.fillStyle=fillColor.getPattern(ctx,this,ctx.mozCurrentTransformInverse,_pattern_helper.PathType.FILL),needRestore=!0);var intersect=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==intersect&&(this.pendingEOFill?(ctx.fill("evenodd"),this.pendingEOFill=!1):ctx.fill()),needRestore&&ctx.restore(),consumePath&&this.consumePath(intersect)}},{key:"eoFill",value:function eoFill(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function closeFillStroke(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function endPath(){this.consumePath()}},{key:"clip",value:function clip(){this.pendingClip=NORMAL_CLIP}},{key:"eoClip",value:function eoClip(){this.pendingClip=EO_CLIP}},{key:"beginText",value:function beginText(){this.current.textMatrix=_util.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function endText(){var paths=this.pendingTextPaths,ctx=this.ctx;if(void 0!==paths){ctx.save(),ctx.beginPath();for(var i=0;i<paths.length;i++){var path=paths[i];ctx.setTransform.apply(ctx,path.transform),ctx.translate(path.x,path.y),path.addToPath(ctx,path.fontSize)}ctx.restore(),ctx.clip(),ctx.beginPath(),delete this.pendingTextPaths}else ctx.beginPath()}},{key:"setCharSpacing",value:function setCharSpacing(spacing){this.current.charSpacing=spacing}},{key:"setWordSpacing",value:function setWordSpacing(spacing){this.current.wordSpacing=spacing}},{key:"setHScale",value:function setHScale(scale){this.current.textHScale=scale/100}},{key:"setLeading",value:function setLeading(leading){this.current.leading=-leading}},{key:"setFont",value:function setFont(fontRefName,size){var fontObj=this.commonObjs.get(fontRefName),current=this.current;if(!fontObj)throw new Error("Can't find font for "+fontRefName);if(current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX,0!==current.fontMatrix[0]&&0!==current.fontMatrix[3]||(0,_util.warn)("Invalid font matrix for font "+fontRefName),size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,this.current.font=fontObj,this.current.fontSize=size,!fontObj.isType3Font){var name=fontObj.loadedName||"sans-serif",bold="normal";fontObj.black?bold="900":fontObj.bold&&(bold="bold");var italic=fontObj.italic?"italic":"normal",typeface='"'+name+'", '+fontObj.fallbackName,browserFontSize=size;size<16?browserFontSize=16:size>100&&(browserFontSize=100),this.current.fontSizeScale=size/browserFontSize,this.ctx.font=italic+" "+bold+" "+browserFontSize+"px "+typeface}}},{key:"setTextRenderingMode",value:function setTextRenderingMode(mode){this.current.textRenderingMode=mode}},{key:"setTextRise",value:function setTextRise(rise){this.current.textRise=rise}},{key:"moveText",value:function moveText(x,y){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=y}},{key:"setLeadingMoveText",value:function setLeadingMoveText(x,y){this.setLeading(-y),this.moveText(x,y)}},{key:"setTextMatrix",value:function setTextMatrix(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.hypot(a,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function nextLine(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function paintChar(character,x,y,patternTransform,resetLineWidthToOne){var addToPath,ctx=this.ctx,current=this.current,font=current.font,textRenderingMode=current.textRenderingMode,fontSize=current.fontSize/current.fontSizeScale,fillStrokeMode=textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK,isAddToPathSet=!!(textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG),patternFill=current.patternFill&&!font.missingFile;((font.disableFontFace||isAddToPathSet||patternFill)&&(addToPath=font.getPathGenerator(this.commonObjs,character)),font.disableFontFace||patternFill?(ctx.save(),ctx.translate(x,y),ctx.beginPath(),addToPath(ctx,fontSize),patternTransform&&ctx.setTransform.apply(ctx,patternTransform),fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fill(),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||(resetLineWidthToOne&&(ctx.resetTransform(),ctx.lineWidth=Math.round(this._combinedScaleFactor)),ctx.stroke()),ctx.restore()):(fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fillText(character,x,y),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||(resetLineWidthToOne?(ctx.save(),ctx.moveTo(x,y),ctx.resetTransform(),ctx.lineWidth=Math.round(this._combinedScaleFactor),ctx.strokeText(character,0,0),ctx.restore()):ctx.strokeText(character,x,y))),isAddToPathSet)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ctx.mozCurrentTransform,x:x,y:y,fontSize:fontSize,addToPath:addToPath})}},{key:"isFontSubpixelAAEnabled",get:function get(){var ctx=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;ctx.scale(1.5,1),ctx.fillText("I",0,10);for(var data=ctx.getImageData(0,0,10,10).data,enabled=!1,i=3;i<data.length;i+=4)if(data[i]>0&&data[i]<255){enabled=!0;break}return(0,_util.shadow)(this,"isFontSubpixelAAEnabled",enabled)}},{key:"showText",value:function showText(glyphs){var current=this.current,font=current.font;if(font.isType3Font)return this.showType3Text(glyphs);var fontSize=current.fontSize;if(0!==fontSize){var patternTransform,ctx=this.ctx,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],simpleFillText=current.textRenderingMode===_util.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill;if(ctx.save(),ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y+current.textRise),fontDirection>0?ctx.scale(textHScale,-1):ctx.scale(textHScale,1),current.patternFill){ctx.save();var pattern=current.fillColor.getPattern(ctx,this,ctx.mozCurrentTransformInverse,_pattern_helper.PathType.FILL);patternTransform=ctx.mozCurrentTransform,ctx.restore(),ctx.fillStyle=pattern}var lineWidth=current.lineWidth,resetLineWidthToOne=!1,scale=current.textMatrixScale;if(0===scale||0===lineWidth){var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,resetLineWidthToOne=(lineWidth=this.getSinglePixelWidth())<0)}else lineWidth/=scale;1!==fontSizeScale&&(ctx.scale(fontSizeScale,fontSizeScale),lineWidth/=fontSizeScale),ctx.lineWidth=lineWidth;var i,x=0;for(i=0;i<glyphsLength;++i){var glyph=glyphs[i];if((0,_util.isNum)(glyph))x+=spacingDir*glyph*fontSize/1e3;else{var restoreNeeded=!1,spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,accent=glyph.accent,scaledX=void 0,scaledY=void 0,width=glyph.width;if(vertical){var vmetric=glyph.vmetric||defaultVMetrics,vx=-(glyph.vmetric?vmetric[1]:.5*width)*widthAdvanceScale,vy=vmetric[2]*widthAdvanceScale;width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x+vy)/fontSizeScale}else scaledX=x/fontSizeScale,scaledY=0;if(font.remeasure&&width>0){var measuredWidth=1e3*ctx.measureText(character).width/fontSize*fontSizeScale;if(width<measuredWidth&&this.isFontSubpixelAAEnabled){var characterScaleX=width/measuredWidth;restoreNeeded=!0,ctx.save(),ctx.scale(characterScaleX,1),scaledX/=characterScaleX}else width!==measuredWidth&&(scaledX+=(width-measuredWidth)/2e3*fontSize/fontSizeScale)}if(this.contentVisible&&(glyph.isInFont||font.missingFile))if(simpleFillText&&!accent)ctx.fillText(character,scaledX,scaledY);else if(this.paintChar(character,scaledX,scaledY,patternTransform,resetLineWidthToOne),accent){var scaledAccentX=scaledX+fontSize*accent.offset.x/fontSizeScale,scaledAccentY=scaledY-fontSize*accent.offset.y/fontSizeScale;this.paintChar(accent.fontChar,scaledAccentX,scaledAccentY,patternTransform,resetLineWidthToOne)}x+=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection,restoreNeeded&&ctx.restore()}}vertical?current.y-=x:current.x+=x*textHScale,ctx.restore(),this.compose()}}},{key:"showType3Text",value:function showType3Text(glyphs){var i,glyph,width,spacingLength,ctx=this.ctx,current=this.current,font=current.font,fontSize=current.fontSize,fontDirection=current.fontDirection,spacingDir=font.vertical?1:-1,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,textHScale=current.textHScale*fontDirection,fontMatrix=current.fontMatrix||_util.FONT_IDENTITY_MATRIX,glyphsLength=glyphs.length;if(!(current.textRenderingMode===_util.TextRenderingMode.INVISIBLE)&&0!==fontSize){for(this._cachedGetSinglePixelWidth=null,ctx.save(),ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y),ctx.scale(textHScale,fontDirection),i=0;i<glyphsLength;++i)if(glyph=glyphs[i],(0,_util.isNum)(glyph))spacingLength=spacingDir*glyph*fontSize/1e3,this.ctx.translate(spacingLength,0),current.x+=spacingLength*textHScale;else{var spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,operatorList=font.charProcOperatorList[glyph.operatorListId];if(operatorList)this.contentVisible&&(this.processingType3=glyph,this.save(),ctx.scale(fontSize,fontSize),ctx.transform.apply(ctx,fontMatrix),this.executeOperatorList(operatorList),this.restore()),width=_util.Util.applyTransform([glyph.width,0],fontMatrix)[0]*fontSize+spacing,ctx.translate(width,0),current.x+=width*textHScale;else(0,_util.warn)('Type3 character "'+glyph.operatorListId+'" is not available.')}ctx.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function setCharWidth(xWidth,yWidth){}},{key:"setCharWidthAndBounds",value:function setCharWidthAndBounds(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function getColorN_Pattern(IR){var pattern,_this48=this;if("TilingPattern"===IR[0]){var color=IR[1],baseTransform=this.baseTransform||this.ctx.mozCurrentTransform.slice(),canvasGraphicsFactory={createCanvasGraphics:function createCanvasGraphics(ctx){return new CanvasGraphics(ctx,_this48.commonObjs,_this48.objs,_this48.canvasFactory)}};pattern=new _pattern_helper.TilingPattern(IR,color,this.ctx,canvasGraphicsFactory,baseTransform)}else pattern=this._getPattern(IR[1],IR[2]);return pattern}},{key:"setStrokeColorN",value:function setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function setStrokeRGBColor(r,g,b){var color=_util.Util.makeHexColor(r,g,b);this.ctx.strokeStyle=color,this.current.strokeColor=color}},{key:"setFillRGBColor",value:function setFillRGBColor(r,g,b){var color=_util.Util.makeHexColor(r,g,b);this.ctx.fillStyle=color,this.current.fillColor=color,this.current.patternFill=!1}},{key:"_getPattern",value:function _getPattern(objId){var pattern,matrix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(objId)?pattern=this.cachedPatterns.get(objId):(pattern=(0,_pattern_helper.getShadingPattern)(this.objs.get(objId)),this.cachedPatterns.set(objId,pattern)),matrix&&(pattern.matrix=matrix),pattern}},{key:"shadingFill",value:function shadingFill(objId){if(this.contentVisible){var ctx=this.ctx;this.save();var pattern=this._getPattern(objId);ctx.fillStyle=pattern.getPattern(ctx,this,ctx.mozCurrentTransformInverse,_pattern_helper.PathType.SHADING);var inv=ctx.mozCurrentTransformInverse;if(inv){var canvas=ctx.canvas,width=canvas.width,height=canvas.height,bl=_util.Util.applyTransform([0,0],inv),br=_util.Util.applyTransform([0,height],inv),ul=_util.Util.applyTransform([width,0],inv),ur=_util.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]);this.ctx.fillRect(x0,y0,x1-x0,y1-y0)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function beginInlineImage(){(0,_util.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function beginImageData(){(0,_util.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function paintFormXObjectBegin(matrix,bbox){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(matrix)&&6===matrix.length&&this.transform.apply(this,matrix),this.baseTransform=this.ctx.mozCurrentTransform,bbox)){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1];this.ctx.rect(bbox[0],bbox[1],width,height),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,bbox[0],bbox[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,bbox[2],bbox[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function beginGroup(group){if(this.contentVisible){this.save();var suspendedCtx=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var currentCtx=this.ctx;group.isolated||(0,_util.info)("TODO: Support non-isolated groups."),group.knockout&&(0,_util.warn)("Knockout groups not supported.");var currentTransform=currentCtx.mozCurrentTransform;if(group.matrix&&currentCtx.transform.apply(currentCtx,group.matrix),!group.bbox)throw new Error("Bounding box is required.");var bounds=_util.Util.getAxialAlignedBoundingBox(group.bbox,currentCtx.mozCurrentTransform),canvasBounds=[0,0,currentCtx.canvas.width,currentCtx.canvas.height];bounds=_util.Util.intersect(bounds,canvasBounds)||[0,0,0,0];var offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),drawnWidth=Math.max(Math.ceil(bounds[2])-offsetX,1),drawnHeight=Math.max(Math.ceil(bounds[3])-offsetY,1),scaleX=1,scaleY=1;drawnWidth>4096&&(scaleX=drawnWidth/4096,drawnWidth=4096),drawnHeight>4096&&(scaleY=drawnHeight/4096,drawnHeight=4096),this.current.startNewPathAndClipBox([0,0,drawnWidth,drawnHeight]);var cacheId="groupAt"+this.groupLevel;group.smask&&(cacheId+="_smask_"+this.smaskCounter++%2);var scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight,!0),groupCtx=scratchCanvas.context;groupCtx.scale(1/scaleX,1/scaleY),groupCtx.translate(-offsetX,-offsetY),groupCtx.transform.apply(groupCtx,currentTransform),group.smask?this.smaskStack.push({canvas:scratchCanvas.canvas,context:groupCtx,offsetX:offsetX,offsetY:offsetY,scaleX:scaleX,scaleY:scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null}):(currentCtx.setTransform(1,0,0,1,0,0),currentCtx.translate(offsetX,offsetY),currentCtx.scale(scaleX,scaleY),currentCtx.save()),copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:currentCtx,suspendedCtx:suspendedCtx}),this.groupLevel++}}},{key:"endGroup",value:function endGroup(group){if(this.contentVisible){this.groupLevel--;var groupCtx=this.ctx,_this$groupStack$pop=this.groupStack.pop(),ctx=_this$groupStack$pop.ctx,suspendedCtx=_this$groupStack$pop.suspendedCtx;if(this.ctx=ctx,this.ctx.imageSmoothingEnabled=!1,suspendedCtx&&(this.suspendedCtx=suspendedCtx),group.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var currentMtx=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,currentMtx);var dirtyBox=_util.Util.getAxialAlignedBoundingBox([0,0,groupCtx.canvas.width,groupCtx.canvas.height],currentMtx);this.ctx.drawImage(groupCtx.canvas,0,0),this.ctx.restore(),this.compose(dirtyBox)}}}},{key:"beginAnnotations",value:function beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function endAnnotations(){this.restore()}},{key:"beginAnnotation",value:function beginAnnotation(id,rect,transform,matrix,hasOwnCanvas){if(this.save(),Array.isArray(rect)&&4===rect.length){var width=rect[2]-rect[0],height=rect[3]-rect[1];if(hasOwnCanvas&&this.annotationCanvasMap){(transform=transform.slice())[4]-=rect[0],transform[5]-=rect[1],(rect=rect.slice())[0]=rect[1]=0,rect[2]=width,rect[3]=height;var _util$Util$singularVa2=_slicedToArray(_util.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),2),scaleX=_util$Util$singularVa2[0],scaleY=_util$Util$singularVa2[1],viewportScale=this.viewportScale,canvasWidth=Math.ceil(width*this.outputScaleX*viewportScale),canvasHeight=Math.ceil(height*this.outputScaleY*viewportScale);this.annotationCanvas=this.canvasFactory.create(canvasWidth,canvasHeight);var _this$annotationCanva=this.annotationCanvas,canvas=_this$annotationCanva.canvas,context=_this$annotationCanva.context;canvas.style.width="calc("+width+"px * var(--viewport-scale-factor))",canvas.style.height="calc("+height+"px * var(--viewport-scale-factor))",this.annotationCanvasMap.set(id,canvas),this.annotationCanvas.savedCtx=this.ctx,this.ctx=context,this.ctx.setTransform(scaleX,0,0,-scaleY,0,height*scaleY),addContextCurrentTransform(this.ctx),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(rect[0],rect[1],width,height),this.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,transform),this.transform.apply(this,matrix)}},{key:"endAnnotation",value:function endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function paintImageMaskXObject(img){if(this.contentVisible){var ctx=this.ctx,width=img.width,height=img.height,glyph=this.processingType3;if(glyph&&void 0===glyph.compiled&&(glyph.compiled=width<=1e3&&height<=1e3?function compileType3Glyph(imgData){var i,ii,j,j0,POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),width=imgData.width,height=imgData.height,width1=width+1,points=new Uint8Array(width1*(height+1)),lineSize=width+7&-8,data0=imgData.data,data=new Uint8Array(lineSize*height),pos=0;for(i=0,ii=data0.length;i<ii;i++)for(var elem=data0[i],mask=128;mask>0;)data[pos++]=elem&mask?0:255,mask>>=1;var count=0;for(0!==data[pos=0]&&(points[0]=1,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j]=data[pos]?2:1,++count),pos++;for(0!==data[pos]&&(points[j]=2,++count),i=1;i<height;i++){j0=i*width1,data[(pos=i*lineSize)-lineSize]!==data[pos]&&(points[j0]=data[pos]?1:8,++count);var sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0);for(j=1;j<width;j++)POINT_TYPES[sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0)]&&(points[j0+j]=POINT_TYPES[sum],++count),pos++;if(data[pos-lineSize]!==data[pos]&&(points[j0+j]=data[pos]?2:4,++count),count>1e3)return null}for(j0=i*width1,0!==data[pos=lineSize*(height-1)]&&(points[j0]=8,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j0+j]=data[pos]?4:8,++count),pos++;if(0!==data[pos]&&(points[j0+j]=4,++count),count>1e3)return null;var steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]),outlines=[];for(i=0;count&&i<=height;i++){for(var p=i*width1,end=p+width;p<end&&!points[p];)p++;if(p!==end){var coords=[p%width1,i],p0=p,type=points[p];do{var step=steps[type];do{p+=step}while(!points[p]);var pp=points[p];5!==pp&&10!==pp?(type=pp,points[p]=0):(type=pp&51*type>>4,points[p]&=type>>2|type<<2),coords.push(p%width1,p/width1|0),points[p]||--count}while(p0!==p);outlines.push(coords),--i}}return function drawOutline(c){c.save(),c.scale(1/width,-1/height),c.translate(0,-height),c.beginPath();for(var k=0,kk=outlines.length;k<kk;k++){var o=outlines[k];c.moveTo(o[0],o[1]);for(var l=2,ll=o.length;l<ll;l+=2)c.lineTo(o[l],o[l+1])}c.fill(),c.beginPath(),c.restore()}}({data:img.data,width:width,height:height}):null),null!=glyph&&glyph.compiled)glyph.compiled(ctx);else{var mask=this._createMaskCanvas(img),maskCanvas=mask.canvas;ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(maskCanvas,mask.offsetX,mask.offsetY),ctx.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function paintImageMaskXObjectRepeat(imgData,scaleX){var skewX=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,skewY=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,scaleY=arguments.length>4?arguments[4]:void 0,positions=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var ctx=this.ctx;ctx.save();var currentTransform=ctx.mozCurrentTransform;ctx.transform(scaleX,skewX,skewY,scaleY,0,0);var mask=this._createMaskCanvas(imgData);ctx.setTransform(1,0,0,1,0,0);for(var i=0,ii=positions.length;i<ii;i+=2){var trans=_util.Util.transform(currentTransform,[scaleX,skewX,skewY,scaleY,positions[i],positions[i+1]]),_util$Util$applyTrans3=_util.Util.applyTransform([0,0],trans),_util$Util$applyTrans4=_slicedToArray(_util$Util$applyTrans3,2),x=_util$Util$applyTrans4[0],y=_util$Util$applyTrans4[1];ctx.drawImage(mask.canvas,x,y)}ctx.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function paintImageMaskXObjectGroup(images){if(this.contentVisible){for(var ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,i=0,ii=images.length;i<ii;i++){var image=images[i],width=image.width,height=image.height,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,image),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this,ctx.mozCurrentTransformInverse,_pattern_helper.PathType.FILL):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),ctx.save(),ctx.transform.apply(ctx,image.transform),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()}this.compose()}}},{key:"paintImageXObject",value:function paintImageXObject(objId){if(this.contentVisible){var imgData=objId.startsWith("g_")?this.commonObjs.get(objId):this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function paintImageXObjectRepeat(objId,scaleX,scaleY,positions){if(this.contentVisible){var imgData=objId.startsWith("g_")?this.commonObjs.get(objId):this.objs.get(objId);if(imgData){for(var width=imgData.width,height=imgData.height,map=[],i=0,ii=positions.length;i<ii;i+=2)map.push({transform:[scaleX,0,0,scaleY,positions[i],positions[i+1]],x:0,y:0,w:width,h:height});this.paintInlineImageXObjectGroup(imgData,map)}else(0,_util.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function paintInlineImageXObject(imgData){if(this.contentVisible){var imgToPaint,width=imgData.width,height=imgData.height,ctx=this.ctx;if(this.save(),ctx.scale(1/width,-1/height),"function"==typeof HTMLElement&&imgData instanceof HTMLElement||!imgData.data)imgToPaint=imgData;else{var tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",width,height);putBinaryImageData(tmpCanvas.context,imgData,this.current.transferMaps),imgToPaint=tmpCanvas.canvas}var scaled=this._scaleImage(imgToPaint,ctx.mozCurrentTransformInverse);if(ctx.imageSmoothingEnabled=getImageSmoothingEnabled(ctx.mozCurrentTransform,imgData.interpolate),ctx.drawImage(scaled.img,0,0,scaled.paintWidth,scaled.paintHeight,0,-height,width,height),this.imageLayer){var position=this.getCanvasPosition(0,-height);this.imageLayer.appendImage({imgData:imgData,left:position[0],top:position[1],width:width/ctx.mozCurrentTransformInverse[0],height:height/ctx.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function paintInlineImageXObjectGroup(imgData,map){if(this.contentVisible){var ctx=this.ctx,w=imgData.width,h=imgData.height,tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",w,h);putBinaryImageData(tmpCanvas.context,imgData,this.current.transferMaps);for(var i=0,ii=map.length;i<ii;i++){var entry=map[i];if(ctx.save(),ctx.transform.apply(ctx,entry.transform),ctx.scale(1,-1),ctx.drawImage(tmpCanvas.canvas,entry.x,entry.y,entry.w,entry.h,0,-1,1,1),this.imageLayer){var position=this.getCanvasPosition(entry.x,entry.y);this.imageLayer.appendImage({imgData:imgData,left:position[0],top:position[1],width:w,height:h})}ctx.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function markPoint(tag){}},{key:"markPointProps",value:function markPointProps(tag,properties){}},{key:"beginMarkedContent",value:function beginMarkedContent(tag){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function beginMarkedContentProps(tag,properties){"OC"===tag?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(properties)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function beginCompat(){}},{key:"endCompat",value:function endCompat(){}},{key:"consumePath",value:function consumePath(clipBox){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(clipBox);var ctx=this.ctx;this.pendingClip&&(this.pendingClip===EO_CLIP?ctx.clip("evenodd"):ctx.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ctx.beginPath()}},{key:"getSinglePixelWidth",value:function getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){var m=this.ctx.mozCurrentTransform,absDet=Math.abs(m[0]*m[3]-m[2]*m[1]),sqNorm1=Math.pow(m[0],2)+Math.pow(m[2],2),sqNorm2=Math.pow(m[1],2)+Math.pow(m[3],2),pixelHeight=Math.sqrt(Math.max(sqNorm1,sqNorm2))/absDet;sqNorm1!==sqNorm2&&this._combinedScaleFactor*pixelHeight>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*pixelHeight:absDet>Number.EPSILON?this._cachedGetSinglePixelWidth=pixelHeight:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function getCanvasPosition(x,y){var transform=this.ctx.mozCurrentTransform;return[transform[0]*x+transform[2]*y+transform[4],transform[1]*x+transform[3]*y+transform[5]]}},{key:"isContentVisible",value:function isContentVisible(){for(var i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}}]),CanvasGraphics}();for(var op in exports.CanvasGraphics=CanvasGraphics,_util.OPS)void 0!==CanvasGraphics.prototype[op]&&(CanvasGraphics.prototype[_util.OPS[op]]=CanvasGraphics.prototype[op])},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.TilingPattern=exports.PathType=void 0,exports.getShadingPattern=function getShadingPattern(IR){switch(IR[0]){case"RadialAxial":return new RadialAxialShadingPattern(IR);case"Mesh":return new MeshShadingPattern(IR);case"Dummy":return new DummyShadingPattern}throw new Error("Unknown IR type: "+IR[0])};var _util=__w_pdfjs_require__(2),PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(ctx,bbox){if(bbox&&"undefined"!=typeof Path2D){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],region=new Path2D;region.rect(bbox[0],bbox[1],width,height),ctx.clip(region)}}exports.PathType=PathType;var BaseShadingPattern=function(){function BaseShadingPattern(){_classCallCheck(this,BaseShadingPattern),this.constructor===BaseShadingPattern&&(0,_util.unreachable)("Cannot initialize BaseShadingPattern.")}return _createClass(BaseShadingPattern,[{key:"getPattern",value:function getPattern(){(0,_util.unreachable)("Abstract method `getPattern` called.")}}]),BaseShadingPattern}(),RadialAxialShadingPattern=function(_BaseShadingPattern){_inherits(RadialAxialShadingPattern,_BaseShadingPattern);var _super20=_createSuper(RadialAxialShadingPattern);function RadialAxialShadingPattern(IR){var _this49;return _classCallCheck(this,RadialAxialShadingPattern),(_this49=_super20.call(this))._type=IR[1],_this49._bbox=IR[2],_this49._colorStops=IR[3],_this49._p0=IR[4],_this49._p1=IR[5],_this49._r0=IR[6],_this49._r1=IR[7],_this49.matrix=null,_this49}return _createClass(RadialAxialShadingPattern,[{key:"_createGradient",value:function _createGradient(ctx){var grad;"axial"===this._type?grad=ctx.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(grad=ctx.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var _step26,_iterator26=_createForOfIteratorHelper(this._colorStops);try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var colorStop=_step26.value;grad.addColorStop(colorStop[0],colorStop[1])}}catch(err){_iterator26.e(err)}finally{_iterator26.f()}return grad}},{key:"getPattern",value:function getPattern(ctx,owner,inverse,pathType){var pattern;if(pathType===PathType.STROKE||pathType===PathType.FILL){var ownerBBox=owner.current.getClippedPathBoundingBox(pathType,ctx.mozCurrentTransform)||[0,0,0,0],width=Math.ceil(ownerBBox[2]-ownerBBox[0])||1,height=Math.ceil(ownerBBox[3]-ownerBBox[1])||1,tmpCanvas=owner.cachedCanvases.getCanvas("pattern",width,height,!0),tmpCtx=tmpCanvas.context;tmpCtx.clearRect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height),tmpCtx.beginPath(),tmpCtx.rect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height),tmpCtx.translate(-ownerBBox[0],-ownerBBox[1]),inverse=_util.Util.transform(inverse,[1,0,0,1,ownerBBox[0],ownerBBox[1]]),tmpCtx.transform.apply(tmpCtx,owner.baseTransform),this.matrix&&tmpCtx.transform.apply(tmpCtx,this.matrix),applyBoundingBox(tmpCtx,this._bbox),tmpCtx.fillStyle=this._createGradient(tmpCtx),tmpCtx.fill(),pattern=ctx.createPattern(tmpCanvas.canvas,"no-repeat");var domMatrix=new DOMMatrix(inverse);try{pattern.setTransform(domMatrix)}catch(ex){(0,_util.warn)('RadialAxialShadingPattern.getPattern: "'+(null==ex?void 0:ex.message)+'".')}}else applyBoundingBox(ctx,this._bbox),pattern=this._createGradient(ctx);return pattern}}]),RadialAxialShadingPattern}(BaseShadingPattern);function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){var tmp,coords=context.coords,colors=context.colors,bytes=data.data,rowSize=4*data.width;coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),coords[p2+1]>coords[p3+1]&&(tmp=p2,p2=p3,p3=tmp,tmp=c2,c2=c3,c3=tmp),coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp);var x1=(coords[p1]+context.offsetX)*context.scaleX,y1=(coords[p1+1]+context.offsetY)*context.scaleY,x2=(coords[p2]+context.offsetX)*context.scaleX,y2=(coords[p2+1]+context.offsetY)*context.scaleY,x3=(coords[p3]+context.offsetX)*context.scaleX,y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(!(y1>=y3))for(var xa,car,cag,cab,xb,cbr,cbg,cbb,c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2],c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2],c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2],minY=Math.round(y1),maxY=Math.round(y3),y=minY;y<=maxY;y++){if(y<y2){var _k4=void 0;xa=x1-(x1-x2)*(_k4=y<y1?0:(y1-y)/(y1-y2)),car=c1r-(c1r-c2r)*_k4,cag=c1g-(c1g-c2g)*_k4,cab=c1b-(c1b-c2b)*_k4}else{var _k5=void 0;xa=x2-(x2-x3)*(_k5=y>y3?1:y2===y3?0:(y2-y)/(y2-y3)),car=c2r-(c2r-c3r)*_k5,cag=c2g-(c2g-c3g)*_k5,cab=c2b-(c2b-c3b)*_k5}var k=void 0;xb=x1-(x1-x3)*(k=y<y1?0:y>y3?1:(y1-y)/(y1-y3)),cbr=c1r-(c1r-c3r)*k,cbg=c1g-(c1g-c3g)*k,cbb=c1b-(c1b-c3b)*k;for(var x1_=Math.round(Math.min(xa,xb)),x2_=Math.round(Math.max(xa,xb)),j=rowSize*y+4*x1_,x=x1_;x<=x2_;x++)(k=(xa-x)/(xa-xb))<0?k=0:k>1&&(k=1),bytes[j++]=car-(car-cbr)*k|0,bytes[j++]=cag-(cag-cbg)*k|0,bytes[j++]=cab-(cab-cbb)*k|0,bytes[j++]=255}}function drawFigure(data,figure,context){var i,ii,ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":var verticesPerRow=figure.verticesPerRow,rows=Math.floor(ps.length/verticesPerRow)-1,cols=verticesPerRow-1;for(i=0;i<rows;i++)for(var q=i*verticesPerRow,j=0;j<cols;j++,q++)drawTriangle(data,context,ps[q],ps[q+1],ps[q+verticesPerRow],cs[q],cs[q+1],cs[q+verticesPerRow]),drawTriangle(data,context,ps[q+verticesPerRow+1],ps[q+1],ps[q+verticesPerRow],cs[q+verticesPerRow+1],cs[q+1],cs[q+verticesPerRow]);break;case"triangles":for(i=0,ii=ps.length;i<ii;i+=3)drawTriangle(data,context,ps[i],ps[i+1],ps[i+2],cs[i],cs[i+1],cs[i+2]);break;default:throw new Error("illegal figure")}}var MeshShadingPattern=function(_BaseShadingPattern2){_inherits(MeshShadingPattern,_BaseShadingPattern2);var _super21=_createSuper(MeshShadingPattern);function MeshShadingPattern(IR){var _this50;return _classCallCheck(this,MeshShadingPattern),(_this50=_super21.call(this))._coords=IR[2],_this50._colors=IR[3],_this50._figures=IR[4],_this50._bounds=IR[5],_this50._bbox=IR[7],_this50._background=IR[8],_this50.matrix=null,_this50}return _createClass(MeshShadingPattern,[{key:"_createMeshCanvas",value:function _createMeshCanvas(combinedScale,backgroundColor,cachedCanvases){var offsetX=Math.floor(this._bounds[0]),offsetY=Math.floor(this._bounds[1]),boundsWidth=Math.ceil(this._bounds[2])-offsetX,boundsHeight=Math.ceil(this._bounds[3])-offsetY,width=Math.min(Math.ceil(Math.abs(boundsWidth*combinedScale[0]*1.1)),3e3),height=Math.min(Math.ceil(Math.abs(boundsHeight*combinedScale[1]*1.1)),3e3),scaleX=boundsWidth/width,scaleY=boundsHeight/height,context={coords:this._coords,colors:this._colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/scaleX,scaleY:1/scaleY},paddedWidth=width+4,paddedHeight=height+4,tmpCanvas=cachedCanvases.getCanvas("mesh",paddedWidth,paddedHeight,!1),tmpCtx=tmpCanvas.context,data=tmpCtx.createImageData(width,height);if(backgroundColor)for(var bytes=data.data,i=0,ii=bytes.length;i<ii;i+=4)bytes[i]=backgroundColor[0],bytes[i+1]=backgroundColor[1],bytes[i+2]=backgroundColor[2],bytes[i+3]=255;var _step27,_iterator27=_createForOfIteratorHelper(this._figures);try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){drawFigure(data,_step27.value,context)}}catch(err){_iterator27.e(err)}finally{_iterator27.f()}return tmpCtx.putImageData(data,2,2),{canvas:tmpCanvas.canvas,offsetX:offsetX-2*scaleX,offsetY:offsetY-2*scaleY,scaleX:scaleX,scaleY:scaleY}}},{key:"getPattern",value:function getPattern(ctx,owner,inverse,pathType){var scale;if(applyBoundingBox(ctx,this._bbox),pathType===PathType.SHADING)scale=_util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);else if(scale=_util.Util.singularValueDecompose2dScale(owner.baseTransform),this.matrix){var matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix);scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]]}var temporaryPatternCanvas=this._createMeshCanvas(scale,pathType===PathType.SHADING?null:this._background,owner.cachedCanvases);return pathType!==PathType.SHADING&&(ctx.setTransform.apply(ctx,owner.baseTransform),this.matrix&&ctx.transform.apply(ctx,this.matrix)),ctx.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),ctx.scale(temporaryPatternCanvas.scaleX,temporaryPatternCanvas.scaleY),ctx.createPattern(temporaryPatternCanvas.canvas,"no-repeat")}}]),MeshShadingPattern}(BaseShadingPattern),DummyShadingPattern=function(_BaseShadingPattern3){_inherits(DummyShadingPattern,_BaseShadingPattern3);var _super22=_createSuper(DummyShadingPattern);function DummyShadingPattern(){return _classCallCheck(this,DummyShadingPattern),_super22.apply(this,arguments)}return _createClass(DummyShadingPattern,[{key:"getPattern",value:function getPattern(){return"hotpink"}}]),DummyShadingPattern}(BaseShadingPattern);var PaintType_COLORED=1,PaintType_UNCOLORED=2,TilingPattern=function(){function TilingPattern(IR,color,ctx,canvasGraphicsFactory,baseTransform){_classCallCheck(this,TilingPattern),this.operatorList=IR[2],this.matrix=IR[3]||[1,0,0,1,0,0],this.bbox=IR[4],this.xstep=IR[5],this.ystep=IR[6],this.paintType=IR[7],this.tilingType=IR[8],this.color=color,this.ctx=ctx,this.canvasGraphicsFactory=canvasGraphicsFactory,this.baseTransform=baseTransform}return _createClass(TilingPattern,[{key:"createPatternCanvas",value:function createPatternCanvas(owner){var operatorList=this.operatorList,bbox=this.bbox,xstep=this.xstep,ystep=this.ystep,paintType=this.paintType,tilingType=this.tilingType,color=this.color,canvasGraphicsFactory=this.canvasGraphicsFactory;(0,_util.info)("TilingType: "+tilingType);var x0=bbox[0],y0=bbox[1],x1=bbox[2],y1=bbox[3],matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix),curMatrixScale=_util.Util.singularValueDecompose2dScale(this.baseTransform),combinedScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]],dimx=this.getSizeAndScale(xstep,this.ctx.canvas.width,combinedScale[0]),dimy=this.getSizeAndScale(ystep,this.ctx.canvas.height,combinedScale[1]),tmpCanvas=owner.cachedCanvases.getCanvas("pattern",dimx.size,dimy.size,!0),tmpCtx=tmpCanvas.context,graphics=canvasGraphicsFactory.createCanvasGraphics(tmpCtx);graphics.groupLevel=owner.groupLevel,this.setFillAndStrokeStyleToContext(graphics,paintType,color);var adjustedX0=x0,adjustedY0=y0,adjustedX1=x1,adjustedY1=y1;return x0<0&&(adjustedX0=0,adjustedX1+=Math.abs(x0)),y0<0&&(adjustedY0=0,adjustedY1+=Math.abs(y0)),tmpCtx.translate(-dimx.scale*adjustedX0,-dimy.scale*adjustedY0),graphics.transform(dimx.scale,0,0,dimy.scale,0,0),this.clipBbox(graphics,adjustedX0,adjustedY0,adjustedX1,adjustedY1),graphics.baseTransform=graphics.ctx.mozCurrentTransform.slice(),graphics.executeOperatorList(operatorList),graphics.endDrawing(),{canvas:tmpCanvas.canvas,scaleX:dimx.scale,scaleY:dimy.scale,offsetX:adjustedX0,offsetY:adjustedY0}}},{key:"getSizeAndScale",value:function getSizeAndScale(step,realOutputSize,scale){step=Math.abs(step);var maxSize=Math.max(TilingPattern.MAX_PATTERN_SIZE,realOutputSize),size=Math.ceil(step*scale);return size>=maxSize?size=maxSize:scale=size/step,{scale:scale,size:size}}},{key:"clipBbox",value:function clipBbox(graphics,x0,y0,x1,y1){var bboxWidth=x1-x0,bboxHeight=y1-y0;graphics.ctx.rect(x0,y0,bboxWidth,bboxHeight),graphics.clip(),graphics.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function setFillAndStrokeStyleToContext(graphics,paintType,color){var context=graphics.ctx,current=graphics.current;switch(paintType){case PaintType_COLORED:var ctx=this.ctx;context.fillStyle=ctx.fillStyle,context.strokeStyle=ctx.strokeStyle,current.fillColor=ctx.fillStyle,current.strokeColor=ctx.strokeStyle;break;case PaintType_UNCOLORED:var cssColor=_util.Util.makeHexColor(color[0],color[1],color[2]);context.fillStyle=cssColor,context.strokeStyle=cssColor,current.fillColor=cssColor,current.strokeColor=cssColor;break;default:throw new _util.FormatError("Unsupported paint type: "+paintType)}}},{key:"getPattern",value:function getPattern(ctx,owner,inverse,pathType){var matrix=inverse;pathType!==PathType.SHADING&&(matrix=_util.Util.transform(matrix,owner.baseTransform),this.matrix&&(matrix=_util.Util.transform(matrix,this.matrix)));var temporaryPatternCanvas=this.createPatternCanvas(owner),domMatrix=new DOMMatrix(matrix);domMatrix=(domMatrix=domMatrix.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY)).scale(1/temporaryPatternCanvas.scaleX,1/temporaryPatternCanvas.scaleY);var pattern=ctx.createPattern(temporaryPatternCanvas.canvas,"repeat");try{pattern.setTransform(domMatrix)}catch(ex){(0,_util.warn)('TilingPattern.getPattern: "'+(null==ex?void 0:ex.message)+'".')}return pattern}}],[{key:"MAX_PATTERN_SIZE",get:function get(){return(0,_util.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),TilingPattern}();exports.TilingPattern=TilingPattern},function(__unused_webpack_module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalWorkerOptions=void 0;var GlobalWorkerOptions=Object.create(null);exports.GlobalWorkerOptions=GlobalWorkerOptions,GlobalWorkerOptions.workerPort=void 0===GlobalWorkerOptions.workerPort?null:GlobalWorkerOptions.workerPort,GlobalWorkerOptions.workerSrc=void 0===GlobalWorkerOptions.workerSrc?"":GlobalWorkerOptions.workerSrc},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageHandler=void 0;var _util=__w_pdfjs_require__(2),CallbackKind_DATA=1,CallbackKind_ERROR=2,StreamKind_CANCEL=1,StreamKind_CANCEL_COMPLETE=2,StreamKind_CLOSE=3,StreamKind_ENQUEUE=4,StreamKind_ERROR=5,StreamKind_PULL=6,StreamKind_PULL_COMPLETE=7,StreamKind_START_COMPLETE=8;function wrapReason(reason){if(!(reason instanceof Error||"object"==typeof reason&&null!==reason))return(0,_util.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),reason;switch(reason.name){case"AbortException":return new _util.AbortException(reason.message);case"MissingPDFException":return new _util.MissingPDFException(reason.message);case"PasswordException":return new _util.PasswordException(reason.message,reason.code);case"UnexpectedResponseException":return new _util.UnexpectedResponseException(reason.message,reason.status);case"UnknownErrorException":return new _util.UnknownErrorException(reason.message,reason.details);default:return new _util.UnknownErrorException(reason.message,reason.toString())}}var MessageHandler=function(){function MessageHandler(sourceName,targetName,comObj){var _this51=this;_classCallCheck(this,MessageHandler),this.sourceName=sourceName,this.targetName=targetName,this.comObj=comObj,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(event){var data=event.data;if(data.targetName===_this51.sourceName)if(data.stream)_this51._processStreamMessage(data);else if(data.callback){var callbackId=data.callbackId,capability=_this51.callbackCapabilities[callbackId];if(!capability)throw new Error("Cannot resolve callback "+callbackId);if(delete _this51.callbackCapabilities[callbackId],data.callback===CallbackKind_DATA)capability.resolve(data.data);else{if(data.callback!==CallbackKind_ERROR)throw new Error("Unexpected callback case");capability.reject(wrapReason(data.reason))}}else{var action=_this51.actionHandler[data.action];if(!action)throw new Error("Unknown action from worker: "+data.action);if(data.callbackId){var cbSourceName=_this51.sourceName,cbTargetName=data.sourceName;new Promise((function(resolve){resolve(action(data.data))})).then((function(result){comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:CallbackKind_DATA,callbackId:data.callbackId,data:result})}),(function(reason){comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:CallbackKind_ERROR,callbackId:data.callbackId,reason:wrapReason(reason)})}))}else data.streamId?_this51._createStreamSink(data):action(data.data)}},comObj.addEventListener("message",this._onComObjOnMessage)}var _deleteStreamController2;return _createClass(MessageHandler,[{key:"on",value:function on(actionName,handler){var ah=this.actionHandler;if(ah[actionName])throw new Error('There is already an actionName called "'+actionName+'"');ah[actionName]=handler}},{key:"send",value:function send(actionName,data,transfers){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,data:data},transfers)}},{key:"sendWithPromise",value:function sendWithPromise(actionName,data,transfers){var callbackId=this.callbackId++,capability=(0,_util.createPromiseCapability)();this.callbackCapabilities[callbackId]=capability;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,callbackId:callbackId,data:data},transfers)}catch(ex){capability.reject(ex)}return capability.promise}},{key:"sendWithStream",value:function sendWithStream(actionName,data,queueingStrategy,transfers){var _this52=this,streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName,comObj=this.comObj;return new ReadableStream({start:function start(controller){var startCapability=(0,_util.createPromiseCapability)();return _this52.streamControllers[streamId]={controller:controller,startCall:startCapability,pullCall:null,cancelCall:null,isClosed:!1},comObj.postMessage({sourceName:sourceName,targetName:targetName,action:actionName,streamId:streamId,data:data,desiredSize:controller.desiredSize},transfers),startCapability.promise},pull:function pull(controller){var pullCapability=(0,_util.createPromiseCapability)();return _this52.streamControllers[streamId].pullCall=pullCapability,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL,streamId:streamId,desiredSize:controller.desiredSize}),pullCapability.promise},cancel:function cancel(reason){(0,_util.assert)(reason instanceof Error,"cancel must have a valid reason");var cancelCapability=(0,_util.createPromiseCapability)();return _this52.streamControllers[streamId].cancelCall=cancelCapability,_this52.streamControllers[streamId].isClosed=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CANCEL,streamId:streamId,reason:wrapReason(reason)}),cancelCapability.promise}},queueingStrategy)}},{key:"_createStreamSink",value:function _createStreamSink(data){var streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj,self=this,action=this.actionHandler[data.action],streamSink={enqueue:function enqueue(chunk){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,transfers=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var lastDesiredSize=this.desiredSize;this.desiredSize-=size,lastDesiredSize>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_util.createPromiseCapability)(),this.ready=this.sinkCapability.promise),comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_ENQUEUE,streamId:streamId,chunk:chunk},transfers)}},close:function close(){this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CLOSE,streamId:streamId}),delete self.streamSinks[streamId])},error:function error(reason){(0,_util.assert)(reason instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_ERROR,streamId:streamId,reason:wrapReason(reason)}))},sinkCapability:(0,_util.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:data.desiredSize,ready:null};streamSink.sinkCapability.resolve(),streamSink.ready=streamSink.sinkCapability.promise,this.streamSinks[streamId]=streamSink,new Promise((function(resolve){resolve(action(data.data,streamSink))})).then((function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_START_COMPLETE,streamId:streamId,success:!0})}),(function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_START_COMPLETE,streamId:streamId,reason:wrapReason(reason)})}))}},{key:"_processStreamMessage",value:function _processStreamMessage(data){var streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj,streamController=this.streamControllers[streamId],streamSink=this.streamSinks[streamId];switch(data.stream){case StreamKind_START_COMPLETE:data.success?streamController.startCall.resolve():streamController.startCall.reject(wrapReason(data.reason));break;case StreamKind_PULL_COMPLETE:data.success?streamController.pullCall.resolve():streamController.pullCall.reject(wrapReason(data.reason));break;case StreamKind_PULL:if(!streamSink){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL_COMPLETE,streamId:streamId,success:!0});break}streamSink.desiredSize<=0&&data.desiredSize>0&&streamSink.sinkCapability.resolve(),streamSink.desiredSize=data.desiredSize,new Promise((function(resolve){resolve(streamSink.onPull&&streamSink.onPull())})).then((function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL_COMPLETE,streamId:streamId,success:!0})}),(function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_PULL_COMPLETE,streamId:streamId,reason:wrapReason(reason)})}));break;case StreamKind_ENQUEUE:if((0,_util.assert)(streamController,"enqueue should have stream controller"),streamController.isClosed)break;streamController.controller.enqueue(data.chunk);break;case StreamKind_CLOSE:if((0,_util.assert)(streamController,"close should have stream controller"),streamController.isClosed)break;streamController.isClosed=!0,streamController.controller.close(),this._deleteStreamController(streamController,streamId);break;case StreamKind_ERROR:(0,_util.assert)(streamController,"error should have stream controller"),streamController.controller.error(wrapReason(data.reason)),this._deleteStreamController(streamController,streamId);break;case StreamKind_CANCEL_COMPLETE:data.success?streamController.cancelCall.resolve():streamController.cancelCall.reject(wrapReason(data.reason)),this._deleteStreamController(streamController,streamId);break;case StreamKind_CANCEL:if(!streamSink)break;new Promise((function(resolve){resolve(streamSink.onCancel&&streamSink.onCancel(wrapReason(data.reason)))})).then((function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CANCEL_COMPLETE,streamId:streamId,success:!0})}),(function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind_CANCEL_COMPLETE,streamId:streamId,reason:wrapReason(reason)})})),streamSink.sinkCapability.reject(wrapReason(data.reason)),streamSink.isCancelled=!0,delete this.streamSinks[streamId];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(_deleteStreamController2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee19(streamController,streamId){return _regeneratorRuntime().wrap((function _callee19$(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:return _context19.next=2,Promise.allSettled([streamController.startCall&&streamController.startCall.promise,streamController.pullCall&&streamController.pullCall.promise,streamController.cancelCall&&streamController.cancelCall.promise]);case 2:delete this.streamControllers[streamId];case 3:case"end":return _context19.stop()}}),_callee19,this)}))),function _deleteStreamController(_x9,_x10){return _deleteStreamController2.apply(this,arguments)})},{key:"destroy",value:function destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),MessageHandler}();exports.MessageHandler=MessageHandler},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.Metadata=void 0;var _util=__w_pdfjs_require__(2),_metadataMap=_classPrivateFieldLooseKey("metadataMap"),_data=_classPrivateFieldLooseKey("data"),Metadata=function(){function Metadata(_ref56){var parsedData=_ref56.parsedData,rawData=_ref56.rawData;_classCallCheck(this,Metadata),Object.defineProperty(this,_metadataMap,{writable:!0,value:void 0}),Object.defineProperty(this,_data,{writable:!0,value:void 0}),_classPrivateFieldLooseBase(this,_metadataMap)[_metadataMap]=parsedData,_classPrivateFieldLooseBase(this,_data)[_data]=rawData}return _createClass(Metadata,[{key:"getRaw",value:function getRaw(){return _classPrivateFieldLooseBase(this,_data)[_data]}},{key:"get",value:function get(name){var _classPrivateFieldLoo2;return null!==(_classPrivateFieldLoo2=_classPrivateFieldLooseBase(this,_metadataMap)[_metadataMap].get(name))&&void 0!==_classPrivateFieldLoo2?_classPrivateFieldLoo2:null}},{key:"getAll",value:function getAll(){return(0,_util.objectFromMap)(_classPrivateFieldLooseBase(this,_metadataMap)[_metadataMap])}},{key:"has",value:function has(name){return _classPrivateFieldLooseBase(this,_metadataMap)[_metadataMap].has(name)}}]),Metadata}();exports.Metadata=Metadata},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionalContentConfig=void 0;var _util=__w_pdfjs_require__(2),OptionalContentGroup=_createClass((function OptionalContentGroup(name,intent){_classCallCheck(this,OptionalContentGroup),this.visible=!0,this.name=name,this.intent=intent})),OptionalContentConfig=function(){function OptionalContentConfig(data){if(_classCallCheck(this,OptionalContentConfig),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==data){this.name=data.name,this.creator=data.creator,this._order=data.order;var _step28,_iterator28=_createForOfIteratorHelper(data.groups);try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var group=_step28.value;this._groups.set(group.id,new OptionalContentGroup(group.name,group.intent))}}catch(err){_iterator28.e(err)}finally{_iterator28.f()}if("OFF"===data.baseState){var _step29,_iterator29=_createForOfIteratorHelper(this._groups);try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){_step29.value.visible=!1}}catch(err){_iterator29.e(err)}finally{_iterator29.f()}}var _step30,_iterator30=_createForOfIteratorHelper(data.on);try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var on=_step30.value;this._groups.get(on).visible=!0}}catch(err){_iterator30.e(err)}finally{_iterator30.f()}var _step31,_iterator31=_createForOfIteratorHelper(data.off);try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var off=_step31.value;this._groups.get(off).visible=!1}}catch(err){_iterator31.e(err)}finally{_iterator31.f()}}}return _createClass(OptionalContentConfig,[{key:"_evaluateVisibilityExpression",value:function _evaluateVisibilityExpression(array){var length=array.length;if(length<2)return!0;for(var operator=array[0],i=1;i<length;i++){var element=array[i],state=void 0;if(Array.isArray(element))state=this._evaluateVisibilityExpression(element);else{if(!this._groups.has(element))return(0,_util.warn)("Optional content group not found: "+element),!0;state=this._groups.get(element).visible}switch(operator){case"And":if(!state)return!1;break;case"Or":if(state)return!0;break;case"Not":return!state;default:return!0}}return"And"===operator}},{key:"isVisible",value:function isVisible(group){if(0===this._groups.size)return!0;if(!group)return(0,_util.warn)("Optional content group not defined."),!0;if("OCG"===group.type)return this._groups.has(group.id)?this._groups.get(group.id).visible:((0,_util.warn)("Optional content group not found: "+group.id),!0);if("OCMD"===group.type){if(group.expression)return this._evaluateVisibilityExpression(group.expression);if(!group.policy||"AnyOn"===group.policy){var _step32,_iterator32=_createForOfIteratorHelper(group.ids);try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _id2=_step32.value;if(!this._groups.has(_id2))return(0,_util.warn)("Optional content group not found: "+_id2),!0;if(this._groups.get(_id2).visible)return!0}}catch(err){_iterator32.e(err)}finally{_iterator32.f()}return!1}if("AllOn"===group.policy){var _step33,_iterator33=_createForOfIteratorHelper(group.ids);try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _id3=_step33.value;if(!this._groups.has(_id3))return(0,_util.warn)("Optional content group not found: "+_id3),!0;if(!this._groups.get(_id3).visible)return!1}}catch(err){_iterator33.e(err)}finally{_iterator33.f()}return!0}if("AnyOff"===group.policy){var _step34,_iterator34=_createForOfIteratorHelper(group.ids);try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _id4=_step34.value;if(!this._groups.has(_id4))return(0,_util.warn)("Optional content group not found: "+_id4),!0;if(!this._groups.get(_id4).visible)return!0}}catch(err){_iterator34.e(err)}finally{_iterator34.f()}return!1}if("AllOff"===group.policy){var _step35,_iterator35=_createForOfIteratorHelper(group.ids);try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _id5=_step35.value;if(!this._groups.has(_id5))return(0,_util.warn)("Optional content group not found: "+_id5),!0;if(this._groups.get(_id5).visible)return!1}}catch(err){_iterator35.e(err)}finally{_iterator35.f()}return!0}return(0,_util.warn)("Unknown optional content policy "+group.policy+"."),!0}return(0,_util.warn)("Unknown group type "+group.type+"."),!0}},{key:"setVisibility",value:function setVisibility(id){var visible=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(id)?this._groups.get(id).visible=!!visible:(0,_util.warn)("Optional content group not found: "+id)}},{key:"getOrder",value:function getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function getGroups(){return this._groups.size>0?(0,_util.objectFromMap)(this._groups):null}},{key:"getGroup",value:function getGroup(id){return this._groups.get(id)||null}}]),OptionalContentConfig}();exports.OptionalContentConfig=OptionalContentConfig},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFDataTransportStream=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),PDFDataTransportStream=function(){function PDFDataTransportStream(params,pdfDataRangeTransport){var _this53=this;_classCallCheck(this,PDFDataTransportStream),(0,_util.assert)(pdfDataRangeTransport,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=params.progressiveDone||!1,this._contentDispositionFilename=params.contentDispositionFilename||null;var initialData=params.initialData;if((null==initialData?void 0:initialData.length)>0){var buffer=new Uint8Array(initialData).buffer;this._queuedChunks.push(buffer)}this._pdfDataRangeTransport=pdfDataRangeTransport,this._isStreamingSupported=!params.disableStream,this._isRangeSupported=!params.disableRange,this._contentLength=params.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(begin,chunk){_this53._onReceiveData({begin:begin,chunk:chunk})})),this._pdfDataRangeTransport.addProgressListener((function(loaded,total){_this53._onProgress({loaded:loaded,total:total})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(chunk){_this53._onReceiveData({chunk:chunk})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){_this53._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(PDFDataTransportStream,[{key:"_onReceiveData",value:function _onReceiveData(args){var buffer=new Uint8Array(args.chunk).buffer;if(void 0===args.begin)this._fullRequestReader?this._fullRequestReader._enqueue(buffer):this._queuedChunks.push(buffer);else{var found=this._rangeReaders.some((function(rangeReader){return rangeReader._begin===args.begin&&(rangeReader._enqueue(buffer),!0)}));(0,_util.assert)(found,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function get(){var _this$_fullRequestRea,_this$_fullRequestRea2;return null!==(_this$_fullRequestRea=null===(_this$_fullRequestRea2=this._fullRequestReader)||void 0===_this$_fullRequestRea2?void 0:_this$_fullRequestRea2._loaded)&&void 0!==_this$_fullRequestRea?_this$_fullRequestRea:0}},{key:"_onProgress",value:function _onProgress(evt){if(void 0===evt.total){var firstReader=this._rangeReaders[0];null!=firstReader&&firstReader.onProgress&&firstReader.onProgress({loaded:evt.loaded})}else{var fullReader=this._fullRequestReader;null!=fullReader&&fullReader.onProgress&&fullReader.onProgress({loaded:evt.loaded,total:evt.total})}}},{key:"_onProgressiveDone",value:function _onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function _removeRangeReader(reader){var i=this._rangeReaders.indexOf(reader);i>=0&&this._rangeReaders.splice(i,1)}},{key:"getFullReader",value:function getFullReader(){(0,_util.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var queuedChunks=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,queuedChunks,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function getRangeReader(begin,end){if(end<=this._progressiveDataLength)return null;var reader=new PDFDataTransportStreamRangeReader(this,begin,end);return this._pdfDataRangeTransport.requestDataRange(begin,end),this._rangeReaders.push(reader),reader}},{key:"cancelAllRequests",value:function cancelAllRequests(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason);var _step36,_iterator36=_createForOfIteratorHelper(this._rangeReaders.slice(0));try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){_step36.value.cancel(reason)}}catch(err){_iterator36.e(err)}finally{_iterator36.f()}this._pdfDataRangeTransport.abort()}}]),PDFDataTransportStream}();exports.PDFDataTransportStream=PDFDataTransportStream;var PDFDataTransportStreamReader=function(){function PDFDataTransportStreamReader(stream,queuedChunks){var progressiveDone=arguments.length>2&&void 0!==arguments[2]&&arguments[2],contentDispositionFilename=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,PDFDataTransportStreamReader),this._stream=stream,this._done=progressiveDone||!1,this._filename=(0,_display_utils.isPdfFile)(contentDispositionFilename)?contentDispositionFilename:null,this._queuedChunks=queuedChunks||[],this._loaded=0;var _step37,_iterator37=_createForOfIteratorHelper(this._queuedChunks);try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var chunk=_step37.value;this._loaded+=chunk.byteLength}}catch(err){_iterator37.e(err)}finally{_iterator37.f()}this._requests=[],this._headersReady=Promise.resolve(),stream._fullRequestReader=this,this.onProgress=null}var _read;return _createClass(PDFDataTransportStreamReader,[{key:"_enqueue",value:function _enqueue(chunk){if(!this._done){if(this._requests.length>0)this._requests.shift().resolve({value:chunk,done:!1});else this._queuedChunks.push(chunk);this._loaded+=chunk.byteLength}}},{key:"headersReady",get:function get(){return this._headersReady}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function get(){return this._stream._contentLength}},{key:"read",value:(_read=_asyncToGenerator(_regeneratorRuntime().mark((function _callee20(){var chunk,requestCapability;return _regeneratorRuntime().wrap((function _callee20$(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:if(!(this._queuedChunks.length>0)){_context20.next=3;break}return chunk=this._queuedChunks.shift(),_context20.abrupt("return",{value:chunk,done:!1});case 3:if(!this._done){_context20.next=5;break}return _context20.abrupt("return",{value:void 0,done:!0});case 5:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context20.abrupt("return",requestCapability.promise);case 8:case"end":return _context20.stop()}}),_callee20,this)}))),function read(){return _read.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._done=!0;var _step38,_iterator38=_createForOfIteratorHelper(this._requests);try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){_step38.value.resolve({value:void 0,done:!0})}}catch(err){_iterator38.e(err)}finally{_iterator38.f()}this._requests.length=0}},{key:"progressiveDone",value:function progressiveDone(){this._done||(this._done=!0)}}]),PDFDataTransportStreamReader}(),PDFDataTransportStreamRangeReader=function(){function PDFDataTransportStreamRangeReader(stream,begin,end){_classCallCheck(this,PDFDataTransportStreamRangeReader),this._stream=stream,this._begin=begin,this._end=end,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var _read2;return _createClass(PDFDataTransportStreamRangeReader,[{key:"_enqueue",value:function _enqueue(chunk){if(!this._done){if(0===this._requests.length)this._queuedChunk=chunk;else{this._requests.shift().resolve({value:chunk,done:!1});var _step39,_iterator39=_createForOfIteratorHelper(this._requests);try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){_step39.value.resolve({value:void 0,done:!0})}}catch(err){_iterator39.e(err)}finally{_iterator39.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function get(){return!1}},{key:"read",value:(_read2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee21(){var chunk,requestCapability;return _regeneratorRuntime().wrap((function _callee21$(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:if(!this._queuedChunk){_context21.next=4;break}return chunk=this._queuedChunk,this._queuedChunk=null,_context21.abrupt("return",{value:chunk,done:!1});case 4:if(!this._done){_context21.next=6;break}return _context21.abrupt("return",{value:void 0,done:!0});case 6:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context21.abrupt("return",requestCapability.promise);case 9:case"end":return _context21.stop()}}),_callee21,this)}))),function read(){return _read2.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._done=!0;var _step40,_iterator40=_createForOfIteratorHelper(this._requests);try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){_step40.value.resolve({value:void 0,done:!0})}}catch(err){_iterator40.e(err)}finally{_iterator40.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),PDFDataTransportStreamRangeReader}()},function(__unused_webpack_module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.XfaText=void 0;var XfaText=function(){function XfaText(){_classCallCheck(this,XfaText)}return _createClass(XfaText,null,[{key:"textContent",value:function textContent(xfa){var items=[],output={items:items,styles:Object.create(null)};return function walk(node){var _node$attributes;if(node){var str=null,name=node.name;if("#text"===name)str=node.value;else{if(!XfaText.shouldBuildText(name))return;null!=node&&null!==(_node$attributes=node.attributes)&&void 0!==_node$attributes&&_node$attributes.textContent?str=node.attributes.textContent:node.value&&(str=node.value)}if(null!==str&&items.push({str:str}),node.children){var _step41,_iterator41=_createForOfIteratorHelper(node.children);try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){walk(_step41.value)}}catch(err){_iterator41.e(err)}finally{_iterator41.f()}}}}(xfa),output}},{key:"shouldBuildText",value:function shouldBuildText(name){return!("textarea"===name||"input"===name||"option"===name||"select"===name)}}]),XfaText}();exports.XfaText=XfaText},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnotationLayer=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(9),_scripting_utils=__w_pdfjs_require__(19),_xfa_layer=__w_pdfjs_require__(20),GetElementsByNameSet=new WeakSet,AnnotationElementFactory=function(){function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory)}return _createClass(AnnotationElementFactory,null,[{key:"create",value:function create(parameters){switch(parameters.data.annotationType){case _util.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util.AnnotationType.WIDGET:switch(parameters.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(parameters);case"Btn":return parameters.data.radioButton?new RadioButtonWidgetAnnotationElement(parameters):parameters.data.checkBox?new CheckboxWidgetAnnotationElement(parameters):new PushButtonWidgetAnnotationElement(parameters);case"Ch":return new ChoiceWidgetAnnotationElement(parameters)}return new WidgetAnnotationElement(parameters);case _util.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(parameters);case _util.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util.AnnotationType.CARET:return new CaretAnnotationElement(parameters);case _util.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters)}}}]),AnnotationElementFactory}(),AnnotationElement=function(){function AnnotationElement(parameters){var _ref57=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref57$isRenderable=_ref57.isRenderable,isRenderable=void 0!==_ref57$isRenderable&&_ref57$isRenderable,_ref57$ignoreBorder=_ref57.ignoreBorder,ignoreBorder=void 0!==_ref57$ignoreBorder&&_ref57$ignoreBorder,_ref57$createQuadrila=_ref57.createQuadrilaterals,createQuadrilaterals=void 0!==_ref57$createQuadrila&&_ref57$createQuadrila;_classCallCheck(this,AnnotationElement),this.isRenderable=isRenderable,this.data=parameters.data,this.layer=parameters.layer,this.page=parameters.page,this.viewport=parameters.viewport,this.linkService=parameters.linkService,this.downloadManager=parameters.downloadManager,this.imageResourcesPath=parameters.imageResourcesPath,this.renderForms=parameters.renderForms,this.svgFactory=parameters.svgFactory,this.annotationStorage=parameters.annotationStorage,this.enableScripting=parameters.enableScripting,this.hasJSActions=parameters.hasJSActions,this._fieldObjects=parameters.fieldObjects,this._mouseState=parameters.mouseState,isRenderable&&(this.container=this._createContainer(ignoreBorder)),createQuadrilaterals&&(this.quadrilaterals=this._createQuadrilaterals(ignoreBorder))}return _createClass(AnnotationElement,[{key:"_createContainer",value:function _createContainer(){var ignoreBorder=arguments.length>0&&void 0!==arguments[0]&&arguments[0],data=this.data,page=this.page,viewport=this.viewport,container=document.createElement("section"),width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1];container.setAttribute("data-annotation-id",data.id);var rect=_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(data.hasOwnCanvas){var transform=viewport.transform.slice(),_util$Util$singularVa3=_util.Util.singularValueDecompose2dScale(transform),_util$Util$singularVa4=_slicedToArray(_util$Util$singularVa3,2),scaleX=_util$Util$singularVa4[0],scaleY=_util$Util$singularVa4[1];width=Math.ceil(width*scaleX),height=Math.ceil(height*scaleY),rect[0]*=scaleX,rect[1]*=scaleY;for(var i=0;i<4;i++)transform[i]=Math.sign(transform[i]);container.style.transform="matrix("+transform.join(",")+")"}else container.style.transform="matrix("+viewport.transform.join(",")+")";if(container.style.transformOrigin=-rect[0]+"px "+-rect[1]+"px",!ignoreBorder&&data.borderStyle.width>0){container.style.borderWidth=data.borderStyle.width+"px",data.borderStyle.style!==_util.AnnotationBorderStyleType.UNDERLINE&&(width-=2*data.borderStyle.width,height-=2*data.borderStyle.width);var horizontalRadius=data.borderStyle.horizontalCornerRadius,verticalRadius=data.borderStyle.verticalCornerRadius;if(horizontalRadius>0||verticalRadius>0){var radius=horizontalRadius+"px / "+verticalRadius+"px";container.style.borderRadius=radius}switch(data.borderStyle.style){case _util.AnnotationBorderStyleType.SOLID:container.style.borderStyle="solid";break;case _util.AnnotationBorderStyleType.DASHED:container.style.borderStyle="dashed";break;case _util.AnnotationBorderStyleType.BEVELED:(0,_util.warn)("Unimplemented border style: beveled");break;case _util.AnnotationBorderStyleType.INSET:(0,_util.warn)("Unimplemented border style: inset");break;case _util.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle="solid"}var borderColor=data.borderColor||data.color||null;borderColor?container.style.borderColor=_util.Util.makeHexColor(0|data.color[0],0|data.color[1],0|data.color[2]):container.style.borderWidth=0}return container.style.left=rect[0]+"px",container.style.top=rect[1]+"px",data.hasOwnCanvas?container.style.width=container.style.height="auto":(container.style.width=width+"px",container.style.height=height+"px"),container}},{key:"_createQuadrilaterals",value:function _createQuadrilaterals(){var ignoreBorder=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var _step42,quadrilaterals=[],savedRect=this.data.rect,_iterator42=_createForOfIteratorHelper(this.data.quadPoints);try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var quadPoint=_step42.value;this.data.rect=[quadPoint[2].x,quadPoint[2].y,quadPoint[1].x,quadPoint[1].y],quadrilaterals.push(this._createContainer(ignoreBorder))}}catch(err){_iterator42.e(err)}finally{_iterator42.f()}return this.data.rect=savedRect,quadrilaterals}},{key:"_createPopup",value:function _createPopup(trigger,data){var container=this.container;this.quadrilaterals&&(trigger=trigger||this.quadrilaterals,container=this.quadrilaterals[0]),trigger||((trigger=document.createElement("div")).style.height=container.style.height,trigger.style.width=container.style.width,container.appendChild(trigger));var popup=new PopupElement({container:container,trigger:trigger,color:data.color,titleObj:data.titleObj,modificationDate:data.modificationDate,contentsObj:data.contentsObj,richText:data.richText,hideWrapper:!0}).render();popup.style.left=container.style.width,container.appendChild(popup)}},{key:"_renderQuadrilaterals",value:function _renderQuadrilaterals(className){var _step43,_iterator43=_createForOfIteratorHelper(this.quadrilaterals);try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){_step43.value.className=className}}catch(err){_iterator43.e(err)}finally{_iterator43.f()}return this.quadrilaterals}},{key:"render",value:function render(){(0,_util.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function _getElementsByName(name){var skipId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,fields=[];if(this._fieldObjects){var fieldObj=this._fieldObjects[name];if(fieldObj){var _step44,_iterator44=_createForOfIteratorHelper(fieldObj);try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _ref58=_step44.value,page=_ref58.page,_id6=_ref58.id,exportValues=_ref58.exportValues;if(-1!==page&&_id6!==skipId){var exportValue="string"==typeof exportValues?exportValues:null,domElement=document.getElementById(_id6);!domElement||GetElementsByNameSet.has(domElement)?fields.push({id:_id6,exportValue:exportValue,domElement:domElement}):(0,_util.warn)("_getElementsByName - element not allowed: "+_id6)}}}catch(err){_iterator44.e(err)}finally{_iterator44.f()}}return fields}var _step45,_iterator45=_createForOfIteratorHelper(document.getElementsByName(name));try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _domElement=_step45.value,_id7=_domElement.id,_exportValue=_domElement.exportValue;_id7!==skipId&&(GetElementsByNameSet.has(_domElement)&&fields.push({id:_id7,exportValue:_exportValue,domElement:_domElement}))}}catch(err){_iterator45.e(err)}finally{_iterator45.f()}return fields}}],[{key:"platform",get:function get(){var platform="undefined"!=typeof navigator?navigator.platform:"";return(0,_util.shadow)(this,"platform",{isWin:platform.includes("Win"),isMac:platform.includes("Mac")})}}]),AnnotationElement}(),LinkAnnotationElement=function(_AnnotationElement){_inherits(LinkAnnotationElement,_AnnotationElement);var _super23=_createSuper(LinkAnnotationElement);function LinkAnnotationElement(parameters){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,LinkAnnotationElement);var isRenderable=!!(parameters.data.url||parameters.data.dest||parameters.data.action||parameters.data.isTooltipOnly||parameters.data.resetForm||parameters.data.actions&&(parameters.data.actions.Action||parameters.data.actions["Mouse Up"]||parameters.data.actions["Mouse Down"]));return _super23.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!(null==options||!options.ignoreBorder),createQuadrilaterals:!0})}return _createClass(LinkAnnotationElement,[{key:"render",value:function render(){var _linkService$addLinkA,data=this.data,linkService=this.linkService,link=document.createElement("a");if(data.url)linkService.addLinkAttributes||(0,_util.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(_linkService$addLinkA=linkService.addLinkAttributes)||void 0===_linkService$addLinkA||_linkService$addLinkA.call(linkService,link,data.url,data.newWindow);else if(data.action)this._bindNamedAction(link,data.action);else if(data.dest)this._bindLink(link,data.dest);else{var hasClickAction=!1;data.actions&&(data.actions.Action||data.actions["Mouse Up"]||data.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(hasClickAction=!0,this._bindJSAction(link,data)),data.resetForm?this._bindResetFormAction(link,data.resetForm):hasClickAction||this._bindLink(link,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(quadrilateral,index){var linkElement=0===index?link:link.cloneNode();return quadrilateral.appendChild(linkElement),quadrilateral})):(this.container.className="linkAnnotation",this.container.appendChild(link),this.container)}},{key:"_bindLink",value:function _bindLink(link,destination){var _this54=this;link.href=this.linkService.getDestinationHash(destination),link.onclick=function(){return destination&&_this54.linkService.goToDestination(destination),!1},(destination||""===destination)&&(link.className="internalLink")}},{key:"_bindNamedAction",value:function _bindNamedAction(link,action){var _this55=this;link.href=this.linkService.getAnchorUrl(""),link.onclick=function(){return _this55.linkService.executeNamedAction(action),!1},link.className="internalLink"}},{key:"_bindJSAction",value:function _bindJSAction(link,data){var _this56=this;link.href=this.linkService.getAnchorUrl("");for(var map=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),_loop2=function _loop2(name){var jsName=map.get(name);if(!jsName)return"continue";link[jsName]=function(){var _this56$linkService$e;return null===(_this56$linkService$e=_this56.linkService.eventBus)||void 0===_this56$linkService$e||_this56$linkService$e.dispatch("dispatcheventinsandbox",{source:_this56,detail:{id:data.id,name:name}}),!1}},_i7=0,_Object$keys=Object.keys(data.actions);_i7<_Object$keys.length;_i7++)_loop2(_Object$keys[_i7]);link.onclick||(link.onclick=function(){return!1}),link.className="internalLink"}},{key:"_bindResetFormAction",value:function _bindResetFormAction(link,resetForm){var _this57=this,otherClickAction=link.onclick;if(otherClickAction||(link.href=this.linkService.getAnchorUrl("")),link.className="internalLink",!this._fieldObjects)return(0,_util.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(otherClickAction||(link.onclick=function(){return!1}));link.onclick=function(){otherClickAction&&otherClickAction();var resetFormFields=resetForm.fields,resetFormRefs=resetForm.refs,include=resetForm.include,allFields=[];if(0!==resetFormFields.length||0!==resetFormRefs.length){var _step46,fieldIds=new Set(resetFormRefs),_iterator46=_createForOfIteratorHelper(resetFormFields);try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _step48,fieldName=_step46.value,_iterator48=_createForOfIteratorHelper(_this57._fieldObjects[fieldName]||[]);try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _id8=_step48.value.id;fieldIds.add(_id8)}}catch(err){_iterator48.e(err)}finally{_iterator48.f()}}}catch(err){_iterator46.e(err)}finally{_iterator46.f()}for(var _i8=0,_Object$values=Object.values(_this57._fieldObjects);_i8<_Object$values.length;_i8++){var _step47,_iterator47=_createForOfIteratorHelper(_Object$values[_i8]);try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var field=_step47.value;fieldIds.has(field.id)===include&&allFields.push(field)}}catch(err){_iterator47.e(err)}finally{_iterator47.f()}}}else for(var _i9=0,_Object$values2=Object.values(_this57._fieldObjects);_i9<_Object$values2.length;_i9++){var _fields2=_Object$values2[_i9];allFields.push.apply(allFields,_toConsumableArray(_fields2))}for(var _this57$linkService$e,storage=_this57.annotationStorage,allIds=[],_i10=0,_allFields=allFields;_i10<_allFields.length;_i10++){var _field=_allFields[_i10],_id9=_field.id;switch(allIds.push(_id9),_field.type){case"text":var value=_field.defaultValue||"";storage.setValue(_id9,{value:value,valueAsString:value});break;case"checkbox":case"radiobutton":var _value2=_field.defaultValue===_field.exportValues;storage.setValue(_id9,{value:_value2});break;case"combobox":case"listbox":var _value3=_field.defaultValue||"";storage.setValue(_id9,{value:_value3});break;default:continue}var domElement=document.getElementById(_id9);domElement&&GetElementsByNameSet.has(domElement)&&domElement.dispatchEvent(new Event("resetform"))}_this57.enableScripting&&(null===(_this57$linkService$e=_this57.linkService.eventBus)||void 0===_this57$linkService$e||_this57$linkService$e.dispatch("dispatcheventinsandbox",{source:_this57,detail:{id:"app",ids:allIds,name:"ResetForm"}}));return!1}}}]),LinkAnnotationElement}(AnnotationElement),TextAnnotationElement=function(_AnnotationElement2){_inherits(TextAnnotationElement,_AnnotationElement2);var _super24=_createSuper(TextAnnotationElement);function TextAnnotationElement(parameters){var _parameters$data$titl,_parameters$data$cont,_parameters$data$rich;_classCallCheck(this,TextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl=parameters.data.titleObj)&&void 0!==_parameters$data$titl&&_parameters$data$titl.str||null!==(_parameters$data$cont=parameters.data.contentsObj)&&void 0!==_parameters$data$cont&&_parameters$data$cont.str||null!==(_parameters$data$rich=parameters.data.richText)&&void 0!==_parameters$data$rich&&_parameters$data$rich.str);return _super24.call(this,parameters,{isRenderable:isRenderable})}return _createClass(TextAnnotationElement,[{key:"render",value:function render(){this.container.className="textAnnotation";var image=document.createElement("img");return image.style.height=this.container.style.height,image.style.width=this.container.style.width,image.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",image.alt="[{{type}} Annotation]",image.dataset.l10nId="text_annotation_type",image.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(image,this.data),this.container.appendChild(image),this.container}}]),TextAnnotationElement}(AnnotationElement),WidgetAnnotationElement=function(_AnnotationElement3){_inherits(WidgetAnnotationElement,_AnnotationElement3);var _super25=_createSuper(WidgetAnnotationElement);function WidgetAnnotationElement(){return _classCallCheck(this,WidgetAnnotationElement),_super25.apply(this,arguments)}return _createClass(WidgetAnnotationElement,[{key:"render",value:function render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function _getKeyModifier(event){var _AnnotationElement$pl=AnnotationElement.platform,isWin=_AnnotationElement$pl.isWin,isMac=_AnnotationElement$pl.isMac;return isWin&&event.ctrlKey||isMac&&event.metaKey}},{key:"_setEventListener",value:function _setEventListener(element,baseName,eventName,valueGetter){var _this58=this;baseName.includes("mouse")?element.addEventListener(baseName,(function(event){var _this58$linkService$e;null===(_this58$linkService$e=_this58.linkService.eventBus)||void 0===_this58$linkService$e||_this58$linkService$e.dispatch("dispatcheventinsandbox",{source:_this58,detail:{id:_this58.data.id,name:eventName,value:valueGetter(event),shift:event.shiftKey,modifier:_this58._getKeyModifier(event)}})})):element.addEventListener(baseName,(function(event){var _this58$linkService$e2;null===(_this58$linkService$e2=_this58.linkService.eventBus)||void 0===_this58$linkService$e2||_this58$linkService$e2.dispatch("dispatcheventinsandbox",{source:_this58,detail:{id:_this58.data.id,name:eventName,value:event.target.checked}})}))}},{key:"_setEventListeners",value:function _setEventListeners(element,names,getter){var _step49,_iterator49=_createForOfIteratorHelper(names);try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _this$data$actions,_ref61=_slicedToArray(_step49.value,2),baseName=_ref61[0],eventName=_ref61[1];("Action"===eventName||null!==(_this$data$actions=this.data.actions)&&void 0!==_this$data$actions&&_this$data$actions[eventName])&&this._setEventListener(element,baseName,eventName,getter)}}catch(err){_iterator49.e(err)}finally{_iterator49.f()}}},{key:"_setBackgroundColor",value:function _setBackgroundColor(element){var color=this.data.backgroundColor||null;element.style.backgroundColor=null===color?"transparent":_util.Util.makeHexColor(color[0],color[1],color[2])}},{key:"_dispatchEventFromSandbox",value:function _dispatchEventFromSandbox(actions,jsEvent){for(var _this59=this,setColor=function setColor(jsName,styleName,event){var color=event.detail[jsName];event.target.style[styleName]=_scripting_utils.ColorConverters[color[0]+"_HTML"](color.slice(1))},commonActions={display:function display(event){var hidden=event.detail.display%2==1;event.target.style.visibility=hidden?"hidden":"visible",_this59.annotationStorage.setValue(_this59.data.id,{hidden:hidden,print:0===event.detail.display||3===event.detail.display})},print:function print(event){_this59.annotationStorage.setValue(_this59.data.id,{print:event.detail.print})},hidden:function hidden(event){event.target.style.visibility=event.detail.hidden?"hidden":"visible",_this59.annotationStorage.setValue(_this59.data.id,{hidden:event.detail.hidden})},focus:function focus(event){setTimeout((function(){return event.target.focus({preventScroll:!1})}),0)},userName:function userName(event){event.target.title=event.detail.userName},readonly:function readonly(event){event.detail.readonly?event.target.setAttribute("readonly",""):event.target.removeAttribute("readonly")},required:function required(event){event.detail.required?event.target.setAttribute("required",""):event.target.removeAttribute("required")},bgColor:function bgColor(event){setColor("bgColor","backgroundColor",event)},fillColor:function fillColor(event){setColor("fillColor","backgroundColor",event)},fgColor:function fgColor(event){setColor("fgColor","color",event)},textColor:function textColor(event){setColor("textColor","color",event)},borderColor:function borderColor(event){setColor("borderColor","borderColor",event)},strokeColor:function strokeColor(event){setColor("strokeColor","borderColor",event)}},_i11=0,_Object$keys2=Object.keys(jsEvent.detail);_i11<_Object$keys2.length;_i11++){var name=_Object$keys2[_i11],action=actions[name]||commonActions[name];action&&action(jsEvent)}}}]),WidgetAnnotationElement}(AnnotationElement),TextWidgetAnnotationElement=function(_WidgetAnnotationElem){_inherits(TextWidgetAnnotationElement,_WidgetAnnotationElem);var _super26=_createSuper(TextWidgetAnnotationElement);function TextWidgetAnnotationElement(parameters){_classCallCheck(this,TextWidgetAnnotationElement);var isRenderable=parameters.renderForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue;return _super26.call(this,parameters,{isRenderable:isRenderable})}return _createClass(TextWidgetAnnotationElement,[{key:"setPropertyOnSiblings",value:function setPropertyOnSiblings(base,key,value,keyInStorage){var _step50,storage=this.annotationStorage,_iterator50=_createForOfIteratorHelper(this._getElementsByName(base.name,base.id));try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _storage$setValue,element=_step50.value;element.domElement&&(element.domElement[key]=value),storage.setValue(element.id,((_storage$setValue={})[keyInStorage]=value,_storage$setValue))}}catch(err){_iterator50.e(err)}finally{_iterator50.f()}}},{key:"render",value:function render(){var _this60=this,storage=this.annotationStorage,id=this.data.id;this.container.className="textWidgetAnnotation";var element=null;if(this.renderForms){var storedData=storage.getValue(id,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),textContent=storedData.valueAsString||storedData.value||"",elementData={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(element=document.createElement("textarea")).textContent=textContent:((element=document.createElement("input")).type="text",element.setAttribute("value",textContent)),GetElementsByNameSet.add(element),element.disabled=this.data.readOnly,element.name=this.data.fieldName,element.tabIndex=1e3,elementData.userValue=textContent,element.setAttribute("id",id),element.addEventListener("input",(function(event){storage.setValue(id,{value:event.target.value}),_this60.setPropertyOnSiblings(element,"value",event.target.value,"value")})),element.addEventListener("resetform",(function(event){var defaultValue=_this60.data.defaultFieldValue||"";element.value=elementData.userValue=defaultValue,delete elementData.formattedValue}));var blurListener=function blurListener(event){elementData.formattedValue&&(event.target.value=elementData.formattedValue),event.target.scrollLeft=0,elementData.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var _this$data$actions2;element.addEventListener("focus",(function(event){elementData.userValue&&(event.target.value=elementData.userValue)})),element.addEventListener("updatefromsandbox",(function(jsEvent){var actions={value:function value(event){elementData.userValue=event.detail.value||"",storage.setValue(id,{value:elementData.userValue.toString()}),elementData.formattedValue||(event.target.value=elementData.userValue)},valueAsString:function valueAsString(event){elementData.formattedValue=event.detail.valueAsString||"",event.target!==document.activeElement&&(event.target.value=elementData.formattedValue),storage.setValue(id,{formattedValue:elementData.formattedValue})},selRange:function selRange(event){var _event$detail$selRang=_slicedToArray(event.detail.selRange,2),selStart=_event$detail$selRang[0],selEnd=_event$detail$selRang[1];selStart>=0&&selEnd<event.target.value.length&&event.target.setSelectionRange(selStart,selEnd)}};_this60._dispatchEventFromSandbox(actions,jsEvent)})),element.addEventListener("keydown",(function(event){var _this60$linkService$e;elementData.beforeInputValue=event.target.value;var commitKey=-1;"Escape"===event.key?commitKey=0:"Enter"===event.key?commitKey=2:"Tab"===event.key&&(commitKey=3),-1!==commitKey&&(elementData.userValue=event.target.value,null===(_this60$linkService$e=_this60.linkService.eventBus)||void 0===_this60$linkService$e||_this60$linkService$e.dispatch("dispatcheventinsandbox",{source:_this60,detail:{id:id,name:"Keystroke",value:event.target.value,willCommit:!0,commitKey:commitKey,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}}))}));var _blurListener=blurListener;blurListener=null,element.addEventListener("blur",(function(event){var _this60$linkService$e2;_this60._mouseState.isDown&&(elementData.userValue=event.target.value,null===(_this60$linkService$e2=_this60.linkService.eventBus)||void 0===_this60$linkService$e2||_this60$linkService$e2.dispatch("dispatcheventinsandbox",{source:_this60,detail:{id:id,name:"Keystroke",value:event.target.value,willCommit:!0,commitKey:1,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}}));_blurListener(event)})),element.addEventListener("mousedown",(function(event){elementData.beforeInputValue=event.target.value,elementData.beforeInputSelectionRange=null})),element.addEventListener("keyup",(function(event){event.target.selectionStart===event.target.selectionEnd&&(elementData.beforeInputSelectionRange=null)})),element.addEventListener("select",(function(event){elementData.beforeInputSelectionRange=[event.target.selectionStart,event.target.selectionEnd]})),null!==(_this$data$actions2=this.data.actions)&&void 0!==_this$data$actions2&&_this$data$actions2.Keystroke&&element.addEventListener("input",(function(event){var _this60$linkService$e3,selStart=-1,selEnd=-1;if(elementData.beforeInputSelectionRange){var _elementData$beforeIn=_slicedToArray(elementData.beforeInputSelectionRange,2);selStart=_elementData$beforeIn[0],selEnd=_elementData$beforeIn[1]}null===(_this60$linkService$e3=_this60.linkService.eventBus)||void 0===_this60$linkService$e3||_this60$linkService$e3.dispatch("dispatcheventinsandbox",{source:_this60,detail:{id:id,name:"Keystroke",value:elementData.beforeInputValue,change:event.data,willCommit:!1,selStart:selStart,selEnd:selEnd}})})),this._setEventListeners(element,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(event){return event.target.value}))}if(blurListener&&element.addEventListener("blur",blurListener),null!==this.data.maxLen&&(element.maxLength=this.data.maxLen),this.data.comb){var combWidth=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;element.classList.add("comb"),element.style.letterSpacing="calc("+combWidth+"px - 1ch)"}}else(element=document.createElement("div")).textContent=this.data.fieldValue,element.style.verticalAlign="middle",element.style.display="table-cell";return this._setTextStyle(element),this._setBackgroundColor(element),this.container.appendChild(element),this.container}},{key:"_setTextStyle",value:function _setTextStyle(element){var _this$data$defaultApp=this.data.defaultAppearanceData,fontSize=_this$data$defaultApp.fontSize,fontColor=_this$data$defaultApp.fontColor,style=element.style;fontSize&&(style.fontSize=fontSize+"px"),style.color=_util.Util.makeHexColor(fontColor[0],fontColor[1],fontColor[2]),null!==this.data.textAlignment&&(style.textAlign=["left","center","right"][this.data.textAlignment])}}]),TextWidgetAnnotationElement}(WidgetAnnotationElement),CheckboxWidgetAnnotationElement=function(_WidgetAnnotationElem2){_inherits(CheckboxWidgetAnnotationElement,_WidgetAnnotationElem2);var _super27=_createSuper(CheckboxWidgetAnnotationElement);function CheckboxWidgetAnnotationElement(parameters){return _classCallCheck(this,CheckboxWidgetAnnotationElement),_super27.call(this,parameters,{isRenderable:parameters.renderForms})}return _createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function render(){var _this61=this,storage=this.annotationStorage,data=this.data,id=data.id,value=storage.getValue(id,{value:data.exportValue===data.fieldValue}).value;"string"==typeof value&&(value="Off"!==value,storage.setValue(id,{value:value})),this.container.className="buttonWidgetAnnotation checkBox";var element=document.createElement("input");return GetElementsByNameSet.add(element),element.disabled=data.readOnly,element.type="checkbox",element.name=data.fieldName,value&&element.setAttribute("checked",!0),element.setAttribute("id",id),element.setAttribute("exportValue",data.exportValue),element.tabIndex=1e3,element.addEventListener("change",(function(event){var _step51,_event$target=event.target,name=_event$target.name,checked=_event$target.checked,_iterator51=_createForOfIteratorHelper(_this61._getElementsByName(name,id));try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var checkbox=_step51.value,curChecked=checked&&checkbox.exportValue===data.exportValue;checkbox.domElement&&(checkbox.domElement.checked=curChecked),storage.setValue(checkbox.id,{value:curChecked})}}catch(err){_iterator51.e(err)}finally{_iterator51.f()}storage.setValue(id,{value:checked})})),element.addEventListener("resetform",(function(event){var defaultValue=data.defaultFieldValue||"Off";event.target.checked=defaultValue===data.exportValue})),this.enableScripting&&this.hasJSActions&&(element.addEventListener("updatefromsandbox",(function(jsEvent){var actions={value:function value(event){event.target.checked="Off"!==event.detail.value,storage.setValue(id,{value:event.target.checked})}};_this61._dispatchEventFromSandbox(actions,jsEvent)})),this._setEventListeners(element,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(event){return event.target.checked}))),this._setBackgroundColor(element),this.container.appendChild(element),this.container}}]),CheckboxWidgetAnnotationElement}(WidgetAnnotationElement),RadioButtonWidgetAnnotationElement=function(_WidgetAnnotationElem3){_inherits(RadioButtonWidgetAnnotationElement,_WidgetAnnotationElem3);var _super28=_createSuper(RadioButtonWidgetAnnotationElement);function RadioButtonWidgetAnnotationElement(parameters){return _classCallCheck(this,RadioButtonWidgetAnnotationElement),_super28.call(this,parameters,{isRenderable:parameters.renderForms})}return _createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function render(){var _this62=this;this.container.className="buttonWidgetAnnotation radioButton";var storage=this.annotationStorage,data=this.data,id=data.id,value=storage.getValue(id,{value:data.fieldValue===data.buttonValue}).value;"string"==typeof value&&(value=value!==data.buttonValue,storage.setValue(id,{value:value}));var element=document.createElement("input");if(GetElementsByNameSet.add(element),element.disabled=data.readOnly,element.type="radio",element.name=data.fieldName,value&&element.setAttribute("checked",!0),element.setAttribute("id",id),element.tabIndex=1e3,element.addEventListener("change",(function(event){var _step52,_event$target2=event.target,name=_event$target2.name,checked=_event$target2.checked,_iterator52=_createForOfIteratorHelper(_this62._getElementsByName(name,id));try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var radio=_step52.value;storage.setValue(radio.id,{value:!1})}}catch(err){_iterator52.e(err)}finally{_iterator52.f()}storage.setValue(id,{value:checked})})),element.addEventListener("resetform",(function(event){var defaultValue=data.defaultFieldValue;event.target.checked=null!=defaultValue&&defaultValue===data.buttonValue})),this.enableScripting&&this.hasJSActions){var pdfButtonValue=data.buttonValue;element.addEventListener("updatefromsandbox",(function(jsEvent){var actions={value:function value(event){var _step53,checked=pdfButtonValue===event.detail.value,_iterator53=_createForOfIteratorHelper(_this62._getElementsByName(event.target.name));try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var radio=_step53.value,curChecked=checked&&radio.id===id;radio.domElement&&(radio.domElement.checked=curChecked),storage.setValue(radio.id,{value:curChecked})}}catch(err){_iterator53.e(err)}finally{_iterator53.f()}}};_this62._dispatchEventFromSandbox(actions,jsEvent)})),this._setEventListeners(element,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(event){return event.target.checked}))}return this._setBackgroundColor(element),this.container.appendChild(element),this.container}}]),RadioButtonWidgetAnnotationElement}(WidgetAnnotationElement),PushButtonWidgetAnnotationElement=function(_LinkAnnotationElemen){_inherits(PushButtonWidgetAnnotationElement,_LinkAnnotationElemen);var _super29=_createSuper(PushButtonWidgetAnnotationElement);function PushButtonWidgetAnnotationElement(parameters){return _classCallCheck(this,PushButtonWidgetAnnotationElement),_super29.call(this,parameters,{ignoreBorder:parameters.data.hasAppearance})}return _createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function render(){var container=_get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);return container.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(container.title=this.data.alternativeText),container}}]),PushButtonWidgetAnnotationElement}(LinkAnnotationElement),ChoiceWidgetAnnotationElement=function(_WidgetAnnotationElem4){_inherits(ChoiceWidgetAnnotationElement,_WidgetAnnotationElem4);var _super30=_createSuper(ChoiceWidgetAnnotationElement);function ChoiceWidgetAnnotationElement(parameters){return _classCallCheck(this,ChoiceWidgetAnnotationElement),_super30.call(this,parameters,{isRenderable:parameters.renderForms})}return _createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function render(){var _this63=this;this.container.className="choiceWidgetAnnotation";var storage=this.annotationStorage,id=this.data.id;storage.getValue(id,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var fontSize=this.data.defaultAppearanceData.fontSize;fontSize||(fontSize=9);var fontSizeStyle="calc("+fontSize+"px * var(--zoom-factor))",selectElement=document.createElement("select");GetElementsByNameSet.add(selectElement),selectElement.disabled=this.data.readOnly,selectElement.name=this.data.fieldName,selectElement.setAttribute("id",id),selectElement.tabIndex=1e3,selectElement.style.fontSize=fontSize+"px",this.data.combo||(selectElement.size=this.data.options.length,this.data.multiSelect&&(selectElement.multiple=!0)),selectElement.addEventListener("resetform",(function(event){var _step54,defaultValue=_this63.data.defaultFieldValue,_iterator54=_createForOfIteratorHelper(selectElement.options);try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var option=_step54.value;option.selected=option.value===defaultValue}}catch(err){_iterator54.e(err)}finally{_iterator54.f()}}));var _step55,_iterator55=_createForOfIteratorHelper(this.data.options);try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var option=_step55.value,optionElement=document.createElement("option");optionElement.textContent=option.displayValue,optionElement.value=option.exportValue,this.data.combo&&(optionElement.style.fontSize=fontSizeStyle),this.data.fieldValue.includes(option.exportValue)&&optionElement.setAttribute("selected",!0),selectElement.appendChild(optionElement)}}catch(err){_iterator55.e(err)}finally{_iterator55.f()}var getValue=function getValue(event,isExport){var name=isExport?"value":"textContent",options=event.target.options;return event.target.multiple?Array.prototype.filter.call(options,(function(option){return option.selected})).map((function(option){return option[name]})):-1===options.selectedIndex?null:options[options.selectedIndex][name]},getItems=function getItems(event){var options=event.target.options;return Array.prototype.map.call(options,(function(option){return{displayValue:option.textContent,exportValue:option.value}}))};return this.enableScripting&&this.hasJSActions?(selectElement.addEventListener("updatefromsandbox",(function(jsEvent){var actions={value:function value(event){var _step56,value=event.detail.value,values=new Set(Array.isArray(value)?value:[value]),_iterator56=_createForOfIteratorHelper(selectElement.options);try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _option=_step56.value;_option.selected=values.has(_option.value)}}catch(err){_iterator56.e(err)}finally{_iterator56.f()}storage.setValue(id,{value:getValue(event,!0)})},multipleSelection:function multipleSelection(event){selectElement.multiple=!0},remove:function remove(event){var options=selectElement.options,index=event.detail.remove;if(options[index].selected=!1,selectElement.remove(index),options.length>0){var i=Array.prototype.findIndex.call(options,(function(option){return option.selected}));-1===i&&(options[0].selected=!0)}storage.setValue(id,{value:getValue(event,!0),items:getItems(event)})},clear:function clear(event){for(;0!==selectElement.length;)selectElement.remove(0);storage.setValue(id,{value:null,items:[]})},insert:function insert(event){var _event$detail$insert=event.detail.insert,index=_event$detail$insert.index,displayValue=_event$detail$insert.displayValue,exportValue=_event$detail$insert.exportValue,optionElement=document.createElement("option");optionElement.textContent=displayValue,optionElement.value=exportValue,selectElement.insertBefore(optionElement,selectElement.children[index]),storage.setValue(id,{value:getValue(event,!0),items:getItems(event)})},items:function items(event){for(var items=event.detail.items;0!==selectElement.length;)selectElement.remove(0);var _step57,_iterator57=_createForOfIteratorHelper(items);try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var item=_step57.value,displayValue=item.displayValue,exportValue=item.exportValue,_optionElement=document.createElement("option");_optionElement.textContent=displayValue,_optionElement.value=exportValue,selectElement.appendChild(_optionElement)}}catch(err){_iterator57.e(err)}finally{_iterator57.f()}selectElement.options.length>0&&(selectElement.options[0].selected=!0),storage.setValue(id,{value:getValue(event,!0),items:getItems(event)})},indices:function indices(event){var _step58,indices=new Set(event.detail.indices),_iterator58=_createForOfIteratorHelper(event.target.options);try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var _option2=_step58.value;_option2.selected=indices.has(_option2.index)}}catch(err){_iterator58.e(err)}finally{_iterator58.f()}storage.setValue(id,{value:getValue(event,!0)})},editable:function editable(event){event.target.disabled=!event.detail.editable}};_this63._dispatchEventFromSandbox(actions,jsEvent)})),selectElement.addEventListener("input",(function(event){var _this63$linkService$e,exportValue=getValue(event,!0),value=getValue(event,!1);storage.setValue(id,{value:exportValue}),null===(_this63$linkService$e=_this63.linkService.eventBus)||void 0===_this63$linkService$e||_this63$linkService$e.dispatch("dispatcheventinsandbox",{source:_this63,detail:{id:id,name:"Keystroke",value:value,changeEx:exportValue,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(selectElement,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(function(event){return event.target.checked}))):selectElement.addEventListener("input",(function(event){storage.setValue(id,{value:getValue(event)})})),this._setBackgroundColor(selectElement),this.container.appendChild(selectElement),this.container}}]),ChoiceWidgetAnnotationElement}(WidgetAnnotationElement),PopupAnnotationElement=function(_AnnotationElement4){_inherits(PopupAnnotationElement,_AnnotationElement4);var _super31=_createSuper(PopupAnnotationElement);function PopupAnnotationElement(parameters){var _parameters$data$titl2,_parameters$data$cont2,_parameters$data$rich2;_classCallCheck(this,PopupAnnotationElement);var isRenderable=!!(null!==(_parameters$data$titl2=parameters.data.titleObj)&&void 0!==_parameters$data$titl2&&_parameters$data$titl2.str||null!==(_parameters$data$cont2=parameters.data.contentsObj)&&void 0!==_parameters$data$cont2&&_parameters$data$cont2.str||null!==(_parameters$data$rich2=parameters.data.richText)&&void 0!==_parameters$data$rich2&&_parameters$data$rich2.str);return _super31.call(this,parameters,{isRenderable:isRenderable})}return _createClass(PopupAnnotationElement,[{key:"render",value:function render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var selector='[data-annotation-id="'+this.data.parentId+'"]',parentElements=this.layer.querySelectorAll(selector);if(0===parentElements.length)return this.container;var popup=new PopupElement({container:this.container,trigger:Array.from(parentElements),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),page=this.page,rect=_util.Util.normalizeRect([this.data.parentRect[0],page.view[3]-this.data.parentRect[1]+page.view[1],this.data.parentRect[2],page.view[3]-this.data.parentRect[3]+page.view[1]]),popupLeft=rect[0]+this.data.parentRect[2]-this.data.parentRect[0],popupTop=rect[1];return this.container.style.transformOrigin=-popupLeft+"px "+-popupTop+"px",this.container.style.left=popupLeft+"px",this.container.style.top=popupTop+"px",this.container.appendChild(popup.render()),this.container}}]),PopupAnnotationElement}(AnnotationElement),PopupElement=function(){function PopupElement(parameters){_classCallCheck(this,PopupElement),this.container=parameters.container,this.trigger=parameters.trigger,this.color=parameters.color,this.titleObj=parameters.titleObj,this.modificationDate=parameters.modificationDate,this.contentsObj=parameters.contentsObj,this.richText=parameters.richText,this.hideWrapper=parameters.hideWrapper||!1,this.pinned=!1}return _createClass(PopupElement,[{key:"render",value:function render(){var _this$richText,_this$contentsObj,wrapper=document.createElement("div");wrapper.className="popupWrapper",this.hideElement=this.hideWrapper?wrapper:this.container,this.hideElement.hidden=!0;var popup=document.createElement("div");popup.className="popup";var color=this.color;if(color){var r=.7*(255-color[0])+color[0],g=.7*(255-color[1])+color[1],b=.7*(255-color[2])+color[2];popup.style.backgroundColor=_util.Util.makeHexColor(0|r,0|g,0|b)}var title=document.createElement("h1");title.dir=this.titleObj.dir,title.textContent=this.titleObj.str,popup.appendChild(title);var dateObject=_display_utils.PDFDateString.toDateObject(this.modificationDate);if(dateObject){var modificationDate=document.createElement("span");modificationDate.className="popupDate",modificationDate.textContent="{{date}}, {{time}}",modificationDate.dataset.l10nId="annotation_date_string",modificationDate.dataset.l10nArgs=JSON.stringify({date:dateObject.toLocaleDateString(),time:dateObject.toLocaleTimeString()}),popup.appendChild(modificationDate)}if(null===(_this$richText=this.richText)||void 0===_this$richText||!_this$richText.str||null!==(_this$contentsObj=this.contentsObj)&&void 0!==_this$contentsObj&&_this$contentsObj.str&&this.contentsObj.str!==this.richText.str){var contents=this._formatContents(this.contentsObj);popup.appendChild(contents)}else _xfa_layer.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:popup}),popup.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var _step59,_iterator59=_createForOfIteratorHelper(this.trigger);try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var element=_step59.value;element.addEventListener("click",this._toggle.bind(this)),element.addEventListener("mouseover",this._show.bind(this,!1)),element.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(err){_iterator59.e(err)}finally{_iterator59.f()}return popup.addEventListener("click",this._hide.bind(this,!0)),wrapper.appendChild(popup),wrapper}},{key:"_formatContents",value:function _formatContents(_ref62){var str=_ref62.str,dir=_ref62.dir,p=document.createElement("p");p.className="popupContent",p.dir=dir;for(var lines=str.split(/(?:\r\n?|\n)/),i=0,ii=lines.length;i<ii;++i){var line=lines[i];p.appendChild(document.createTextNode(line)),i<ii-1&&p.appendChild(document.createElement("br"))}return p}},{key:"_toggle",value:function _toggle(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function _show(){var pin=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pin&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function _hide(){var unpin=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];unpin&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),PopupElement}(),FreeTextAnnotationElement=function(_AnnotationElement5){_inherits(FreeTextAnnotationElement,_AnnotationElement5);var _super32=_createSuper(FreeTextAnnotationElement);function FreeTextAnnotationElement(parameters){var _parameters$data$titl3,_parameters$data$cont3,_parameters$data$rich3;_classCallCheck(this,FreeTextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl3=parameters.data.titleObj)&&void 0!==_parameters$data$titl3&&_parameters$data$titl3.str||null!==(_parameters$data$cont3=parameters.data.contentsObj)&&void 0!==_parameters$data$cont3&&_parameters$data$cont3.str||null!==(_parameters$data$rich3=parameters.data.richText)&&void 0!==_parameters$data$rich3&&_parameters$data$rich3.str);return _super32.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})}return _createClass(FreeTextAnnotationElement,[{key:"render",value:function render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),FreeTextAnnotationElement}(AnnotationElement),LineAnnotationElement=function(_AnnotationElement6){_inherits(LineAnnotationElement,_AnnotationElement6);var _super33=_createSuper(LineAnnotationElement);function LineAnnotationElement(parameters){var _parameters$data$titl4,_parameters$data$cont4,_parameters$data$rich4;_classCallCheck(this,LineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl4=parameters.data.titleObj)&&void 0!==_parameters$data$titl4&&_parameters$data$titl4.str||null!==(_parameters$data$cont4=parameters.data.contentsObj)&&void 0!==_parameters$data$cont4&&_parameters$data$cont4.str||null!==(_parameters$data$rich4=parameters.data.richText)&&void 0!==_parameters$data$rich4&&_parameters$data$rich4.str);return _super33.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})}return _createClass(LineAnnotationElement,[{key:"render",value:function render(){this.container.className="lineAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),line=this.svgFactory.createElement("svg:line");return line.setAttribute("x1",data.rect[2]-data.lineCoordinates[0]),line.setAttribute("y1",data.rect[3]-data.lineCoordinates[1]),line.setAttribute("x2",data.rect[2]-data.lineCoordinates[2]),line.setAttribute("y2",data.rect[3]-data.lineCoordinates[3]),line.setAttribute("stroke-width",data.borderStyle.width||1),line.setAttribute("stroke","transparent"),line.setAttribute("fill","transparent"),svg.appendChild(line),this.container.append(svg),this._createPopup(line,data),this.container}}]),LineAnnotationElement}(AnnotationElement),SquareAnnotationElement=function(_AnnotationElement7){_inherits(SquareAnnotationElement,_AnnotationElement7);var _super34=_createSuper(SquareAnnotationElement);function SquareAnnotationElement(parameters){var _parameters$data$titl5,_parameters$data$cont5,_parameters$data$rich5;_classCallCheck(this,SquareAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl5=parameters.data.titleObj)&&void 0!==_parameters$data$titl5&&_parameters$data$titl5.str||null!==(_parameters$data$cont5=parameters.data.contentsObj)&&void 0!==_parameters$data$cont5&&_parameters$data$cont5.str||null!==(_parameters$data$rich5=parameters.data.richText)&&void 0!==_parameters$data$rich5&&_parameters$data$rich5.str);return _super34.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})}return _createClass(SquareAnnotationElement,[{key:"render",value:function render(){this.container.className="squareAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,square=this.svgFactory.createElement("svg:rect");return square.setAttribute("x",borderWidth/2),square.setAttribute("y",borderWidth/2),square.setAttribute("width",width-borderWidth),square.setAttribute("height",height-borderWidth),square.setAttribute("stroke-width",borderWidth||1),square.setAttribute("stroke","transparent"),square.setAttribute("fill","transparent"),svg.appendChild(square),this.container.append(svg),this._createPopup(square,data),this.container}}]),SquareAnnotationElement}(AnnotationElement),CircleAnnotationElement=function(_AnnotationElement8){_inherits(CircleAnnotationElement,_AnnotationElement8);var _super35=_createSuper(CircleAnnotationElement);function CircleAnnotationElement(parameters){var _parameters$data$titl6,_parameters$data$cont6,_parameters$data$rich6;_classCallCheck(this,CircleAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl6=parameters.data.titleObj)&&void 0!==_parameters$data$titl6&&_parameters$data$titl6.str||null!==(_parameters$data$cont6=parameters.data.contentsObj)&&void 0!==_parameters$data$cont6&&_parameters$data$cont6.str||null!==(_parameters$data$rich6=parameters.data.richText)&&void 0!==_parameters$data$rich6&&_parameters$data$rich6.str);return _super35.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})}return _createClass(CircleAnnotationElement,[{key:"render",value:function render(){this.container.className="circleAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,circle=this.svgFactory.createElement("svg:ellipse");return circle.setAttribute("cx",width/2),circle.setAttribute("cy",height/2),circle.setAttribute("rx",width/2-borderWidth/2),circle.setAttribute("ry",height/2-borderWidth/2),circle.setAttribute("stroke-width",borderWidth||1),circle.setAttribute("stroke","transparent"),circle.setAttribute("fill","transparent"),svg.appendChild(circle),this.container.append(svg),this._createPopup(circle,data),this.container}}]),CircleAnnotationElement}(AnnotationElement),PolylineAnnotationElement=function(_AnnotationElement9){_inherits(PolylineAnnotationElement,_AnnotationElement9);var _super36=_createSuper(PolylineAnnotationElement);function PolylineAnnotationElement(parameters){var _parameters$data$titl7,_parameters$data$cont7,_parameters$data$rich7,_this64;_classCallCheck(this,PolylineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl7=parameters.data.titleObj)&&void 0!==_parameters$data$titl7&&_parameters$data$titl7.str||null!==(_parameters$data$cont7=parameters.data.contentsObj)&&void 0!==_parameters$data$cont7&&_parameters$data$cont7.str||null!==(_parameters$data$rich7=parameters.data.richText)&&void 0!==_parameters$data$rich7&&_parameters$data$rich7.str);return(_this64=_super36.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})).containerClassName="polylineAnnotation",_this64.svgElementName="svg:polyline",_this64}return _createClass(PolylineAnnotationElement,[{key:"render",value:function render(){this.container.className=this.containerClassName;var _step60,data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),points=[],_iterator60=_createForOfIteratorHelper(data.vertices);try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var coordinate=_step60.value,x=coordinate.x-data.rect[0],y=data.rect[3]-coordinate.y;points.push(x+","+y)}}catch(err){_iterator60.e(err)}finally{_iterator60.f()}points=points.join(" ");var polyline=this.svgFactory.createElement(this.svgElementName);return polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width||1),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","transparent"),svg.appendChild(polyline),this.container.append(svg),this._createPopup(polyline,data),this.container}}]),PolylineAnnotationElement}(AnnotationElement),PolygonAnnotationElement=function(_PolylineAnnotationEl){_inherits(PolygonAnnotationElement,_PolylineAnnotationEl);var _super37=_createSuper(PolygonAnnotationElement);function PolygonAnnotationElement(parameters){var _this65;return _classCallCheck(this,PolygonAnnotationElement),(_this65=_super37.call(this,parameters)).containerClassName="polygonAnnotation",_this65.svgElementName="svg:polygon",_this65}return _createClass(PolygonAnnotationElement)}(PolylineAnnotationElement),CaretAnnotationElement=function(_AnnotationElement10){_inherits(CaretAnnotationElement,_AnnotationElement10);var _super38=_createSuper(CaretAnnotationElement);function CaretAnnotationElement(parameters){var _parameters$data$titl8,_parameters$data$cont8,_parameters$data$rich8;_classCallCheck(this,CaretAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl8=parameters.data.titleObj)&&void 0!==_parameters$data$titl8&&_parameters$data$titl8.str||null!==(_parameters$data$cont8=parameters.data.contentsObj)&&void 0!==_parameters$data$cont8&&_parameters$data$cont8.str||null!==(_parameters$data$rich8=parameters.data.richText)&&void 0!==_parameters$data$rich8&&_parameters$data$rich8.str);return _super38.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})}return _createClass(CaretAnnotationElement,[{key:"render",value:function render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),CaretAnnotationElement}(AnnotationElement),InkAnnotationElement=function(_AnnotationElement11){_inherits(InkAnnotationElement,_AnnotationElement11);var _super39=_createSuper(InkAnnotationElement);function InkAnnotationElement(parameters){var _parameters$data$titl9,_parameters$data$cont9,_parameters$data$rich9,_this66;_classCallCheck(this,InkAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl9=parameters.data.titleObj)&&void 0!==_parameters$data$titl9&&_parameters$data$titl9.str||null!==(_parameters$data$cont9=parameters.data.contentsObj)&&void 0!==_parameters$data$cont9&&_parameters$data$cont9.str||null!==(_parameters$data$rich9=parameters.data.richText)&&void 0!==_parameters$data$rich9&&_parameters$data$rich9.str);return(_this66=_super39.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})).containerClassName="inkAnnotation",_this66.svgElementName="svg:polyline",_this66}return _createClass(InkAnnotationElement,[{key:"render",value:function render(){this.container.className=this.containerClassName;var _step61,data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),_iterator61=_createForOfIteratorHelper(data.inkLists);try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _step62,inkList=_step61.value,points=[],_iterator62=_createForOfIteratorHelper(inkList);try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var coordinate=_step62.value,x=coordinate.x-data.rect[0],y=data.rect[3]-coordinate.y;points.push(x+","+y)}}catch(err){_iterator62.e(err)}finally{_iterator62.f()}points=points.join(" ");var polyline=this.svgFactory.createElement(this.svgElementName);polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width||1),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","transparent"),this._createPopup(polyline,data),svg.appendChild(polyline)}}catch(err){_iterator61.e(err)}finally{_iterator61.f()}return this.container.append(svg),this.container}}]),InkAnnotationElement}(AnnotationElement),HighlightAnnotationElement=function(_AnnotationElement12){_inherits(HighlightAnnotationElement,_AnnotationElement12);var _super40=_createSuper(HighlightAnnotationElement);function HighlightAnnotationElement(parameters){var _parameters$data$titl10,_parameters$data$cont10,_parameters$data$rich10;_classCallCheck(this,HighlightAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl10=parameters.data.titleObj)&&void 0!==_parameters$data$titl10&&_parameters$data$titl10.str||null!==(_parameters$data$cont10=parameters.data.contentsObj)&&void 0!==_parameters$data$cont10&&_parameters$data$cont10.str||null!==(_parameters$data$rich10=parameters.data.richText)&&void 0!==_parameters$data$rich10&&_parameters$data$rich10.str);return _super40.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(HighlightAnnotationElement,[{key:"render",value:function render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),HighlightAnnotationElement}(AnnotationElement),UnderlineAnnotationElement=function(_AnnotationElement13){_inherits(UnderlineAnnotationElement,_AnnotationElement13);var _super41=_createSuper(UnderlineAnnotationElement);function UnderlineAnnotationElement(parameters){var _parameters$data$titl11,_parameters$data$cont11,_parameters$data$rich11;_classCallCheck(this,UnderlineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl11=parameters.data.titleObj)&&void 0!==_parameters$data$titl11&&_parameters$data$titl11.str||null!==(_parameters$data$cont11=parameters.data.contentsObj)&&void 0!==_parameters$data$cont11&&_parameters$data$cont11.str||null!==(_parameters$data$rich11=parameters.data.richText)&&void 0!==_parameters$data$rich11&&_parameters$data$rich11.str);return _super41.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(UnderlineAnnotationElement,[{key:"render",value:function render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),UnderlineAnnotationElement}(AnnotationElement),SquigglyAnnotationElement=function(_AnnotationElement14){_inherits(SquigglyAnnotationElement,_AnnotationElement14);var _super42=_createSuper(SquigglyAnnotationElement);function SquigglyAnnotationElement(parameters){var _parameters$data$titl12,_parameters$data$cont12,_parameters$data$rich12;_classCallCheck(this,SquigglyAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl12=parameters.data.titleObj)&&void 0!==_parameters$data$titl12&&_parameters$data$titl12.str||null!==(_parameters$data$cont12=parameters.data.contentsObj)&&void 0!==_parameters$data$cont12&&_parameters$data$cont12.str||null!==(_parameters$data$rich12=parameters.data.richText)&&void 0!==_parameters$data$rich12&&_parameters$data$rich12.str);return _super42.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(SquigglyAnnotationElement,[{key:"render",value:function render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),SquigglyAnnotationElement}(AnnotationElement),StrikeOutAnnotationElement=function(_AnnotationElement15){_inherits(StrikeOutAnnotationElement,_AnnotationElement15);var _super43=_createSuper(StrikeOutAnnotationElement);function StrikeOutAnnotationElement(parameters){var _parameters$data$titl13,_parameters$data$cont13,_parameters$data$rich13;_classCallCheck(this,StrikeOutAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl13=parameters.data.titleObj)&&void 0!==_parameters$data$titl13&&_parameters$data$titl13.str||null!==(_parameters$data$cont13=parameters.data.contentsObj)&&void 0!==_parameters$data$cont13&&_parameters$data$cont13.str||null!==(_parameters$data$rich13=parameters.data.richText)&&void 0!==_parameters$data$rich13&&_parameters$data$rich13.str);return _super43.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(StrikeOutAnnotationElement,[{key:"render",value:function render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),StrikeOutAnnotationElement}(AnnotationElement),StampAnnotationElement=function(_AnnotationElement16){_inherits(StampAnnotationElement,_AnnotationElement16);var _super44=_createSuper(StampAnnotationElement);function StampAnnotationElement(parameters){var _parameters$data$titl14,_parameters$data$cont14,_parameters$data$rich14;_classCallCheck(this,StampAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||null!==(_parameters$data$titl14=parameters.data.titleObj)&&void 0!==_parameters$data$titl14&&_parameters$data$titl14.str||null!==(_parameters$data$cont14=parameters.data.contentsObj)&&void 0!==_parameters$data$cont14&&_parameters$data$cont14.str||null!==(_parameters$data$rich14=parameters.data.richText)&&void 0!==_parameters$data$rich14&&_parameters$data$rich14.str);return _super44.call(this,parameters,{isRenderable:isRenderable,ignoreBorder:!0})}return _createClass(StampAnnotationElement,[{key:"render",value:function render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),StampAnnotationElement}(AnnotationElement),FileAttachmentAnnotationElement=function(_AnnotationElement17){_inherits(FileAttachmentAnnotationElement,_AnnotationElement17);var _super45=_createSuper(FileAttachmentAnnotationElement);function FileAttachmentAnnotationElement(parameters){var _this67$linkService$e,_this67;_classCallCheck(this,FileAttachmentAnnotationElement);var _this67$data$file=(_this67=_super45.call(this,parameters,{isRenderable:!0})).data.file,filename=_this67$data$file.filename,content=_this67$data$file.content;return _this67.filename=(0,_display_utils.getFilenameFromUrl)(filename),_this67.content=content,null===(_this67$linkService$e=_this67.linkService.eventBus)||void 0===_this67$linkService$e||_this67$linkService$e.dispatch("fileattachmentannotation",{source:_assertThisInitialized(_this67),id:(0,_util.stringToPDFString)(filename),filename:filename,content:content}),_this67}return _createClass(FileAttachmentAnnotationElement,[{key:"render",value:function render(){var _this$data$titleObj,_this$data$contentsOb;this.container.className="fileAttachmentAnnotation";var trigger=document.createElement("div");return trigger.style.height=this.container.style.height,trigger.style.width=this.container.style.width,trigger.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(_this$data$titleObj=this.data.titleObj)&&void 0!==_this$data$titleObj&&_this$data$titleObj.str||null!==(_this$data$contentsOb=this.data.contentsObj)&&void 0!==_this$data$contentsOb&&_this$data$contentsOb.str||this.data.richText)&&this._createPopup(trigger,this.data),this.container.appendChild(trigger),this.container}},{key:"_download",value:function _download(){var _this$downloadManager;null===(_this$downloadManager=this.downloadManager)||void 0===_this$downloadManager||_this$downloadManager.openOrDownloadData(this.container,this.content,this.filename)}}]),FileAttachmentAnnotationElement}(AnnotationElement),_setAnnotationCanvasMap=_classPrivateFieldLooseKey("setAnnotationCanvasMap"),AnnotationLayer=function(){function AnnotationLayer(){_classCallCheck(this,AnnotationLayer)}return _createClass(AnnotationLayer,null,[{key:"render",value:function render(parameters){var _step63,sortedAnnotations=[],popupAnnotations=[],_iterator63=_createForOfIteratorHelper(parameters.annotations);try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var data=_step63.value;data&&(data.annotationType!==_util.AnnotationType.POPUP?sortedAnnotations.push(data):popupAnnotations.push(data))}}catch(err){_iterator63.e(err)}finally{_iterator63.f()}popupAnnotations.length&&sortedAnnotations.push.apply(sortedAnnotations,popupAnnotations);for(var div=parameters.div,_i12=0,_sortedAnnotations=sortedAnnotations;_i12<_sortedAnnotations.length;_i12++){var _data2=_sortedAnnotations[_i12],element=AnnotationElementFactory.create({data:_data2,layer:div,page:parameters.page,viewport:parameters.viewport,linkService:parameters.linkService,downloadManager:parameters.downloadManager,imageResourcesPath:parameters.imageResourcesPath||"",renderForms:!1!==parameters.renderForms,svgFactory:new _display_utils.DOMSVGFactory,annotationStorage:parameters.annotationStorage||new _annotation_storage.AnnotationStorage,enableScripting:parameters.enableScripting,hasJSActions:parameters.hasJSActions,fieldObjects:parameters.fieldObjects,mouseState:parameters.mouseState||{isDown:!1}});if(element.isRenderable){var rendered=element.render();if(_data2.hidden&&(rendered.style.visibility="hidden"),Array.isArray(rendered)){var _step64,_iterator64=_createForOfIteratorHelper(rendered);try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var renderedElement=_step64.value;div.appendChild(renderedElement)}}catch(err){_iterator64.e(err)}finally{_iterator64.f()}}else element instanceof PopupAnnotationElement?div.prepend(rendered):div.appendChild(rendered)}}_classPrivateFieldLooseBase(this,_setAnnotationCanvasMap)[_setAnnotationCanvasMap](div,parameters.annotationCanvasMap)}},{key:"update",value:function update(parameters){var scale,ownMatrix,_step65,page=parameters.page,viewport=parameters.viewport,annotations=parameters.annotations,annotationCanvasMap=parameters.annotationCanvasMap,div=parameters.div,transform=viewport.transform,matrix="matrix("+transform.join(",")+")",_iterator65=_createForOfIteratorHelper(annotations);try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var data=_step65.value,elements=div.querySelectorAll('[data-annotation-id="'+data.id+'"]');if(elements){var _step66,_iterator66=_createForOfIteratorHelper(elements);try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){var element=_step66.value;if(data.hasOwnCanvas){var rect=_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(!ownMatrix){scale=Math.abs(transform[0]||transform[1]);for(var ownTransform=transform.slice(),i=0;i<4;i++)ownTransform[i]=Math.sign(ownTransform[i]);ownMatrix="matrix("+ownTransform.join(",")+")"}var left=rect[0]*scale,top=rect[1]*scale;element.style.left=left+"px",element.style.top=top+"px",element.style.transformOrigin=-left+"px "+-top+"px",element.style.transform=ownMatrix}else element.style.transform=matrix}}catch(err){_iterator66.e(err)}finally{_iterator66.f()}}}}catch(err){_iterator65.e(err)}finally{_iterator65.f()}_classPrivateFieldLooseBase(this,_setAnnotationCanvasMap)[_setAnnotationCanvasMap](div,annotationCanvasMap),div.hidden=!1}}]),AnnotationLayer}();Object.defineProperty(AnnotationLayer,_setAnnotationCanvasMap,{value:function _setAnnotationCanvasMap2(div,annotationCanvasMap){if(annotationCanvasMap){var _step67,_iterator67=_createForOfIteratorHelper(annotationCanvasMap);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){var _ref64=_slicedToArray(_step67.value,2),_id10=_ref64[0],canvas=_ref64[1],element=div.querySelector('[data-annotation-id="'+_id10+'"]');if(element){var firstChild=element.firstChild;"CANVAS"===firstChild.nodeName?element.replaceChild(canvas,firstChild):element.insertBefore(canvas,firstChild)}}}catch(err){_iterator67.e(err)}finally{_iterator67.f()}annotationCanvasMap.clear()}}}),exports.AnnotationLayer=AnnotationLayer},function(__unused_webpack_module,exports){function makeColorComp(n){return Math.floor(255*Math.max(0,Math.min(1,n))).toString(16).padStart(2,"0")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorConverters=void 0;var ColorConverters=function(){function ColorConverters(){_classCallCheck(this,ColorConverters)}return _createClass(ColorConverters,null,[{key:"CMYK_G",value:function CMYK_G(_ref65){var _ref66=_slicedToArray(_ref65,4),c=_ref66[0],y=_ref66[1],m=_ref66[2],k=_ref66[3];return["G",1-Math.min(1,.3*c+.59*m+.11*y+k)]}},{key:"G_CMYK",value:function G_CMYK(_ref67){return["CMYK",0,0,0,1-_slicedToArray(_ref67,1)[0]]}},{key:"G_RGB",value:function G_RGB(_ref69){var g=_slicedToArray(_ref69,1)[0];return["RGB",g,g,g]}},{key:"G_HTML",value:function G_HTML(_ref71){var G=makeColorComp(_slicedToArray(_ref71,1)[0]);return"#"+G+G+G}},{key:"RGB_G",value:function RGB_G(_ref73){var _ref74=_slicedToArray(_ref73,3);return["G",.3*_ref74[0]+.59*_ref74[1]+.11*_ref74[2]]}},{key:"RGB_HTML",value:function RGB_HTML(_ref75){var _ref76=_slicedToArray(_ref75,3),r=_ref76[0],g=_ref76[1],b=_ref76[2];return"#"+makeColorComp(r)+makeColorComp(g)+makeColorComp(b)}},{key:"T_HTML",value:function T_HTML(){return"#00000000"}},{key:"CMYK_RGB",value:function CMYK_RGB(_ref77){var _ref78=_slicedToArray(_ref77,4),c=_ref78[0],y=_ref78[1],m=_ref78[2],k=_ref78[3];return["RGB",1-Math.min(1,c+k),1-Math.min(1,m+k),1-Math.min(1,y+k)]}},{key:"CMYK_HTML",value:function CMYK_HTML(components){return this.RGB_HTML(this.CMYK_RGB(components))}},{key:"RGB_CMYK",value:function RGB_CMYK(_ref79){var _ref80=_slicedToArray(_ref79,3),c=1-_ref80[0],m=1-_ref80[1],y=1-_ref80[2];return["CMYK",c,m,y,Math.min(c,m,y)]}}]),ColorConverters}();exports.ColorConverters=ColorConverters},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.XfaLayer=void 0;var _util=__w_pdfjs_require__(2),_xfa_text=__w_pdfjs_require__(17),XfaLayer=function(){function XfaLayer(){_classCallCheck(this,XfaLayer)}return _createClass(XfaLayer,null,[{key:"setupStorage",value:function setupStorage(html,id,element,storage,intent){var storedData=storage.getValue(id,{value:null});switch(element.name){case"textarea":if(null!==storedData.value&&(html.textContent=storedData.value),"print"===intent)break;html.addEventListener("input",(function(event){storage.setValue(id,{value:event.target.value})}));break;case"input":if("radio"===element.attributes.type||"checkbox"===element.attributes.type){if(storedData.value===element.attributes.xfaOn?html.setAttribute("checked",!0):storedData.value===element.attributes.xfaOff&&html.removeAttribute("checked"),"print"===intent)break;html.addEventListener("change",(function(event){storage.setValue(id,{value:event.target.checked?event.target.getAttribute("xfaOn"):event.target.getAttribute("xfaOff")})}))}else{if(null!==storedData.value&&html.setAttribute("value",storedData.value),"print"===intent)break;html.addEventListener("input",(function(event){storage.setValue(id,{value:event.target.value})}))}break;case"select":if(null!==storedData.value){var _step68,_iterator68=_createForOfIteratorHelper(element.children);try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var option=_step68.value;option.attributes.value===storedData.value&&(option.attributes.selected=!0)}}catch(err){_iterator68.e(err)}finally{_iterator68.f()}}html.addEventListener("input",(function(event){var options=event.target.options,value=-1===options.selectedIndex?"":options[options.selectedIndex].value;storage.setValue(id,{value:value})}))}}},{key:"setAttributes",value:function setAttributes(_ref81){var _linkService$addLinkA2,html=_ref81.html,element=_ref81.element,_ref81$storage=_ref81.storage,storage=void 0===_ref81$storage?null:_ref81$storage,intent=_ref81.intent,linkService=_ref81.linkService,attributes=element.attributes,isHTMLAnchorElement=html instanceof HTMLAnchorElement;"radio"===attributes.type&&(attributes.name=attributes.name+"-"+intent);for(var _i13=0,_Object$entries2=Object.entries(attributes);_i13<_Object$entries2.length;_i13++){var _ref83=_slicedToArray(_Object$entries2[_i13],2),key=_ref83[0],value=_ref83[1];if(null!=value&&"dataId"!==key)if("style"!==key)if("textContent"===key)html.textContent=value;else if("class"===key)value.length&&html.setAttribute(key,value.join(" "));else{if(isHTMLAnchorElement&&("href"===key||"newWindow"===key))continue;html.setAttribute(key,value)}else Object.assign(html.style,value)}isHTMLAnchorElement&&(linkService.addLinkAttributes||(0,_util.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(_linkService$addLinkA2=linkService.addLinkAttributes)||void 0===_linkService$addLinkA2||_linkService$addLinkA2.call(linkService,html,attributes.href,attributes.newWindow));storage&&attributes.dataId&&this.setupStorage(html,attributes.dataId,element,storage)}},{key:"render",value:function render(parameters){var storage=parameters.annotationStorage,linkService=parameters.linkService,root=parameters.xfaHtml,intent=parameters.intent||"display",rootHtml=document.createElement(root.name);root.attributes&&this.setAttributes({html:rootHtml,element:root,intent:intent,linkService:linkService});var stack=[[root,-1,rootHtml]],rootDiv=parameters.div;if(rootDiv.appendChild(rootHtml),parameters.viewport){var transform="matrix("+parameters.viewport.transform.join(",")+")";rootDiv.style.transform=transform}"richText"!==intent&&rootDiv.setAttribute("class","xfaLayer xfaFont");for(var textDivs=[];stack.length>0;){var _child$attributes,_stack=_slicedToArray(stack[stack.length-1],3),parent=_stack[0],i=_stack[1],html=_stack[2];if(i+1!==parent.children.length){var child=parent.children[++stack[stack.length-1][1]];if(null!==child){var name=child.name;if("#text"!==name){var childHtml=void 0;if(childHtml=null!=child&&null!==(_child$attributes=child.attributes)&&void 0!==_child$attributes&&_child$attributes.xmlns?document.createElementNS(child.attributes.xmlns,name):document.createElement(name),html.appendChild(childHtml),child.attributes&&this.setAttributes({html:childHtml,element:child,storage:storage,intent:intent,linkService:linkService}),child.children&&child.children.length>0)stack.push([child,-1,childHtml]);else if(child.value){var _node=document.createTextNode(child.value);_xfa_text.XfaText.shouldBuildText(name)&&textDivs.push(_node),childHtml.appendChild(_node)}}else{var node=document.createTextNode(child.value);textDivs.push(node),html.appendChild(node)}}}else stack.pop()}var _step69,_iterator69=_createForOfIteratorHelper(rootDiv.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){_step69.value.setAttribute("readOnly",!0)}}catch(err){_iterator69.e(err)}finally{_iterator69.f()}return{textDivs:textDivs}}},{key:"update",value:function update(parameters){var transform="matrix("+parameters.viewport.transform.join(",")+")";parameters.div.style.transform=transform,parameters.div.hidden=!1}}]),XfaLayer}();exports.XfaLayer=XfaLayer},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTextLayer=function renderTextLayer(renderParameters){var task=new TextLayerRenderTask({textContent:renderParameters.textContent,textContentStream:renderParameters.textContentStream,container:renderParameters.container,viewport:renderParameters.viewport,textDivs:renderParameters.textDivs,textContentItemsStr:renderParameters.textContentItemsStr,enhanceTextSelection:renderParameters.enhanceTextSelection});return task._render(renderParameters.timeout),task};var _util=__w_pdfjs_require__(2),ascentCache=new Map,AllWhitespaceRegexp=/^\s+$/g;function appendText(task,geom,styles,ctx){var textDiv=document.createElement("span"),textDivProperties=task._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==geom.str,hasEOL:geom.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==geom.str,hasEOL:geom.hasEOL};task._textDivs.push(textDiv);var tx=_util.Util.transform(task._viewport.transform,geom.transform),angle=Math.atan2(tx[1],tx[0]),style=styles[geom.fontName];style.vertical&&(angle+=Math.PI/2);var left,top,fontHeight=Math.hypot(tx[2],tx[3]),fontAscent=fontHeight*function getAscent(fontFamily,ctx){var cachedAscent=ascentCache.get(fontFamily);if(cachedAscent)return cachedAscent;ctx.save(),ctx.font="30px "+fontFamily;var metrics=ctx.measureText(""),ascent=metrics.fontBoundingBoxAscent,descent=Math.abs(metrics.fontBoundingBoxDescent);if(ascent){ctx.restore();var ratio=ascent/(ascent+descent);return ascentCache.set(fontFamily,ratio),ratio}ctx.strokeStyle="red",ctx.clearRect(0,0,30,30),ctx.strokeText("g",0,0);var pixels=ctx.getImageData(0,0,30,30).data;descent=0;for(var i=pixels.length-1-3;i>=0;i-=4)if(pixels[i]>0){descent=Math.ceil(i/4/30);break}ctx.clearRect(0,0,30,30),ctx.strokeText("A",0,30),ascent=0;for(var _i14=0,ii=(pixels=ctx.getImageData(0,0,30,30).data).length;_i14<ii;_i14+=4)if(pixels[_i14]>0){ascent=30-Math.floor(_i14/4/30);break}if(ctx.restore(),ascent){var _ratio=ascent/(ascent+descent);return ascentCache.set(fontFamily,_ratio),_ratio}return ascentCache.set(fontFamily,.8),.8}(style.fontFamily,ctx);0===angle?(left=tx[4],top=tx[5]-fontAscent):(left=tx[4]+fontAscent*Math.sin(angle),top=tx[5]-fontAscent*Math.cos(angle)),textDiv.style.left=left+"px",textDiv.style.top=top+"px",textDiv.style.fontSize=fontHeight+"px",textDiv.style.fontFamily=style.fontFamily,textDiv.setAttribute("role","presentation"),textDiv.textContent=geom.str,textDiv.dir=geom.dir,task._fontInspectorEnabled&&(textDiv.dataset.fontName=geom.fontName),0!==angle&&(textDivProperties.angle=angle*(180/Math.PI));var shouldScaleText=!1;if(geom.str.length>1||task._enhanceTextSelection&&AllWhitespaceRegexp.test(geom.str))shouldScaleText=!0;else if(" "!==geom.str&&geom.transform[0]!==geom.transform[3]){var absScaleX=Math.abs(geom.transform[0]),absScaleY=Math.abs(geom.transform[3]);absScaleX!==absScaleY&&Math.max(absScaleX,absScaleY)/Math.min(absScaleX,absScaleY)>1.5&&(shouldScaleText=!0)}if(shouldScaleText&&(style.vertical?textDivProperties.canvasWidth=geom.height*task._viewport.scale:textDivProperties.canvasWidth=geom.width*task._viewport.scale),task._textDivProperties.set(textDiv,textDivProperties),task._textContentStream&&task._layoutText(textDiv),task._enhanceTextSelection&&textDivProperties.hasText){var angleCos=1,angleSin=0;0!==angle&&(angleCos=Math.cos(angle),angleSin=Math.sin(angle));var m,b,divWidth=(style.vertical?geom.height:geom.width)*task._viewport.scale,divHeight=fontHeight;0!==angle?(m=[angleCos,angleSin,-angleSin,angleCos,left,top],b=_util.Util.getAxialAlignedBoundingBox([0,0,divWidth,divHeight],m)):b=[left,top,left+divWidth,top+divHeight],task._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:textDiv,size:[divWidth,divHeight],m:m})}}function render(task){if(!task._canceled){var textDivs=task._textDivs,capability=task._capability,textDivsLength=textDivs.length;if(textDivsLength>1e5)return task._renderingDone=!0,void capability.resolve();if(!task._textContentStream)for(var i=0;i<textDivsLength;i++)task._layoutText(textDivs[i]);task._renderingDone=!0,capability.resolve()}}function findPositiveMin(ts,offset,count){for(var result=0,i=0;i<count;i++){var t=ts[offset++];t>0&&(result=result?Math.min(t,result):t)}return result}function expand(task){for(var bounds=task._bounds,viewport=task._viewport,expanded=function expandBounds(width,height,boxes){var bounds=boxes.map((function(box,i){return{x1:box.left,y1:box.top,x2:box.right,y2:box.bottom,index:i,x1New:void 0,x2New:void 0}}));expandBoundsLTR(width,bounds);var _step70,expanded=new Array(boxes.length),_iterator70=_createForOfIteratorHelper(bounds);try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var b=_step70.value,i=b.index;expanded[i]={left:b.x1New,top:0,right:b.x2New,bottom:0}}}catch(err){_iterator70.e(err)}finally{_iterator70.f()}boxes.map((function(box,i){var e=expanded[i],b=bounds[i];b.x1=box.top,b.y1=width-e.right,b.x2=box.bottom,b.y2=width-e.left,b.index=i,b.x1New=void 0,b.x2New=void 0})),expandBoundsLTR(height,bounds);var _step71,_iterator71=_createForOfIteratorHelper(bounds);try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _b2=_step71.value,_i15=_b2.index;expanded[_i15].top=_b2.x1New,expanded[_i15].bottom=_b2.x2New}}catch(err){_iterator71.e(err)}finally{_iterator71.f()}return expanded}(viewport.width,viewport.height,bounds),i=0;i<expanded.length;i++){var div=bounds[i].div,divProperties=task._textDivProperties.get(div);if(0!==divProperties.angle){for(var e=expanded[i],b=bounds[i],m=b.m,c=m[0],s=m[1],points=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],ts=new Float64Array(64),j=0,jj=points.length;j<jj;j++){var t=_util.Util.applyTransform(points[j],m);ts[j+0]=c&&(e.left-t[0])/c,ts[j+4]=s&&(e.top-t[1])/s,ts[j+8]=c&&(e.right-t[0])/c,ts[j+12]=s&&(e.bottom-t[1])/s,ts[j+16]=s&&(e.left-t[0])/-s,ts[j+20]=c&&(e.top-t[1])/c,ts[j+24]=s&&(e.right-t[0])/-s,ts[j+28]=c&&(e.bottom-t[1])/c,ts[j+32]=c&&(e.left-t[0])/-c,ts[j+36]=s&&(e.top-t[1])/-s,ts[j+40]=c&&(e.right-t[0])/-c,ts[j+44]=s&&(e.bottom-t[1])/-s,ts[j+48]=s&&(e.left-t[0])/s,ts[j+52]=c&&(e.top-t[1])/-c,ts[j+56]=s&&(e.right-t[0])/s,ts[j+60]=c&&(e.bottom-t[1])/-c}var boxScale=1+Math.min(Math.abs(c),Math.abs(s));divProperties.paddingLeft=findPositiveMin(ts,32,16)/boxScale,divProperties.paddingTop=findPositiveMin(ts,48,16)/boxScale,divProperties.paddingRight=findPositiveMin(ts,0,16)/boxScale,divProperties.paddingBottom=findPositiveMin(ts,16,16)/boxScale,task._textDivProperties.set(div,divProperties)}else divProperties.paddingLeft=bounds[i].left-expanded[i].left,divProperties.paddingTop=bounds[i].top-expanded[i].top,divProperties.paddingRight=expanded[i].right-bounds[i].right,divProperties.paddingBottom=expanded[i].bottom-bounds[i].bottom,task._textDivProperties.set(div,divProperties)}}function expandBoundsLTR(width,bounds){bounds.sort((function(a,b){return a.x1-b.x1||a.index-b.index}));var _step72,horizon=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],_iterator72=_createForOfIteratorHelper(bounds);try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){for(var boundary=_step72.value,i=0;i<horizon.length&&horizon[i].end<=boundary.y1;)i++;for(var j=horizon.length-1;j>=0&&horizon[j].start>=boundary.y2;)j--;var horizonPart=void 0,affectedBoundary=void 0,q=void 0,k=void 0,maxXNew=-1/0;for(q=i;q<=j;q++){affectedBoundary=(horizonPart=horizon[q]).boundary;var xNew=void 0;(xNew=affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index?affectedBoundary.x1New:boundary.x1:void 0===affectedBoundary.x2New?(affectedBoundary.x2+boundary.x1)/2:affectedBoundary.x2New)>maxXNew&&(maxXNew=xNew)}for(boundary.x1New=maxXNew,q=i;q<=j;q++)void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New?affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index&&(affectedBoundary.x2New=affectedBoundary.x2):affectedBoundary.x2New=maxXNew:affectedBoundary.x2New>maxXNew&&(affectedBoundary.x2New=Math.max(maxXNew,affectedBoundary.x2));var changedHorizon=[],lastBoundary=null;for(q=i;q<=j;q++){var useBoundary=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x2?affectedBoundary:boundary;lastBoundary===useBoundary?changedHorizon[changedHorizon.length-1].end=horizonPart.end:(changedHorizon.push({start:horizonPart.start,end:horizonPart.end,boundary:useBoundary}),lastBoundary=useBoundary)}for(horizon[i].start<boundary.y1&&(changedHorizon[0].start=boundary.y1,changedHorizon.unshift({start:horizon[i].start,end:boundary.y1,boundary:horizon[i].boundary})),boundary.y2<horizon[j].end&&(changedHorizon[changedHorizon.length-1].end=boundary.y2,changedHorizon.push({start:boundary.y2,end:horizon[j].end,boundary:horizon[j].boundary})),q=i;q<=j;q++)if(void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New){var used=!1;for(k=i-1;!used&&k>=0&&horizon[k].start>=affectedBoundary.y1;k--)used=horizon[k].boundary===affectedBoundary;for(k=j+1;!used&&k<horizon.length&&horizon[k].end<=affectedBoundary.y2;k++)used=horizon[k].boundary===affectedBoundary;for(k=0;!used&&k<changedHorizon.length;k++)used=changedHorizon[k].boundary===affectedBoundary;used||(affectedBoundary.x2New=maxXNew)}Array.prototype.splice.apply(horizon,[i,j-i+1].concat(changedHorizon))}}catch(err){_iterator72.e(err)}finally{_iterator72.f()}for(var _i16=0,_horizon=horizon;_i16<_horizon.length;_i16++){var _affectedBoundary=_horizon[_i16].boundary;void 0===_affectedBoundary.x2New&&(_affectedBoundary.x2New=Math.max(width,_affectedBoundary.x2))}}var TextLayerRenderTask=function(){function TextLayerRenderTask(_ref84){var _globalThis$FontInspe2,_this68=this,textContent=_ref84.textContent,textContentStream=_ref84.textContentStream,container=_ref84.container,viewport=_ref84.viewport,textDivs=_ref84.textDivs,textContentItemsStr=_ref84.textContentItemsStr,enhanceTextSelection=_ref84.enhanceTextSelection;_classCallCheck(this,TextLayerRenderTask),this._textContent=textContent,this._textContentStream=textContentStream,this._container=container,this._document=container.ownerDocument,this._viewport=viewport,this._textDivs=textDivs||[],this._textContentItemsStr=textContentItemsStr||[],this._enhanceTextSelection=!!enhanceTextSelection,this._fontInspectorEnabled=!(null===(_globalThis$FontInspe2=globalThis.FontInspector)||void 0===_globalThis$FontInspe2||!_globalThis$FontInspe2.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_util.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){_this68._enhanceTextSelection||(_this68._textDivProperties=null),_this68._layoutTextCtx&&(_this68._layoutTextCtx.canvas.width=0,_this68._layoutTextCtx.canvas.height=0,_this68._layoutTextCtx=null)})).catch((function(){}))}return _createClass(TextLayerRenderTask,[{key:"promise",get:function get(){return this._capability.promise}},{key:"cancel",value:function cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _util.AbortException("TextLayer task cancelled.")).catch((function(){})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function _processItems(items,styleCache){for(var i=0,len=items.length;i<len;i++)if(void 0!==items[i].str)this._textContentItemsStr.push(items[i].str),appendText(this,items[i],styleCache,this._layoutTextCtx);else if("beginMarkedContentProps"===items[i].type||"beginMarkedContent"===items[i].type){var parent=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==items[i].id&&this._container.setAttribute("id",""+items[i].id),parent.appendChild(this._container)}else"endMarkedContent"===items[i].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function _layoutText(textDiv){var textDivProperties=this._textDivProperties.get(textDiv),transform="";if(0!==textDivProperties.canvasWidth&&textDivProperties.hasText){var _textDiv$style=textDiv.style,fontSize=_textDiv$style.fontSize,fontFamily=_textDiv$style.fontFamily;fontSize===this._layoutTextLastFontSize&&fontFamily===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=fontSize+" "+fontFamily,this._layoutTextLastFontSize=fontSize,this._layoutTextLastFontFamily=fontFamily);var width=this._layoutTextCtx.measureText(textDiv.textContent).width;if(width>0){var scale=textDivProperties.canvasWidth/width;this._enhanceTextSelection&&(textDivProperties.scale=scale),transform="scaleX("+scale+")"}}if(0!==textDivProperties.angle&&(transform="rotate("+textDivProperties.angle+"deg) "+transform),transform.length>0&&(this._enhanceTextSelection&&(textDivProperties.originalTransform=transform),textDiv.style.transform=transform),textDivProperties.hasText&&this._container.appendChild(textDiv),textDivProperties.hasEOL){var br=document.createElement("br");br.setAttribute("role","presentation"),this._container.appendChild(br)}}},{key:"_render",value:function _render(){var _this69=this,timeout=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,capability=(0,_util.createPromiseCapability)(),styleCache=Object.create(null),canvas=this._document.createElement("canvas");if(canvas.height=canvas.width=30,canvas.mozOpaque=!0,this._layoutTextCtx=canvas.getContext("2d",{alpha:!1}),this._textContent){var textItems=this._textContent.items,textStyles=this._textContent.styles;this._processItems(textItems,textStyles),capability.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var pump=function pump(){_this69._reader.read().then((function(_ref85){var value=_ref85.value;_ref85.done?capability.resolve():(Object.assign(styleCache,value.styles),_this69._processItems(value.items,styleCache),pump())}),capability.reject)};this._reader=this._textContentStream.getReader(),pump()}capability.promise.then((function(){styleCache=null,timeout?_this69._renderTimer=setTimeout((function(){render(_this69),_this69._renderTimer=null}),timeout):render(_this69)}),this._capability.reject)}},{key:"expandTextDivs",value:function expandTextDivs(){var expandDivs=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(expand(this),this._bounds=null);for(var transformBuf=[],paddingBuf=[],i=0,ii=this._textDivs.length;i<ii;i++){var div=this._textDivs[i],divProps=this._textDivProperties.get(div);divProps.hasText&&(expandDivs?(transformBuf.length=0,paddingBuf.length=0,divProps.originalTransform&&transformBuf.push(divProps.originalTransform),divProps.paddingTop>0?(paddingBuf.push(divProps.paddingTop+"px"),transformBuf.push("translateY("+-divProps.paddingTop+"px)")):paddingBuf.push(0),divProps.paddingRight>0?paddingBuf.push(divProps.paddingRight/divProps.scale+"px"):paddingBuf.push(0),divProps.paddingBottom>0?paddingBuf.push(divProps.paddingBottom+"px"):paddingBuf.push(0),divProps.paddingLeft>0?(paddingBuf.push(divProps.paddingLeft/divProps.scale+"px"),transformBuf.push("translateX("+-divProps.paddingLeft/divProps.scale+"px)")):paddingBuf.push(0),div.style.padding=paddingBuf.join(" "),transformBuf.length&&(div.style.transform=transformBuf.join(" "))):(div.style.padding=null,div.style.transform=divProps.originalTransform))}}}}]),TextLayerRenderTask}()},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGGraphics=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_is_node=__w_pdfjs_require__(4),SVGGraphics=_createClass((function SVGGraphics(){_classCallCheck(this,SVGGraphics),(0,_util.unreachable)("Not implemented: SVGGraphics")}));exports.SVGGraphics=SVGGraphics;var pf=function pf(value){if(Number.isInteger(value))return value.toString();var s=value.toFixed(10),i=s.length-1;if("0"!==s[i])return s;do{i--}while("0"===s[i]);return s.substring(0,"."===s[i]?i:i+1)},pm=function pm(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":"scale("+pf(m[0])+" "+pf(m[3])+")";if(m[0]===m[3]&&m[1]===-m[2]){var a=180*Math.acos(m[0])/Math.PI;return"rotate("+pf(a)+")"}}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return"translate("+pf(m[4])+" "+pf(m[5])+")";return"matrix("+pf(m[0])+" "+pf(m[1])+" "+pf(m[2])+" "+pf(m[3])+" "+pf(m[4])+" "+pf(m[5])+")"},SVG_DEFAULTS={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],convertImgDataToPng=function(){for(var PNG_HEADER=new Uint8Array([137,80,78,71,13,10,26,10]),crcTable=new Int32Array(256),i=0;i<256;i++){for(var c=i,_h=0;_h<8;_h++)c=1&c?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function writePngChunk(type,body,data,offset){var p=offset,len=body.length;data[p]=len>>24&255,data[p+1]=len>>16&255,data[p+2]=len>>8&255,data[p+3]=255&len,data[p+=4]=255&type.charCodeAt(0),data[p+1]=255&type.charCodeAt(1),data[p+2]=255&type.charCodeAt(2),data[p+3]=255&type.charCodeAt(3),p+=4,data.set(body,p);var crc=function crc32(data,start,end){for(var crc=-1,_i17=start;_i17<end;_i17++){var a=255&(crc^data[_i17]);crc=crc>>>8^crcTable[a]}return-1^crc}(data,offset+4,p+=body.length);data[p]=crc>>24&255,data[p+1]=crc>>16&255,data[p+2]=crc>>8&255,data[p+3]=255&crc}function deflateSyncUncompressed(literals){var len=literals.length,deflateBlocks=Math.ceil(len/65535),idat=new Uint8Array(2+len+5*deflateBlocks+4),pi=0;idat[pi++]=120,idat[pi++]=156;for(var pos=0;len>65535;)idat[pi++]=0,idat[pi++]=255,idat[pi++]=255,idat[pi++]=0,idat[pi++]=0,idat.set(literals.subarray(pos,pos+65535),pi),pi+=65535,pos+=65535,len-=65535;idat[pi++]=1,idat[pi++]=255&len,idat[pi++]=len>>8&255,idat[pi++]=255&~len,idat[pi++]=(65535&~len)>>8&255,idat.set(literals.subarray(pos),pi),pi+=literals.length-pos;var adler=function adler32(data,start,end){for(var a=1,b=0,_i18=start;_i18<end;++_i18)b=(b+(a=(a+(255&data[_i18]))%65521))%65521;return b<<16|a}(literals,0,literals.length);return idat[pi++]=adler>>24&255,idat[pi++]=adler>>16&255,idat[pi++]=adler>>8&255,idat[pi++]=255&adler,idat}function encode(imgData,kind,forceDataSchema,isMask){var bitDepth,colorType,lineSize,width=imgData.width,height=imgData.height,bytes=imgData.data;switch(kind){case _util.ImageKind.GRAYSCALE_1BPP:colorType=0,bitDepth=1,lineSize=width+7>>3;break;case _util.ImageKind.RGB_24BPP:colorType=2,bitDepth=8,lineSize=3*width;break;case _util.ImageKind.RGBA_32BPP:colorType=6,bitDepth=8,lineSize=4*width;break;default:throw new Error("invalid format")}for(var literals=new Uint8Array((1+lineSize)*height),offsetLiterals=0,offsetBytes=0,y=0;y<height;++y)literals[offsetLiterals++]=0,literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals),offsetBytes+=lineSize,offsetLiterals+=lineSize;if(kind===_util.ImageKind.GRAYSCALE_1BPP&&isMask){offsetLiterals=0;for(var _y=0;_y<height;_y++){offsetLiterals++;for(var _i19=0;_i19<lineSize;_i19++)literals[offsetLiterals++]^=255}}var ihdr=new Uint8Array([width>>24&255,width>>16&255,width>>8&255,255&width,height>>24&255,height>>16&255,height>>8&255,255&height,bitDepth,colorType,0,0,0]),idat=function deflateSync(literals){if(!_is_node.isNodeJS)return deflateSyncUncompressed(literals);try{var input;input=parseInt(_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.g.versions.node)>=8?literals:_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.a.from(literals);var output=require$$5.deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output)}catch(e){(0,_util.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return deflateSyncUncompressed(literals)}(literals),pngLength=PNG_HEADER.length+36+ihdr.length+idat.length,data=new Uint8Array(pngLength),offset=0;return data.set(PNG_HEADER,offset),writePngChunk("IHDR",ihdr,data,offset+=PNG_HEADER.length),writePngChunk("IDATA",idat,data,offset+=12+ihdr.length),offset+=12+idat.length,writePngChunk("IEND",new Uint8Array(0),data,offset),(0,_util.createObjectURL)(data,"image/png",forceDataSchema)}return function convertImgDataToPng(imgData,forceDataSchema,isMask){return encode(imgData,void 0===imgData.kind?_util.ImageKind.GRAYSCALE_1BPP:imgData.kind,forceDataSchema,isMask)}}(),SVGExtraState=function(){function SVGExtraState(){_classCallCheck(this,SVGExtraState),this.fontSizeScale=1,this.fontWeight=SVG_DEFAULTS.fontWeight,this.fontSize=0,this.textMatrix=_util.IDENTITY_MATRIX,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=SVG_DEFAULTS.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(SVGExtraState,[{key:"clone",value:function clone(){return Object.create(this)}},{key:"setCurrentPoint",value:function setCurrentPoint(x,y){this.x=x,this.y=y}}]),SVGExtraState}(),clipCount=0,maskCount=0,shadingCount=0;exports.SVGGraphics=SVGGraphics=function(){function SVGGraphics(commonObjs,objs){var forceDataSchema=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var op in _classCallCheck(this,SVGGraphics),this.svgFactory=new _display_utils.DOMSVGFactory,this.current=new SVGExtraState,this.transformMatrix=_util.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=commonObjs,this.objs=objs,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!forceDataSchema,this._operatorIdMapping=[],_util.OPS)this._operatorIdMapping[_util.OPS[op]]=op}return _createClass(SVGGraphics,[{key:"save",value:function save(){this.transformStack.push(this.transformMatrix);var old=this.current;this.extraStack.push(old),this.current=old.clone()}},{key:"restore",value:function restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function group(items){this.save(),this.executeOpTree(items),this.restore()}},{key:"loadDependencies",value:function loadDependencies(operatorList){for(var _this70=this,fnArray=operatorList.fnArray,argsArray=operatorList.argsArray,i=0,ii=fnArray.length;i<ii;i++)if(fnArray[i]===_util.OPS.dependency){var _step74,_loop3=function _loop3(obj){var objsPool=obj.startsWith("g_")?_this70.commonObjs:_this70.objs,promise=new Promise((function(resolve){objsPool.get(obj,resolve)}));_this70.current.dependencies.push(promise)},_iterator74=_createForOfIteratorHelper(argsArray[i]);try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){_loop3(_step74.value)}}catch(err){_iterator74.e(err)}finally{_iterator74.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function transform(a,b,c,d,e,f){var transformMatrix=[a,b,c,d,e,f];this.transformMatrix=_util.Util.transform(this.transformMatrix,transformMatrix),this.tgrp=null}},{key:"getSVG",value:function getSVG(operatorList,viewport){var _this71=this;this.viewport=viewport;var svgElement=this._initialize(viewport);return this.loadDependencies(operatorList).then((function(){return _this71.transformMatrix=_util.IDENTITY_MATRIX,_this71.executeOpTree(_this71.convertOpList(operatorList)),svgElement}))}},{key:"convertOpList",value:function convertOpList(operatorList){for(var operatorIdMapping=this._operatorIdMapping,argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,opList=[],i=0,ii=fnArray.length;i<ii;i++){var fnId=fnArray[i];opList.push({fnId:fnId,fn:operatorIdMapping[fnId],args:argsArray[i]})}return function opListToTree(opList){var _step73,opTree=[],tmp=[],_iterator73=_createForOfIteratorHelper(opList);try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var opListElement=_step73.value;"save"!==opListElement.fn?"restore"===opListElement.fn?opTree=tmp.pop():opTree.push(opListElement):(opTree.push({fnId:92,fn:"group",items:[]}),tmp.push(opTree),opTree=opTree[opTree.length-1].items)}}catch(err){_iterator73.e(err)}finally{_iterator73.f()}return opTree}(opList)}},{key:"executeOpTree",value:function executeOpTree(opTree){var _step75,_iterator75=_createForOfIteratorHelper(opTree);try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var opTreeElement=_step75.value,fn=opTreeElement.fn,fnId=opTreeElement.fnId,args=opTreeElement.args;switch(0|fnId){case _util.OPS.beginText:this.beginText();break;case _util.OPS.dependency:break;case _util.OPS.setLeading:this.setLeading(args);break;case _util.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util.OPS.setFont:this.setFont(args);break;case _util.OPS.showText:case _util.OPS.showSpacedText:this.showText(args[0]);break;case _util.OPS.endText:this.endText();break;case _util.OPS.moveText:this.moveText(args[0],args[1]);break;case _util.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util.OPS.setHScale:this.setHScale(args[0]);break;case _util.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.setTextRise:this.setTextRise(args[0]);break;case _util.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util.OPS.setLineCap:this.setLineCap(args[0]);break;case _util.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeColorN:this.setStrokeColorN(args);break;case _util.OPS.setFillColorN:this.setFillColorN(args);break;case _util.OPS.shadingFill:this.shadingFill(args[0]);break;case _util.OPS.setDash:this.setDash(args[0],args[1]);break;case _util.OPS.setRenderingIntent:this.setRenderingIntent(args[0]);break;case _util.OPS.setFlatness:this.setFlatness(args[0]);break;case _util.OPS.setGState:this.setGState(args[0]);break;case _util.OPS.fill:this.fill();break;case _util.OPS.eoFill:this.eoFill();break;case _util.OPS.stroke:this.stroke();break;case _util.OPS.fillStroke:this.fillStroke();break;case _util.OPS.eoFillStroke:this.eoFillStroke();break;case _util.OPS.clip:this.clip("nonzero");break;case _util.OPS.eoClip:this.clip("evenodd");break;case _util.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util.OPS.closePath:this.closePath();break;case _util.OPS.closeStroke:this.closeStroke();break;case _util.OPS.closeFillStroke:this.closeFillStroke();break;case _util.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util.OPS.nextLine:this.nextLine();break;case _util.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util.OPS.endPath:this.endPath();break;case 92:this.group(opTreeElement.items);break;default:(0,_util.warn)("Unimplemented operator "+fn)}}}catch(err){_iterator75.e(err)}finally{_iterator75.f()}}},{key:"setWordSpacing",value:function setWordSpacing(wordSpacing){this.current.wordSpacing=wordSpacing}},{key:"setCharSpacing",value:function setCharSpacing(charSpacing){this.current.charSpacing=charSpacing}},{key:"nextLine",value:function nextLine(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function setTextMatrix(a,b,c,d,e,f){var current=this.current;current.textMatrix=current.lineMatrix=[a,b,c,d,e,f],current.textMatrixScale=Math.hypot(a,b),current.x=current.lineX=0,current.y=current.lineY=0,current.xcoords=[],current.ycoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",pf(current.fontSize)+"px"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtElement.appendChild(current.tspan)}},{key:"beginText",value:function beginText(){var current=this.current;current.x=current.lineX=0,current.y=current.lineY=0,current.textMatrix=_util.IDENTITY_MATRIX,current.lineMatrix=_util.IDENTITY_MATRIX,current.textMatrixScale=1,current.tspan=this.svgFactory.createElement("svg:tspan"),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtgrp=this.svgFactory.createElement("svg:g"),current.xcoords=[],current.ycoords=[]}},{key:"moveText",value:function moveText(x,y){var current=this.current;current.x=current.lineX+=x,current.y=current.lineY+=y,current.xcoords=[],current.ycoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",pf(current.fontSize)+"px"),current.tspan.setAttributeNS(null,"y",pf(-current.y))}},{key:"showText",value:function showText(glyphs){var current=this.current,font=current.font,fontSize=current.fontSize;if(0!==fontSize){var _step76,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],x=0,_iterator76=_createForOfIteratorHelper(glyphs);try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var glyph=_step76.value;if(null!==glyph)if((0,_util.isNum)(glyph))x+=spacingDir*glyph*fontSize/1e3;else{var spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,scaledX=void 0,scaledY=void 0,width=glyph.width;if(vertical){var vx=void 0,vmetric=glyph.vmetric||defaultVMetrics;vx=-(vx=glyph.vmetric?vmetric[1]:.5*width)*widthAdvanceScale;var vy=vmetric[2]*widthAdvanceScale;width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x+vy)/fontSizeScale}else scaledX=x/fontSizeScale,scaledY=0;(glyph.isInFont||font.missingFile)&&(current.xcoords.push(current.x+scaledX),vertical&&current.ycoords.push(-current.y+scaledY),current.tspan.textContent+=character);x+=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection}else x+=fontDirection*wordSpacing}}catch(err){_iterator76.e(err)}finally{_iterator76.f()}current.tspan.setAttributeNS(null,"x",current.xcoords.map(pf).join(" ")),vertical?current.tspan.setAttributeNS(null,"y",current.ycoords.map(pf).join(" ")):current.tspan.setAttributeNS(null,"y",pf(-current.y)),vertical?current.y-=x:current.x+=x*textHScale,current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",pf(current.fontSize)+"px"),current.fontStyle!==SVG_DEFAULTS.fontStyle&&current.tspan.setAttributeNS(null,"font-style",current.fontStyle),current.fontWeight!==SVG_DEFAULTS.fontWeight&&current.tspan.setAttributeNS(null,"font-weight",current.fontWeight);var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;if(fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE?(current.fillColor!==SVG_DEFAULTS.fillColor&&current.tspan.setAttributeNS(null,"fill",current.fillColor),current.fillAlpha<1&&current.tspan.setAttributeNS(null,"fill-opacity",current.fillAlpha)):current.textRenderingMode===_util.TextRenderingMode.ADD_TO_PATH?current.tspan.setAttributeNS(null,"fill","transparent"):current.tspan.setAttributeNS(null,"fill","none"),fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){var lineWidthScale=1/(current.textMatrixScale||1);this._setStrokeAttributes(current.tspan,lineWidthScale)}var textMatrix=current.textMatrix;0!==current.textRise&&((textMatrix=textMatrix.slice())[5]+=current.textRise),current.txtElement.setAttributeNS(null,"transform",pm(textMatrix)+" scale("+pf(textHScale)+", -1)"),current.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),current.txtElement.appendChild(current.tspan),current.txtgrp.appendChild(current.txtElement),this._ensureTransformGroup().appendChild(current.txtElement)}}},{key:"setLeadingMoveText",value:function setLeadingMoveText(x,y){this.setLeading(-y),this.moveText(x,y)}},{key:"addFontStyle",value:function addFontStyle(fontObj){if(!fontObj.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var url=(0,_util.createObjectURL)(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+fontObj.loadedName+'"; src: url('+url+"); }\n"}},{key:"setFont",value:function setFont(details){var current=this.current,fontObj=this.commonObjs.get(details[0]),size=details[1];current.font=fontObj,!this.embedFonts||fontObj.missingFile||this.embeddedFonts[fontObj.loadedName]||(this.addFontStyle(fontObj),this.embeddedFonts[fontObj.loadedName]=fontObj),current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX;var bold="normal";fontObj.black?bold="900":fontObj.bold&&(bold="bold");var italic=fontObj.italic?"italic":"normal";size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,current.fontSize=size,current.fontFamily=fontObj.loadedName,current.fontWeight=bold,current.fontStyle=italic,current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.xcoords=[],current.ycoords=[]}},{key:"endText",value:function endText(){var _current$txtElement,current=this.current;current.textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(_current$txtElement=current.txtElement)&&void 0!==_current$txtElement&&_current$txtElement.hasChildNodes()&&(current.element=current.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function setLineWidth(width){width>0&&(this.current.lineWidth=width)}},{key:"setLineCap",value:function setLineCap(style){this.current.lineCap=LINE_CAP_STYLES[style]}},{key:"setLineJoin",value:function setLineJoin(style){this.current.lineJoin=LINE_JOIN_STYLES[style]}},{key:"setMiterLimit",value:function setMiterLimit(limit){this.current.miterLimit=limit}},{key:"setStrokeAlpha",value:function setStrokeAlpha(strokeAlpha){this.current.strokeAlpha=strokeAlpha}},{key:"setStrokeRGBColor",value:function setStrokeRGBColor(r,g,b){this.current.strokeColor=_util.Util.makeHexColor(r,g,b)}},{key:"setFillAlpha",value:function setFillAlpha(fillAlpha){this.current.fillAlpha=fillAlpha}},{key:"setFillRGBColor",value:function setFillRGBColor(r,g,b){this.current.fillColor=_util.Util.makeHexColor(r,g,b),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function setStrokeColorN(args){this.current.strokeColor=this._makeColorN_Pattern(args)}},{key:"setFillColorN",value:function setFillColorN(args){this.current.fillColor=this._makeColorN_Pattern(args)}},{key:"shadingFill",value:function shadingFill(args){var width=this.viewport.width,height=this.viewport.height,inv=_util.Util.inverseTransform(this.transformMatrix),bl=_util.Util.applyTransform([0,0],inv),br=_util.Util.applyTransform([0,height],inv),ul=_util.Util.applyTransform([width,0],inv),ur=_util.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]),rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x",x0),rect.setAttributeNS(null,"y",y0),rect.setAttributeNS(null,"width",x1-x0),rect.setAttributeNS(null,"height",y1-y0),rect.setAttributeNS(null,"fill",this._makeShadingPattern(args)),this.current.fillAlpha<1&&rect.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(rect)}},{key:"_makeColorN_Pattern",value:function _makeColorN_Pattern(args){return"TilingPattern"===args[0]?this._makeTilingPattern(args):this._makeShadingPattern(args)}},{key:"_makeTilingPattern",value:function _makeTilingPattern(args){var color=args[1],operatorList=args[2],matrix=args[3]||_util.IDENTITY_MATRIX,_args$=_slicedToArray(args[4],4),x0=_args$[0],y0=_args$[1],x1=_args$[2],y1=_args$[3],xstep=args[5],ystep=args[6],paintType=args[7],tilingId="shading"+shadingCount++,_util$Util$normalizeR2=_slicedToArray(_util.Util.normalizeRect([].concat(_toConsumableArray(_util.Util.applyTransform([x0,y0],matrix)),_toConsumableArray(_util.Util.applyTransform([x1,y1],matrix)))),4),tx0=_util$Util$normalizeR2[0],ty0=_util$Util$normalizeR2[1],tx1=_util$Util$normalizeR2[2],ty1=_util$Util$normalizeR2[3],_util$Util$singularVa6=_slicedToArray(_util.Util.singularValueDecompose2dScale(matrix),2),txstep=xstep*_util$Util$singularVa6[0],tystep=ystep*_util$Util$singularVa6[1],tiling=this.svgFactory.createElement("svg:pattern");tiling.setAttributeNS(null,"id",tilingId),tiling.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tiling.setAttributeNS(null,"width",txstep),tiling.setAttributeNS(null,"height",tystep),tiling.setAttributeNS(null,"x",""+tx0),tiling.setAttributeNS(null,"y",""+ty0);var svg=this.svg,transformMatrix=this.transformMatrix,fillColor=this.current.fillColor,strokeColor=this.current.strokeColor,bbox=this.svgFactory.create(tx1-tx0,ty1-ty0);if(this.svg=bbox,this.transformMatrix=matrix,2===paintType){var _util$Util,cssColor=(_util$Util=_util.Util).makeHexColor.apply(_util$Util,_toConsumableArray(color));this.current.fillColor=cssColor,this.current.strokeColor=cssColor}return this.executeOpTree(this.convertOpList(operatorList)),this.svg=svg,this.transformMatrix=transformMatrix,this.current.fillColor=fillColor,this.current.strokeColor=strokeColor,tiling.appendChild(bbox.childNodes[0]),this.defs.appendChild(tiling),"url(#"+tilingId+")"}},{key:"_makeShadingPattern",value:function _makeShadingPattern(args){switch("string"==typeof args&&(args=this.objs.get(args)),args[0]){case"RadialAxial":var gradient,shadingId="shading"+shadingCount++,colorStops=args[3];switch(args[1]){case"axial":var point0=args[4],point1=args[5];(gradient=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"x1",point0[0]),gradient.setAttributeNS(null,"y1",point0[1]),gradient.setAttributeNS(null,"x2",point1[0]),gradient.setAttributeNS(null,"y2",point1[1]);break;case"radial":var focalPoint=args[4],circlePoint=args[5],focalRadius=args[6],circleRadius=args[7];(gradient=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"cx",circlePoint[0]),gradient.setAttributeNS(null,"cy",circlePoint[1]),gradient.setAttributeNS(null,"r",circleRadius),gradient.setAttributeNS(null,"fx",focalPoint[0]),gradient.setAttributeNS(null,"fy",focalPoint[1]),gradient.setAttributeNS(null,"fr",focalRadius);break;default:throw new Error("Unknown RadialAxial type: "+args[1])}var _step77,_iterator77=_createForOfIteratorHelper(colorStops);try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var colorStop=_step77.value,stop=this.svgFactory.createElement("svg:stop");stop.setAttributeNS(null,"offset",colorStop[0]),stop.setAttributeNS(null,"stop-color",colorStop[1]),gradient.appendChild(stop)}}catch(err){_iterator77.e(err)}finally{_iterator77.f()}return this.defs.appendChild(gradient),"url(#"+shadingId+")";case"Mesh":return(0,_util.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: "+args[0])}}},{key:"setDash",value:function setDash(dashArray,dashPhase){this.current.dashArray=dashArray,this.current.dashPhase=dashPhase}},{key:"constructPath",value:function constructPath(ops,args){var _step78,current=this.current,x=current.x,y=current.y,d=[],j=0,_iterator78=_createForOfIteratorHelper(ops);try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){switch(0|_step78.value){case _util.OPS.rectangle:x=args[j++],y=args[j++];var width=args[j++],height=args[j++],xw=x+width,yh=y+height;d.push("M",pf(x),pf(y),"L",pf(xw),pf(y),"L",pf(xw),pf(yh),"L",pf(x),pf(yh),"Z");break;case _util.OPS.moveTo:x=args[j++],y=args[j++],d.push("M",pf(x),pf(y));break;case _util.OPS.lineTo:x=args[j++],y=args[j++],d.push("L",pf(x),pf(y));break;case _util.OPS.curveTo:x=args[j+4],y=args[j+5],d.push("C",pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]),pf(x),pf(y)),j+=6;break;case _util.OPS.curveTo2:d.push("C",pf(x),pf(y),pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3])),x=args[j+2],y=args[j+3],j+=4;break;case _util.OPS.curveTo3:x=args[j+2],y=args[j+3],d.push("C",pf(args[j]),pf(args[j+1]),pf(x),pf(y),pf(x),pf(y)),j+=4;break;case _util.OPS.closePath:d.push("Z")}}}catch(err){_iterator78.e(err)}finally{_iterator78.f()}d=d.join(" "),current.path&&ops.length>0&&ops[0]!==_util.OPS.rectangle&&ops[0]!==_util.OPS.moveTo?d=current.path.getAttributeNS(null,"d")+d:(current.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(current.path)),current.path.setAttributeNS(null,"d",d),current.path.setAttributeNS(null,"fill","none"),current.element=current.path,current.setCurrentPoint(x,y)}},{key:"endPath",value:function endPath(){var current=this.current;if(current.path=null,this.pendingClip)if(current.element){var clipId="clippath"+clipCount++,clipPath=this.svgFactory.createElement("svg:clipPath");clipPath.setAttributeNS(null,"id",clipId),clipPath.setAttributeNS(null,"transform",pm(this.transformMatrix));var clipElement=current.element.cloneNode(!0);if("evenodd"===this.pendingClip?clipElement.setAttributeNS(null,"clip-rule","evenodd"):clipElement.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,clipPath.appendChild(clipElement),this.defs.appendChild(clipPath),current.activeClipUrl){current.clipGroup=null;var _step79,_iterator79=_createForOfIteratorHelper(this.extraStack);try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){_step79.value.clipGroup=null}}catch(err){_iterator79.e(err)}finally{_iterator79.f()}clipPath.setAttributeNS(null,"clip-path",current.activeClipUrl)}current.activeClipUrl="url(#"+clipId+")",this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function clip(type){this.pendingClip=type}},{key:"closePath",value:function closePath(){var current=this.current;if(current.path){var d=current.path.getAttributeNS(null,"d")+"Z";current.path.setAttributeNS(null,"d",d)}}},{key:"setLeading",value:function setLeading(leading){this.current.leading=-leading}},{key:"setTextRise",value:function setTextRise(textRise){this.current.textRise=textRise}},{key:"setTextRenderingMode",value:function setTextRenderingMode(textRenderingMode){this.current.textRenderingMode=textRenderingMode}},{key:"setHScale",value:function setHScale(scale){this.current.textHScale=scale/100}},{key:"setRenderingIntent",value:function setRenderingIntent(intent){}},{key:"setFlatness",value:function setFlatness(flatness){}},{key:"setGState",value:function setGState(states){var _step80,_iterator80=_createForOfIteratorHelper(states);try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _ref87=_slicedToArray(_step80.value,2),key=_ref87[0],value=_ref87[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value);break;case"CA":this.setStrokeAlpha(value);break;case"ca":this.setFillAlpha(value);break;default:(0,_util.warn)("Unimplemented graphic state operator "+key)}}}catch(err){_iterator80.e(err)}finally{_iterator80.f()}}},{key:"fill",value:function fill(){var current=this.current;current.element&&(current.element.setAttributeNS(null,"fill",current.fillColor),current.element.setAttributeNS(null,"fill-opacity",current.fillAlpha),this.endPath())}},{key:"stroke",value:function stroke(){var current=this.current;current.element&&(this._setStrokeAttributes(current.element),current.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function _setStrokeAttributes(element){var lineWidthScale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,current=this.current,dashArray=current.dashArray;1!==lineWidthScale&&dashArray.length>0&&(dashArray=dashArray.map((function(value){return lineWidthScale*value}))),element.setAttributeNS(null,"stroke",current.strokeColor),element.setAttributeNS(null,"stroke-opacity",current.strokeAlpha),element.setAttributeNS(null,"stroke-miterlimit",pf(current.miterLimit)),element.setAttributeNS(null,"stroke-linecap",current.lineCap),element.setAttributeNS(null,"stroke-linejoin",current.lineJoin),element.setAttributeNS(null,"stroke-width",pf(lineWidthScale*current.lineWidth)+"px"),element.setAttributeNS(null,"stroke-dasharray",dashArray.map(pf).join(" ")),element.setAttributeNS(null,"stroke-dashoffset",pf(lineWidthScale*current.dashPhase)+"px")}},{key:"eoFill",value:function eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function fillStroke(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function closeStroke(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function closeFillStroke(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function closeEOFillStroke(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function paintSolidColorImageMask(){var rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width","1px"),rect.setAttributeNS(null,"height","1px"),rect.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(rect)}},{key:"paintImageXObject",value:function paintImageXObject(objId){var imgData=objId.startsWith("g_")?this.commonObjs.get(objId):this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image with object ID "+objId+" is not ready yet")}},{key:"paintInlineImageXObject",value:function paintInlineImageXObject(imgData,mask){var width=imgData.width,height=imgData.height,imgSrc=convertImgDataToPng(imgData,this.forceDataSchema,!!mask),cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x","0"),cliprect.setAttributeNS(null,"y","0"),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero");var imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",imgSrc),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-height)),imgEl.setAttributeNS(null,"width",pf(width)+"px"),imgEl.setAttributeNS(null,"height",pf(height)+"px"),imgEl.setAttributeNS(null,"transform","scale("+pf(1/width)+" "+pf(-1/height)+")"),mask?mask.appendChild(imgEl):this._ensureTransformGroup().appendChild(imgEl)}},{key:"paintImageMaskXObject",value:function paintImageMaskXObject(imgData){var current=this.current,width=imgData.width,height=imgData.height,fillColor=current.fillColor;current.maskId="mask"+maskCount++;var mask=this.svgFactory.createElement("svg:mask");mask.setAttributeNS(null,"id",current.maskId);var rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width",pf(width)),rect.setAttributeNS(null,"height",pf(height)),rect.setAttributeNS(null,"fill",fillColor),rect.setAttributeNS(null,"mask","url(#"+current.maskId+")"),this.defs.appendChild(mask),this._ensureTransformGroup().appendChild(rect),this.paintInlineImageXObject(imgData,mask)}},{key:"paintFormXObjectBegin",value:function paintFormXObjectBegin(matrix,bbox){if(Array.isArray(matrix)&&6===matrix.length&&this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),bbox){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x",bbox[0]),cliprect.setAttributeNS(null,"y",bbox[1]),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function paintFormXObjectEnd(){}},{key:"_initialize",value:function _initialize(viewport){var svg=this.svgFactory.create(viewport.width,viewport.height),definitions=this.svgFactory.createElement("svg:defs");svg.appendChild(definitions),this.defs=definitions;var rootGroup=this.svgFactory.createElement("svg:g");return rootGroup.setAttributeNS(null,"transform",pm(viewport.transform)),svg.appendChild(rootGroup),this.svg=rootGroup,svg}},{key:"_ensureClipGroup",value:function _ensureClipGroup(){if(!this.current.clipGroup){var clipGroup=this.svgFactory.createElement("svg:g");clipGroup.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(clipGroup),this.current.clipGroup=clipGroup}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function _ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pm(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),SVGGraphics}()},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNodeStream=void 0;var _util=__w_pdfjs_require__(2),_network_utils=__w_pdfjs_require__(24),fs=require$$5,http=require$$5,https=require$$5,url=require$$5,fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;var PDFNodeStream=function(){function PDFNodeStream(source){_classCallCheck(this,PDFNodeStream),this.source=source,this.url=function parseUrl(sourceUrl){var parsedUrl=url.parse(sourceUrl);return"file:"===parsedUrl.protocol||parsedUrl.host?parsedUrl:/^[a-z]:[/\\]/i.test(sourceUrl)?url.parse("file:///"+sourceUrl):(parsedUrl.host||(parsedUrl.protocol="file:"),parsedUrl)}(source.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFNodeStream,[{key:"_progressiveDataLength",get:function get(){var _this$_fullRequestRea3,_this$_fullRequestRea4;return null!==(_this$_fullRequestRea3=null===(_this$_fullRequestRea4=this._fullRequestReader)||void 0===_this$_fullRequestRea4?void 0:_this$_fullRequestRea4._loaded)&&void 0!==_this$_fullRequestRea3?_this$_fullRequestRea3:0}},{key:"getFullReader",value:function getFullReader(){return(0,_util.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(start,end){if(end<=this._progressiveDataLength)return null;var rangeReader=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,start,end):new PDFNodeStreamRangeReader(this,start,end);return this._rangeRequestReaders.push(rangeReader),rangeReader}},{key:"cancelAllRequests",value:function cancelAllRequests(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason);var _step81,_iterator81=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){_step81.value.cancel(reason)}}catch(err){_iterator81.e(err)}finally{_iterator81.f()}}}]),PDFNodeStream}();exports.PDFNodeStream=PDFNodeStream;var BaseFullReader=function(){function BaseFullReader(stream){_classCallCheck(this,BaseFullReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null;var source=stream.source;this._contentLength=source.length,this._loaded=0,this._filename=null,this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)(),this._headersCapability=(0,_util.createPromiseCapability)()}var _read3;return _createClass(BaseFullReader,[{key:"headersReady",get:function get(){return this._headersCapability.promise}},{key:"filename",get:function get(){return this._filename}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(_read3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee22(){var chunk,buffer;return _regeneratorRuntime().wrap((function _callee22$(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:return _context22.next=2,this._readCapability.promise;case 2:if(!this._done){_context22.next=4;break}return _context22.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){_context22.next=6;break}throw this._storedError;case 6:if(null!==(chunk=this._readableStream.read())){_context22.next=10;break}return this._readCapability=(0,_util.createPromiseCapability)(),_context22.abrupt("return",this.read());case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(chunk).buffer,_context22.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context22.stop()}}),_callee22,this)}))),function read(){return _read3.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function _error(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function _setReadableStream(readableStream){var _this72=this;this._readableStream=readableStream,readableStream.on("readable",(function(){_this72._readCapability.resolve()})),readableStream.on("end",(function(){readableStream.destroy(),_this72._done=!0,_this72._readCapability.resolve()})),readableStream.on("error",(function(reason){_this72._error(reason)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _util.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),BaseFullReader}(),BaseRangeReader=function(){function BaseRangeReader(stream){_classCallCheck(this,BaseRangeReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)();var source=stream.source;this._isStreamingSupported=!source.disableStream}var _read4;return _createClass(BaseRangeReader,[{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(_read4=_asyncToGenerator(_regeneratorRuntime().mark((function _callee23(){var chunk,buffer;return _regeneratorRuntime().wrap((function _callee23$(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:return _context23.next=2,this._readCapability.promise;case 2:if(!this._done){_context23.next=4;break}return _context23.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){_context23.next=6;break}throw this._storedError;case 6:if(null!==(chunk=this._readableStream.read())){_context23.next=10;break}return this._readCapability=(0,_util.createPromiseCapability)(),_context23.abrupt("return",this.read());case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(chunk).buffer,_context23.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context23.stop()}}),_callee23,this)}))),function read(){return _read4.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function _error(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function _setReadableStream(readableStream){var _this73=this;this._readableStream=readableStream,readableStream.on("readable",(function(){_this73._readCapability.resolve()})),readableStream.on("end",(function(){readableStream.destroy(),_this73._done=!0,_this73._readCapability.resolve()})),readableStream.on("error",(function(reason){_this73._error(reason)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),BaseRangeReader}();function createRequestOptions(parsedUrl,headers){return{protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.hostname,port:parsedUrl.port,path:parsedUrl.path,method:"GET",headers:headers}}var PDFNodeStreamFullReader=function(_BaseFullReader){_inherits(PDFNodeStreamFullReader,_BaseFullReader);var _super46=_createSuper(PDFNodeStreamFullReader);function PDFNodeStreamFullReader(stream){var _this74;_classCallCheck(this,PDFNodeStreamFullReader);var handleResponse=function handleResponse(response){if(404===response.statusCode){var error=new _util.MissingPDFException('Missing PDF "'+_this74._url+'".');return _this74._storedError=error,void _this74._headersCapability.reject(error)}_this74._headersCapability.resolve(),_this74._setReadableStream(response);var getResponseHeader=function getResponseHeader(name){return _this74._readableStream.headers[name.toLowerCase()]},_ref88=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:stream.isHttp,rangeChunkSize:_this74._rangeChunkSize,disableRange:_this74._disableRange}),allowRangeRequests=_ref88.allowRangeRequests,suggestedLength=_ref88.suggestedLength;_this74._isRangeSupported=allowRangeRequests,_this74._contentLength=suggestedLength||_this74._contentLength,_this74._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader)};return(_this74=_super46.call(this,stream))._request=null,"http:"===_this74._url.protocol?_this74._request=http.request(createRequestOptions(_this74._url,stream.httpHeaders),handleResponse):_this74._request=https.request(createRequestOptions(_this74._url,stream.httpHeaders),handleResponse),_this74._request.on("error",(function(reason){_this74._storedError=reason,_this74._headersCapability.reject(reason)})),_this74._request.end(),_this74}return _createClass(PDFNodeStreamFullReader)}(BaseFullReader),PDFNodeStreamRangeReader=function(_BaseRangeReader){_inherits(PDFNodeStreamRangeReader,_BaseRangeReader);var _super47=_createSuper(PDFNodeStreamRangeReader);function PDFNodeStreamRangeReader(stream,start,end){var _this75;for(var property in _classCallCheck(this,PDFNodeStreamRangeReader),(_this75=_super47.call(this,stream))._httpHeaders={},stream.httpHeaders){var value=stream.httpHeaders[property];void 0!==value&&(_this75._httpHeaders[property]=value)}_this75._httpHeaders.Range="bytes="+start+"-"+(end-1);var handleResponse=function handleResponse(response){if(404!==response.statusCode)_this75._setReadableStream(response);else{var error=new _util.MissingPDFException('Missing PDF "'+_this75._url+'".');_this75._storedError=error}};return _this75._request=null,"http:"===_this75._url.protocol?_this75._request=http.request(createRequestOptions(_this75._url,_this75._httpHeaders),handleResponse):_this75._request=https.request(createRequestOptions(_this75._url,_this75._httpHeaders),handleResponse),_this75._request.on("error",(function(reason){_this75._storedError=reason})),_this75._request.end(),_this75}return _createClass(PDFNodeStreamRangeReader)}(BaseRangeReader),PDFNodeStreamFsFullReader=function(_BaseFullReader2){_inherits(PDFNodeStreamFsFullReader,_BaseFullReader2);var _super48=_createSuper(PDFNodeStreamFsFullReader);function PDFNodeStreamFsFullReader(stream){var _this76;_classCallCheck(this,PDFNodeStreamFsFullReader),_this76=_super48.call(this,stream);var path=decodeURIComponent(_this76._url.path);return fileUriRegex.test(_this76._url.href)&&(path=path.replace(/^\//,"")),fs.lstat(path,(function(error,stat){if(error)return"ENOENT"===error.code&&(error=new _util.MissingPDFException('Missing PDF "'+path+'".')),_this76._storedError=error,void _this76._headersCapability.reject(error);_this76._contentLength=stat.size,_this76._setReadableStream(fs.createReadStream(path)),_this76._headersCapability.resolve()})),_this76}return _createClass(PDFNodeStreamFsFullReader)}(BaseFullReader),PDFNodeStreamFsRangeReader=function(_BaseRangeReader2){_inherits(PDFNodeStreamFsRangeReader,_BaseRangeReader2);var _super49=_createSuper(PDFNodeStreamFsRangeReader);function PDFNodeStreamFsRangeReader(stream,start,end){var _this77;_classCallCheck(this,PDFNodeStreamFsRangeReader),_this77=_super49.call(this,stream);var path=decodeURIComponent(_this77._url.path);return fileUriRegex.test(_this77._url.href)&&(path=path.replace(/^\//,"")),_this77._setReadableStream(fs.createReadStream(path,{start:start,end:end-1})),_this77}return _createClass(PDFNodeStreamFsRangeReader)}(BaseRangeReader)},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.createResponseStatusError=function createResponseStatusError(status,url){if(404===status||0===status&&url.startsWith("file:"))return new _util.MissingPDFException('Missing PDF "'+url+'".');return new _util.UnexpectedResponseException("Unexpected server response ("+status+') while retrieving PDF "'+url+'".',status)},exports.extractFilenameFromHeader=function extractFilenameFromHeader(getResponseHeader){var contentDisposition=getResponseHeader("Content-Disposition");if(contentDisposition){var filename=(0,_content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);if(filename.includes("%"))try{filename=decodeURIComponent(filename)}catch(ex){}if((0,_display_utils.isPdfFile)(filename))return filename}return null},exports.validateRangeRequestCapabilities=function validateRangeRequestCapabilities(_ref89){var getResponseHeader=_ref89.getResponseHeader,isHttp=_ref89.isHttp,rangeChunkSize=_ref89.rangeChunkSize,disableRange=_ref89.disableRange;(0,_util.assert)(rangeChunkSize>0,"Range chunk size must be larger than zero");var returnValues={allowRangeRequests:!1,suggestedLength:void 0},length=parseInt(getResponseHeader("Content-Length"),10);if(!Number.isInteger(length))return returnValues;if(returnValues.suggestedLength=length,length<=2*rangeChunkSize)return returnValues;if(disableRange||!isHttp)return returnValues;if("bytes"!==getResponseHeader("Accept-Ranges"))return returnValues;if("identity"!==(getResponseHeader("Content-Encoding")||"identity"))return returnValues;return returnValues.allowRangeRequests=!0,returnValues},exports.validateResponseStatus=function validateResponseStatus(status){return 200===status||206===status};var _util=__w_pdfjs_require__(2),_content_disposition=__w_pdfjs_require__(25),_display_utils=__w_pdfjs_require__(1)},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFilenameFromContentDispositionHeader=function getFilenameFromContentDispositionHeader(contentDisposition){var needsEncodingFixup=!0,tmp=toParamRegExp("filename\\*","i").exec(contentDisposition);if(tmp){var filename=rfc2616unquote(tmp=tmp[1]);return fixupEncoding(filename=rfc2047decode(filename=rfc5987decode(filename=unescape(filename))))}if(tmp=function rfc2231getparam(contentDispositionStr){var match,matches=[],iter=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(match=iter.exec(contentDispositionStr));){var _match2=_slicedToArray(match,4),n=_match2[1],quot=_match2[2],part=_match2[3];if((n=parseInt(n,10))in matches){if(0===n)break}else matches[n]=[quot,part]}for(var parts=[],_n2=0;_n2<matches.length&&_n2 in matches;++_n2){var _matches$_n=_slicedToArray(matches[_n2],2),_quot=_matches$_n[0],_part=_matches$_n[1];_part=rfc2616unquote(_part),_quot&&(_part=unescape(_part),0===_n2&&(_part=rfc5987decode(_part))),parts.push(_part)}return parts.join("")}(contentDisposition)){return fixupEncoding(rfc2047decode(tmp))}if(tmp=toParamRegExp("filename","i").exec(contentDisposition)){var _filename2=rfc2616unquote(tmp=tmp[1]);return fixupEncoding(_filename2=rfc2047decode(_filename2))}function toParamRegExp(attributePattern,flags){return new RegExp("(?:^|;)\\s*"+attributePattern+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',flags)}function textdecode(encoding,value){if(encoding){if(!/^[\x00-\xFF]+$/.test(value))return value;try{var decoder=new TextDecoder(encoding,{fatal:!0}),buffer=(0,_util.stringToBytes)(value);value=decoder.decode(buffer),needsEncodingFixup=!1}catch(e){if(/^utf-?8$/i.test(encoding))try{value=decodeURIComponent(escape(value)),needsEncodingFixup=!1}catch(err){}}}return value}function fixupEncoding(value){return needsEncodingFixup&&/[\x80-\xff]/.test(value)&&(value=textdecode("utf-8",value),needsEncodingFixup&&(value=textdecode("iso-8859-1",value))),value}function rfc2616unquote(value){if(value.startsWith('"')){for(var parts=value.slice(1).split('\\"'),i=0;i<parts.length;++i){var quotindex=parts[i].indexOf('"');-1!==quotindex&&(parts[i]=parts[i].slice(0,quotindex),parts.length=i+1),parts[i]=parts[i].replace(/\\(.)/g,"$1")}value=parts.join('"')}return value}function rfc5987decode(extvalue){var encodingend=extvalue.indexOf("'");return-1===encodingend?extvalue:textdecode(extvalue.slice(0,encodingend),extvalue.slice(encodingend+1).replace(/^[^']*'/,""))}function rfc2047decode(value){return!value.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(value)?value:value.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(matches,charset,encoding,text){if("q"===encoding||"Q"===encoding)return textdecode(charset,text=(text=text.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(match,hex){return String.fromCharCode(parseInt(hex,16))})));try{text=atob(text)}catch(e){}return textdecode(charset,text)}))}return""};var _util=__w_pdfjs_require__(2)},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNetworkStream=void 0;var _util=__w_pdfjs_require__(2),_network_utils=__w_pdfjs_require__(24);var NetworkManager=function(){function NetworkManager(url){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,NetworkManager),this.url=url,this.isHttp=/^https?:/i.test(url),this.httpHeaders=this.isHttp&&args.httpHeaders||Object.create(null),this.withCredentials=args.withCredentials||!1,this.getXhr=args.getXhr||function NetworkManager_getXhr(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(NetworkManager,[{key:"requestRange",value:function requestRange(begin,end,listeners){var args={begin:begin,end:end};for(var prop in listeners)args[prop]=listeners[prop];return this.request(args)}},{key:"requestFull",value:function requestFull(listeners){return this.request(listeners)}},{key:"request",value:function request(args){var xhr=this.getXhr(),xhrId=this.currXhrId++,pendingRequest=this.pendingRequests[xhrId]={xhr:xhr};for(var property in xhr.open("GET",this.url),xhr.withCredentials=this.withCredentials,this.httpHeaders){var value=this.httpHeaders[property];void 0!==value&&xhr.setRequestHeader(property,value)}return this.isHttp&&"begin"in args&&"end"in args?(xhr.setRequestHeader("Range","bytes="+args.begin+"-"+(args.end-1)),pendingRequest.expectedStatus=206):pendingRequest.expectedStatus=200,xhr.responseType="arraybuffer",args.onError&&(xhr.onerror=function(evt){args.onError(xhr.status)}),xhr.onreadystatechange=this.onStateChange.bind(this,xhrId),xhr.onprogress=this.onProgress.bind(this,xhrId),pendingRequest.onHeadersReceived=args.onHeadersReceived,pendingRequest.onDone=args.onDone,pendingRequest.onError=args.onError,pendingRequest.onProgress=args.onProgress,xhr.send(null),xhrId}},{key:"onProgress",value:function onProgress(xhrId,evt){var _pendingRequest$onPro,pendingRequest=this.pendingRequests[xhrId];pendingRequest&&(null===(_pendingRequest$onPro=pendingRequest.onProgress)||void 0===_pendingRequest$onPro||_pendingRequest$onPro.call(pendingRequest,evt))}},{key:"onStateChange",value:function onStateChange(xhrId,evt){var pendingRequest=this.pendingRequests[xhrId];if(pendingRequest){var xhr=pendingRequest.xhr;if(xhr.readyState>=2&&pendingRequest.onHeadersReceived&&(pendingRequest.onHeadersReceived(),delete pendingRequest.onHeadersReceived),4===xhr.readyState&&xhrId in this.pendingRequests)if(delete this.pendingRequests[xhrId],0===xhr.status&&this.isHttp){var _pendingRequest$onErr;null===(_pendingRequest$onErr=pendingRequest.onError)||void 0===_pendingRequest$onErr||_pendingRequest$onErr.call(pendingRequest,xhr.status)}else{var xhrStatus=xhr.status||200;if(200===xhrStatus&&206===pendingRequest.expectedStatus||xhrStatus===pendingRequest.expectedStatus){var chunk=function getArrayBuffer(xhr){var data=xhr.response;return"string"!=typeof data?data:(0,_util.stringToBytes)(data).buffer}(xhr);if(206===xhrStatus){var rangeHeader=xhr.getResponseHeader("Content-Range"),matches=/bytes (\d+)-(\d+)\/(\d+)/.exec(rangeHeader);pendingRequest.onDone({begin:parseInt(matches[1],10),chunk:chunk})}else if(chunk)pendingRequest.onDone({begin:0,chunk:chunk});else{var _pendingRequest$onErr3;null===(_pendingRequest$onErr3=pendingRequest.onError)||void 0===_pendingRequest$onErr3||_pendingRequest$onErr3.call(pendingRequest,xhr.status)}}else{var _pendingRequest$onErr2;null===(_pendingRequest$onErr2=pendingRequest.onError)||void 0===_pendingRequest$onErr2||_pendingRequest$onErr2.call(pendingRequest,xhr.status)}}}}},{key:"getRequestXhr",value:function getRequestXhr(xhrId){return this.pendingRequests[xhrId].xhr}},{key:"isPendingRequest",value:function isPendingRequest(xhrId){return xhrId in this.pendingRequests}},{key:"abortRequest",value:function abortRequest(xhrId){var xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId],xhr.abort()}}]),NetworkManager}(),PDFNetworkStream=function(){function PDFNetworkStream(source){_classCallCheck(this,PDFNetworkStream),this._source=source,this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials}),this._rangeChunkSize=source.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFNetworkStream,[{key:"_onRangeRequestReaderClosed",value:function _onRangeRequestReaderClosed(reader){var i=this._rangeRequestReaders.indexOf(reader);i>=0&&this._rangeRequestReaders.splice(i,1)}},{key:"getFullReader",value:function getFullReader(){return(0,_util.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(begin,end){var reader=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);return reader.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(reader),reader}},{key:"cancelAllRequests",value:function cancelAllRequests(reason){var _this$_fullRequestRea5;null===(_this$_fullRequestRea5=this._fullRequestReader)||void 0===_this$_fullRequestRea5||_this$_fullRequestRea5.cancel(reason);var _step82,_iterator82=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){_step82.value.cancel(reason)}}catch(err){_iterator82.e(err)}finally{_iterator82.f()}}}]),PDFNetworkStream}();exports.PDFNetworkStream=PDFNetworkStream;var PDFNetworkStreamFullRequestReader=function(){function PDFNetworkStreamFullRequestReader(manager,source){_classCallCheck(this,PDFNetworkStreamFullRequestReader),this._manager=manager;var args={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url,this._fullRequestId=manager.requestFull(args),this._headersReceivedCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._contentLength=source.length,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var _read5;return _createClass(PDFNetworkStreamFullRequestReader,[{key:"_onHeadersReceived",value:function _onHeadersReceived(){var fullRequestXhrId=this._fullRequestId,fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId),getResponseHeader=function getResponseHeader(name){return fullRequestXhr.getResponseHeader(name)},_ref90=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),allowRangeRequests=_ref90.allowRangeRequests,suggestedLength=_ref90.suggestedLength;allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),this._isRangeSupported&&this._manager.abortRequest(fullRequestXhrId),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function _onDone(data){data&&(this._requests.length>0?this._requests.shift().resolve({value:data.chunk,done:!1}):this._cachedChunks.push(data.chunk));if(this._done=!0,!(this._cachedChunks.length>0)){var _step83,_iterator83=_createForOfIteratorHelper(this._requests);try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){_step83.value.resolve({value:void 0,done:!0})}}catch(err){_iterator83.e(err)}finally{_iterator83.f()}this._requests.length=0}}},{key:"_onError",value:function _onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url),this._headersReceivedCapability.reject(this._storedError);var _step84,_iterator84=_createForOfIteratorHelper(this._requests);try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){_step84.value.reject(this._storedError)}}catch(err){_iterator84.e(err)}finally{_iterator84.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function _onProgress(evt){var _this$onProgress;null===(_this$onProgress=this.onProgress)||void 0===_this$onProgress||_this$onProgress.call(this,{loaded:evt.loaded,total:evt.lengthComputable?evt.total:this._contentLength})}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"headersReady",get:function get(){return this._headersReceivedCapability.promise}},{key:"read",value:(_read5=_asyncToGenerator(_regeneratorRuntime().mark((function _callee24(){var chunk,requestCapability;return _regeneratorRuntime().wrap((function _callee24$(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:if(!this._storedError){_context24.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){_context24.next=5;break}return chunk=this._cachedChunks.shift(),_context24.abrupt("return",{value:chunk,done:!1});case 5:if(!this._done){_context24.next=7;break}return _context24.abrupt("return",{value:void 0,done:!0});case 7:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context24.abrupt("return",requestCapability.promise);case 10:case"end":return _context24.stop()}}),_callee24,this)}))),function read(){return _read5.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._done=!0,this._headersReceivedCapability.reject(reason);var _step85,_iterator85=_createForOfIteratorHelper(this._requests);try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){_step85.value.resolve({value:void 0,done:!0})}}catch(err){_iterator85.e(err)}finally{_iterator85.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),PDFNetworkStreamFullRequestReader}(),PDFNetworkStreamRangeRequestReader=function(){function PDFNetworkStreamRangeRequestReader(manager,begin,end){_classCallCheck(this,PDFNetworkStreamRangeRequestReader),this._manager=manager;var args={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=manager.url,this._requestId=manager.requestRange(begin,end,args),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}var _read6;return _createClass(PDFNetworkStreamRangeRequestReader,[{key:"_close",value:function _close(){var _this$onClosed;null===(_this$onClosed=this.onClosed)||void 0===_this$onClosed||_this$onClosed.call(this,this)}},{key:"_onDone",value:function _onDone(data){var chunk=data.chunk;this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunk=chunk;this._done=!0;var _step86,_iterator86=_createForOfIteratorHelper(this._requests);try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){_step86.value.resolve({value:void 0,done:!0})}}catch(err){_iterator86.e(err)}finally{_iterator86.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function _onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url);var _step87,_iterator87=_createForOfIteratorHelper(this._requests);try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){_step87.value.reject(this._storedError)}}catch(err){_iterator87.e(err)}finally{_iterator87.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function _onProgress(evt){var _this$onProgress2;this.isStreamingSupported||(null===(_this$onProgress2=this.onProgress)||void 0===_this$onProgress2||_this$onProgress2.call(this,{loaded:evt.loaded}))}},{key:"isStreamingSupported",get:function get(){return!1}},{key:"read",value:(_read6=_asyncToGenerator(_regeneratorRuntime().mark((function _callee25(){var chunk,requestCapability;return _regeneratorRuntime().wrap((function _callee25$(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:if(!this._storedError){_context25.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){_context25.next=6;break}return chunk=this._queuedChunk,this._queuedChunk=null,_context25.abrupt("return",{value:chunk,done:!1});case 6:if(!this._done){_context25.next=8;break}return _context25.abrupt("return",{value:void 0,done:!0});case 8:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context25.abrupt("return",requestCapability.promise);case 11:case"end":return _context25.stop()}}),_callee25,this)}))),function read(){return _read6.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._done=!0;var _step88,_iterator88=_createForOfIteratorHelper(this._requests);try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){_step88.value.resolve({value:void 0,done:!0})}}catch(err){_iterator88.e(err)}finally{_iterator88.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),PDFNetworkStreamRangeRequestReader}()},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFetchStream=void 0;var _util=__w_pdfjs_require__(2),_network_utils=__w_pdfjs_require__(24);function createFetchOptions(headers,withCredentials,abortController){return{method:"GET",headers:headers,signal:null==abortController?void 0:abortController.signal,mode:"cors",credentials:withCredentials?"include":"same-origin",redirect:"follow"}}function createHeaders(httpHeaders){var headers=new Headers;for(var property in httpHeaders){var value=httpHeaders[property];void 0!==value&&headers.append(property,value)}return headers}var PDFFetchStream=function(){function PDFFetchStream(source){_classCallCheck(this,PDFFetchStream),this.source=source,this.isHttp=/^https?:/i.test(source.url),this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFFetchStream,[{key:"_progressiveDataLength",get:function get(){var _this$_fullRequestRea6,_this$_fullRequestRea7;return null!==(_this$_fullRequestRea6=null===(_this$_fullRequestRea7=this._fullRequestReader)||void 0===_this$_fullRequestRea7?void 0:_this$_fullRequestRea7._loaded)&&void 0!==_this$_fullRequestRea6?_this$_fullRequestRea6:0}},{key:"getFullReader",value:function getFullReader(){return(0,_util.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(begin,end){if(end<=this._progressiveDataLength)return null;var reader=new PDFFetchStreamRangeReader(this,begin,end);return this._rangeRequestReaders.push(reader),reader}},{key:"cancelAllRequests",value:function cancelAllRequests(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason);var _step89,_iterator89=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){_step89.value.cancel(reason)}}catch(err){_iterator89.e(err)}finally{_iterator89.f()}}}]),PDFFetchStream}();exports.PDFFetchStream=PDFFetchStream;var PDFFetchStreamReader=function(){function PDFFetchStreamReader(stream){var _this78=this;_classCallCheck(this,PDFFetchStreamReader),this._stream=stream,this._reader=null,this._loaded=0,this._filename=null;var source=stream.source;this._withCredentials=source.withCredentials||!1,this._contentLength=source.length,this._headersCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._headers=createHeaders(this._stream.httpHeaders);var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this78._reader=response.body.getReader(),_this78._headersCapability.resolve();var getResponseHeader=function getResponseHeader(name){return response.headers.get(name)},_ref91=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:_this78._stream.isHttp,rangeChunkSize:_this78._rangeChunkSize,disableRange:_this78._disableRange}),allowRangeRequests=_ref91.allowRangeRequests,suggestedLength=_ref91.suggestedLength;_this78._isRangeSupported=allowRangeRequests,_this78._contentLength=suggestedLength||_this78._contentLength,_this78._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),!_this78._isStreamingSupported&&_this78._isRangeSupported&&_this78.cancel(new _util.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var _read7;return _createClass(PDFFetchStreamReader,[{key:"headersReady",get:function get(){return this._headersCapability.promise}},{key:"filename",get:function get(){return this._filename}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(_read7=_asyncToGenerator(_regeneratorRuntime().mark((function _callee26(){var _yield$this$_reader$r,value,done,buffer;return _regeneratorRuntime().wrap((function _callee26$(_context26){for(;;)switch(_context26.prev=_context26.next){case 0:return _context26.next=2,this._headersCapability.promise;case 2:return _context26.next=4,this._reader.read();case 4:if(_yield$this$_reader$r=_context26.sent,value=_yield$this$_reader$r.value,!(done=_yield$this$_reader$r.done)){_context26.next=9;break}return _context26.abrupt("return",{value:value,done:done});case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(value).buffer,_context26.abrupt("return",{value:buffer,done:!1});case 13:case"end":return _context26.stop()}}),_callee26,this)}))),function read(){return _read7.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}}]),PDFFetchStreamReader}(),PDFFetchStreamRangeReader=function(){function PDFFetchStreamRangeReader(stream,begin,end){var _this79=this;_classCallCheck(this,PDFFetchStreamRangeReader),this._stream=stream,this._reader=null,this._loaded=0;var source=stream.source;this._withCredentials=source.withCredentials||!1,this._readCapability=(0,_util.createPromiseCapability)(),this._isStreamingSupported=!source.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range","bytes="+begin+"-"+(end-1));var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this79._readCapability.resolve(),_this79._reader=response.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}var _read8;return _createClass(PDFFetchStreamRangeReader,[{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(_read8=_asyncToGenerator(_regeneratorRuntime().mark((function _callee27(){var _yield$this$_reader$r2,value,done,buffer;return _regeneratorRuntime().wrap((function _callee27$(_context27){for(;;)switch(_context27.prev=_context27.next){case 0:return _context27.next=2,this._readCapability.promise;case 2:return _context27.next=4,this._reader.read();case 4:if(_yield$this$_reader$r2=_context27.sent,value=_yield$this$_reader$r2.value,!(done=_yield$this$_reader$r2.done)){_context27.next=9;break}return _context27.abrupt("return",{value:value,done:done});case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(value).buffer,_context27.abrupt("return",{value:buffer,done:!1});case 13:case"end":return _context27.stop()}}),_callee27,this)}))),function read(){return _read8.apply(this,arguments)})},{key:"cancel",value:function cancel(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}}]),PDFFetchStreamRangeReader}()}],__webpack_module_cache__={};function __w_pdfjs_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__w_pdfjs_require__),module.exports}var __webpack_exports__={};return function(){var exports=__webpack_exports__;Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AnnotationLayer",{enumerable:!0,get:function get(){return _annotation_layer.AnnotationLayer}}),Object.defineProperty(exports,"AnnotationMode",{enumerable:!0,get:function get(){return _util.AnnotationMode}}),Object.defineProperty(exports,"CMapCompressionType",{enumerable:!0,get:function get(){return _util.CMapCompressionType}}),Object.defineProperty(exports,"GlobalWorkerOptions",{enumerable:!0,get:function get(){return _worker_options.GlobalWorkerOptions}}),Object.defineProperty(exports,"InvalidPDFException",{enumerable:!0,get:function get(){return _util.InvalidPDFException}}),Object.defineProperty(exports,"LinkTarget",{enumerable:!0,get:function get(){return _display_utils.LinkTarget}}),Object.defineProperty(exports,"LoopbackPort",{enumerable:!0,get:function get(){return _api.LoopbackPort}}),Object.defineProperty(exports,"MissingPDFException",{enumerable:!0,get:function get(){return _util.MissingPDFException}}),Object.defineProperty(exports,"OPS",{enumerable:!0,get:function get(){return _util.OPS}}),Object.defineProperty(exports,"PDFDataRangeTransport",{enumerable:!0,get:function get(){return _api.PDFDataRangeTransport}}),Object.defineProperty(exports,"PDFDateString",{enumerable:!0,get:function get(){return _display_utils.PDFDateString}}),Object.defineProperty(exports,"PDFWorker",{enumerable:!0,get:function get(){return _api.PDFWorker}}),Object.defineProperty(exports,"PasswordResponses",{enumerable:!0,get:function get(){return _util.PasswordResponses}}),Object.defineProperty(exports,"PermissionFlag",{enumerable:!0,get:function get(){return _util.PermissionFlag}}),Object.defineProperty(exports,"PixelsPerInch",{enumerable:!0,get:function get(){return _display_utils.PixelsPerInch}}),Object.defineProperty(exports,"RenderingCancelledException",{enumerable:!0,get:function get(){return _display_utils.RenderingCancelledException}}),Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function get(){return _svg.SVGGraphics}}),Object.defineProperty(exports,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function get(){return _util.UNSUPPORTED_FEATURES}}),Object.defineProperty(exports,"UnexpectedResponseException",{enumerable:!0,get:function get(){return _util.UnexpectedResponseException}}),Object.defineProperty(exports,"Util",{enumerable:!0,get:function get(){return _util.Util}}),Object.defineProperty(exports,"VerbosityLevel",{enumerable:!0,get:function get(){return _util.VerbosityLevel}}),Object.defineProperty(exports,"XfaLayer",{enumerable:!0,get:function get(){return _xfa_layer.XfaLayer}}),Object.defineProperty(exports,"addLinkAttributes",{enumerable:!0,get:function get(){return _display_utils.addLinkAttributes}}),Object.defineProperty(exports,"build",{enumerable:!0,get:function get(){return _api.build}}),Object.defineProperty(exports,"createObjectURL",{enumerable:!0,get:function get(){return _util.createObjectURL}}),Object.defineProperty(exports,"createPromiseCapability",{enumerable:!0,get:function get(){return _util.createPromiseCapability}}),Object.defineProperty(exports,"createValidAbsoluteUrl",{enumerable:!0,get:function get(){return _util.createValidAbsoluteUrl}}),Object.defineProperty(exports,"getDocument",{enumerable:!0,get:function get(){return _api.getDocument}}),Object.defineProperty(exports,"getFilenameFromUrl",{enumerable:!0,get:function get(){return _display_utils.getFilenameFromUrl}}),Object.defineProperty(exports,"getPdfFilenameFromUrl",{enumerable:!0,get:function get(){return _display_utils.getPdfFilenameFromUrl}}),Object.defineProperty(exports,"getXfaPageViewport",{enumerable:!0,get:function get(){return _display_utils.getXfaPageViewport}}),Object.defineProperty(exports,"isPdfFile",{enumerable:!0,get:function get(){return _display_utils.isPdfFile}}),Object.defineProperty(exports,"loadScript",{enumerable:!0,get:function get(){return _display_utils.loadScript}}),Object.defineProperty(exports,"removeNullCharacters",{enumerable:!0,get:function get(){return _util.removeNullCharacters}}),Object.defineProperty(exports,"renderTextLayer",{enumerable:!0,get:function get(){return _text_layer.renderTextLayer}}),Object.defineProperty(exports,"shadow",{enumerable:!0,get:function get(){return _util.shadow}}),Object.defineProperty(exports,"version",{enumerable:!0,get:function get(){return _api.version}});var _display_utils=__w_pdfjs_require__(1),_util=__w_pdfjs_require__(2),_api=__w_pdfjs_require__(6),_annotation_layer=__w_pdfjs_require__(18),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_text_layer=__w_pdfjs_require__(21),_svg=__w_pdfjs_require__(22),_xfa_layer=__w_pdfjs_require__(20);if(_is_node.isNodeJS){var PDFNodeStream=__w_pdfjs_require__(23).PDFNodeStream;(0,_api.setPDFNetworkStreamFactory)((function(params){return new PDFNodeStream(params)}))}else{var PDFNetworkStream=__w_pdfjs_require__(26).PDFNetworkStream,PDFFetchStream=__w_pdfjs_require__(27).PDFFetchStream;(0,_api.setPDFNetworkStreamFactory)((function(params){return(0,_display_utils.isValidFetchUrl)(params.url)?new PDFFetchStream(params):new PDFNetworkStream(params)}))}}(),__webpack_exports__}()}))})),pdf$1=Object(_buffer_es6_136673c8_js__WEBPACK_IMPORTED_MODULE_109__.b)(pdf),integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},verdocsViewCss='verdocs-view{font-family:"Barlow", sans-serif;display:-ms-flexbox;display:flex;background:#ccc;min-height:600px;position:relative;padding:0 0 20px 0;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column}verdocs-view div,verdocs-view canvas{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-view .container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}verdocs-view button.test{color:#fff;cursor:pointer;padding:5px 10px;border-radius:4px;background:#5a5767;border:1px solid #ccc}verdocs-view .load-progress{position:absolute;top:0;left:0;right:0;height:6px;z-index:2000;background:#000}verdocs-view .load-progress .bar{height:6px;background:#50be80}#verdocs-pdf-viewer-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}#verdocs-pdf-viewer-container canvas{background:white;max-width:100%;margin:15px 0 0 0}',CANVAS_MARGIN=15,PDF_WORKER_URL="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/"+pdf.version+"/pdf.worker.min.js",CMAPS_URL="https://unpkg.com/pdfjs-dist@"+pdf.version+"/cmaps/";console.log("[VIEW] Loading PDF-JS",{PDF_WORKER_URL:PDF_WORKER_URL,CMAPS_URL:CMAPS_URL}),pdf$1.GlobalWorkerOptions.workerSrc=PDF_WORKER_URL;var VerdocsView=function(){function VerdocsView(hostRef){_classCallCheck(this,VerdocsView),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.h)(this,hostRef),this.pageRendered=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"pageRendered",7),this.pageLoaded=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"pageLoaded",7),this.pageChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"pageChange",7),this.pageInit=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"pageInit",7),this.scaleChange=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"scaleChange",7),this.documentRendered=Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.d)(this,"documentRendered",7),this.numPages=1,this.fingerprint=null,this.rotation=0,this.token=null,this.loadProgress=0,this.pagesRendered=[]}var _renderPages;return _createClass(VerdocsView,[{key:"doSrc",value:function doSrc(newValue,oldValue){newValue!==oldValue&&this.loadAndRender(newValue)}},{key:"isRotated",value:function isRotated(rotation){return 0!==rotation&&rotation%180!=0}},{key:"renderPages",value:(_renderPages=_asyncToGenerator(_regeneratorRuntime().mark((function _callee28(){var pageNumbersToRender,_iteratorAbruptCompletion,_didIteratorError,_iteratorError,_loop4,_iterator,_step,_this80=this;return _regeneratorRuntime().wrap((function _callee28$(_context29){for(;;)switch(_context29.prev=_context29.next){case 0:pageNumbersToRender=integerSequence(1,this.numPages),_iteratorAbruptCompletion=!1,_didIteratorError=!1,_context29.prev=3,_loop4=_regeneratorRuntime().mark((function _loop4(){var pageNumber,index,page,_page$view,pageX0,pageY0,pageX1,pageY1,rotation,viewport,canvas,canvasContext,canvasWidth,canvasHeight,pageWidth,pageHeight,previousSibling,canvasTop,pageDetails,eventData;return _regeneratorRuntime().wrap((function _loop4$(_context28){for(;;)switch(_context28.prev=_context28.next){case 0:return pageNumber=_step.value,index=pageNumber-1,console.log("[VIEW] Rendering page",pageNumber),_context28.next=5,_this80.pdfDocument.getPage(pageNumber);case 5:return page=_context28.sent,_page$view=_slicedToArray(page.view,4),pageX0=_page$view[0],pageY0=_page$view[1],pageX1=_page$view[2],pageY1=_page$view[3],rotation=page.rotate,viewport=page.getViewport({scale:1/.75}),canvas=document.createElement("canvas"),canvasContext=canvas.getContext("2d"),canvas.height=viewport.height,canvas.width=viewport.width,_context28.next=15,page.render({canvasContext:canvasContext,viewport:viewport});case 15:_this80.pdfContainer.appendChild(canvas),canvasWidth=canvas.width,canvasHeight=canvas.height,pageWidth=pageX1-pageX0,pageHeight=pageY1-pageY0,_this80.pagesRendered.sort((function(a,b){return a.pageNumber-b.pageNumber})),previousSibling=_this80.pagesRendered.filter((function(page){return page.pageNumber<pageNumber})).pop(),canvasTop=((null==previousSibling?void 0:previousSibling.canvasBottom)||0)+CANVAS_MARGIN,pageDetails={pageNumber:pageNumber,width:canvasWidth,height:canvasHeight,originalWidth:_this80.isRotated(rotation)?pageHeight:pageWidth,originalHeight:_this80.isRotated(rotation)?pageWidth:pageHeight,xRatio:canvasWidth/pageWidth,yRatio:canvasHeight/pageHeight,canvasTop:canvasTop,canvasLeft:CANVAS_MARGIN,canvasRight:CANVAS_MARGIN+canvasWidth,canvasBottom:canvasTop+canvasHeight},_this80.pagesRendered[index]?_this80.pagesRendered[index]=pageDetails:_this80.pagesRendered.push(pageDetails),eventData={pages:_this80.pagesRendered,numPages:_this80.numPages,numRendered:_this80.pagesRendered.length,canvasContainer:_this80.pdfContainer},_this80.pageRendered.emit(eventData),pageNumber>=_this80.numPages&&(console.log("[VIEW] Done rendering"),_this80.pagesRendered.sort((function(a,b){return a.pageNumber-b.pageNumber})),_this80.documentRendered.emit(eventData));case 28:case"end":return _context28.stop()}}),_loop4)})),_iterator=_asyncIterator(pageNumbersToRender);case 6:return _context29.next=8,_iterator.next();case 8:if(!(_iteratorAbruptCompletion=!(_step=_context29.sent).done)){_context29.next=13;break}return _context29.delegateYield(_loop4(),"t0",10);case 10:_iteratorAbruptCompletion=!1,_context29.next=6;break;case 13:_context29.next=19;break;case 15:_context29.prev=15,_context29.t1=_context29.catch(3),_didIteratorError=!0,_iteratorError=_context29.t1;case 19:if(_context29.prev=19,_context29.prev=20,!_iteratorAbruptCompletion||null==_iterator.return){_context29.next=24;break}return _context29.next=24,_iterator.return();case 24:if(_context29.prev=24,!_didIteratorError){_context29.next=27;break}throw _iteratorError;case 27:return _context29.finish(24);case 28:return _context29.finish(19);case 29:case"end":return _context29.stop()}}),_callee28,this,[[3,15,19,29],[20,,24,28]])}))),function renderPages(){return _renderPages.apply(this,arguments)})},{key:"componentDidLoad",value:function componentDidLoad(){this.pdfContainer=document.getElementById("verdocs-pdf-viewer-container"),this.source&&this.loadAndRender(this.source)}},{key:"onProgress",value:function onProgress(progress){this.loadProgress=Math.floor(100*progress.loaded/progress.total)}},{key:"loadAndRender",value:function loadAndRender(src){var _this81=this;console.log("[VIEW] Loading",src);var httpHeaders=this.token?{Authorization:"Bearer "+this.token}:{},source={url:src,withCredentials:!0,cMapUrl:CMAPS_URL,cMapPacked:!0,verbosity:pdf.VerbosityLevel.WARNINGS,httpHeaders:httpHeaders},loadingTask=pdf$1.getDocument(source,null,null,this.onProgress);loadingTask.onProgress=this.onProgress,loadingTask.promise.then((function(pdfDocument){_this81.loadProgress=100,_this81.numPages=pdfDocument.numPages,_this81.fingerprint=pdfDocument.fingerprints[0],console.log('[VIEW] Got PDF document fingerprint "'+_this81.fingerprint+", "+_this81.numPages+" pages",pdfDocument),_this81.pdfDocument=pdfDocument,_this81.renderPages().catch((function(e){return console.log("Rendering error",e)}))}))}},{key:"render",value:function render(){return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("div",{class:"container"},this.loadProgress<100?Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("verdocs-loader",null):Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("div",{style:{display:"none"}}),Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.f)("div",{id:"verdocs-pdf-viewer-container"}))}},{key:"component",get:function get(){return Object(_index_859bc689_js__WEBPACK_IMPORTED_MODULE_107__.e)(this)}}],[{key:"watchers",get:function get(){return{source:["doSrc"]}}}]),VerdocsView}();VerdocsView.style=verdocsViewCss}}]);
//# sourceMappingURL=22.75062529.iframe.bundle.js.map