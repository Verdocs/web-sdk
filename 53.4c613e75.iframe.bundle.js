(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"./dist/esm/verdocs-contact-picker.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_contact_picker",(function(){return VerdocsContactPicker}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/index-f78d163d.js"),_VerdocsEndpoint_7f17b088_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./dist/esm/VerdocsEndpoint-7f17b088.js");__webpack_require__("./dist/esm/Token-54690789.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsContactPicker=function(){function VerdocsContactPicker(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsContactPicker),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.j)(this,hostRef),this.searchContacts=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.e)(this,"searchContacts",7),this.cancel=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.e)(this,"cancel",7),this.next=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.e)(this,"next",7),this.endpoint=_VerdocsEndpoint_7f17b088_js__WEBPACK_IMPORTED_MODULE_10__.b.getDefault(),this.templateRole=null,this.contactSuggestions=[],this.name=void 0,this.email=void 0,this.phone=void 0,this.message=void 0,this.showSuggestions=!1,this.showMessage=!1,this.delegator=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsContactPicker,[{key:"componentWillLoad",value:function componentWillLoad(){this.templateRole&&(this.name=this.templateRole.full_name||"",this.email=this.templateRole.email||"",this.phone=this.templateRole.phone||"",this.delegator=this.templateRole.delegator||!1,this.message=this.templateRole.message||"",this.showMessage=""!==this.message)}},{key:"handleNameChange",value:function handleNameChange(e){var _a;this.name=e.target.value,null===(_a=this.searchContacts)||void 0===_a||_a.emit({query:this.name})}},{key:"handleEmailChange",value:function handleEmailChange(e){this.email=e.target.value}},{key:"handlePhoneChange",value:function handlePhoneChange(e){this.phone=e.target.value}},{key:"handleMessageChange",value:function handleMessageChange(e){this.message=e.target.value}},{key:"handleCancel",value:function handleCancel(e){var _a;e.stopPropagation(),this.showSuggestions=!1,null===(_a=this.cancel)||void 0===_a||_a.emit()}},{key:"handleSubmit",value:function handleSubmit(e){var _a;e.stopPropagation(),this.showSuggestions=!1,null===(_a=this.next)||void 0===_a||_a.emit({full_name:this.name,email:this.email,phone:this.phone,message:this.message,delegator:this.delegator})}},{key:"handleSelectSuggestion",value:function handleSelectSuggestion(e,suggestion){e.stopPropagation(),this.name=suggestion.name,this.email=suggestion.email,this.phone=suggestion.phone,this.showSuggestions=!1}},{key:"render",value:function render(){var _this=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("form",{onSubmit:function onSubmit(e){return e.preventDefault()},onClick:function onClick(e){return e.stopPropagation()},autocomplete:"off"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"row"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("label",{htmlFor:"verdocs-contact-picker-name"},"Name:"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{id:"verdocs-contact-picker-name",name:"verdocs-contact-picker-name",type:"text","data-lpignore":"true",autocomplete:"off",value:this.name,placeholder:"Recipient Name...",onFocus:function onFocus(){var _a;return _this.showSuggestions=(null===(_a=_this.contactSuggestions)||void 0===_a?void 0:_a.length)>0},onInput:function onInput(e){return _this.handleNameChange(e)}}),this.showSuggestions&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"dropdown"},this.contactSuggestions.map((function(suggestion){var _a;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{key:null!==(_a=suggestion.id)&&void 0!==_a?_a:suggestion.name,class:"suggestion",onClick:function onClick(e){return _this.handleSelectSuggestion(e,suggestion)}},suggestion.avatar?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("img",{alt:"Avatar",class:"avatar",src:suggestion.avatar}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"avatar",innerHTML:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-zjt8k" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="AccountCircleIcon" tabindex="-1" title="AccountCircle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"></path></svg>'}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"details"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"name"},suggestion.name),suggestion.email&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"destination"},suggestion.email),suggestion.phone&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"destination"},suggestion.phone)))})))),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"row"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("label",{htmlFor:"verdocs-contact-picker-email"},"Email:"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{id:"verdocs-contact-picker-email",name:"verdocs-contact-picker-email",type:"text","data-lpignore":"true",autoComplete:"off",value:this.email,placeholder:"Email Address...",onFocus:function onFocus(){return _this.showSuggestions=!1},onInput:function onInput(e){return _this.handleEmailChange(e)}})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"row"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("label",{htmlFor:"verdocs-contact-picker-phone"},"Phone:"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{id:"verdocs-contact-picker-phone",name:"verdocs-contact-picker-phone",type:"text","data-lpignore":"true",autocomplete:"off",value:this.phone,placeholder:"Phone Number...",onFocus:function onFocus(){return _this.showSuggestions=!1},onInput:function onInput(e){return _this.handlePhoneChange(e)}})),this.showMessage&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"row"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("label",{htmlFor:"verdocs-contact-picker-message"},"Message:"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{id:"verdocs-contact-picker-message",name:"verdocs-contact-picker-message",type:"text","data-lpignore":"true",autocomplete:"off",value:this.message,placeholder:"Invitation Message...",onFocus:function onFocus(){return _this.showSuggestions=!1},onInput:function onInput(e){return _this.handleMessageChange(e)}})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"buttons"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("verdocs-toggle-button",{icon:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>',size:"small",active:this.showMessage,onToggle:function onToggle(e){_this.showMessage=e.detail.active,_this.showSuggestions=!1}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("verdocs-toggle-button",{icon:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-zjt8k" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="AssignmentIndIcon" tabindex="-1" title="AssignmentInd"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></svg>',size:"small",active:this.delegator,onToggle:function onToggle(e){_this.delegator=e.detail.active,_this.showSuggestions=!1}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("div",{class:"flex-fill"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("verdocs-button",{variant:"outline",label:"Cancel",size:"small",onClick:function onClick(e){return _this.handleCancel(e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_9__.h)("verdocs-button",{label:"OK",size:"small",onClick:function onClick(e){return _this.handleSubmit(e)}})))}}]),VerdocsContactPicker}();VerdocsContactPicker.style='verdocs-contact-picker{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;background-color:#ffffff}verdocs-contact-picker form{background-color:#f5f5fa;padding:12px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-contact-picker form .row{width:300px;display:-ms-flexbox;display:flex;position:relative;margin:0 0 20px 0;-ms-flex-direction:column;flex-direction:column}verdocs-contact-picker form label{display:block;font-size:14px;font-weight:500;margin:0 0 4px 0;color:#5c6575}verdocs-contact-picker form input{border:none;font-size:18px;padding:3px 6px 3px 0;background:transparent;border-bottom:1px solid #33364b}verdocs-contact-picker form input:focus{outline:none}verdocs-contact-picker form .dropdown{left:0;right:0;top:49px;z-index:100;position:absolute;background:#ffffff;-webkit-box-shadow:0 0 15px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 15px 0 rgba(0, 0, 0, 0.1)}verdocs-contact-picker form .dropdown .suggestion{display:-ms-flexbox;display:flex;padding:6px 12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-contact-picker form .dropdown .suggestion svg{fill:#666666}verdocs-contact-picker form .dropdown .suggestion .avatar{width:48px;height:48px;-ms-flex:0 0 48px;flex:0 0 48px;margin-right:8px;border-radius:100%}verdocs-contact-picker form .dropdown .suggestion .details{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-contact-picker form .dropdown .suggestion .name{font-size:16px;font-weight:500;margin-bottom:3px;color:#092c4c}verdocs-contact-picker form .dropdown .suggestion .destination{font-size:14px;margin-bottom:3px;color:#33364b}verdocs-contact-picker form .dropdown .suggestion:hover{background:#eee;cursor:pointer}verdocs-contact-picker .buttons{display:-ms-flexbox;display:flex;-webkit-column-gap:8px;-moz-column-gap:8px;column-gap:8px;margin-top:16px;-ms-flex-direction:row;flex-direction:row}verdocs-contact-picker .buttons .flex-fill{-ms-flex:1;flex:1}verdocs-contact-picker ::-webkit-input-placeholder{color:#aaaaaa}verdocs-contact-picker ::-moz-placeholder{color:#aaaaaa}verdocs-contact-picker :-ms-input-placeholder{color:#aaaaaa}verdocs-contact-picker ::-ms-input-placeholder{color:#aaaaaa}verdocs-contact-picker ::placeholder{color:#aaaaaa}verdocs-contact-picker [data-lastpass-icon-root]{display:none !important}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS92ZXJkb2NzLWNvbnRhY3QtcGlja2VyLmVudHJ5LmpzIl0sIm5hbWVzIjpbIlZlcmRvY3NDb250YWN0UGlja2VyIiwiaG9zdFJlZiIsInJlZ2lzdGVySW5zdGFuY2UiLCJ0aGlzIiwic2VhcmNoQ29udGFjdHMiLCJjcmVhdGVFdmVudCIsImNhbmNlbCIsIm5leHQiLCJlbmRwb2ludCIsIlZlcmRvY3NFbmRwb2ludCIsImdldERlZmF1bHQiLCJ0ZW1wbGF0ZVJvbGUiLCJjb250YWN0U3VnZ2VzdGlvbnMiLCJuYW1lIiwidW5kZWZpbmVkIiwiZW1haWwiLCJwaG9uZSIsIm1lc3NhZ2UiLCJzaG93U3VnZ2VzdGlvbnMiLCJzaG93TWVzc2FnZSIsImRlbGVnYXRvciIsImNvbXBvbmVudFdpbGxMb2FkIiwiZnVsbF9uYW1lIiwiaGFuZGxlTmFtZUNoYW5nZSIsImUiLCJfYSIsInRhcmdldCIsInZhbHVlIiwiZW1pdCIsInF1ZXJ5IiwiaGFuZGxlRW1haWxDaGFuZ2UiLCJoYW5kbGVQaG9uZUNoYW5nZSIsImhhbmRsZU1lc3NhZ2VDaGFuZ2UiLCJoYW5kbGVDYW5jZWwiLCJzdG9wUHJvcGFnYXRpb24iLCJoYW5kbGVTdWJtaXQiLCJoYW5kbGVTZWxlY3RTdWdnZXN0aW9uIiwic3VnZ2VzdGlvbiIsInJlbmRlciIsImgiLCJvblN1Ym1pdCIsInByZXZlbnREZWZhdWx0Iiwib25DbGljayIsImF1dG9jb21wbGV0ZSIsImNsYXNzIiwiaHRtbEZvciIsImlkIiwidHlwZSIsInBsYWNlaG9sZGVyIiwib25Gb2N1cyIsImxlbmd0aCIsIm9uSW5wdXQiLCJtYXAiLCJrZXkiLCJhdmF0YXIiLCJhbHQiLCJzcmMiLCJpbm5lckhUTUwiLCJhdXRvQ29tcGxldGUiLCJpY29uIiwic2l6ZSIsImFjdGl2ZSIsIm9uVG9nZ2xlIiwiZGV0YWlsIiwidmFyaWFudCIsImxhYmVsIiwic3R5bGUiXSwibWFwcGluZ3MiOiJ3N0RBSUEsSUFLTUEscUJBQW9CLFdBQ3hCLDhCQUFZQyxVLDhJQUFTLDRCQUNuQkMsMERBQWlCQyxLQUFNRixTQUN2QkUsS0FBS0MsZUFBaUJDLDBEQUFZRixLQUFNLGlCQUFrQixHQUMxREEsS0FBS0csT0FBU0QsMERBQVlGLEtBQU0sU0FBVSxHQUMxQ0EsS0FBS0ksS0FBT0YsMERBQVlGLEtBQU0sT0FBUSxHQUN0Q0EsS0FBS0ssU0FBV0MsNkRBQWdCQyxhQUNoQ1AsS0FBS1EsYUFBZSxLQUNwQlIsS0FBS1MsbUJBQXFCLEdBQzFCVCxLQUFLVSxVQUFPQyxFQUNaWCxLQUFLWSxXQUFRRCxFQUNiWCxLQUFLYSxXQUFRRixFQUNiWCxLQUFLYyxhQUFVSCxFQUNmWCxLQUFLZSxpQkFBa0IsRUFDdkJmLEtBQUtnQixhQUFjLEVBQ25CaEIsS0FBS2lCLFdBQVksQ0FDbkIsQ0ErREMsTyxrUUEvREEsc0RBQ0QsU0FBQUMsb0JBQ01sQixLQUFLUSxlQUNQUixLQUFLVSxLQUFPVixLQUFLUSxhQUFhVyxXQUFhLEdBQzNDbkIsS0FBS1ksTUFBUVosS0FBS1EsYUFBYUksT0FBUyxHQUN4Q1osS0FBS2EsTUFBUWIsS0FBS1EsYUFBYUssT0FBUyxHQUN4Q2IsS0FBS2lCLFVBQVlqQixLQUFLUSxhQUFhUyxZQUFhLEVBQ2hEakIsS0FBS2MsUUFBVWQsS0FBS1EsYUFBYU0sU0FBVyxHQUM1Q2QsS0FBS2dCLFlBQStCLEtBQWpCaEIsS0FBS2MsUUFFNUIsR0FBQyw4QkFDRCxTQUFBTSxpQkFBaUJDLEdBQ2YsSUFBSUMsR0FDSnRCLEtBQUtVLEtBQU9XLEVBQUVFLE9BQU9DLE1BQ1UsUUFBOUJGLEdBQUt0QixLQUFLQyxzQkFBbUMsSUFBUHFCLElBQXlCQSxHQUFHRyxLQUFLLENBQUVDLE1BQU8xQixLQUFLVSxNQUN4RixHQUFDLCtCQUNELFNBQUFpQixrQkFBa0JOLEdBQ2hCckIsS0FBS1ksTUFBUVMsRUFBRUUsT0FBT0MsS0FDeEIsR0FBQywrQkFDRCxTQUFBSSxrQkFBa0JQLEdBQ2hCckIsS0FBS2EsTUFBUVEsRUFBRUUsT0FBT0MsS0FDeEIsR0FBQyxpQ0FDRCxTQUFBSyxvQkFBb0JSLEdBQ2xCckIsS0FBS2MsUUFBVU8sRUFBRUUsT0FBT0MsS0FDMUIsR0FBQywwQkFDRCxTQUFBTSxhQUFhVCxHQUNYLElBQUlDLEdBQ0pELEVBQUVVLGtCQUNGL0IsS0FBS2UsaUJBQWtCLEVBQ0EsUUFBdEJPLEdBQUt0QixLQUFLRyxjQUEyQixJQUFQbUIsSUFBeUJBLEdBQUdHLE1BQzdELEdBQUMsMEJBQ0QsU0FBQU8sYUFBYVgsR0FDWCxJQUFJQyxHQUNKRCxFQUFFVSxrQkFDRi9CLEtBQUtlLGlCQUFrQixFQUNGLFFBQXBCTyxHQUFLdEIsS0FBS0ksWUFBeUIsSUFBUGtCLElBQXlCQSxHQUFHRyxLQUFLLENBQzVETixVQUFXbkIsS0FBS1UsS0FDaEJFLE1BQU9aLEtBQUtZLE1BQ1pDLE1BQU9iLEtBQUthLE1BQ1pDLFFBQVNkLEtBQUtjLFFBQ2RHLFVBQVdqQixLQUFLaUIsV0FFcEIsR0FBQyxvQ0FDRCxTQUFBZ0IsdUJBQXVCWixFQUFHYSxZQUN4QmIsRUFBRVUsa0JBQ0YvQixLQUFLVSxLQUFPd0IsV0FBV3hCLEtBQ3ZCVixLQUFLWSxNQUFRc0IsV0FBV3RCLE1BQ3hCWixLQUFLYSxNQUFRcUIsV0FBV3JCLE1BQ3hCYixLQUFLZSxpQkFBa0IsQ0FDekIsR0FBQyxvQkFDRCxTQUFBb0IsU0FBUyxlQUNQLE9BQVFDLDBEQUFFLE9BQVEsQ0FBRUMsU0FBVSxrQkFBQWhCLEdBQUMsT0FBSUEsRUFBRWlCLGdCQUFnQixFQUFFQyxRQUFTLGlCQUFBbEIsR0FBQyxPQUFJQSxFQUFFVSxpQkFBaUIsRUFBRVMsYUFBYyxPQUFTSiwwREFBRSxNQUFPLENBQUVLLE1BQU8sT0FBU0wsMERBQUUsUUFBUyxDQUFFTSxRQUFTLCtCQUFpQyxTQUFVTiwwREFBRSxRQUFTLENBQUVPLEdBQUksOEJBQStCakMsS0FBTSw4QkFBK0JrQyxLQUFNLE9BQVEsZ0JBQWlCLE9BQVFKLGFBQWMsTUFBT2hCLE1BQU94QixLQUFLVSxLQUFNbUMsWUFBYSxvQkFBcUJDLFFBQVMsbUJBQVEsSUFBSXhCLEdBQUksT0FBUSxNQUFLUCxpQkFBc0QsUUFBbENPLEdBQUssTUFBS2IsMEJBQXVDLElBQVBhLFFBQWdCLEVBQVNBLEdBQUd5QixRQUFVLENBQUksRUFFOWhCQyxRQUFTLGlCQUFBM0IsR0FBQyxPQUFJLE1BQUtELGlCQUFpQkMsRUFBRSxJQUFLckIsS0FBS2UsaUJBQW9CcUIsMERBQUUsTUFBTyxDQUFFSyxNQUFPLFlBQWN6QyxLQUFLUyxtQkFBbUJ3QyxLQUFJLFNBQUFmLFlBQ2hJLElBQUlaLEdBQ0osT0FBUWMsMERBQUUsTUFBTyxDQUFFYyxJQUE4QixRQUF4QjVCLEdBQUtZLFdBQVdTLFVBQXVCLElBQVByQixHQUFnQkEsR0FBS1ksV0FBV3hCLEtBQU0rQixNQUFPLGFBQWNGLFFBQVMsaUJBQUFsQixHQUFDLE9BQUksTUFBS1ksdUJBQXVCWixFQUFHYSxXQUFXLEdBQUlBLFdBQVdpQixPQUFTZiwwREFBRSxNQUFPLENBQUVnQixJQUFLLFNBQVVYLE1BQU8sU0FBVVksSUFBS25CLFdBQVdpQixTQUFZZiwwREFBRSxNQUFPLENBQUVLLE1BQU8sU0FBVWEsVUF4RXJSLHNmQXdFb1RsQiwwREFBRSxNQUFPLENBQUVLLE1BQU8sV0FBYUwsMERBQUUsTUFBTyxDQUFFSyxNQUFPLFFBQVVQLFdBQVd4QixNQUFPd0IsV0FBV3RCLE9BQVN3QiwwREFBRSxNQUFPLENBQUVLLE1BQU8sZUFBaUJQLFdBQVd0QixPQUFRc0IsV0FBV3JCLE9BQVN1QiwwREFBRSxNQUFPLENBQUVLLE1BQU8sZUFBaUJQLFdBQVdyQixRQUNqaUIsTUFBT3VCLDBEQUFFLE1BQU8sQ0FBRUssTUFBTyxPQUFTTCwwREFBRSxRQUFTLENBQUVNLFFBQVMsZ0NBQWtDLFVBQVdOLDBEQUFFLFFBQVMsQ0FBRU8sR0FBSSwrQkFBZ0NqQyxLQUFNLCtCQUFnQ2tDLEtBQU0sT0FBUSxnQkFBaUIsT0FBUVcsYUFBYyxNQUFPL0IsTUFBT3hCLEtBQUtZLE1BQU9pQyxZQUFhLG1CQUFvQkMsUUFBUywwQkFBTyxNQUFLL0IsaUJBQWtCLENBQUssRUFBR2lDLFFBQVMsaUJBQUEzQixHQUFDLE9BQUksTUFBS00sa0JBQWtCTixFQUFFLEtBQU1lLDBEQUFFLE1BQU8sQ0FBRUssTUFBTyxPQUFTTCwwREFBRSxRQUFTLENBQUVNLFFBQVMsZ0NBQWtDLFVBQVdOLDBEQUFFLFFBQVMsQ0FBRU8sR0FBSSwrQkFBZ0NqQyxLQUFNLCtCQUFnQ2tDLEtBQU0sT0FBUSxnQkFBaUIsT0FBUUosYUFBYyxNQUFPaEIsTUFBT3hCLEtBQUthLE1BQU9nQyxZQUFhLGtCQUFtQkMsUUFBUywwQkFBTyxNQUFLL0IsaUJBQWtCLENBQUssRUFBR2lDLFFBQVMsaUJBQUEzQixHQUFDLE9BQUksTUFBS08sa0JBQWtCUCxFQUFFLEtBQU1yQixLQUFLZ0IsYUFBZ0JvQiwwREFBRSxNQUFPLENBQUVLLE1BQU8sT0FBU0wsMERBQUUsUUFBUyxDQUFFTSxRQUFTLGtDQUFvQyxZQUFhTiwwREFBRSxRQUFTLENBQUVPLEdBQUksaUNBQWtDakMsS0FBTSxpQ0FBa0NrQyxLQUFNLE9BQVEsZ0JBQWlCLE9BQVFKLGFBQWMsTUFBT2hCLE1BQU94QixLQUFLYyxRQUFTK0IsWUFBYSx3QkFBeUJDLFFBQVMsMEJBQU8sTUFBSy9CLGlCQUFrQixDQUFLLEVBQUdpQyxRQUFTLGlCQUFBM0IsR0FBQyxPQUFJLE1BQUtRLG9CQUFvQlIsRUFBRSxLQUFPZSwwREFBRSxNQUFPLENBQUVLLE1BQU8sV0FBYUwsMERBQUUsd0JBQXlCLENBQUVvQixLQTNFNXRDLHlSQTJFK3VDQyxLQUFNLFFBQVNDLE9BQVExRCxLQUFLZ0IsWUFBYTJDLFNBQVUsa0JBQUF0QyxHQUM5eUMsTUFBS0wsWUFBY0ssRUFBRXVDLE9BQU9GLE9BQzVCLE1BQUszQyxpQkFBa0IsQ0FDekIsSUFBTXFCLDBEQUFFLHdCQUF5QixDQUFFb0IsS0E3RXBCLHloQkE2RXdDQyxLQUFNLFFBQVNDLE9BQVExRCxLQUFLaUIsVUFBVzBDLFNBQVUsa0JBQUF0QyxHQUN0RyxNQUFLSixVQUFZSSxFQUFFdUMsT0FBT0YsT0FDMUIsTUFBSzNDLGlCQUFrQixDQUN6QixJQUFNcUIsMERBQUUsTUFBTyxDQUFFSyxNQUFPLGNBQWdCTCwwREFBRSxpQkFBa0IsQ0FBRXlCLFFBQVMsVUFBV0MsTUFBTyxTQUFVTCxLQUFNLFFBQVNsQixRQUFTLGlCQUFBbEIsR0FBQyxPQUFJLE1BQUtTLGFBQWFULEVBQUUsSUFBS2UsMERBQUUsaUJBQWtCLENBQUUwQixNQUFPLEtBQU1MLEtBQU0sUUFBU2xCLFFBQVMsaUJBQUFsQixHQUFDLE9BQUksTUFBS1csYUFBYVgsRUFBRSxLQUNqUCxLQUFDLHFCQS9FdUIsR0FpRjFCeEIscUJBQXFCa0UsTUF0RlcsMjJFIiwiZmlsZSI6IjUzLjRjNjEzZTc1LmlmcmFtZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGggfSBmcm9tICcuL2luZGV4LWY3OGQxNjNkLmpzJztcbmltcG9ydCB7IFYgYXMgVmVyZG9jc0VuZHBvaW50IH0gZnJvbSAnLi9WZXJkb2NzRW5kcG9pbnQtN2YxN2IwODguanMnO1xuaW1wb3J0ICcuL1Rva2VuLTU0NjkwNzg5LmpzJztcblxuY29uc3QgdmVyZG9jc0NvbnRhY3RQaWNrZXJDc3MgPSBcInZlcmRvY3MtY29udGFjdC1waWNrZXJ7Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmfXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybXtiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZmE7cGFkZGluZzoxMnB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAucm93e3dpZHRoOjMwMHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIDAgMjBweCAwOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSBsYWJlbHtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDttYXJnaW46MCAwIDRweCAwO2NvbG9yOiM1YzY1NzV9dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIGlucHV0e2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxOHB4O3BhZGRpbmc6M3B4IDZweCAzcHggMDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMzMzM2NGJ9dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIGlucHV0OmZvY3Vze291dGxpbmU6bm9uZX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3due2xlZnQ6MDtyaWdodDowO3RvcDo0OXB4O3otaW5kZXg6MTAwO3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6I2ZmZmZmZjstd2Via2l0LWJveC1zaGFkb3c6MCAwIDE1cHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7Ym94LXNoYWRvdzowIDAgMTVweCAwIHJnYmEoMCwgMCwgMCwgMC4xKX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3duIC5zdWdnZXN0aW9ue2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NnB4IDEycHg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvd312ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3duIC5zdWdnZXN0aW9uIHN2Z3tmaWxsOiM2NjY2NjZ9dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIC5kcm9wZG93biAuc3VnZ2VzdGlvbiAuYXZhdGFye3dpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7LW1zLWZsZXg6MCAwIDQ4cHg7ZmxleDowIDAgNDhweDttYXJnaW4tcmlnaHQ6OHB4O2JvcmRlci1yYWRpdXM6MTAwJX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3duIC5zdWdnZXN0aW9uIC5kZXRhaWxze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAuZHJvcGRvd24gLnN1Z2dlc3Rpb24gLm5hbWV7Zm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6NTAwO21hcmdpbi1ib3R0b206M3B4O2NvbG9yOiMwOTJjNGN9dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIC5kcm9wZG93biAuc3VnZ2VzdGlvbiAuZGVzdGluYXRpb257Zm9udC1zaXplOjE0cHg7bWFyZ2luLWJvdHRvbTozcHg7Y29sb3I6IzMzMzY0Yn12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3duIC5zdWdnZXN0aW9uOmhvdmVye2JhY2tncm91bmQ6I2VlZTtjdXJzb3I6cG9pbnRlcn12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIC5idXR0b25ze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtY29sdW1uLWdhcDo4cHg7LW1vei1jb2x1bW4tZ2FwOjhweDtjb2x1bW4tZ2FwOjhweDttYXJnaW4tdG9wOjE2cHg7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3d9dmVyZG9jcy1jb250YWN0LXBpY2tlciAuYnV0dG9ucyAuZmxleC1maWxsey1tcy1mbGV4OjE7ZmxleDoxfXZlcmRvY3MtY29udGFjdC1waWNrZXIgOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiNhYWFhYWF9dmVyZG9jcy1jb250YWN0LXBpY2tlciA6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6I2FhYWFhYX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6I2FhYWFhYX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiNhYWFhYWF9dmVyZG9jcy1jb250YWN0LXBpY2tlciA6OnBsYWNlaG9sZGVye2NvbG9yOiNhYWFhYWF9dmVyZG9jcy1jb250YWN0LXBpY2tlciBbZGF0YS1sYXN0cGFzcy1pY29uLXJvb3Rde2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fVwiO1xuXG5jb25zdCBtZXNzYWdlSWNvbiA9ICc8c3ZnIGNsYXNzPVwiTXVpU3ZnSWNvbi1yb290IE11aVN2Z0ljb24tZm9udFNpemVNZWRpdW0gTXVpQm94LXJvb3QgY3NzLTFvbTBoa2NcIiBmb2N1c2FibGU9XCJmYWxzZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTIwIDJINGMtMS4xIDAtMS45OS45LTEuOTkgMkwyIDIybDQtNGgxNGMxLjEgMCAyLS45IDItMlY0YzAtMS4xLS45LTItMi0yem0tMiAxMkg2di0yaDEydjJ6bTAtM0g2VjloMTJ2MnptMC0zSDZWNmgxMnYyelwiPjwvcGF0aD48L3N2Zz4nO1xuY29uc3QgZGVsZWdhdGVJY29uID0gJzxzdmcgY2xhc3M9XCJNdWlTdmdJY29uLXJvb3QgTXVpU3ZnSWNvbi1mb250U2l6ZU1lZGl1bSBNdWlTdmdJY29uLXJvb3QgTXVpU3ZnSWNvbi1mb250U2l6ZUxhcmdlIGNzcy16anQ4a1wiIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGRhdGEtdGVzdGlkPVwiQXNzaWdubWVudEluZEljb25cIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCJBc3NpZ25tZW50SW5kXCI+PHBhdGggZD1cIk0xOSAzaC00LjE4QzE0LjQgMS44NCAxMy4zIDEgMTIgMWMtMS4zIDAtMi40Ljg0LTIuODIgMkg1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bS03IDBjLjU1IDAgMSAuNDUgMSAxcy0uNDUgMS0xIDEtMS0uNDUtMS0xIC40NS0xIDEtMXptMCA0YzEuNjYgMCAzIDEuMzQgMyAzcy0xLjM0IDMtMyAzLTMtMS4zNC0zLTMgMS4zNC0zIDMtM3ptNiAxMkg2di0xLjRjMC0yIDQtMy4xIDYtMy4xczYgMS4xIDYgMy4xVjE5elwiPjwvcGF0aD48L3N2Zz4nO1xuY29uc3QgcGxhY2Vob2xkZXJJY29uID0gJzxzdmcgY2xhc3M9XCJNdWlTdmdJY29uLXJvb3QgTXVpU3ZnSWNvbi1mb250U2l6ZU1lZGl1bSBNdWlTdmdJY29uLXJvb3QgTXVpU3ZnSWNvbi1mb250U2l6ZUxhcmdlIGNzcy16anQ4a1wiIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGRhdGEtdGVzdGlkPVwiQWNjb3VudENpcmNsZUljb25cIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCJBY2NvdW50Q2lyY2xlXCI+PHBhdGggZD1cIk0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDRjMS45MyAwIDMuNSAxLjU3IDMuNSAzLjVTMTMuOTMgMTMgMTIgMTNzLTMuNS0xLjU3LTMuNS0zLjVTMTAuMDcgNiAxMiA2em0wIDE0Yy0yLjAzIDAtNC40My0uODItNi4xNC0yLjg4QzcuNTUgMTUuOCA5LjY4IDE1IDEyIDE1czQuNDUuOCA2LjE0IDIuMTJDMTYuNDMgMTkuMTggMTQuMDMgMjAgMTIgMjB6XCI+PC9wYXRoPjwvc3ZnPic7XG5jb25zdCBWZXJkb2NzQ29udGFjdFBpY2tlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5zZWFyY2hDb250YWN0cyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwic2VhcmNoQ29udGFjdHNcIiwgNyk7XG4gICAgdGhpcy5jYW5jZWwgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbmNlbFwiLCA3KTtcbiAgICB0aGlzLm5leHQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIm5leHRcIiwgNyk7XG4gICAgdGhpcy5lbmRwb2ludCA9IFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCk7XG4gICAgdGhpcy50ZW1wbGF0ZVJvbGUgPSBudWxsO1xuICAgIHRoaXMuY29udGFjdFN1Z2dlc3Rpb25zID0gW107XG4gICAgdGhpcy5uYW1lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZW1haWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5waG9uZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dNZXNzYWdlID0gZmFsc2U7XG4gICAgdGhpcy5kZWxlZ2F0b3IgPSBmYWxzZTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICBpZiAodGhpcy50ZW1wbGF0ZVJvbGUpIHtcbiAgICAgIHRoaXMubmFtZSA9IHRoaXMudGVtcGxhdGVSb2xlLmZ1bGxfbmFtZSB8fCAnJztcbiAgICAgIHRoaXMuZW1haWwgPSB0aGlzLnRlbXBsYXRlUm9sZS5lbWFpbCB8fCAnJztcbiAgICAgIHRoaXMucGhvbmUgPSB0aGlzLnRlbXBsYXRlUm9sZS5waG9uZSB8fCAnJztcbiAgICAgIHRoaXMuZGVsZWdhdG9yID0gdGhpcy50ZW1wbGF0ZVJvbGUuZGVsZWdhdG9yIHx8IGZhbHNlO1xuICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy50ZW1wbGF0ZVJvbGUubWVzc2FnZSB8fCAnJztcbiAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0aGlzLm1lc3NhZ2UgIT09ICcnO1xuICAgIH1cbiAgfVxuICBoYW5kbGVOYW1lQ2hhbmdlKGUpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5uYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgKF9hID0gdGhpcy5zZWFyY2hDb250YWN0cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoeyBxdWVyeTogdGhpcy5uYW1lIH0pO1xuICB9XG4gIGhhbmRsZUVtYWlsQ2hhbmdlKGUpIHtcbiAgICB0aGlzLmVtYWlsID0gZS50YXJnZXQudmFsdWU7XG4gIH1cbiAgaGFuZGxlUGhvbmVDaGFuZ2UoZSkge1xuICAgIHRoaXMucGhvbmUgPSBlLnRhcmdldC52YWx1ZTtcbiAgfVxuICBoYW5kbGVNZXNzYWdlQ2hhbmdlKGUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBlLnRhcmdldC52YWx1ZTtcbiAgfVxuICBoYW5kbGVDYW5jZWwoZSkge1xuICAgIHZhciBfYTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgKF9hID0gdGhpcy5jYW5jZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KCk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KGUpIHtcbiAgICB2YXIgX2E7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICAgIChfYSA9IHRoaXMubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoe1xuICAgICAgZnVsbF9uYW1lOiB0aGlzLm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5lbWFpbCxcbiAgICAgIHBob25lOiB0aGlzLnBob25lLFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgZGVsZWdhdG9yOiB0aGlzLmRlbGVnYXRvcixcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTZWxlY3RTdWdnZXN0aW9uKGUsIHN1Z2dlc3Rpb24pIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMubmFtZSA9IHN1Z2dlc3Rpb24ubmFtZTtcbiAgICB0aGlzLmVtYWlsID0gc3VnZ2VzdGlvbi5lbWFpbDtcbiAgICB0aGlzLnBob25lID0gc3VnZ2VzdGlvbi5waG9uZTtcbiAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJmb3JtXCIsIHsgb25TdWJtaXQ6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLCBvbkNsaWNrOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksIGF1dG9jb21wbGV0ZTogXCJvZmZcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicm93XCIgfSwgaChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJ2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW5hbWVcIiB9LCBcIk5hbWU6XCIpLCBoKFwiaW5wdXRcIiwgeyBpZDogXCJ2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW5hbWVcIiwgbmFtZTogXCJ2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW5hbWVcIiwgdHlwZTogXCJ0ZXh0XCIsIFwiZGF0YS1scGlnbm9yZVwiOiBcInRydWVcIiwgYXV0b2NvbXBsZXRlOiBcIm9mZlwiLCB2YWx1ZTogdGhpcy5uYW1lLCBwbGFjZWhvbGRlcjogXCJSZWNpcGllbnQgTmFtZS4uLlwiLCBvbkZvY3VzOiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuICh0aGlzLnNob3dTdWdnZXN0aW9ucyA9ICgoX2EgPSB0aGlzLmNvbnRhY3RTdWdnZXN0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiAwKTsgfSxcbiAgICAgIC8vIG9uQmx1cj17KCkgPT4gKHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2UpfVxuICAgICAgb25JbnB1dDogZSA9PiB0aGlzLmhhbmRsZU5hbWVDaGFuZ2UoZSkgfSksIHRoaXMuc2hvd1N1Z2dlc3Rpb25zICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZHJvcGRvd25cIiB9LCB0aGlzLmNvbnRhY3RTdWdnZXN0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBrZXk6IChfYSA9IHN1Z2dlc3Rpb24uaWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHN1Z2dlc3Rpb24ubmFtZSwgY2xhc3M6IFwic3VnZ2VzdGlvblwiLCBvbkNsaWNrOiBlID0+IHRoaXMuaGFuZGxlU2VsZWN0U3VnZ2VzdGlvbihlLCBzdWdnZXN0aW9uKSB9LCBzdWdnZXN0aW9uLmF2YXRhciA/IGgoXCJpbWdcIiwgeyBhbHQ6IFwiQXZhdGFyXCIsIGNsYXNzOiBcImF2YXRhclwiLCBzcmM6IHN1Z2dlc3Rpb24uYXZhdGFyIH0pIDogaChcImRpdlwiLCB7IGNsYXNzOiBcImF2YXRhclwiLCBpbm5lckhUTUw6IHBsYWNlaG9sZGVySWNvbiB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImRldGFpbHNcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwibmFtZVwiIH0sIHN1Z2dlc3Rpb24ubmFtZSksIHN1Z2dlc3Rpb24uZW1haWwgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcImRlc3RpbmF0aW9uXCIgfSwgc3VnZ2VzdGlvbi5lbWFpbCksIHN1Z2dlc3Rpb24ucGhvbmUgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcImRlc3RpbmF0aW9uXCIgfSwgc3VnZ2VzdGlvbi5waG9uZSkpKSk7XG4gICAgfSkpKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyb3dcIiB9LCBoKFwibGFiZWxcIiwgeyBodG1sRm9yOiBcInZlcmRvY3MtY29udGFjdC1waWNrZXItZW1haWxcIiB9LCBcIkVtYWlsOlwiKSwgaChcImlucHV0XCIsIHsgaWQ6IFwidmVyZG9jcy1jb250YWN0LXBpY2tlci1lbWFpbFwiLCBuYW1lOiBcInZlcmRvY3MtY29udGFjdC1waWNrZXItZW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIsIFwiZGF0YS1scGlnbm9yZVwiOiBcInRydWVcIiwgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLCB2YWx1ZTogdGhpcy5lbWFpbCwgcGxhY2Vob2xkZXI6IFwiRW1haWwgQWRkcmVzcy4uLlwiLCBvbkZvY3VzOiAoKSA9PiAodGhpcy5zaG93U3VnZ2VzdGlvbnMgPSBmYWxzZSksIG9uSW5wdXQ6IGUgPT4gdGhpcy5oYW5kbGVFbWFpbENoYW5nZShlKSB9KSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyb3dcIiB9LCBoKFwibGFiZWxcIiwgeyBodG1sRm9yOiBcInZlcmRvY3MtY29udGFjdC1waWNrZXItcGhvbmVcIiB9LCBcIlBob25lOlwiKSwgaChcImlucHV0XCIsIHsgaWQ6IFwidmVyZG9jcy1jb250YWN0LXBpY2tlci1waG9uZVwiLCBuYW1lOiBcInZlcmRvY3MtY29udGFjdC1waWNrZXItcGhvbmVcIiwgdHlwZTogXCJ0ZXh0XCIsIFwiZGF0YS1scGlnbm9yZVwiOiBcInRydWVcIiwgYXV0b2NvbXBsZXRlOiBcIm9mZlwiLCB2YWx1ZTogdGhpcy5waG9uZSwgcGxhY2Vob2xkZXI6IFwiUGhvbmUgTnVtYmVyLi4uXCIsIG9uRm9jdXM6ICgpID0+ICh0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlKSwgb25JbnB1dDogZSA9PiB0aGlzLmhhbmRsZVBob25lQ2hhbmdlKGUpIH0pKSwgdGhpcy5zaG93TWVzc2FnZSAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInJvd1wiIH0sIGgoXCJsYWJlbFwiLCB7IGh0bWxGb3I6IFwidmVyZG9jcy1jb250YWN0LXBpY2tlci1tZXNzYWdlXCIgfSwgXCJNZXNzYWdlOlwiKSwgaChcImlucHV0XCIsIHsgaWQ6IFwidmVyZG9jcy1jb250YWN0LXBpY2tlci1tZXNzYWdlXCIsIG5hbWU6IFwidmVyZG9jcy1jb250YWN0LXBpY2tlci1tZXNzYWdlXCIsIHR5cGU6IFwidGV4dFwiLCBcImRhdGEtbHBpZ25vcmVcIjogXCJ0cnVlXCIsIGF1dG9jb21wbGV0ZTogXCJvZmZcIiwgdmFsdWU6IHRoaXMubWVzc2FnZSwgcGxhY2Vob2xkZXI6IFwiSW52aXRhdGlvbiBNZXNzYWdlLi4uXCIsIG9uRm9jdXM6ICgpID0+ICh0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlKSwgb25JbnB1dDogZSA9PiB0aGlzLmhhbmRsZU1lc3NhZ2VDaGFuZ2UoZSkgfSkpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImJ1dHRvbnNcIiB9LCBoKFwidmVyZG9jcy10b2dnbGUtYnV0dG9uXCIsIHsgaWNvbjogbWVzc2FnZUljb24sIHNpemU6IFwic21hbGxcIiwgYWN0aXZlOiB0aGlzLnNob3dNZXNzYWdlLCBvblRvZ2dsZTogZSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSBlLmRldGFpbC5hY3RpdmU7XG4gICAgICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICB9IH0pLCBoKFwidmVyZG9jcy10b2dnbGUtYnV0dG9uXCIsIHsgaWNvbjogZGVsZWdhdGVJY29uLCBzaXplOiBcInNtYWxsXCIsIGFjdGl2ZTogdGhpcy5kZWxlZ2F0b3IsIG9uVG9nZ2xlOiBlID0+IHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0b3IgPSBlLmRldGFpbC5hY3RpdmU7XG4gICAgICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICB9IH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZmxleC1maWxsXCIgfSksIGgoXCJ2ZXJkb2NzLWJ1dHRvblwiLCB7IHZhcmlhbnQ6IFwib3V0bGluZVwiLCBsYWJlbDogXCJDYW5jZWxcIiwgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiBlID0+IHRoaXMuaGFuZGxlQ2FuY2VsKGUpIH0pLCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJPS1wiLCBzaXplOiBcInNtYWxsXCIsIG9uQ2xpY2s6IGUgPT4gdGhpcy5oYW5kbGVTdWJtaXQoZSkgfSkpKSk7XG4gIH1cbn07XG5WZXJkb2NzQ29udGFjdFBpY2tlci5zdHlsZSA9IHZlcmRvY3NDb250YWN0UGlja2VyQ3NzO1xuXG5leHBvcnQgeyBWZXJkb2NzQ29udGFjdFBpY2tlciBhcyB2ZXJkb2NzX2NvbnRhY3RfcGlja2VyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9