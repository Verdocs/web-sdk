(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"./dist/esm/verdocs-floating-menu.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_floating_menu",(function(){return VerdocsFloatingMenu}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_9ee0ca9f_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./dist/esm/index-9ee0ca9f.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var getScrollParent=function getScrollParent(node){var regex=/(auto|scroll)/,parents=function parents(_node,ps){return null===_node.parentNode?ps:parents(_node.parentNode,ps.concat([_node]))},style=function style(_node,prop){return getComputedStyle(_node,null).getPropertyValue(prop)},scroll=function scroll(_node){return regex.test(function overflow(_node){return style(_node,"overflow")+style(_node,"overflow-y")+style(_node,"overflow-x")}(_node))};return function scrollParent(_node){if(_node instanceof HTMLElement||_node instanceof SVGElement){for(var ps=parents(_node.parentNode,[]),i=0;i<ps.length;i+=1)if(scroll(ps[i]))return ps[i];return document.scrollingElement||document.documentElement}}(node)},VerdocsFloatingMenu=function(){function VerdocsFloatingMenu(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsFloatingMenu),Object(_index_9ee0ca9f_js__WEBPACK_IMPORTED_MODULE_12__.j)(this,hostRef),this.optionSelected=Object(_index_9ee0ca9f_js__WEBPACK_IMPORTED_MODULE_12__.e)(this,"optionSelected",7),this.menuContainer=null,this.scrollParent=null,this.scrollParentParent=null,this.options=[]}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsFloatingMenu,[{key:"componentDidLoad",value:function componentDidLoad(){this.menuContainer=document.createElement("div"),this.menuContainer.id="verdocs-floating-menu";var el=document.createElement("div");el.className="trigger",el.innerText="+",this.menuContainer.append(el),(el=document.createElement("div")).className="options",this.menuContainer.append(el);var localhandleSelect=this.handleSelect.bind(this);this.options.forEach((function(option){var childEl=document.createElement("div");childEl.className="option",childEl.addEventListener("click",(function(){return localhandleSelect(option)})),el.append(childEl);var iconEl=document.createElement("verdocs-toolbar-icon");iconEl.setAttribute("icon",option.icon),iconEl.setAttribute("text",option.tooltip),iconEl.setAttribute("placement","left"),childEl.append(iconEl)})),document.body.append(this.menuContainer),this.scrollParent=getScrollParent(this.el),this.scrollParent&&(this.scrollParentParent=this.scrollParent.parentElement,this.repositionTrigger(this.scrollParent))}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _a;null===(_a=this.menuContainer)||void 0===_a||_a.remove()}},{key:"handleSelect",value:function handleSelect(option){var _a;null===(_a=this.optionSelected)||void 0===_a||_a.emit(option);var el=document.getElementById("verdocs-floating-menu");el&&(el.className="force-closed",setTimeout((function(){el.className=""}),100))}},{key:"repositionTrigger",value:function repositionTrigger(scrollParent){var scrollParentParent=scrollParent.parentElement;if(scrollParentParent){var bounds=scrollParentParent.getBoundingClientRect(),menu=document.getElementById("verdocs-floating-menu");menu&&(menu.style.bottom=document.documentElement.clientHeight-(document.documentElement.scrollTop+bounds.bottom)+10+"px",menu.style.left=bounds.right-80+"px")}}},{key:"render",value:function render(){return Object(_index_9ee0ca9f_js__WEBPACK_IMPORTED_MODULE_12__.h)(_index_9ee0ca9f_js__WEBPACK_IMPORTED_MODULE_12__.b,null)}},{key:"el",get:function get(){return Object(_index_9ee0ca9f_js__WEBPACK_IMPORTED_MODULE_12__.c)(this)}}]),VerdocsFloatingMenu}();VerdocsFloatingMenu.style="verdocs-floating-menu{display:none}#verdocs-floating-menu{position:absolute;width:56px;height:56px;display:-ms-flexbox;display:flex;-ms-flex:0 0 fit-content;flex:0 0 fit-content}#verdocs-floating-menu:not(.force-closed):hover{height:500px}#verdocs-floating-menu:not(.force-closed):hover .trigger{-webkit-box-shadow:0 10px 25px #4c56cb;box-shadow:0 10px 25px #4c56cb;-webkit-transform:translatey(2px);transform:translatey(2px);-webkit-transition:all 0.3s;transition:all 0.3s}#verdocs-floating-menu:not(.force-closed):hover .options{display:-ms-flexbox;display:flex}#verdocs-floating-menu:not(.force-closed):hover .options .option{-webkit-animation:vfm-appear 0.1s forwards 0.2s;animation:vfm-appear 0.1s forwards 0.2s}#verdocs-floating-menu .trigger{position:absolute;width:56px;height:56px;background:#654dcb;bottom:0;border-radius:50%;left:0;right:0;margin:auto;color:white;line-height:52px;text-align:center;font-size:44px;z-index:100;-webkit-box-shadow:0 10px 25px -5px #4c56cb;box-shadow:0 10px 25px -5px #4c56cb;cursor:pointer;-webkit-transition:all 0.3s;transition:all 0.3s}#verdocs-floating-menu .options{width:56px;-ms-flex-direction:column;flex-direction:column;-ms-flex:0 0 fit-content;flex:0 0 fit-content;position:absolute;bottom:70px;display:none}#verdocs-floating-menu .option{background:#654dcb;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;width:36px;height:36px;margin:5px auto;color:white;font-weight:500;text-align:center;line-height:36px;opacity:0}#verdocs-floating-menu verdocs-toolbar-icon .icon{display:-ms-flexbox;display:flex}#verdocs-floating-menu verdocs-toolbar-icon .icon svg{fill:#ffffff}@-webkit-keyframes vfm-appear{0%{opacity:0}30%{-webkit-transform:scale(0.4);transform:scale(0.4);opacity:0.3}70%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0.6}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes vfm-appear{0%{opacity:0}30%{-webkit-transform:scale(0.4);transform:scale(0.4);opacity:0.3}70%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0.6}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS92ZXJkb2NzLWZsb2F0aW5nLW1lbnUuZW50cnkuanMiXSwibmFtZXMiOlsiZ2V0U2Nyb2xsUGFyZW50Iiwibm9kZSIsInJlZ2V4IiwicGFyZW50cyIsIl9ub2RlIiwicHMiLCJwYXJlbnROb2RlIiwiY29uY2F0Iiwic3R5bGUiLCJwcm9wIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJzY3JvbGwiLCJ0ZXN0Iiwib3ZlcmZsb3ciLCJzY3JvbGxQYXJlbnQiLCJIVE1MRWxlbWVudCIsIlNWR0VsZW1lbnQiLCJpIiwibGVuZ3RoIiwiZG9jdW1lbnQiLCJzY3JvbGxpbmdFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiVmVyZG9jc0Zsb2F0aW5nTWVudSIsImhvc3RSZWYiLCJyZWdpc3Rlckluc3RhbmNlIiwidGhpcyIsIm9wdGlvblNlbGVjdGVkIiwiY3JlYXRlRXZlbnQiLCJtZW51Q29udGFpbmVyIiwic2Nyb2xsUGFyZW50UGFyZW50Iiwib3B0aW9ucyIsImNvbXBvbmVudERpZExvYWQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJlbCIsImNsYXNzTmFtZSIsImlubmVyVGV4dCIsImFwcGVuZCIsImxvY2FsaGFuZGxlU2VsZWN0IiwiaGFuZGxlU2VsZWN0IiwiYmluZCIsImZvckVhY2giLCJvcHRpb24iLCJjaGlsZEVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImljb25FbCIsInNldEF0dHJpYnV0ZSIsImljb24iLCJ0b29sdGlwIiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJyZXBvc2l0aW9uVHJpZ2dlciIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwiX2EiLCJyZW1vdmUiLCJlbWl0IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRUaW1lb3V0IiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWVudSIsImJvdHRvbSIsImNsaWVudEhlaWdodCIsInNjcm9sbFRvcCIsImxlZnQiLCJyaWdo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dkIsR0FBR0MsVUFBWSxFQUNqQixHQUFHLEtBRVAsR0FBQywrQkFDRCxTQUFBZ0Isa0JBQWtCckMsY0FDaEIsSUFBTWUsbUJBQXFCZixhQUFhb0MsY0FDeEMsR0FBSXJCLG1CQUFvQixDQUN0QixJQUFNNkIsT0FBUzdCLG1CQUFtQjhCLHdCQUM1QkMsS0FBT3pDLFNBQVNxQyxlQUFlLHlCQUNqQ0ksT0FDRkEsS0FBS3JELE1BQU1zRCxPQUFZMUMsU0FBU0UsZ0JBQWdCeUMsY0FBZ0IzQyxTQUFTRSxnQkFBZ0IwQyxVQUFZTCxPQUFPRyxRQUFVLEdBQUUsS0FDeEhELEtBQUtyRCxNQUFNeUQsS0FBVU4sT0FBT08sTUFBUSxHQUFFLEtBRTFDLENBQ0YsR0FBQyxvQkFDRCxTQUFBQyxTQUNFLE9BQU9DLDJEQUFFQyxtREFBTSxLQUNqQixHQUFDLGNBQ0QsU0FBQUMsTUFBVyxPQUFPQywyREFBVzdDLEtBQU8sS0FBQyxvQkFuRWQsR0FxRXpCSCxvQkFBb0JmLE1BakdXLGdvRSIsImZpbGUiOiI1MC44MjdkMTU0Zi5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBhIGFzIGdldEVsZW1lbnQsIEggYXMgSG9zdCB9IGZyb20gJy4vaW5kZXgtOWVlMGNhOWYuanMnO1xuXG5jb25zdCB2ZXJkb2NzRmxvYXRpbmdNZW51Q3NzID0gXCJ2ZXJkb2NzLWZsb2F0aW5nLW1lbnV7ZGlzcGxheTpub25lfSN2ZXJkb2NzLWZsb2F0aW5nLW1lbnV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NTZweDtoZWlnaHQ6NTZweDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleDowIDAgZml0LWNvbnRlbnQ7ZmxleDowIDAgZml0LWNvbnRlbnR9I3ZlcmRvY3MtZmxvYXRpbmctbWVudTpub3QoLmZvcmNlLWNsb3NlZCk6aG92ZXJ7aGVpZ2h0OjUwMHB4fSN2ZXJkb2NzLWZsb2F0aW5nLW1lbnU6bm90KC5mb3JjZS1jbG9zZWQpOmhvdmVyIC50cmlnZ2Vyey13ZWJraXQtYm94LXNoYWRvdzowIDEwcHggMjVweCAjNGM1NmNiO2JveC1zaGFkb3c6MCAxMHB4IDI1cHggIzRjNTZjYjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGV5KDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZXkoMnB4KTstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuM3M7dHJhbnNpdGlvbjphbGwgMC4zc30jdmVyZG9jcy1mbG9hdGluZy1tZW51Om5vdCguZm9yY2UtY2xvc2VkKTpob3ZlciAub3B0aW9uc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0jdmVyZG9jcy1mbG9hdGluZy1tZW51Om5vdCguZm9yY2UtY2xvc2VkKTpob3ZlciAub3B0aW9ucyAub3B0aW9uey13ZWJraXQtYW5pbWF0aW9uOnZmbS1hcHBlYXIgMC4xcyBmb3J3YXJkcyAwLjJzO2FuaW1hdGlvbjp2Zm0tYXBwZWFyIDAuMXMgZm9yd2FyZHMgMC4yc30jdmVyZG9jcy1mbG9hdGluZy1tZW51IC50cmlnZ2Vye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjU2cHg7aGVpZ2h0OjU2cHg7YmFja2dyb3VuZDojNjU0ZGNiO2JvdHRvbTowO2JvcmRlci1yYWRpdXM6NTAlO2xlZnQ6MDtyaWdodDowO21hcmdpbjphdXRvO2NvbG9yOndoaXRlO2xpbmUtaGVpZ2h0OjUycHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjQ0cHg7ei1pbmRleDoxMDA7LXdlYmtpdC1ib3gtc2hhZG93OjAgMTBweCAyNXB4IC01cHggIzRjNTZjYjtib3gtc2hhZG93OjAgMTBweCAyNXB4IC01cHggIzRjNTZjYjtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuM3M7dHJhbnNpdGlvbjphbGwgMC4zc30jdmVyZG9jcy1mbG9hdGluZy1tZW51IC5vcHRpb25ze3dpZHRoOjU2cHg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6MCAwIGZpdC1jb250ZW50O2ZsZXg6MCAwIGZpdC1jb250ZW50O3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTo3MHB4O2Rpc3BsYXk6bm9uZX0jdmVyZG9jcy1mbG9hdGluZy1tZW51IC5vcHRpb257YmFja2dyb3VuZDojNjU0ZGNiO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3JkZXItcmFkaXVzOjUwJTt3aWR0aDozNnB4O2hlaWdodDozNnB4O21hcmdpbjo1cHggYXV0bztjb2xvcjp3aGl0ZTtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MzZweDtvcGFjaXR5OjB9I3ZlcmRvY3MtZmxvYXRpbmctbWVudSB2ZXJkb2NzLXRvb2xiYXItaWNvbiAuaWNvbntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0jdmVyZG9jcy1mbG9hdGluZy1tZW51IHZlcmRvY3MtdG9vbGJhci1pY29uIC5pY29uIHN2Z3tmaWxsOiNmZmZmZmZ9QC13ZWJraXQta2V5ZnJhbWVzIHZmbS1hcHBlYXJ7MCV7b3BhY2l0eTowfTMwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjQpO3RyYW5zZm9ybTpzY2FsZSgwLjQpO29wYWNpdHk6MC4zfTcwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjIpO3RyYW5zZm9ybTpzY2FsZSgxLjIpO29wYWNpdHk6MC42fTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpO29wYWNpdHk6MX19QGtleWZyYW1lcyB2Zm0tYXBwZWFyezAle29wYWNpdHk6MH0zMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMC40KTt0cmFuc2Zvcm06c2NhbGUoMC40KTtvcGFjaXR5OjAuM303MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yKTt0cmFuc2Zvcm06c2NhbGUoMS4yKTtvcGFjaXR5OjAuNn0xMDAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fVwiO1xuXG4vLyBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80OTE4NjY3Ny8xODEyNDM2XG5jb25zdCBnZXRTY3JvbGxQYXJlbnQgPSBub2RlID0+IHtcbiAgY29uc3QgcmVnZXggPSAvKGF1dG98c2Nyb2xsKS87XG4gIGNvbnN0IHBhcmVudHMgPSAoX25vZGUsIHBzKSA9PiB7XG4gICAgaWYgKF9ub2RlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBwcztcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudHMoX25vZGUucGFyZW50Tm9kZSwgcHMuY29uY2F0KFtfbm9kZV0pKTtcbiAgfTtcbiAgY29uc3Qgc3R5bGUgPSAoX25vZGUsIHByb3ApID0+IGdldENvbXB1dGVkU3R5bGUoX25vZGUsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG4gIGNvbnN0IG92ZXJmbG93ID0gX25vZGUgPT4gc3R5bGUoX25vZGUsICdvdmVyZmxvdycpICsgc3R5bGUoX25vZGUsICdvdmVyZmxvdy15JykgKyBzdHlsZShfbm9kZSwgJ292ZXJmbG93LXgnKTtcbiAgY29uc3Qgc2Nyb2xsID0gX25vZGUgPT4gcmVnZXgudGVzdChvdmVyZmxvdyhfbm9kZSkpO1xuICBjb25zdCBzY3JvbGxQYXJlbnQgPSBfbm9kZSA9PiB7XG4gICAgaWYgKCEoX25vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBfbm9kZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBzID0gcGFyZW50cyhfbm9kZS5wYXJlbnROb2RlLCBbXSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHNjcm9sbChwc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIHBzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH07XG4gIHJldHVybiBzY3JvbGxQYXJlbnQobm9kZSk7XG59O1xuY29uc3QgVmVyZG9jc0Zsb2F0aW5nTWVudSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5vcHRpb25TZWxlY3RlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwib3B0aW9uU2VsZWN0ZWRcIiwgNyk7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLnNjcm9sbFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5zY3JvbGxQYXJlbnRQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyLmlkID0gJ3ZlcmRvY3MtZmxvYXRpbmctbWVudSc7XG4gICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWwuY2xhc3NOYW1lID0gJ3RyaWdnZXInO1xuICAgIGVsLmlubmVyVGV4dCA9ICcrJztcbiAgICB0aGlzLm1lbnVDb250YWluZXIuYXBwZW5kKGVsKTtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsLmNsYXNzTmFtZSA9ICdvcHRpb25zJztcbiAgICB0aGlzLm1lbnVDb250YWluZXIuYXBwZW5kKGVsKTtcbiAgICBjb25zdCBsb2NhbGhhbmRsZVNlbGVjdCA9IHRoaXMuaGFuZGxlU2VsZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNoaWxkRWwuY2xhc3NOYW1lID0gJ29wdGlvbic7XG4gICAgICBjaGlsZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbG9jYWxoYW5kbGVTZWxlY3Qob3B0aW9uKSk7XG4gICAgICBlbC5hcHBlbmQoY2hpbGRFbCk7XG4gICAgICBjb25zdCBpY29uRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLXRvb2xiYXItaWNvbicpO1xuICAgICAgaWNvbkVsLnNldEF0dHJpYnV0ZSgnaWNvbicsIG9wdGlvbi5pY29uKTtcbiAgICAgIGljb25FbC5zZXRBdHRyaWJ1dGUoJ3RleHQnLCBvcHRpb24udG9vbHRpcCk7XG4gICAgICBpY29uRWwuc2V0QXR0cmlidXRlKCdwbGFjZW1lbnQnLCAnbGVmdCcpO1xuICAgICAgY2hpbGRFbC5hcHBlbmQoaWNvbkVsKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLm1lbnVDb250YWluZXIpO1xuICAgIHRoaXMuc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KHRoaXMuZWwpO1xuICAgIGlmICh0aGlzLnNjcm9sbFBhcmVudCkge1xuICAgICAgdGhpcy5zY3JvbGxQYXJlbnRQYXJlbnQgPSB0aGlzLnNjcm9sbFBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5yZXBvc2l0aW9uVHJpZ2dlcih0aGlzLnNjcm9sbFBhcmVudCk7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLm1lbnVDb250YWluZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUoKTtcbiAgfVxuICBoYW5kbGVTZWxlY3Qob3B0aW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMub3B0aW9uU2VsZWN0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KG9wdGlvbik7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyZG9jcy1mbG9hdGluZy1tZW51Jyk7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5jbGFzc05hbWUgPSAnZm9yY2UtY2xvc2VkJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnJztcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG4gIHJlcG9zaXRpb25UcmlnZ2VyKHNjcm9sbFBhcmVudCkge1xuICAgIGNvbnN0IHNjcm9sbFBhcmVudFBhcmVudCA9IHNjcm9sbFBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChzY3JvbGxQYXJlbnRQYXJlbnQpIHtcbiAgICAgIGNvbnN0IGJvdW5kcyA9IHNjcm9sbFBhcmVudFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyZG9jcy1mbG9hdGluZy1tZW51Jyk7XG4gICAgICBpZiAobWVudSkge1xuICAgICAgICBtZW51LnN0eWxlLmJvdHRvbSA9IGAke2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIGJvdW5kcy5ib3R0b20pICsgMTB9cHhgO1xuICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSBgJHtib3VuZHMucmlnaHQgLSA4MH1weGA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaChIb3N0LCBudWxsKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuVmVyZG9jc0Zsb2F0aW5nTWVudS5zdHlsZSA9IHZlcmRvY3NGbG9hdGluZ01lbnVDc3M7XG5cbmV4cG9ydCB7IFZlcmRvY3NGbG9hdGluZ01lbnUgYXMgdmVyZG9jc19mbG9hdGluZ19tZW51IH07XG4iXSwic291cmNlUm9vdCI6IiJ9