/*! For license information please see 21.68404799.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/utils-99a3c1f0.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rescale})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"f",(function(){return integerSequence})),__webpack_require__.d(__webpack_exports__,"g",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return setControlStyles})),__webpack_require__.d(__webpack_exports__,"i",(function(){return updateCssTransform}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match-all.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function rescale(r,n){return r*n}var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")},setControlStyles=function setControlStyles(el,field,xScale,yScale,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?function defaultWidth(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 82}return 150}(field):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?function defaultHeight(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 41}return 50}(field):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")"},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,handleFieldChange,disabled){var editable=arguments.length>5&&void 0!==arguments[5]&&arguments[5],draggable=arguments.length>6&&void 0!==arguments[6]&&arguments[6],controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return void setControlStyles(existingField,field,docPage.xScale,docPage.yScale);var el=document.createElement("verdocs-field-"+field.type);return el.field=field,el.setAttribute("id",id),el.setAttribute("roleindex",roleIndex),disabled&&el.setAttribute("disabled",!0),editable&&el.setAttribute("editable",!0),draggable&&el.setAttribute("draggable",!0),el.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(el,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(el),el;case"checkbox_group":(field.settings||field.setting||{}).options.forEach((function(_,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-checkbox");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;case"radio_button_group":(field.settings||field.setting||{}).options.forEach((function(_,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-radio-button");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",buttonIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,buttonIndex),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;default:return console.log("[PREVIEW] Skipping unsupported field type",field),null}},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}},updateCssTransform=function updateCssTransform(el,key,value){var components=_toConsumableArray(el.style.transform.matchAll(/(\w+)\(([^)]*)\)/gi));el.style.transform=[components.filter((function(component){return component[1]!==key})).map((function(component){return component[0]})),key+"("+value+")"].join(" ")}},"./dist/esm/verdocs-field-signature_3.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_signature",(function(){return VerdocsFieldSignature})),__webpack_require__.d(__webpack_exports__,"verdocs_signature_dialog",(function(){return VerdocsSignatureDialog})),__webpack_require__.d(__webpack_exports__,"verdocs_toolbar_icon",(function(){return VerdocsToolbarIcon}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./dist/esm/index-f78d163d.js"),_utils_99a3c1f0_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./dist/esm/utils-99a3c1f0.js"),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/popper-f860750c.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var VerdocsFieldSignature=function(){function VerdocsFieldSignature(hostRef){_classCallCheck(this,VerdocsFieldSignature),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.fieldChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"fieldChange",7),this.settingsPress=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"settingsPress",7),this.field=null,this.name="",this.recipient=void 0,this.disabled=!1,this.editable=!1,this.moveable=!1,this.roleindex=0,this.tempSignature=""}var _focusField;return _createClass(VerdocsFieldSignature,[{key:"focusField",value:(_focusField=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.handleShow(),console.log("focused",this);case 2:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"hideDialog",value:function hideDialog(){var _a;null===(_a=this.dialog)||void 0===_a||_a.remove(),this.dialog=null}},{key:"handleAdopt",value:function handleAdopt(e){var _a;console.log("[SIGNATURE] Adopted signature"),this.tempSignature=e.detail,null===(_a=this.fieldChange)||void 0===_a||_a.emit(this.tempSignature),this.hideDialog()}},{key:"handleShow",value:function handleShow(){var _a,_this=this;this.dialog=document.createElement("verdocs-signature-dialog"),this.dialog.open=!0,this.dialog.fullName=(null===(_a=this.recipient)||void 0===_a?void 0:_a.full_name)||this.name,this.dialog.addEventListener("cancel",(function(){return _this.hideDialog()})),this.dialog.addEventListener("adopt",(function(e){return _this.handleAdopt(e)})),document.body.append(this.dialog)}},{key:"render",value:function render(){var _a,_b,_c,_this2=this,settings=Object(_utils_99a3c1f0_js__WEBPACK_IMPORTED_MODULE_27__.e)(this.field),value=this.tempSignature||settings.base64,disabled=null!==(_b=null!==(_a=this.disabled)&&void 0!==_a?_a:settings.disabled)&&void 0!==_b&&_b,backgroundColor=this.field.rgba||Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_28__.a)(this.roleindex);return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{class:{required:null===(_c=this.field)||void 0===_c?void 0:_c.required,disabled:disabled},style:{backgroundColor:backgroundColor}},value?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("img",{src:this.tempSignature||settings.base64,alt:"Signature"}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{onClick:function onClick(){return!disabled&&_this2.handleShow()}},"Signature"),this.editable&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-button-panel",{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"><path d="m7.5 18.5-.312-2.667q-.188-.125-.396-.25-.209-.125-.396-.229l-2.479 1.063-2.521-4.334 2.125-1.625q.021-.104.021-.229v-.458q0-.125-.021-.229L1.396 7.917l2.521-4.313 2.5 1.042q.166-.104.375-.229.208-.125.396-.229L7.5 1.5h5l.312 2.688q.188.104.396.229.209.125.396.229l2.479-1.042 2.521 4.313-2.125 1.625v.916l2.125 1.625-2.521 4.334-2.5-1.063q-.166.104-.375.229-.208.125-.396.25L12.5 18.5Zm2.479-5.521q1.229 0 2.104-.875T12.958 10q0-1.229-.875-2.104t-2.104-.875q-1.208 0-2.094.875Q7 8.771 7 10t.885 2.104q.886.875 2.094.875Zm0-1.75q-.5 0-.864-.364Q8.75 10.5 8.75 10t.365-.865q.364-.364.864-.364t.865.364q.364.365.364.865t-.364.865q-.365.364-.865.364ZM10.021 10Zm-.792 6.521h1.542l.25-2.146q.625-.167 1.198-.51.573-.344 1.031-.823l2.021.854.771-1.271-1.771-1.354q.104-.292.156-.615.052-.323.052-.656 0-.292-.052-.604-.052-.313-.135-.646l1.77-1.375-.77-1.271-2.021.875q-.479-.5-1.042-.833-.562-.334-1.187-.5l-.271-2.167H9.208l-.25 2.167q-.625.166-1.187.5-.563.333-1.042.812l-2-.854-.771 1.271 1.73 1.354q-.084.333-.136.656Q5.5 9.708 5.5 10t.052.604q.052.313.136.667l-1.73 1.354.771 1.271 2-.834q.479.459 1.042.792.562.334 1.187.5Z"/></svg>'},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("h6",null,"Field Settings"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("form",null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-select-input",{label:"Recipient",options:[{label:"Buyer",value:"Buyer"},{label:"Seller",value:"Seller"}]}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-text-input",{label:"Field Name",value:"",placeholder:"Stored field name...",onInput:function onInput(e){return console.log("ipt",e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-text-input",{label:"Placeholder",value:"",placeholder:"Placeholder text...",onInput:function onInput(e){return console.log("ipt",e)}}))))}}]),VerdocsFieldSignature}();VerdocsFieldSignature.style='verdocs-field-signature{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:83px;height:36px;display:block;font-size:11px;position:relative;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-signature.disabled{opacity:0.5}verdocs-field-signature img{display:block;max-width:100%;max-height:100%}verdocs-field-signature button{-webkit-box-sizing:border-box;box-sizing:border-box;border:none;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-signature button.hide{display:none}verdocs-field-signature.required{border:1px solid #cc0000}verdocs-field-signature.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}verdocs-field-signature verdocs-button-panel{top:-3px;left:-2px;opacity:0.5;z-index:1000;cursor:pointer;position:absolute;-webkit-transform:scale(0.6);transform:scale(0.6)}verdocs-field-signature verdocs-button-panel[data-active],verdocs-field-signature verdocs-button-panel:hover{opacity:1}verdocs-field-signature verdocs-button-panel .icon svg{fill:#333333}verdocs-field-signature verdocs-button-panel .icon:hover svg{fill:#000000}';var VerdocsSignatureDialog=function(){function VerdocsSignatureDialog(hostRef){_classCallCheck(this,VerdocsSignatureDialog),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.next=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"next",7),this.cancel=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"cancel",7),this.name="",this.fontLoaded=!1,this.enteredName="",this.mode="type"}return _createClass(VerdocsSignatureDialog,[{key:"componentWillLoad",value:function componentWillLoad(){var _this3=this;this.enteredName=this.name,new FontFace("Dancing Script","url(https://fonts.gstatic.com/s/dancingscript/v19/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6hNX6plRP.woff)").load().then((function(font){document.fonts.add(font),_this3.fontLoaded=!0}))}},{key:"componentDidLoad",value:function componentDidLoad(){this.redrawSignature()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.redrawSignature()}},{key:"redrawSignature",value:function redrawSignature(){if(this.canvasElement){var canvasWidth=this.canvasElement.width,context=this.canvasElement.getContext("2d");context.clearRect(0,0,this.canvasElement.width,this.canvasElement.height);var fontSize=100;do{fontSize-=2,context.font=fontSize+"px Dancing Script"}while(context.measureText(this.enteredName).width>canvasWidth-32);context.textAlign="center",context.textBaseline="middle",context.font=fontSize+"px Dancing Script",context.fillText(this.enteredName,this.canvasElement.width/2,this.canvasElement.height/2)}}},{key:"handleCancel",value:function handleCancel(e){e.stopPropagation(),e.preventDefault(),this.cancel.emit()}},{key:"handleNameChange",value:function handleNameChange(e){this.enteredName=e.target.value}},{key:"handleAdopt",value:function handleAdopt(e){e.stopPropagation(),e.preventDefault();var data=this.canvasElement.toDataURL("image/png");this.next.emit(data)}},{key:"render",value:function render(){var _this4=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{onClick:function onClick(e){return _this4.handleCancel(e)}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"dialog"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"heading"},"Create Your Signature"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"content"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-text-input",{placeholder:"Full Name...",label:"Full Name",value:this.enteredName,onInput:function onInput(e){return _this4.handleNameChange(e)},onClick:function onClick(e){return e.stopPropagation()}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"as-shown"},"As shown on driver's license or govt. ID card."),this.fontLoaded?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("canvas",{ref:function ref(el){return _this4.canvasElement=el}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{style:{display:"none"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"disclaimer"},"By clicking Adopt, I agree that the signature will be the electronic representation of my signature for all purposes when I (or my agent) use them on documents, including legally binding contracts — just the same as a pen-and-paper signature or initial."),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"buttons"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-button",{label:"CANCEL",size:"normal",variant:"outline",onClick:function onClick(e){return _this4.handleCancel(e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-button",{label:"Adopt & Sign",size:"normal",onClick:function onClick(e){return _this4.handleAdopt(e)}})))))}}]),VerdocsSignatureDialog}();VerdocsSignatureDialog.style='verdocs-signature-dialog{font-family:"Barlow", sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:10000;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:#0000007f}verdocs-signature-dialog .dialog{width:100%;max-width:340px;border-radius:4px;overflow:hidden;-webkit-box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4);box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4);background:#f5f5fa}verdocs-signature-dialog .heading{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:20px 20px 0 20px;line-height:28px;font-size:20px;font-weight:500}verdocs-signature-dialog .content{font-size:14px;padding:20px}verdocs-signature-dialog .buttons{display:-ms-flexbox;display:flex;margin:20px 0 0 0;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center}verdocs-signature-dialog .buttons verdocs-button{margin-left:16px}verdocs-signature-dialog canvas{background:#ffffff;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;width:300px;height:79px;max-width:100%;-webkit-box-shadow:0 0 6px 0 #0000001f;box-shadow:0 0 6px 0 #0000001f}verdocs-signature-dialog .disclaimer{text-align:justify;padding:8px 0;font-size:11px;line-height:14px;color:rgba(0, 0, 0, 0.54)}verdocs-signature-dialog .as-shown{font-size:11px;margin:4px 0 20px 4px;color:rgba(0, 0, 0, 0.54)}verdocs-signature-dialog .tabs{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}verdocs-signature-dialog .tabs .tab{padding:8px 15px;cursor:pointer}verdocs-signature-dialog .tabs .tab.active{border-bottom:2px solid #cccccc}verdocs-signature-dialog .tabs .tab:hover{color:#55bc81}';var VerdocsToolbarIcon=function(){function VerdocsToolbarIcon(hostRef){_classCallCheck(this,VerdocsToolbarIcon),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.text="",this.icon="",this.containerId="verdocs-toolbar-icon-"+Math.random().toString(36).substring(2,11)}return _createClass(VerdocsToolbarIcon,[{key:"componentDidLoad",value:function componentDidLoad(){this.popperInstance=Object(_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_29__.a)(this.iconEl,this.tooltip,{})}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}},{key:"show",value:function show(){var _a,_b;null===(_a=this.tooltip)||void 0===_a||_a.setAttribute("data-show",""),null===(_b=this.popperInstance)||void 0===_b||_b.update().catch((function(){}))}},{key:"hide",value:function hide(){var _a;null===(_a=this.tooltip)||void 0===_a||_a.removeAttribute("data-show")}},{key:"render",value:function render(){var _this5=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{class:{}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{"aria-describedby":this.containerId,class:"icon",innerHTML:this.icon,onMouseEnter:function onMouseEnter(){return _this5.show()},onFocus:function onFocus(){return _this5.show()},onMouseLeave:function onMouseLeave(){return _this5.hide()},onBlur:function onBlur(){return _this5.hide()},ref:function ref(el){return _this5.iconEl=el}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{id:this.containerId,role:"tooltip",class:"tooltip","data-popper-placement":"bottom",ref:function ref(el){return _this5.tooltip=el}},this.text,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{"data-popper-arrow":"true",class:"arrow"})))}}]),VerdocsToolbarIcon}();VerdocsToolbarIcon.style='verdocs-toolbar-icon{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:inline-block}verdocs-toolbar-icon .icon{display:inline-block;cursor:pointer}verdocs-toolbar-icon .icon svg{fill:#5c6575}verdocs-toolbar-icon .tooltip{display:none;-webkit-box-shadow:0 0 10px 1px #999999;box-shadow:0 0 10px 1px #999999;background:#ffffff;color:#33364b;max-width:240px;font-weight:bold;padding:5px 10px;font-size:13px;position:relative;border-radius:4px;z-index:10000}verdocs-toolbar-icon .tooltip .arrow,verdocs-toolbar-icon .tooltip .arrow::before{position:absolute;width:8px;height:8px;background:inherit}verdocs-toolbar-icon .tooltip .arrow{visibility:hidden;top:-4px}verdocs-toolbar-icon .tooltip .arrow::before{visibility:visible;content:"";-webkit-transform:rotate(45deg);transform:rotate(45deg)}verdocs-toolbar-icon .tooltip[data-show]{display:block}verdocs-toolbar-icon .tooltip[data-popper-placement^=top]>.arrow{bottom:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=bottom]>.arrow{top:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=left]>.arrow{right:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=right]>.arrow{left:-4px}'},"./node_modules/core-js/modules/es.string.match-all.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this-clause.js"),createIteratorConstructor=__webpack_require__("./node_modules/core-js/internals/iterator-create-constructor.js"),createIterResultObject=__webpack_require__("./node_modules/core-js/internals/create-iter-result-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isNullOrUndefined=__webpack_require__("./node_modules/core-js/internals/is-null-or-undefined.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),getRegExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-get-flags.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),defineBuiltIn=__webpack_require__("./node_modules/core-js/internals/define-built-in.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),MATCH_ALL=wellKnownSymbol("matchAll"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("RegExp String Iterator"),RegExpPrototype=RegExp.prototype,$TypeError=TypeError,stringIndexOf=uncurryThis("".indexOf),nativeMatchAll=uncurryThis("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails((function(){nativeMatchAll("a",/./)})),$RegExpStringIterator=createIteratorConstructor((function RegExpStringIterator(regexp,string,$global,fullUnicode){setInternalState(this,{type:"RegExp String Iterator",regexp:regexp,string:string,global:$global,unicode:fullUnicode,done:!1})}),"RegExp String",(function next(){var state=getInternalState(this);if(state.done)return createIterResultObject(void 0,!0);var R=state.regexp,S=state.string,match=regExpExec(R,S);return null===match?(state.done=!0,createIterResultObject(void 0,!0)):state.global?(""===toString(match[0])&&(R.lastIndex=advanceStringIndex(S,toLength(R.lastIndex),state.unicode)),createIterResultObject(match,!1)):(state.done=!0,createIterResultObject(match,!1))})),$matchAll=function(string){var matcher,$global,fullUnicode,R=anObject(this),S=toString(string),C=speciesConstructor(R,RegExp),flags=toString(getRegExpFlags(R));return matcher=new C(C===RegExp?R.source:R,flags),$global=!!~stringIndexOf(flags,"g"),fullUnicode=!!~stringIndexOf(flags,"u"),matcher.lastIndex=toLength(R.lastIndex),new $RegExpStringIterator(matcher,S,$global,fullUnicode)};$({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function matchAll(regexp){var flags,S,matcher,rx,O=requireObjectCoercible(this);if(isNullOrUndefined(regexp)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp)}else{if(isRegExp(regexp)&&(flags=toString(requireObjectCoercible(getRegExpFlags(regexp))),!~stringIndexOf(flags,"g")))throw $TypeError("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp);if(void 0===(matcher=getMethod(regexp,MATCH_ALL))&&IS_PURE&&"RegExp"==classof(regexp)&&(matcher=$matchAll),matcher)return call(matcher,regexp,O)}return S=toString(O),rx=new RegExp(regexp,"g"),IS_PURE?call($matchAll,rx,S):rx[MATCH_ALL](S)}}),IS_PURE||MATCH_ALL in RegExpPrototype||defineBuiltIn(RegExpPrototype,MATCH_ALL,$matchAll)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVXRpbHMvRmllbGRzLmpzIiwid2VicGFjazovLy9zcmMvdXRpbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlLnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZGlhbG9ncy92ZXJkb2NzLXNpZ25hdHVyZS1kaWFsb2cvdmVyZG9jcy1zaWduYXR1cmUtZGlhbG9nLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2RpYWxvZ3MvdmVyZG9jcy1zaWduYXR1cmUtZGlhbG9nL3ZlcmRvY3Mtc2lnbmF0dXJlLWRpYWxvZy50c3giLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2NvbnRyb2xzL3ZlcmRvY3MtdG9vbGJhci1pY29uL3ZlcmRvY3MtdG9vbGJhci1pY29uLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2NvbnRyb2xzL3ZlcmRvY3MtdG9vbGJhci1pY29uL3ZlcmRvY3MtdG9vbGJhci1pY29uLnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC1hbGwuanMiXSwibmFtZXMiOlsiZ2V0UkdCQSIsInJvbGVJbmRleCIsInJlc2NhbGUiLCJyIiwibiIsImludGVnZXJTZXF1ZW5jZSIsInN0YXJ0IiwiY291bnQiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJfIiwiaW5kZXgiLCJmdWxsTmFtZVRvSW5pdGlhbHMiLCJuYW1lIiwic3BsaXQiLCJ3b3JkIiwiam9pbiIsInNldENvbnRyb2xTdHlsZXMiLCJlbCIsImZpZWxkIiwieFNjYWxlIiwieVNjYWxlIiwib3B0aW9uIiwic2V0dGluZ3MiLCJzZXR0aW5nIiwieCIsInkiLCJ3aWR0aCIsImRlZmF1bHRXaWR0aCIsInR5cGUiLCJoZWlnaHQiLCJkZWZhdWx0SGVpZ2h0Iiwib3B0aW9uU2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJib3R0b20iLCJ0cmFuc2Zvcm0iLCJnZXRGaWVsZElkIiwiZ2V0RmllbGRPcHRpb25JZCIsInJlbmRlckRvY3VtZW50RmllbGQiLCJkb2NQYWdlIiwiaGFuZGxlRmllbGRDaGFuZ2UiLCJkaXNhYmxlZCIsImVkaXRhYmxlIiwiZHJhZ2dhYmxlIiwiY29udHJvbHNEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbmVySWQiLCJpZCIsImV4aXN0aW5nRmllbGQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJjaGVja2JveEluZGV4IiwiY2JFbCIsImJ1dHRvbkluZGV4IiwiY29uc29sZSIsImxvZyIsImdldFJvbGVJbmRleCIsInJvbGVzIiwicm9sZSIsImluZGV4T2YiLCJnZXRGaWVsZFNldHRpbmdzIiwicmVxdWlyZWQiLCJyZXN1bHQiLCJ2YWx1ZSIsInVwZGF0ZUNzc1RyYW5zZm9ybSIsImtleSIsImNvbXBvbmVudHMiLCJtYXRjaEFsbCIsImZpbHRlciIsImNvbXBvbmVudCIsIlZlcmRvY3NGaWVsZFNpZ25hdHVyZSIsInRoaXMiLCJoYW5kbGVTaG93IiwiaGlkZURpYWxvZyIsImRpYWxvZyIsInJlbW92ZSIsImhhbmRsZUFkb3B0IiwidGVtcFNpZ25hdHVyZSIsImRldGFpbCIsImZpZWxkQ2hhbmdlIiwiZW1pdCIsIm9wZW4iLCJmdWxsTmFtZSIsInJlY2lwaWVudCIsImZ1bGxfbmFtZSIsImJvZHkiLCJhcHBlbmQiLCJyZW5kZXIiLCJiYXNlNjQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJyb2xlaW5kZXgiLCJoIiwiSG9zdCIsImNsYXNzIiwic3JjIiwiYWx0Iiwib25DbGljayIsImljb24iLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwib25JbnB1dCIsIlZlcmRvY3NTaWduYXR1cmVEaWFsb2ciLCJjb21wb25lbnRXaWxsTG9hZCIsImVudGVyZWROYW1lIiwiRm9udEZhY2UiLCJsb2FkIiwidGhlbiIsImZvbnQiLCJmb250cyIsImFkZCIsImZvbnRMb2FkZWQiLCJjb21wb25lbnREaWRMb2FkIiwicmVkcmF3U2lnbmF0dXJlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiY2FudmFzRWxlbWVudCIsImNhbnZhc1dpZHRoIiwiY29udGV4dCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJmb250U2l6ZSIsIm1lYXN1cmVUZXh0IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJoYW5kbGVDYW5jZWwiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImNhbmNlbCIsImhhbmRsZU5hbWVDaGFuZ2UiLCJ0YXJnZXQiLCJkYXRhIiwidG9EYXRhVVJMIiwibmV4dCIsInJlZiIsImRpc3BsYXkiLCJzaXplIiwidmFyaWFudCIsIlZlcmRvY3NUb29sYmFySWNvbiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInBvcHBlckluc3RhbmNlIiwiY3JlYXRlUG9wcGVyIiwiaWNvbkVsIiwidG9vbHRpcCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwiZGVzdHJveSIsInNob3ciLCJ1cGRhdGUiLCJoaWRlIiwicmVtb3ZlQXR0cmlidXRlIiwiaW5uZXJIVE1MIiwib25Nb3VzZUVudGVyIiwib25Gb2N1cyIsIm9uTW91c2VMZWF2ZSIsIm9uQmx1ciIsInRleHQiLCIkIiwiY2FsbCIsInVuY3VycnlUaGlzIiwiY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvciIsImNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QiLCJyZXF1aXJlT2JqZWN0Q29lcmNpYmxlIiwidG9MZW5ndGgiLCJhbk9iamVjdCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiY2xhc3NvZiIsImlzUmVnRXhwIiwiZ2V0UmVnRXhwRmxhZ3MiLCJnZXRNZXRob2QiLCJkZWZpbmVCdWlsdEluIiwiZmFpbHMiLCJ3ZWxsS25vd25TeW1ib2wiLCJzcGVjaWVzQ29uc3RydWN0b3IiLCJhZHZhbmNlU3RyaW5nSW5kZXgiLCJyZWdFeHBFeGVjIiwiSW50ZXJuYWxTdGF0ZU1vZHVsZSIsIklTX1BVUkUiLCJNQVRDSF9BTEwiLCJzZXRJbnRlcm5hbFN0YXRlIiwic2V0IiwiZ2V0SW50ZXJuYWxTdGF0ZSIsImdldHRlckZvciIsIlJFR0VYUF9TVFJJTkciLCJSZWdFeHBQcm90b3R5cGUiLCJSZWdFeHAiLCJwcm90b3R5cGUiLCIkVHlwZUVycm9yIiwiVHlwZUVycm9yIiwic3RyaW5nSW5kZXhPZiIsIm5hdGl2ZU1hdGNoQWxsIiwiV09SS1NfV0lUSF9OT05fR0xPQkFMX1JFR0VYIiwiJFJlZ0V4cFN0cmluZ0l0ZXJhdG9yIiwiUmVnRXhwU3RyaW5nSXRlcmF0b3IiLCJyZWdleHAiLCJzdHJpbmciLCIkZ2xvYmFsIiwiZnVsbFVuaWNvZGUiLCJnbG9iYWwiLCJ1bmljb2RlIiwiZG9uZSIsInN0YXRlIiwiUiIsIlMiLCJtYXRjaCIsImxhc3RJbmRleCIsIiRtYXRjaEFsbCIsIm1hdGNoZXIiLCJDIiwiZmxhZ3MiLCJzb3VyY2UiLCJwcm90byIsImZvcmNlZCIsInJ4IiwiTyJdLCJtYXBwaW5ncyI6IjtnS0E4Qk8sU0FBU0EsUUFBUUMsV0FDcEIsT0FBUUEsVUFBWSxJQUNoQixLQUFLLEVBQ0QsT0FBcUIsSUFBZEEsVUFBa0IseUJBQTJCLDJCQUN4RCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFB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QUtnRCxVQUFXTyxHQUFJVixHQUFLVSxHQUFHbkMsV0FBV3lCLEVBQzFELElBR0YxQixTQUFXQyxhQUFhTSxpQkFBbUJkLGNBQWNjLGdCQUFpQk4sVUFBVzRCLFUiLCJmaWxlIjoiMjEuNjg0MDQ3OTkuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l2ZW4gYSBgcmdiYShyLGcsYixhKWAgc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudCwgZHJvcHBpbmcgdGhlIGFscGhhIGNoYW5uZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0IocmdiYSkge1xuICAgIHZhciByZ2JOdW1iZXJzID0gcmdiYS5yZXBsYWNlKCdyZ2JhKCcsICcnKS5yZXBsYWNlKCcpJywgJycpLnNwbGl0KCcsJyk7XG4gICAgdmFyIHJnYk9iamVjdCA9IHtcbiAgICAgICAgcmVkOiArcmdiTnVtYmVyc1swXSxcbiAgICAgICAgZ3JlZW46ICtyZ2JOdW1iZXJzWzFdLFxuICAgICAgICBibHVlOiArcmdiTnVtYmVyc1syXSxcbiAgICAgICAgYWxwaGE6ICtyZ2JOdW1iZXJzWzNdLFxuICAgIH07XG4gICAgdmFyIGFscGhhID0gMSAtIHJnYk9iamVjdC5hbHBoYTtcbiAgICB2YXIgcmVkID0gTWF0aC5yb3VuZCgocmdiT2JqZWN0LmFscGhhICogKHJnYk9iamVjdC5yZWQgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICB2YXIgZ3JlZW4gPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmdyZWVuIC8gMjU1KSArIGFscGhhKSAqIDI1NSk7XG4gICAgdmFyIGJsdWUgPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmJsdWUgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICByZXR1cm4gJyMnICsgcmdiVG9IZXgocmVkKSArIHJnYlRvSGV4KGdyZWVuKSArIHJnYlRvSGV4KGJsdWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhbiBSR0Igc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudC5cbiAqL1xuZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XG4gICAgdmFyIGhleCA9IHJnYi50b1N0cmluZygxNik7XG4gICAgaWYgKGhleC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0JBKHJvbGVJbmRleCkge1xuICAgIHN3aXRjaCAocm9sZUluZGV4ICUgMTApIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJbmRleCA9PT0gMCA/ICdyZ2JhKDI1NSwgMTkzLCA3LCAwLjQpJyA6ICdyZ2JhKDEzNCwgMTM0LCAxMzQsIDAuMyknOyAvLyAjRkZFNjlDXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxNTYsIDM5LCAxNzYsIC40KSc7IC8vICcjRTNDM0U5J1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMzMsIDE1MCwgMjQzLCAuNCknOyAvLyAnI0MxRTFGQidcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyMCwgMjMxLCAxMTcsIDAuMyknO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTIxLCAxMzQsIDIwMywgMC4zKSc7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg3NywgMTgyLCAxNzIsIDAuMyknO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyMDIsIDE2NSwgMC4zKSc7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyLCAyNDcsIDE5MCwgMC4zKSc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDEzOCwgMTAxLCAwLjMpJztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDgyLCAyNTUsIDc5LCAwLjMpJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjksIDExNSwgMTU1LCAwLjMpJztcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGEgcm9sZSBuYW1lLCByZXR1cm4gYSBjb2xvciBjb2RlIGZvciBpdC4gVGhpcyB3b3JrcyBieSBjb21wdXRpbmcgYSBoYXNoIGNvZGUgc28gdGhlIHNwZWNpZmljIGNvbG9yIHJldHVybmVkXG4gKiBpcyBub3Qgc3BlY2lmaWVkIGV4cGxpY2l0bHksIGJ1dCB3aWxsIGJlIHRoZSBzYW1lIGZvciBldmVyeSBjYWxsIHdpdGggdGhlIHNhbWUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYW1lVG9SR0JBKHN0cikge1xuICAgIGlmICghIXN0cikge1xuICAgICAgICB2YXIgdmFsaWROdW0gPSBwYXJzZUludChzdHIuc2xpY2UoLTEpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4odmFsaWROdW0pKSB7XG4gICAgICAgICAgICBzdHIgKz0gKHZhbGlkTnVtICogOTkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc2ggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzaCA9IE1hdGgucm91bmQoaGFzaCAvIDEuMyk7XG4gICAgICAgIHZhciBjID0gKGhhc2ggJiAweDAwZmZmZjA4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgdmFyIGhleCA9ICcjJyArICcwMDAwMCcuc3Vic3RyaW5nKDAsIDYgLSBjLmxlbmd0aCkgKyBjO1xuICAgICAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgICAgIHZhciBjb2xvciA9IHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIi5jb25jYXQoY29sb3IuciwgXCIsIFwiKS5jb25jYXQoY29sb3IuZywgXCIsIFwiKS5jb25jYXQoY29sb3IuYiwgXCIsIDAuMilcIik7XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gb2J0YWluIGEgY29sb3IgY29kZSBnaXZlbiBhIHJvbGUgbmFtZSBnaXZlbiB2YXJpb3VzIHBvc3NpYmxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvbGVDb2xvcihuYW1lLCByb2xlcywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGdldFJHQkEoaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciByb2xlSW5kZXggPSByb2xlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHJvbGUpIHsgcmV0dXJuIHJvbGUubmFtZSA9PT0gbmFtZTsgfSk7XG4gICAgICAgIGlmIChyb2xlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvbGVzW3JvbGVJbmRleF0ucmdiYSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZVRvUkdCQShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hbWVUb1JHQkEobmFtZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFJUb3AoeSwgZmllbGRIZWlnaHQsIGlUZXh0SGVpZ2h0LCB5UmF0aW8pIHtcbiAgICByZXR1cm4gaVRleHRIZWlnaHQgLSAoeSArIGZpZWxkSGVpZ2h0KSAqIHlSYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSTGVmdCh4LCByYXRpbykge1xuICAgIHJldHVybiB4ICogcmF0aW87XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UlZhbHVlKHksIHJhdGlvKSB7XG4gICAgcmV0dXJuIHkgKiByYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBibG9iVG9CYXNlNjQoaW1hZ2UpIHtcbiAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ1Byb2JsZW0gcmVhZGluZyBibG9iLicpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvbHZlKGZpbGVSZWFkZXIucmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNjYWxlKHIsIG4pIHtcbiAgICByZXR1cm4gciAqIG47XG59XG4iLCIvLyBUaGVzZSBzaG91bGQgcHJvYmFibHkgYWxsIG1vdmUgdG8gSlMtU0RLXG5pbXBvcnQge3Jlc2NhbGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9VdGlscy9GaWVsZHMnO1xuLy8gaW1wb3J0IHtnZXRSR0JBfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvQ29sb3JzJztcbmltcG9ydCB7SVRlbXBsYXRlRmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge0lEb2N1bWVudFBhZ2VJbmZvfSBmcm9tICcuL1R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGludGVnZXJTZXF1ZW5jZSA9IChzdGFydDogbnVtYmVyLCBjb3VudDogbnVtYmVyKTogbnVtYmVyW10gPT5cbiAgQXJyYXkoY291bnQpXG4gICAgLmZpbGwoMSlcbiAgICAubWFwKChfLCBpbmRleCkgPT4gaW5kZXggKyBzdGFydCk7XG5cbmV4cG9ydCBjb25zdCBmdWxsTmFtZVRvSW5pdGlhbHMgPSAobmFtZTogc3RyaW5nKSA9PlxuICBuYW1lXG4gICAgLnNwbGl0KCcgJylcbiAgICAubWFwKHdvcmQgPT4gd29yZFswXSlcbiAgICAuam9pbignJyk7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0V2lkdGggPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICByZXR1cm4gODI7XG4gIH1cblxuICByZXR1cm4gMTUwO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRIZWlnaHQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICByZXR1cm4gNDE7XG4gIH1cblxuICByZXR1cm4gNTA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0Q29udHJvbFN0eWxlcyA9IChlbDogSFRNTEVsZW1lbnQsIGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkLCB4U2NhbGU6IG51bWJlciwgeVNjYWxlOiBudW1iZXIsIG9wdGlvbj86IG51bWJlcikgPT4ge1xuICBjb25zdCBzZXR0aW5ncyA9IChmaWVsZCBhcyBJVGVtcGxhdGVGaWVsZCkuc2V0dGluZyB8fCAoZmllbGQgYXMgSURvY3VtZW50RmllbGQpLnNldHRpbmdzO1xuICBsZXQge3ggPSAwLCB5ID0gMCwgd2lkdGggPSBkZWZhdWx0V2lkdGgoZmllbGQpLCBoZWlnaHQgPSBkZWZhdWx0SGVpZ2h0KGZpZWxkKX0gPSBzZXR0aW5ncztcblxuICBjb25zdCBvcHRpb25TZXR0aW5ncyA9IG9wdGlvbiAhPT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm9wdGlvbnNbb3B0aW9uXSA/IHNldHRpbmdzLm9wdGlvbnNbb3B0aW9uXSA6IG51bGw7XG4gIGlmIChvcHRpb25TZXR0aW5ncykge1xuICAgIHggPSBvcHRpb25TZXR0aW5ncy54ID8/IHg7XG4gICAgeSA9IG9wdGlvblNldHRpbmdzLnkgPz8geTtcbiAgICB3aWR0aCA9IG9wdGlvblNldHRpbmdzLndpZHRoID8/IHdpZHRoO1xuICAgIGhlaWdodCA9IG9wdGlvblNldHRpbmdzLmhlaWdodCA/PyBoZWlnaHQ7XG4gIH1cblxuICBlbC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgZWwuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICBlbC5zdHlsZS5sZWZ0ID0gYCR7cmVzY2FsZSh4U2NhbGUsIHgpfXB4YDtcbiAgZWwuc3R5bGUuYm90dG9tID0gYCR7cmVzY2FsZSh5U2NhbGUsIHkpfXB4YDtcbiAgZWwuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7eFNjYWxlfSwgJHt5U2NhbGV9KWA7XG4gIC8vIGVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZpZWxkWydyZ2JhJ10gfHwgZ2V0UkdCQShyb2xlSW5kZXgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpZWxkSWQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgcmV0dXJuIGB2ZXJkb2NzLWRvYy1mbGQtJHtmaWVsZC5uYW1lfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRPcHRpb25JZCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9LSR7aW5kZXh9YDtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJEb2N1bWVudEZpZWxkID0gKFxuICBmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCxcbiAgZG9jUGFnZTogSURvY3VtZW50UGFnZUluZm8sXG4gIHJvbGVJbmRleDogbnVtYmVyLFxuICBoYW5kbGVGaWVsZENoYW5nZTogKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkLCBlOiBhbnksIG9wdGlvbklkPzogc3RyaW5nKSA9PiB2b2lkLFxuICBkaXNhYmxlZDogYm9vbGVhbixcbiAgZWRpdGFibGU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgZHJhZ2dhYmxlOiBib29sZWFuID0gZmFsc2UsXG4pID0+IHtcbiAgY29uc3QgY29udHJvbHNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkb2NQYWdlLmNvbnRhaW5lcklkICsgJy1jb250cm9scycpO1xuICBpZiAoIWNvbnRyb2xzRGl2KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAnZGF0ZSc6XG4gICAgY2FzZSAnZHJvcGRvd24nOlxuICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgIGNhc2UgJ3BheW1lbnQnOlxuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAndGltZXN0YW1wJzpcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgY2FzZSAndGV4dGJveCc6IHtcbiAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRJZChmaWVsZCk7XG4gICAgICBjb25zdCBleGlzdGluZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhleGlzdGluZ0ZpZWxkLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC0ke2ZpZWxkLnR5cGV9YCk7XG4gICAgICBlbC5maWVsZCA9IGZpZWxkO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZWluZGV4Jywgcm9sZUluZGV4KTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZmllbGRDaGFuZ2UnLCBlID0+IGhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKSk7XG4gICAgICBzZXRDb250cm9sU3R5bGVzKGVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGVsKTtcblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICAgICgoZmllbGQgYXMgYW55KS5zZXR0aW5ncyB8fCAoZmllbGQgYXMgYW55KS5zZXR0aW5nIHx8IHt9KS5vcHRpb25zLmZvckVhY2goKF8sIGNoZWNrYm94SW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZE9wdGlvbklkKGZpZWxkLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNiRWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtY2hlY2tib3hgKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgY2hlY2tib3hJbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNiRWwuYWRkRXZlbnRMaXN0ZW5lcignZmllbGRDaGFuZ2UnLCBlID0+IGhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKSk7XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoY2JFbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGNiRWwpO1xuXG4gICAgICAgIHJldHVybiBjYkVsO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgICgoZmllbGQgYXMgYW55KS5zZXR0aW5ncyB8fCAoZmllbGQgYXMgYW55KS5zZXR0aW5nIHx8IHt9KS5vcHRpb25zLmZvckVhY2goKF8sIGJ1dHRvbkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRPcHRpb25JZChmaWVsZCwgYnV0dG9uSW5kZXgpO1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2JFbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC1yYWRpby1idXR0b25gKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgYnV0dG9uSW5kZXgpO1xuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpZWxkQ2hhbmdlJywgZSA9PiBoYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSkpO1xuICAgICAgICBzZXRDb250cm9sU3R5bGVzKGNiRWwsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQoY2JFbCk7XG5cbiAgICAgICAgcmV0dXJuIGNiRWw7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBjYXNlICdhdHRhY2htZW50JzpcbiAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1hdHRhY2htZW50Jyk7XG4gICAgLy8gICBlbC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcmVzdWx0IHx8ICcnKTtcbiAgICAvLyAgIGJyZWFrO1xuICAgIC8vIGNhc2UgJ3BheW1lbnQnOlxuICAgIC8vICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLWZpZWxkLXBheW1lbnQnKTtcbiAgICAvLyAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmxvZygnW1BSRVZJRVddIFNraXBwaW5nIHVuc3VwcG9ydGVkIGZpZWxkIHR5cGUnLCBmaWVsZCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJvbGVJbmRleCA9IChyb2xlczogc3RyaW5nW10sIHJvbGU6IHN0cmluZykgPT4gcm9sZXMuaW5kZXhPZihyb2xlKSB8fCAwO1xuXG4vLyBUT0RPOiBXZSBjYW4gY2xlYW4gdGhpcyB1cCBhIGxvdCBpZiB3ZSBhbHRlciB0aGUgQVBJIHRvIGVtaXQgYm90aCBzZXR0aW5nIGFuZCBzZXR0aW5ncyByZWdhcmRsZXNzIG9mIHRoZSBzb3VyY2UgdHlwZSxcbi8vICAgYnV0IHRoZW4gbWVyZ2UgdGhlIFNESyB0eXBlcyB0byBlbmNvdXJhZ2UgZGV2ZWxvcGVycyB0byB1c2UganVzdCBgc2V0dGluZ3NgLlxuZXhwb3J0IGNvbnN0IGdldEZpZWxkU2V0dGluZ3MgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgaWYgKChmaWVsZCBhcyBJVGVtcGxhdGVGaWVsZCkuc2V0dGluZykge1xuICAgIHJldHVybiAoZmllbGQgYXMgSVRlbXBsYXRlRmllbGQpLnNldHRpbmc7XG4gIH1cblxuICBpZiAoKGZpZWxkIGFzIElEb2N1bWVudEZpZWxkKS5zZXR0aW5ncykge1xuICAgIHJldHVybiAoZmllbGQgYXMgSURvY3VtZW50RmllbGQpLnNldHRpbmdzO1xuICB9XG5cbiAgcmV0dXJuIHt4OiAwLCB5OiAwLCByZXF1aXJlZDogZmFsc2UsIGRpc2FibGVkOiBmYWxzZSwgcmVzdWx0OiAnJywgdmFsdWU6ICcnfTtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHNhZmVseSBzZXQvdXBkYXRlIGNvbXBvbmVudHMgaW4gYSBDU1MgdHJhbnNmb3JtIGF0dHJpYnV0ZS4gVHJhbnNmb3JtIGlzIG5vcm1hbGx5IHNldCBhcyBhIHN0cmluZyBvZlxuICogYG9wZXJhdGlvbjEocGFyYW0pIG9wZXJhdGlvbjIocGFyYW0pIC4uLmAgY29tcG9uZW50cywgd2hpY2ggbWFrZXMgdXBkYXRpbmcgdGhlbSBhIGJpdCBvZiBhIHBhaW4uIFRoaXMgd2lsbCByZW1vdmUgdGhlXG4gKiBzcGVjaWZpZWQgY29tcG9uZW50IGlmIGl0J3MgYWxyZWFkeSBzZXQgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgbmV3IHZhbHVlLCB3aXRob3V0IHRvdWNoaW5nIHRoZSBvdGhlciBjb21wb25lbnRzIHRoYXRcbiAqIG1heSBhbHJlYWR5IGJlIHNldC4gTm90ZSB0aGF0IHRoaXMgb3BlcmF0aW9uIG1vdmVzIHRoZSBjb21wb25lbnQgdG8gdGhlIGVuZCBvZiB0aGUgdHJhbnNmb3JtIGNoYWluIHNvIGl0J3Mgbm90IG1lYW50XG4gKiB0byBiZSB1c2VkIGZvciBvcmRlci1zZW5zaXRpdmUgY29tcG9uZW50cyBlLmcuIHRyYW5zbGF0ZS10aGVuLXJvdGF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUNzc1RyYW5zZm9ybSA9IChlbDogSFRNTEVsZW1lbnQsIGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIC8vIGUuZy4gJ3NjYWxlKDEuODc5MDgsIDEuODc5MDgpIHRyYW5zbGF0ZSgwcHgsIDBweCk7J1xuICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gZWwuc3R5bGUudHJhbnNmb3JtO1xuICAvLyBlLmcuIFsnc2NhbGUoMS44NzkwOCwgMS44NzkwOCknLCAnc2NhbGUnLCAnMS44NzkwOCwgMS44NzkwOCcsIC4uLl0sIFsgJ3RyYW5zbGF0ZSgwcHgsIDBweCknLCAndHJhbnNsYXRlJywgJzBweCwgMHB4J11dXG4gIGNvbnN0IGNvbXBvbmVudHMgPSBbLi4uY3VycmVudFRyYW5zZm9ybS5tYXRjaEFsbCgvKFxcdyspXFwoKFteKV0qKVxcKS9naSldO1xuICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBbXG4gICAgY29tcG9uZW50cyAvL1xuICAgICAgLmZpbHRlcihjb21wb25lbnQgPT4gY29tcG9uZW50WzFdICE9PSBrZXkpIC8vIFJlbW92ZSB0aGUgZW50cnkgaWYgaXQncyBhbHJlYWR5IHNldFxuICAgICAgLm1hcChjb21wb25lbnQgPT4gY29tcG9uZW50WzBdKSwgLy8gQ29udmVydCBiYWNrIHRoZSByZW1haW5pbmcgZW50cmllc1xuICAgIGAke2tleX0oJHt2YWx1ZX0pYCxcbiAgXS5qb2luKCcgJyk7XG59O1xuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtZmllbGQtc2lnbmF0dXJlIHtcbiAgZm9udC1mYW1pbHk6ICR2ZXJkb2NzLXByaW1hcnktZm9udDtcbiAgd2lkdGg6IDgzcHg7XG4gIGhlaWdodDogMzZweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpO1xuXG4gICYuZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuXG4gIGltZyB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gIH1cblxuICBidXR0b24ge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcblxuICAgICYuaGlkZSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxuXG4gICYucmVxdWlyZWQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDQsIDAsIDApO1xuICB9XG5cbiAgJi5mb2N1c2VkIHtcbiAgICBhbmltYXRpb246IHZlcmRvY3MtZmllbGQtcHVsc2UgMC43NXMgMjtcbiAgfVxuXG4gIHZlcmRvY3MtYnV0dG9uLXBhbmVsIHtcbiAgICB0b3A6IC0zcHg7XG4gICAgbGVmdDogLTJweDtcbiAgICBvcGFjaXR5OiAwLjU7XG4gICAgei1pbmRleDogMTAwMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC42KTtcblxuICAgICZbZGF0YS1hY3RpdmVdLFxuICAgICY6aG92ZXIge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG5cbiAgICAuaWNvbiB7XG4gICAgICBzdmcge1xuICAgICAgICBmaWxsOiAjMzMzMzMzO1xuICAgICAgfVxuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgc3ZnIHtcbiAgICAgICAgICBmaWxsOiAjMDAwMDAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge0lUZW1wbGF0ZUZpZWxkfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1R5cGVzJztcbmltcG9ydCB7SURvY3VtZW50RmllbGQsIElSZWNpcGllbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvVHlwZXMnO1xuaW1wb3J0IHtDb21wb25lbnQsIGgsIEhvc3QsIFByb3AsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIE1ldGhvZCwgU3RhdGV9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IHtnZXRGaWVsZFNldHRpbmdzfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQge2dldFJHQkF9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMnO1xuXG5jb25zdCBzZXR0aW5nc0ljb24gPVxuICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgaGVpZ2h0PVwiMjBcIiB3aWR0aD1cIjIwXCI+PHBhdGggZD1cIm03LjUgMTguNS0uMzEyLTIuNjY3cS0uMTg4LS4xMjUtLjM5Ni0uMjUtLjIwOS0uMTI1LS4zOTYtLjIyOWwtMi40NzkgMS4wNjMtMi41MjEtNC4zMzQgMi4xMjUtMS42MjVxLjAyMS0uMTA0LjAyMS0uMjI5di0uNDU4cTAtLjEyNS0uMDIxLS4yMjlMMS4zOTYgNy45MTdsMi41MjEtNC4zMTMgMi41IDEuMDQycS4xNjYtLjEwNC4zNzUtLjIyOS4yMDgtLjEyNS4zOTYtLjIyOUw3LjUgMS41aDVsLjMxMiAyLjY4OHEuMTg4LjEwNC4zOTYuMjI5LjIwOS4xMjUuMzk2LjIyOWwyLjQ3OS0xLjA0MiAyLjUyMSA0LjMxMy0yLjEyNSAxLjYyNXYuOTE2bDIuMTI1IDEuNjI1LTIuNTIxIDQuMzM0LTIuNS0xLjA2M3EtLjE2Ni4xMDQtLjM3NS4yMjktLjIwOC4xMjUtLjM5Ni4yNUwxMi41IDE4LjVabTIuNDc5LTUuNTIxcTEuMjI5IDAgMi4xMDQtLjg3NVQxMi45NTggMTBxMC0xLjIyOS0uODc1LTIuMTA0dC0yLjEwNC0uODc1cS0xLjIwOCAwLTIuMDk0Ljg3NVE3IDguNzcxIDcgMTB0Ljg4NSAyLjEwNHEuODg2Ljg3NSAyLjA5NC44NzVabTAtMS43NXEtLjUgMC0uODY0LS4zNjRROC43NSAxMC41IDguNzUgMTB0LjM2NS0uODY1cS4zNjQtLjM2NC44NjQtLjM2NHQuODY1LjM2NHEuMzY0LjM2NS4zNjQuODY1dC0uMzY0Ljg2NXEtLjM2NS4zNjQtLjg2NS4zNjRaTTEwLjAyMSAxMFptLS43OTIgNi41MjFoMS41NDJsLjI1LTIuMTQ2cS42MjUtLjE2NyAxLjE5OC0uNTEuNTczLS4zNDQgMS4wMzEtLjgyM2wyLjAyMS44NTQuNzcxLTEuMjcxLTEuNzcxLTEuMzU0cS4xMDQtLjI5Mi4xNTYtLjYxNS4wNTItLjMyMy4wNTItLjY1NiAwLS4yOTItLjA1Mi0uNjA0LS4wNTItLjMxMy0uMTM1LS42NDZsMS43Ny0xLjM3NS0uNzctMS4yNzEtMi4wMjEuODc1cS0uNDc5LS41LTEuMDQyLS44MzMtLjU2Mi0uMzM0LTEuMTg3LS41bC0uMjcxLTIuMTY3SDkuMjA4bC0uMjUgMi4xNjdxLS42MjUuMTY2LTEuMTg3LjUtLjU2My4zMzMtMS4wNDIuODEybC0yLS44NTQtLjc3MSAxLjI3MSAxLjczIDEuMzU0cS0uMDg0LjMzMy0uMTM2LjY1NlE1LjUgOS43MDggNS41IDEwdC4wNTIuNjA0cS4wNTIuMzEzLjEzNi42NjdsLTEuNzMgMS4zNTQuNzcxIDEuMjcxIDItLjgzNHEuNDc5LjQ1OSAxLjA0Mi43OTIuNTYyLjMzNCAxLjE4Ny41WlwiLz48L3N2Zz4nO1xuXG4vKipcbiAqIERpc3BsYXlzIGEgc2lnbmF0dXJlIGZpZWxkLiBJZiBhIHNpZ25hdHVyZSBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBiZSBkaXNwbGF5ZWQgYW5kIHRoZSBmaWVsZCB3aWxsIGJlIGRpc2FibGVkLiBPdGhlcndpc2UsIGEgcGxhY2Vob2xkZXJcbiAqIGJ1dHRvbiB3aWxsIGJlIHNob3duLiBDbGlja2luZyB0aGUgYnV0dG9uIHdpbGwgc2hvdyBhIGRpYWxvZyB0byBhZG9wdCBhIHNpZ25hdHVyZS5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlJyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLWZpZWxkLXNpZ25hdHVyZS5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc0ZpZWxkU2lnbmF0dXJlIHtcbiAgLyoqXG4gICAqIFRoZSBkb2N1bWVudCBvciB0ZW1wbGF0ZSBmaWVsZCB0byBkaXNwbGF5LlxuICAgKi9cbiAgQFByb3AoKSBmaWVsZDogSURvY3VtZW50RmllbGQgfCBJVGVtcGxhdGVGaWVsZCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQsIHRoZSBzaWduYXR1cmUgY3JlYXRpb24gZGlhbG9nIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGlzIHRleHQuXG4gICAqL1xuICBAUHJvcCgpIG5hbWU/OiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgc2lnbmF0dXJlIGNyZWF0aW9uIGRpYWxvZyB3aWxsIGJlIGluaXRpYWxpemVkIGZyb20gdGhpcyBvYmplY3QuXG4gICAqL1xuICBAUHJvcCgpIHJlY2lwaWVudD86IElSZWNpcGllbnQ7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgb3ZlcnJpZGVzIHRoZSBmaWVsZCdzIHNldHRpbmdzIG9iamVjdC4gUHJpbWFyaWx5IHVzZWQgdG8gc3VwcG9ydCBcInByZXZpZXdcIiBtb2RlcyB3aGVyZSBhbGwgZmllbGRzIGFyZSBkaXNhYmxlZC5cbiAgICovXG4gIEBQcm9wKCkgZGlzYWJsZWQ/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgYSBzZXR0aW5ncyBpY29uIHdpbGwgYmUgZGlzcGxheWVkIG9uIGhvdmVyLiBUaGUgc2V0dGluZ3Mgc2hvd24gYWxsb3cgdGhlIGZpZWxkJ3MgcmVjaXBpZW50IGFuZCBvdGhlciBzZXR0aW5ncyB0byBiZVxuICAgKiBjaGFuZ2VkLCBzbyBpdCBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgZW5hYmxlZCBpbiB0aGUgQnVpbGRlci5cbiAgICovXG4gIEBQcm9wKCkgZWRpdGFibGU/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIG1heSBiZSBkcmFnZ2VkIHRvIGEgbmV3IGxvY2F0aW9uLiBUaGlzIHNob3VsZCBvbmx5IGJlIGVuYWJsZWQgaW4gdGhlIEJ1aWxkZXIsIG9yIGZvciBzZWxmLXBsYWNlZCBmaWVsZHMuXG4gICAqL1xuICBAUHJvcCgpIG1vdmVhYmxlPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQsIHRoZSBmaWVsZCB3aWxsIGJlIGNvbG9yZWQgdXNpbmcgdGhpcyBpbmRleCB2YWx1ZSB0byBzZWxlY3QgdGhlIGJhY2tncm91bmQgY29sb3IuXG4gICAqL1xuICBAUHJvcCgpIHJvbGVpbmRleD86IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgZmllbGQgaGFzIGNoYW5nZWQuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgZmllbGRDaGFuZ2U6IEV2ZW50RW1pdHRlcjxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCBvbiBldmVyeSBjaGFyYWN0ZXIgZW50ZXJlZCBpbnRvIC8gZGVsZXRlZCBmcm9tIHRoZSBmaWVsZC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBzZXR0aW5nc1ByZXNzOiBFdmVudEVtaXR0ZXI7XG5cbiAgQE1ldGhvZCgpIGFzeW5jIGZvY3VzRmllbGQoKSB7XG4gICAgdGhpcy5oYW5kbGVTaG93KCk7XG4gICAgY29uc29sZS5sb2coJ2ZvY3VzZWQnLCB0aGlzKTtcbiAgfVxuXG4gIEBTdGF0ZSgpXG4gIHRlbXBTaWduYXR1cmU6IHN0cmluZyA9ICcnO1xuXG4gIHByaXZhdGUgZGlhbG9nPzogYW55O1xuXG4gIGhpZGVEaWFsb2coKSB7XG4gICAgdGhpcy5kaWFsb2c/LnJlbW92ZSgpO1xuICAgIHRoaXMuZGlhbG9nID0gbnVsbDtcbiAgfVxuXG4gIGhhbmRsZUFkb3B0KGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCdbU0lHTkFUVVJFXSBBZG9wdGVkIHNpZ25hdHVyZScpO1xuICAgIHRoaXMudGVtcFNpZ25hdHVyZSA9IGUuZGV0YWlsO1xuICAgIHRoaXMuZmllbGRDaGFuZ2U/LmVtaXQodGhpcy50ZW1wU2lnbmF0dXJlKTtcbiAgICB0aGlzLmhpZGVEaWFsb2coKTtcbiAgfVxuXG4gIGhhbmRsZVNob3coKSB7XG4gICAgdGhpcy5kaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLXNpZ25hdHVyZS1kaWFsb2cnKTtcbiAgICB0aGlzLmRpYWxvZy5vcGVuID0gdHJ1ZTtcbiAgICB0aGlzLmRpYWxvZy5mdWxsTmFtZSA9IHRoaXMucmVjaXBpZW50Py5mdWxsX25hbWUgfHwgdGhpcy5uYW1lO1xuICAgIHRoaXMuZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbmNlbCcsICgpID0+IHRoaXMuaGlkZURpYWxvZygpKTtcbiAgICB0aGlzLmRpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdhZG9wdCcsIGUgPT4gdGhpcy5oYW5kbGVBZG9wdChlKSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5kaWFsb2cpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0RmllbGRTZXR0aW5ncyh0aGlzLmZpZWxkKTtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMudGVtcFNpZ25hdHVyZSB8fCBzZXR0aW5ncy5iYXNlNjQ7XG4gICAgY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkID8/IHNldHRpbmdzLmRpc2FibGVkID8/IGZhbHNlO1xuICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHRoaXMuZmllbGRbJ3JnYmEnXSB8fCBnZXRSR0JBKHRoaXMucm9sZWluZGV4KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8SG9zdCBjbGFzcz17e3JlcXVpcmVkOiB0aGlzLmZpZWxkPy5yZXF1aXJlZCwgZGlzYWJsZWR9fSBzdHlsZT17e2JhY2tncm91bmRDb2xvcn19PlxuICAgICAgICB7dmFsdWUgPyA8aW1nIHNyYz17dGhpcy50ZW1wU2lnbmF0dXJlIHx8IHNldHRpbmdzLmJhc2U2NH0gYWx0PVwiU2lnbmF0dXJlXCIgLz4gOiA8YnV0dG9uIG9uQ2xpY2s9eygpID0+ICFkaXNhYmxlZCAmJiB0aGlzLmhhbmRsZVNob3coKX0+U2lnbmF0dXJlPC9idXR0b24+fVxuXG4gICAgICAgIHt0aGlzLmVkaXRhYmxlICYmIChcbiAgICAgICAgICA8dmVyZG9jcy1idXR0b24tcGFuZWwgaWNvbj17c2V0dGluZ3NJY29ufT5cbiAgICAgICAgICAgIDxoNj5GaWVsZCBTZXR0aW5nczwvaDY+XG4gICAgICAgICAgICA8Zm9ybT5cbiAgICAgICAgICAgICAgPHZlcmRvY3Mtc2VsZWN0LWlucHV0XG4gICAgICAgICAgICAgICAgbGFiZWw9XCJSZWNpcGllbnRcIlxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e1tcbiAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0J1eWVyJywgdmFsdWU6ICdCdXllcid9LFxuICAgICAgICAgICAgICAgICAge2xhYmVsOiAnU2VsbGVyJywgdmFsdWU6ICdTZWxsZXInfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDx2ZXJkb2NzLXRleHQtaW5wdXQgbGFiZWw9XCJGaWVsZCBOYW1lXCIgdmFsdWU9XCJcIiBwbGFjZWhvbGRlcj1cIlN0b3JlZCBmaWVsZCBuYW1lLi4uXCIgb25JbnB1dD17ZSA9PiBjb25zb2xlLmxvZygnaXB0JywgZSl9IC8+XG4gICAgICAgICAgICAgIDx2ZXJkb2NzLXRleHQtaW5wdXQgbGFiZWw9XCJQbGFjZWhvbGRlclwiIHZhbHVlPVwiXCIgcGxhY2Vob2xkZXI9XCJQbGFjZWhvbGRlciB0ZXh0Li4uXCIgb25JbnB1dD17ZSA9PiBjb25zb2xlLmxvZygnaXB0JywgZSl9IC8+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPC92ZXJkb2NzLWJ1dHRvbi1wYW5lbD5cbiAgICAgICAgKX1cbiAgICAgIDwvSG9zdD5cbiAgICApO1xuICB9XG59XG4iLCJAaW1wb3J0ICcuLi8uLi8uLi90aGVtZS5zY3NzJztcblxudmVyZG9jcy1zaWduYXR1cmUtZGlhbG9nIHtcbiAgZm9udC1mYW1pbHk6ICRwcmltYXJ5LWZvbnQ7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMTAwMDA7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6ICMwMDAwMDA3ZjtcblxuICAuZGlhbG9nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDM0MHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJveC1zaGFkb3c6IDNweCAzcHggNXB4IDFweCByZ2JhKDQwLCA0MCwgNDAsIDAuNCk7XG4gICAgYmFja2dyb3VuZDogJHZlcmRvY3MtZ3JleS0zO1xuICB9XG5cbiAgLmhlYWRpbmcge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBwYWRkaW5nOiAyMHB4IDIwcHggMCAyMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG5cbiAgLmNvbnRlbnQge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICB9XG5cbiAgLmJ1dHRvbnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luOiAyMHB4IDAgMCAwO1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgdmVyZG9jcy1idXR0b24ge1xuICAgICAgbWFyZ2luLWxlZnQ6IDE2cHg7XG4gICAgfVxuICB9XG5cbiAgY2FudmFzIHtcbiAgICBiYWNrZ3JvdW5kOiAkdmVyZG9jcy1ncmV5LTQ7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogMzAwcHg7XG4gICAgLy8gVE9ETzogVGhlIG9yaWdpbmFsIGFwcCBoYWQgYW4gYXNwZWN0IHJhdGlvIG9mICg4MCAvIDMwNSkgKiAoc2lnbmF0dXJlQm9keVdpZHRoIC0gMjApXG4gICAgaGVpZ2h0OiA3OXB4O1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBib3gtc2hhZG93OiAwIDAgNnB4IDAgIzAwMDAwMDFmO1xuICB9XG5cbiAgLmRpc2NsYWltZXIge1xuICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICAgcGFkZGluZzogOHB4IDA7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNTQpO1xuICB9XG5cbiAgLmFzLXNob3duIHtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgbWFyZ2luOiA0cHggMCAyMHB4IDRweDtcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjU0KTtcbiAgfVxuXG4gIC50YWJzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG5cbiAgICAudGFiIHtcbiAgICAgIHBhZGRpbmc6IDhweCAxNXB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgICAmLmFjdGl2ZSB7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAkbGlnaHQtYm9yZGVyLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LWNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIFByb3AsIGgsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIFN0YXRlLCBIb3N0fSBmcm9tICdAc3RlbmNpbC9jb3JlJztcblxuLyoqXG4gKiBEaXNwbGF5IGEgZGlhbG9nIHRoYXQgYWxsb3dzIHRoZSB1c2VyIHRvIHNwZWNpZnkgYSBzaWduYXR1cmUgaW1hZ2UsIGVpdGhlciBieSB1c2luZyBhIHNpZ25hdHVyZS1mb250LWdlbmVyYXRlZCBpbWFnZVxuICogYmFzZWQgb24gdGhlaXIgZnVsbCBuYW1lLCBvciBieSBoYW5kLWRyYXdpbmcgdGhlaXIgc2lnbmF0dXJlIHdpdGggYSBtb3VzZSBvciB0YWJsZXQuXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLXNpZ25hdHVyZS1kaWFsb2cnLFxuICBzdHlsZVVybDogJ3ZlcmRvY3Mtc2lnbmF0dXJlLWRpYWxvZy5zY3NzJyxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc1NpZ25hdHVyZURpYWxvZyB7XG4gIHByaXZhdGUgY2FudmFzRWxlbWVudD86IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsIHNpZ25hdHVyZSB0ZXh0XG4gICAqL1xuICBAUHJvcCgpIG5hbWU6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGNvbXBsZXRlcyB0aGUgZGlhbG9nIGFuZCBjbGlja3MgQWRvcHQuIFRoZSBldmVudCBkZXRhaWwgd2lsbCBjb250YWluIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gICAqIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzaWduYXR1cmUgYWRvcHRlZC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBuZXh0OiBFdmVudEVtaXR0ZXI8c3RyaW5nPjtcblxuICAvKipcbiAgICogRmlyZWQgaWYgdGhlIHVzZXIgY2FuY2VscyB0aGUgZGlhbG9nLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIGNhbmNlbDogRXZlbnRFbWl0dGVyO1xuXG4gIEBTdGF0ZSgpIGZvbnRMb2FkZWQgPSBmYWxzZTtcblxuICBAU3RhdGUoKSBlbnRlcmVkTmFtZTogc3RyaW5nID0gJyc7XG5cbiAgQFN0YXRlKCkgbW9kZTogc3RyaW5nID0gJ3R5cGUnO1xuXG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIHRoaXMuZW50ZXJlZE5hbWUgPSB0aGlzLm5hbWU7XG5cbiAgICBjb25zdCBkcyA9IG5ldyBGb250RmFjZSgnRGFuY2luZyBTY3JpcHQnLCAndXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9kYW5jaW5nc2NyaXB0L3YxOS9JZjJjWFRyNllTLXpGNFMta2NTV1NWaV9zeGpzb2hEOUY1MFJ1dTdCTVNvM1N1cDZoTlg2cGxSUC53b2ZmKScpO1xuICAgIGRzLmxvYWQoKS50aGVuKGZvbnQgPT4ge1xuICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGZvbnQpO1xuICAgICAgdGhpcy5mb250TG9hZGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5yZWRyYXdTaWduYXR1cmUoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLnJlZHJhd1NpZ25hdHVyZSgpO1xuICB9XG5cbiAgcmVkcmF3U2lnbmF0dXJlKCkge1xuICAgIGlmICghdGhpcy5jYW52YXNFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGg7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXNFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoLCB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0KTtcblxuICAgIGxldCBmb250U2l6ZSA9IDEwMDtcbiAgICBkbyB7XG4gICAgICBmb250U2l6ZSAtPSAyO1xuICAgICAgY29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggRGFuY2luZyBTY3JpcHRgO1xuICAgIH0gd2hpbGUgKGNvbnRleHQubWVhc3VyZVRleHQodGhpcy5lbnRlcmVkTmFtZSkud2lkdGggPiBjYW52YXNXaWR0aCAtIDMyKTsgLy8gMzJweCBwYWRkaW5nIGVhY2ggc2lkZVxuXG4gICAgY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIGNvbnRleHQuZm9udCA9IGAke2ZvbnRTaXplfXB4IERhbmNpbmcgU2NyaXB0YDtcbiAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuZW50ZXJlZE5hbWUsIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCAvIDIsIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgLyAyKTtcbiAgfVxuXG4gIGhhbmRsZUNhbmNlbChlOiBhbnkpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmNhbmNlbC5lbWl0KCk7XG4gIH1cblxuICBoYW5kbGVOYW1lQ2hhbmdlKGU6IGFueSkge1xuICAgIHRoaXMuZW50ZXJlZE5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgfVxuXG4gIGhhbmRsZUFkb3B0KGU6IGFueSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNhbnZhc0VsZW1lbnQudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICB0aGlzLm5leHQuZW1pdChkYXRhKTtcbiAgfVxuXG4gIC8qXG4gIHNlbENvbG9yKGhleDogc3RyaW5nKSB7XG4gICAgdGhpcy5jb2xvciA9IGhleDtcbiAgICB0aGlzLmFuaW1hdGVEcmF3KCk7XG4gIH1cblxuICBzdG9wRHJhdygpIHtcbiAgICB0aGlzLnBhaW50ID0gZmFsc2U7XG4gICAgdGhpcy5hZG9wdGVkQW5kU2lnbmVkID0gIXRoaXMuaGFzU2lnbmF0dXJlKCk7XG4gIH1cblxuICBkcmF3KGUpIHtcbiAgICB0aGlzLnBhaW50ID0gdHJ1ZTtcbiAgICB0aGlzLmFkZFBvaW50cyhlLCBmYWxzZSk7XG4gICAgdGhpcy5hbmltYXRlRHJhdygpO1xuICB9XG5cbiAgcmVjb3JkUG9pbnRzKGUpIHtcbiAgICBpZiAodGhpcy5wYWludCkge1xuICAgICAgdGhpcy5hZGRQb2ludHMoZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmFuaW1hdGVEcmF3KCk7XG4gICAgfVxuICB9XG5cbiAgYW5pbWF0ZURyYXcoKSB7XG4gICAgdGhpcy5jYW52YXMuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLmNhbnZhcy5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXMuY2FudmFzLm9mZnNldEhlaWdodCk7XG5cbiAgICB0aGlzLmNhbnZhcy5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3IgfHwgJyMwMDAwMDAnO1xuICAgIHRoaXMuY2FudmFzLmxpbmVKb2luID0gJ3JvdW5kJztcbiAgICB0aGlzLmNhbnZhcy5saW5lV2lkdGggPSAzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5jYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICBpZiAodGhpcy5wb2ludHNbaV0uZHJhZyAmJiBpKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLm1vdmVUbyh0aGlzLnBvaW50c1tpIC0gMV0ueCwgdGhpcy5wb2ludHNbaSAtIDFdLnkpO1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5hcmModGhpcy5wb2ludHNbaSAtIDFdLngsIHRoaXMucG9pbnRzW2kgLSAxXS55LCAyLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYW52YXMubW92ZVRvKHRoaXMucG9pbnRzW2ldLnggLSAxLCB0aGlzLnBvaW50c1tpXS55KTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuYXJjKHRoaXMucG9pbnRzW2ldLngsIHRoaXMucG9pbnRzW2ldLnksIDIsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FudmFzLmxpbmVUbyh0aGlzLnBvaW50c1tpXS54LCB0aGlzLnBvaW50c1tpXS55KTtcbiAgICAgIHRoaXMuY2FudmFzLmNsb3NlUGF0aCgpO1xuICAgICAgdGhpcy5jYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0N1cnZlKGNvbG9yOiBzdHJpbmcsIGN1cnZlOiBudW1iZXIpIHtcbiAgICB0aGlzLmNhbnZhcy5iZWdpblBhdGgoKTtcbiAgfVxuXG5cblxuICBhZGRQb2ludHMoZSwgZHJhZzogYm9vbGVhbikge1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIGxldCB4O1xuICAgICAgbGV0IHk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSBlLmNsaWVudFg7XG4gICAgICB9XG5cbiAgICAgIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeSA9IGUuY2xpZW50WTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnNpZ25hdHVyZUNhbnZhcy5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5wb2ludHMucHVzaCh7XG4gICAgICAgIHg6IHggLSByZWN0LmxlZnQsXG4gICAgICAgIHk6IHkgLSByZWN0LnRvcCxcbiAgICAgICAgZHJhZzogZHJhZ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXJQYWQoKSB7XG4gICAgdGhpcy5jYW52YXMuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLmNhbnZhcy5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXMuY2FudmFzLm9mZnNldEhlaWdodCk7XG4gICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICB0aGlzLmFkb3B0ZWRBbmRTaWduZWQgPSAhdGhpcy5oYXNTaWduYXR1cmUoKTtcbiAgfVxuXG4gICAgYXN5bmMgYWRvcHRBbmRTaWduKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmFkb3B0ZWRBbmRTaWduZWQgPSB0cnVlO1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGVGdWxsTmFtZSgpO1xuICAgICAgYXdhaXQgdGhpcy5jYXB0dXJlU2lnbmF0dXJlRnJvbUNhbnZhcygpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuc2lnbmF0dXJlTW9kZSA9PT0gJ1NpZ25hdHVyZScgPyAnU2F2aW5nIFNpZ25hdHVyZScgOiAnU2F2aW5nIEluaXRpYWwnO1xuICAgICAgdGhpcy5zbmFja2JhclNlcnZpY2Uub3BlbihtZXNzYWdlLCAnT0snLCB0aGlzLnNuYWNrYmFyU2VydmljZS5pbml0Q29uZmlnKG51bGwsICdib3R0b20nKSk7XG4gICAgICB0aGlzLmhhbmRsZU1vZGUoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuc25hY2tiYXJTZXJ2aWNlLm9wZW4oJ0ZhaWxlZCB0byBhcHBseSBzaWduYXR1cmUnLCAnT0snLCB0aGlzLnNuYWNrYmFyU2VydmljZS5pbml0Q29uZmlnKG51bGwsICdib3R0b20nKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW9kZSgpIHtcbiAgICBsZXQgY3VycmVudEZpZWxkO1xuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlICdzaWduZXJ2aWV3JzpcbiAgICAgICAgaWYgKHRoaXMuc2lnbmF0dXJlTW9kZSA9PT0gJ1NpZ25hdHVyZScpIHtcbiAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2UucG9zdFNpZ25hdHVyZUJsb2IoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5pZCAmJiByZXN1bHQudXJsKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRGaWVsZCA9IHRoaXMuc2lnbmF0dXJlU2VydmljZS5jdXJyRmllbGQ7XG4gICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS51cGRhdGVTaWduZWQoY3VycmVudEZpZWxkLmZOYW1lLCB0cnVlKTtcbiAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnRvZ2dsZVNpZyhmYWxzZSk7XG4gICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5zZXRTaWduYXR1cmVJZChyZXN1bHQuaWQpO1xuICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2UucHV0U2lnbmF0dXJlRmllbGQodGhpcy5lbnZlbG9wZUlkLCB0aGlzLmZpZWxkTmFtZSwgcmVzdWx0LmlkKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFRyYWNrZXIuY3JlYXRlRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd2ZXJkb2MnLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uOiAndmVyZG9jIHNpZ25lZCcsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogYHZlcmRvYyBpZDogJHt0aGlzLmVudmVsb3BlSWR9YFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5zZXRTaWduYXR1cmVEYXRhKHJlcy5zZXR0aW5ncy5iYXNlNjQpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnNldFNpZ25hdHVyZUlkKHJlcy5zZXR0aW5ncy5zaWduYXR1cmVfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyU2VydmljZS5kaXNtaXNzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuY2xvc2UoeyBzdGF0dXM6ICdzYXZlZCcsIHRlbXBfc2lnOiByZXMuc2V0dGluZ3MuYmFzZTY0LCBzaWdfaWQ6IHJlcy5zZXR0aW5ncy5zaWduYXR1cmVfaWQgfSk7XG4gICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhclNlcnZpY2Uub3BlbignRmFpbGVkIHRvIHNhdmUgc2lnbmF0dXJlLiBQbGVhc2UgdHJ5IGFnYWluLicsICdESVNNSVNTJywge1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkb3B0ZWRBbmRTaWduZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2UucG9zdEluaXRpYWxCbG9iKCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuaWQgJiYgcmVzdWx0LnVybCkge1xuICAgICAgICAgICAgICBjdXJyZW50RmllbGQgPSB0aGlzLnNpZ25hdHVyZVNlcnZpY2UuY3VyckZpZWxkO1xuICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2UudXBkYXRlSW5pdGlhbGVkKGN1cnJlbnRGaWVsZC5mTmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5zZXRJbml0aWFsSWQocmVzdWx0LmlkKTtcbiAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnRvZ2dsZVNpZyhmYWxzZSk7XG4gICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5wdXRJbml0aWFsRmllbGQodGhpcy5lbnZlbG9wZUlkLCB0aGlzLmZpZWxkTmFtZSwgcmVzdWx0LmlkKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5zZXRJbml0aWFsRGF0YShyZXMuc2V0dGluZ3MuYmFzZTY0KTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5zZXRJbml0aWFsSWQocmVzLnNldHRpbmdzLmluaXRpYWxfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyU2VydmljZS5kaXNtaXNzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuY2xvc2UoeyBzdGF0dXM6ICdzYXZlZCcsIHRlbXBfaW50OiByZXMuc2V0dGluZ3MuYmFzZTY0LCBpbnRfaWQ6IHJlcy5zZXR0aW5ncy5pbml0aWFsX2lkIH0pO1xuICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc25hY2tiYXJTZXJ2aWNlLm9wZW4oJ0ZhaWxlZCB0byBzYXZlIGluaXRpYWwuIFBsZWFzZSB0cnkgYWdhaW4uJywgJ0RJU01JU1MnLCB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRvcHRlZEFuZFNpZ25lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAgKi9cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxIb3N0IG9uQ2xpY2s9e2UgPT4gdGhpcy5oYW5kbGVDYW5jZWwoZSl9PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRpbmdcIj5DcmVhdGUgWW91ciBTaWduYXR1cmU8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8dmVyZG9jcy10ZXh0LWlucHV0IHBsYWNlaG9sZGVyPVwiRnVsbCBOYW1lLi4uXCIgbGFiZWw9XCJGdWxsIE5hbWVcIiB2YWx1ZT17dGhpcy5lbnRlcmVkTmFtZX0gb25JbnB1dD17ZSA9PiB0aGlzLmhhbmRsZU5hbWVDaGFuZ2UoZSl9IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhcy1zaG93blwiPkFzIHNob3duIG9uIGRyaXZlcidzIGxpY2Vuc2Ugb3IgZ292dC4gSUQgY2FyZC48L2Rpdj5cblxuICAgICAgICAgICAgey8qPGRpdiBjbGFzcz1cInRhYnNcIj4qL31cbiAgICAgICAgICAgIHsvKiAgPGRpdiBjbGFzcz17e3RhYjogdHJ1ZSwgYWN0aXZlOiB0aGlzLm1vZGUgPT09ICd0eXBlJ319IG9uQ2xpY2s9eygpID0+ICh0aGlzLm1vZGUgPSAndHlwZScpfT4qL31cbiAgICAgICAgICAgIHsvKiAgICBUeXBlKi99XG4gICAgICAgICAgICB7LyogIDwvZGl2PiovfVxuICAgICAgICAgICAgey8qPGRpdiBjbGFzcz17e3RhYjogdHJ1ZSwgYWN0aXZlOiB0aGlzLm1vZGUgPT09ICdkcmF3J319IG9uQ2xpY2s9eygpID0+ICh0aGlzLm1vZGUgPSAnZHJhdycpfT4qL31cbiAgICAgICAgICAgIHsvKiAgRHJhdyovfVxuICAgICAgICAgICAgey8qPC9kaXY+Ki99XG4gICAgICAgICAgICB7Lyo8L2Rpdj4qL31cblxuICAgICAgICAgICAge3RoaXMuZm9udExvYWRlZCA/IDxjYW52YXMgcmVmPXtlbCA9PiAodGhpcy5jYW52YXNFbGVtZW50ID0gZWwgYXMgSFRNTENhbnZhc0VsZW1lbnQpfSAvPiA6IDxkaXYgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPn1cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc2NsYWltZXJcIj5cbiAgICAgICAgICAgICAgQnkgY2xpY2tpbmcgQWRvcHQsIEkgYWdyZWUgdGhhdCB0aGUgc2lnbmF0dXJlIHdpbGwgYmUgdGhlIGVsZWN0cm9uaWMgcmVwcmVzZW50YXRpb24gb2YgbXkgc2lnbmF0dXJlIGZvciBhbGwgcHVycG9zZXMgd2hlbiBJIChvciBteSBhZ2VudCkgdXNlIHRoZW0gb24gZG9jdW1lbnRzLFxuICAgICAgICAgICAgICBpbmNsdWRpbmcgbGVnYWxseSBiaW5kaW5nIGNvbnRyYWN0cyAmbWRhc2g7IGp1c3QgdGhlIHNhbWUgYXMgYSBwZW4tYW5kLXBhcGVyIHNpZ25hdHVyZSBvciBpbml0aWFsLlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b25zXCI+XG4gICAgICAgICAgICAgIDx2ZXJkb2NzLWJ1dHRvbiBsYWJlbD1cIkNBTkNFTFwiIHNpemU9XCJub3JtYWxcIiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2UgPT4gdGhpcy5oYW5kbGVDYW5jZWwoZSl9IC8+XG4gICAgICAgICAgICAgIDx2ZXJkb2NzLWJ1dHRvbiBsYWJlbD1cIkFkb3B0ICYgU2lnblwiIHNpemU9XCJub3JtYWxcIiBvbkNsaWNrPXtlID0+IHRoaXMuaGFuZGxlQWRvcHQoZSl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtdG9vbGJhci1pY29uIHtcbiAgZm9udC1mYW1pbHk6ICR2ZXJkb2NzLXByaW1hcnktZm9udDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuXG4gIC5pY29uIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgc3ZnIHtcbiAgICAgIGZpbGw6ICRjaG9pY2UtYXZhaWxhYmxlLWNvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC50b29sdGlwIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IDFweCAjOTk5OTk5O1xuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgY29sb3I6ICRsYWJlbC1jb2xvcjtcbiAgICBtYXgtd2lkdGg6IDI0MHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIHotaW5kZXg6IDEwMDAwO1xuXG4gICAgLmFycm93LFxuICAgIC5hcnJvdzo6YmVmb3JlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiA4cHg7XG4gICAgICBoZWlnaHQ6IDhweDtcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XG4gICAgfVxuXG4gICAgLmFycm93IHtcbiAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIHRvcDogLTRweDtcbiAgICB9XG5cbiAgICAuYXJyb3c6OmJlZm9yZSB7XG4gICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgY29udGVudDogJyc7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG4gICAgfVxuXG4gICAgJltkYXRhLXNob3ddIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cblxuICAgICZbZGF0YS1wb3BwZXItcGxhY2VtZW50Xj0ndG9wJ10gPiAuYXJyb3cge1xuICAgICAgYm90dG9tOiAtNHB4O1xuICAgIH1cblxuICAgICZbZGF0YS1wb3BwZXItcGxhY2VtZW50Xj0nYm90dG9tJ10gPiAuYXJyb3cge1xuICAgICAgdG9wOiAtNHB4O1xuICAgIH1cblxuICAgICZbZGF0YS1wb3BwZXItcGxhY2VtZW50Xj0nbGVmdCddID4gLmFycm93IHtcbiAgICAgIHJpZ2h0OiAtNHB4O1xuICAgIH1cblxuICAgICZbZGF0YS1wb3BwZXItcGxhY2VtZW50Xj0ncmlnaHQnXSA+IC5hcnJvdyB7XG4gICAgICBsZWZ0OiAtNHB4O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtjcmVhdGVQb3BwZXIsIEluc3RhbmNlfSBmcm9tICdAcG9wcGVyanMvY29yZSc7XG5pbXBvcnQge0NvbXBvbmVudCwgaCwgSG9zdCwgUHJvcCwgU3RhdGV9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuLy8gaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIGgsIEhvc3QsIFByb3AsIFN0YXRlfSBmcm9tICdAc3RlbmNpbC9jb3JlJztcblxuLyoqXG4gKiBEaXNwbGF5cyBhIHNpbXBsZSBoZWxwIGljb24uIFVwb24gaG92ZXIgb3IgZm9jdXMsIGEgdG9vbHRpcCB3aWxsIGJlIGRpc3BsYXllZCB3aXRoIGhlbHAgdGV4dC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3MtdG9vbGJhci1pY29uJyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXRvb2xiYXItaWNvbi5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc1Rvb2xiYXJJY29uIHtcbiAgaWNvbkVsOiBIVE1MRGl2RWxlbWVudDtcbiAgdG9vbHRpcDogSFRNTERpdkVsZW1lbnQ7XG4gIHBvcHBlckluc3RhbmNlOiBJbnN0YW5jZTtcblxuICAvKipcbiAgICogSGVscCB0ZXh0IHRvIGRpc3BsYXkgb24gaG92ZXIvZm9jdXNcbiAgICovXG4gIEBQcm9wKCkgdGV4dDogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFNWRyBpY29uIHRvIGRpc3BsYXlcbiAgICovXG4gIEBQcm9wKCkgaWNvbjogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBpY29uIGlzIHByZXNzZWRcbiAgICovXG4gIC8vIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBwcmVzczogRXZlbnRFbWl0dGVyO1xuXG4gIEBTdGF0ZSgpIGNvbnRhaW5lcklkID0gYHZlcmRvY3MtdG9vbGJhci1pY29uLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKX1gO1xuXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5wb3BwZXJJbnN0YW5jZSA9IGNyZWF0ZVBvcHBlcih0aGlzLmljb25FbCwgdGhpcy50b29sdGlwLCB7XG4gICAgICAvLyBwbGFjZW1lbnQ6ICd0b3AtZW5kJyxcbiAgICAgIC8vIG1vZGlmaWVyczogW3tuYW1lOiAnb2Zmc2V0Jywgb3B0aW9uczoge29mZnNldDogWzAsIDEwXX19XSxcbiAgICB9KTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLnBvcHBlckluc3RhbmNlKSB7XG4gICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHNob3coKSB7XG4gICAgdGhpcy50b29sdGlwPy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2hvdycsICcnKTtcbiAgICB0aGlzLnBvcHBlckluc3RhbmNlPy51cGRhdGUoKS5jYXRjaCgoKSA9PiB7fSk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMudG9vbHRpcD8ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNob3cnKTtcbiAgfVxuXG4gIC8vIGhhbmRsZVByZXNzKCkge1xuICAvLyAgIHRoaXMucHJlc3M/LmVtaXQoKTtcbiAgLy8gfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3QgY2xhc3M9e3t9fT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMuY29udGFpbmVySWR9XG4gICAgICAgICAgY2xhc3M9XCJpY29uXCJcbiAgICAgICAgICBpbm5lckhUTUw9e3RoaXMuaWNvbn1cbiAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHRoaXMuc2hvdygpfVxuICAgICAgICAgIG9uRm9jdXM9eygpID0+IHRoaXMuc2hvdygpfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4gdGhpcy5oaWRlKCl9XG4gICAgICAgICAgb25CbHVyPXsoKSA9PiB0aGlzLmhpZGUoKX1cbiAgICAgICAgICByZWY9e2VsID0+ICh0aGlzLmljb25FbCA9IGVsIGFzIEhUTUxEaXZFbGVtZW50KX1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBpZD17dGhpcy5jb250YWluZXJJZH0gcm9sZT1cInRvb2x0aXBcIiBjbGFzcz1cInRvb2x0aXBcIiBkYXRhLXBvcHBlci1wbGFjZW1lbnQ9XCJib3R0b21cIiByZWY9e2VsID0+ICh0aGlzLnRvb2x0aXAgPSBlbCBhcyBIVE1MRGl2RWxlbWVudCl9PlxuICAgICAgICAgIHt0aGlzLnRleHR9XG4gICAgICAgICAgPGRpdiBkYXRhLXBvcHBlci1hcnJvdz1cInRydWVcIiBjbGFzcz1cImFycm93XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgZXMvbm8tc3RyaW5nLXByb3RvdHlwZS1tYXRjaGFsbCAtLSBzYWZlICovXG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMtY2xhdXNlJyk7XG52YXIgY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvci1jcmVhdGUtY29uc3RydWN0b3InKTtcbnZhciBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1pdGVyLXJlc3VsdC1vYmplY3QnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWxlbmd0aCcpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkJyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXJlZ2V4cCcpO1xudmFyIGdldFJlZ0V4cEZsYWdzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1nZXQtZmxhZ3MnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hZHZhbmNlLXN0cmluZy1pbmRleCcpO1xudmFyIHJlZ0V4cEV4ZWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMtYWJzdHJhY3QnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG5cbnZhciBNQVRDSF9BTEwgPSB3ZWxsS25vd25TeW1ib2woJ21hdGNoQWxsJyk7XG52YXIgUkVHRVhQX1NUUklORyA9ICdSZWdFeHAgU3RyaW5nJztcbnZhciBSRUdFWFBfU1RSSU5HX0lURVJBVE9SID0gUkVHRVhQX1NUUklORyArICcgSXRlcmF0b3InO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoUkVHRVhQX1NUUklOR19JVEVSQVRPUik7XG52YXIgUmVnRXhwUHJvdG90eXBlID0gUmVnRXhwLnByb3RvdHlwZTtcbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xudmFyIHN0cmluZ0luZGV4T2YgPSB1bmN1cnJ5VGhpcygnJy5pbmRleE9mKTtcbnZhciBuYXRpdmVNYXRjaEFsbCA9IHVuY3VycnlUaGlzKCcnLm1hdGNoQWxsKTtcblxudmFyIFdPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCA9ICEhbmF0aXZlTWF0Y2hBbGwgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgbmF0aXZlTWF0Y2hBbGwoJ2EnLCAvLi8pO1xufSk7XG5cbnZhciAkUmVnRXhwU3RyaW5nSXRlcmF0b3IgPSBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKGZ1bmN0aW9uIFJlZ0V4cFN0cmluZ0l0ZXJhdG9yKHJlZ2V4cCwgc3RyaW5nLCAkZ2xvYmFsLCBmdWxsVW5pY29kZSkge1xuICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICB0eXBlOiBSRUdFWFBfU1RSSU5HX0lURVJBVE9SLFxuICAgIHJlZ2V4cDogcmVnZXhwLFxuICAgIHN0cmluZzogc3RyaW5nLFxuICAgIGdsb2JhbDogJGdsb2JhbCxcbiAgICB1bmljb2RlOiBmdWxsVW5pY29kZSxcbiAgICBkb25lOiBmYWxzZVxuICB9KTtcbn0sIFJFR0VYUF9TVFJJTkcsIGZ1bmN0aW9uIG5leHQoKSB7XG4gIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gIGlmIChzdGF0ZS5kb25lKSByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdCh1bmRlZmluZWQsIHRydWUpO1xuICB2YXIgUiA9IHN0YXRlLnJlZ2V4cDtcbiAgdmFyIFMgPSBzdGF0ZS5zdHJpbmc7XG4gIHZhciBtYXRjaCA9IHJlZ0V4cEV4ZWMoUiwgUyk7XG4gIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgIHN0YXRlLmRvbmUgPSB0cnVlO1xuICAgIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIH1cbiAgaWYgKHN0YXRlLmdsb2JhbCkge1xuICAgIGlmICh0b1N0cmluZyhtYXRjaFswXSkgPT09ICcnKSBSLmxhc3RJbmRleCA9IGFkdmFuY2VTdHJpbmdJbmRleChTLCB0b0xlbmd0aChSLmxhc3RJbmRleCksIHN0YXRlLnVuaWNvZGUpO1xuICAgIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KG1hdGNoLCBmYWxzZSk7XG4gIH1cbiAgc3RhdGUuZG9uZSA9IHRydWU7XG4gIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KG1hdGNoLCBmYWxzZSk7XG59KTtcblxudmFyICRtYXRjaEFsbCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgdmFyIFIgPSBhbk9iamVjdCh0aGlzKTtcbiAgdmFyIFMgPSB0b1N0cmluZyhzdHJpbmcpO1xuICB2YXIgQyA9IHNwZWNpZXNDb25zdHJ1Y3RvcihSLCBSZWdFeHApO1xuICB2YXIgZmxhZ3MgPSB0b1N0cmluZyhnZXRSZWdFeHBGbGFncyhSKSk7XG4gIHZhciBtYXRjaGVyLCAkZ2xvYmFsLCBmdWxsVW5pY29kZTtcbiAgbWF0Y2hlciA9IG5ldyBDKEMgPT09IFJlZ0V4cCA/IFIuc291cmNlIDogUiwgZmxhZ3MpO1xuICAkZ2xvYmFsID0gISF+c3RyaW5nSW5kZXhPZihmbGFncywgJ2cnKTtcbiAgZnVsbFVuaWNvZGUgPSAhIX5zdHJpbmdJbmRleE9mKGZsYWdzLCAndScpO1xuICBtYXRjaGVyLmxhc3RJbmRleCA9IHRvTGVuZ3RoKFIubGFzdEluZGV4KTtcbiAgcmV0dXJuIG5ldyAkUmVnRXhwU3RyaW5nSXRlcmF0b3IobWF0Y2hlciwgUywgJGdsb2JhbCwgZnVsbFVuaWNvZGUpO1xufTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUubWF0Y2hBbGxgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLm1hdGNoYWxsXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogV09SS1NfV0lUSF9OT05fR0xPQkFMX1JFR0VYIH0sIHtcbiAgbWF0Y2hBbGw6IGZ1bmN0aW9uIG1hdGNoQWxsKHJlZ2V4cCkge1xuICAgIHZhciBPID0gcmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKTtcbiAgICB2YXIgZmxhZ3MsIFMsIG1hdGNoZXIsIHJ4O1xuICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQocmVnZXhwKSkge1xuICAgICAgaWYgKGlzUmVnRXhwKHJlZ2V4cCkpIHtcbiAgICAgICAgZmxhZ3MgPSB0b1N0cmluZyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGdldFJlZ0V4cEZsYWdzKHJlZ2V4cCkpKTtcbiAgICAgICAgaWYgKCF+c3RyaW5nSW5kZXhPZihmbGFncywgJ2cnKSkgdGhyb3cgJFR5cGVFcnJvcignYC5tYXRjaEFsbGAgZG9lcyBub3QgYWxsb3cgbm9uLWdsb2JhbCByZWdleGVzJyk7XG4gICAgICB9XG4gICAgICBpZiAoV09SS1NfV0lUSF9OT05fR0xPQkFMX1JFR0VYKSByZXR1cm4gbmF0aXZlTWF0Y2hBbGwoTywgcmVnZXhwKTtcbiAgICAgIG1hdGNoZXIgPSBnZXRNZXRob2QocmVnZXhwLCBNQVRDSF9BTEwpO1xuICAgICAgaWYgKG1hdGNoZXIgPT09IHVuZGVmaW5lZCAmJiBJU19QVVJFICYmIGNsYXNzb2YocmVnZXhwKSA9PSAnUmVnRXhwJykgbWF0Y2hlciA9ICRtYXRjaEFsbDtcbiAgICAgIGlmIChtYXRjaGVyKSByZXR1cm4gY2FsbChtYXRjaGVyLCByZWdleHAsIE8pO1xuICAgIH0gZWxzZSBpZiAoV09SS1NfV0lUSF9OT05fR0xPQkFMX1JFR0VYKSByZXR1cm4gbmF0aXZlTWF0Y2hBbGwoTywgcmVnZXhwKTtcbiAgICBTID0gdG9TdHJpbmcoTyk7XG4gICAgcnggPSBuZXcgUmVnRXhwKHJlZ2V4cCwgJ2cnKTtcbiAgICByZXR1cm4gSVNfUFVSRSA/IGNhbGwoJG1hdGNoQWxsLCByeCwgUykgOiByeFtNQVRDSF9BTExdKFMpO1xuICB9XG59KTtcblxuSVNfUFVSRSB8fCBNQVRDSF9BTEwgaW4gUmVnRXhwUHJvdG90eXBlIHx8IGRlZmluZUJ1aWx0SW4oUmVnRXhwUHJvdG90eXBlLCBNQVRDSF9BTEwsICRtYXRjaEFsbCk7XG4iXSwic291cmNlUm9vdCI6IiJ9