/*! For license information please see 23.69765105.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"./dist/esm/Envelopes-6864c3c2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getEnvelopeById})),__webpack_require__.d(__webpack_exports__,"b",(function(){return state}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _utils_d1552f96_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./dist/esm/utils-d1552f96.js"),_index_fd7b8a34_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./dist/esm/index-fd7b8a34.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var _createStore=Object(_index_fd7b8a34_js__WEBPACK_IMPORTED_MODULE_23__.a)({envelope:null,loadProgress:0,loading:!0,error:"",roleNames:[],dirty:!1}),state=_createStore.state;(0,_createStore.onChange)("envelope",function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(newEnvelope){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(newEnvelope){_context.next=8;break}return console.log("[ENVELOPESTORE] Clearing envelope"),state.roleNames=[],state.dirty=!1,state.loading=!1,state.error="",state.loadProgress=0,_context.abrupt("return");case 8:console.log("[ENVELOPESTORE] Loaded envelope",newEnvelope),state.roleNames=newEnvelope.recipients.map((function(recipient){return recipient.role_name})),console.log("[ENVELOPESTORE] Loaded roles",state.roleNames);case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}());var getEnvelopeById=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(endpoint,envelopeId){var _a,_b,envelope;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(state.envelope=null,envelopeId){_context2.next=4;break}return console.log("[ENVELOPES] Missing required envelope ID"),_context2.abrupt("return");case 4:if((null===(_a=state.envelope)||void 0===_a?void 0:_a.id)!==envelopeId){_context2.next=6;break}return _context2.abrupt("return");case 6:return state.error="",state.loading=!0,_context2.prev=8,console.log("[ENVELOPES] Loading envelope "+envelopeId),_context2.next=12,Object(_utils_d1552f96_js__WEBPACK_IMPORTED_MODULE_22__.h)(endpoint,envelopeId,!0);case 12:if(envelope=_context2.sent){_context2.next=16;break}return console.log("[ENVELOPES] Unable to load envelope"),_context2.abrupt("return");case 16:state.envelope=envelope,state.loading=!1,_context2.next=26;break;case 20:throw _context2.prev=20,_context2.t0=_context2.catch(8),state.loading=!1,state.error=401===(null===(_b=null===_context2.t0||void 0===_context2.t0?void 0:_context2.t0.response)||void 0===_b?void 0:_b.status)?"Authentication required":_context2.t0.message,console.log("[ENVELOPES] Error loading envelope",_context2.t0),_context2.t0;case 26:case"end":return _context2.stop()}}),_callee2,null,[[8,20]])})));return function getEnvelopeById(_x2,_x3){return _ref2.apply(this,arguments)}}()},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/index-fd7b8a34.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createStore}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./dist/esm/index-f78d163d.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isConnected=function isConnected(maybeElement){return!("isConnected"in maybeElement)||maybeElement.isConnected},cleanupElements=function debounce(fn,ms){var timeoutId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout((function(){timeoutId=0,fn.apply(void 0,args)}),ms)}}((function(map){var _step,_iterator=_createForOfIteratorHelper(map.keys());try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;map.set(key,map.get(key).filter(isConnected))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),2e3),unwrap=function unwrap(val){return"function"==typeof val?val():val},removeFromArray=function removeFromArray(array,item){var index=array.indexOf(item);index>=0&&(array[index]=array[array.length-1],array.length--)},createStore=function createStore(defaultState,shouldUpdate){var map=function createObservableMap(defaultState){var shouldUpdate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(a,b){return a!==b},unwrappedState=unwrap(defaultState),states=new Map(Object.entries(null!=unwrappedState?unwrappedState:{})),handlers={dispose:[],get:[],set:[],reset:[]},reset=function reset(){var _a;states=new Map(Object.entries(null!==(_a=unwrap(defaultState))&&void 0!==_a?_a:{})),handlers.reset.forEach((function(cb){return cb()}))},dispose=function dispose(){handlers.dispose.forEach((function(cb){return cb()})),reset()},_get=function get(propName){return handlers.get.forEach((function(cb){return cb(propName)})),states.get(propName)},_set=function set(propName,value){var oldValue=states.get(propName);shouldUpdate(value,oldValue,propName)&&(states.set(propName,value),handlers.set.forEach((function(cb){return cb(propName,value,oldValue)})))},state="undefined"==typeof Proxy?{}:new Proxy(unwrappedState,{get:function get(_,propName){return _get(propName)},ownKeys:function ownKeys(_){return Array.from(states.keys())},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has:function has(_,propName){return states.has(propName)},set:function set(_,propName,value){return _set(propName,value),!0}}),on=function on(eventName,callback){return handlers[eventName].push(callback),function(){removeFromArray(handlers[eventName],callback)}},onChange=function onChange(propName,cb){var unSet=on("set",(function(key,newValue){key===propName&&cb(newValue)})),unReset=on("reset",(function(){return cb(unwrap(defaultState)[propName])}));return function(){unSet(),unReset()}},use=function use(){for(var _len2=arguments.length,subscriptions=new Array(_len2),_key2=0;_key2<_len2;_key2++)subscriptions[_key2]=arguments[_key2];var unsubs=subscriptions.reduce((function(unsubs,subscription){return subscription.set&&unsubs.push(on("set",subscription.set)),subscription.get&&unsubs.push(on("get",subscription.get)),subscription.reset&&unsubs.push(on("reset",subscription.reset)),subscription.dispose&&unsubs.push(on("dispose",subscription.dispose)),unsubs}),[]);return function(){return unsubs.forEach((function(unsub){return unsub()}))}};return{state:state,get:_get,set:_set,on:on,onChange:onChange,use:use,dispose:dispose,reset:reset,forceUpdate:function forceUpdate(key){var oldValue=states.get(key);handlers.set.forEach((function(cb){return cb(key,oldValue,oldValue)}))}}}(defaultState,shouldUpdate);return map.use(function stencilSubscription(){if("function"!=typeof _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.g)return{};var elmsToUpdate=new Map;return{dispose:function dispose(){return elmsToUpdate.clear()},get:function get(propName){var elm=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.g)();elm&&function appendToMap(map,propName,value){var items=map.get(propName);items?items.includes(value)||items.push(value):map.set(propName,[value])}(elmsToUpdate,propName,elm)},set:function set(propName){var elements=elmsToUpdate.get(propName);elements&&elmsToUpdate.set(propName,elements.filter(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.f)),cleanupElements(elmsToUpdate)},reset:function reset(){elmsToUpdate.forEach((function(elms){return elms.forEach(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.f)})),cleanupElements(elmsToUpdate)}}}()),map}},"./dist/esm/verdocs-view.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_view",(function(){return VerdocsView}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/index-f78d163d.js"),_VerdocsEndpoint_76dbf9b9_js__WEBPACK_IMPORTED_MODULE_31__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-76dbf9b9.js")),_utils_d1552f96_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./dist/esm/utils-d1552f96.js"),_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/Envelopes-6864c3c2.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/Token-54690789.js"),__webpack_require__("./dist/esm/index-fd7b8a34.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsView=function(){function VerdocsView(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsView),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.e)(this,"sdkError",7),this.endpoint=_VerdocsEndpoint_76dbf9b9_js__WEBPACK_IMPORTED_MODULE_31__.a.getDefault(),this.envelopeId=""}var _componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsView,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint.loadSession()}},{key:"componentDidLoad",value:(_componentDidLoad=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.envelopeId){_context.next=3;break}return console.error("[VIEW] Missing reuqired envelopeId"),_context.abrupt("return");case 3:return _context.prev=3,_context.next=6,Object(_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.a)(this.endpoint,this.envelopeId);case 6:_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(3),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_34__.a(_context.t0.message,null===(_b=_context.t0.response)||void 0===_b?void 0:_b.status,null===(_c=_context.t0.response)||void 0===_c?void 0:_c.data));case 11:case"end":return _context.stop()}}),_callee,this,[[3,8]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"attachFieldAttributes",value:function attachFieldAttributes(pageInfo,roleIndex,el){el.setAttribute("roleindex",roleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale)}},{key:"handlePageRendered",value:function handlePageRendered(e){var _this=this,pageInfo=e.detail;console.log("[SIGN] Page rendered",pageInfo),_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope.recipients.map((function(recipient){var fields=recipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Fields on page",fields),fields.forEach((function(field){var roleIndex=Object(_utils_d1552f96_js__WEBPACK_IMPORTED_MODULE_32__.a)(_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.roleNames,field.recipient_role),el=Object(_utils_d1552f96_js__WEBPACK_IMPORTED_MODULE_32__.k)(field,pageInfo,roleIndex,{disabled:!0,editable:!1,draggable:!1,done:!0});el&&(Array.isArray(el)?el.map((function(e){return _this.attachFieldAttributes(pageInfo,roleIndex,e)})):_this.attachFieldAttributes(pageInfo,roleIndex,el))}))}))}},{key:"render",value:function render(){var _a,_this2=this;return console.log("[VIEW] Rendering",_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.error,_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.loading,_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope),_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.loading||!_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("verdocs-loader",null)):_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.error?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",null,_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.error)):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"header"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"inner"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"toolbar"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"tools"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.a,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("img",{src:"https://verdocs.com/assets/white-logo.svg",alt:"Verdocs Logo",class:"logo"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"title"},_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope.name),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{style:{flex:"1"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></svg>',style:{width:"24px",height:"24px",fill:"#ffffff",cursor:"pointer"},onClick:function onClick(){return window.print()}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"></path></svg>',style:{width:"24px",height:"24px",fill:"#ffffff",cursor:"pointer",marginLeft:"16px",maginRight:"30px"},onClick:function onClick(){return Object(_utils_d1552f96_js__WEBPACK_IMPORTED_MODULE_32__.l)(_this2.endpoint,_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope,_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope.envelope_document_id).catch((function(){}))}})))))),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("div",{class:"document"},((null===(_a=_Envelopes_6864c3c2_js__WEBPACK_IMPORTED_MODULE_33__.b.envelope)||void 0===_a?void 0:_a.documents)||[]).map((function(envelopeDocument){var pages=_toConsumableArray((null==envelopeDocument?void 0:envelopeDocument.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.a,null,pages.map((function(page){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.h)("verdocs-document-page",{pageImageUri:page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,onPageRendered:function onPageRendered(e){return _this2.handlePageRendered(e)},layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})})))}))))}},{key:"component",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_29__.c)(this)}}]),VerdocsView}();VerdocsView.style='verdocs-view{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-view div,verdocs-view canvas{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-view .header{-ms-flex:0;flex:0;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex-align:center;align-items:center;-webkit-transition:all 0.25s;transition:all 0.25s;-ms-flex-pack:center;justify-content:center;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}verdocs-view .header .inner{width:100%;max-width:1028px}verdocs-view .toolbar{width:100%;margin:0 auto;padding:0 14px;position:relative}verdocs-view .tools{width:100%;color:#fff;height:56px;display:-ms-flexbox;display:flex;font-size:12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;background-color:#33354c}verdocs-view .tools .logo{width:77.5px;margin:-6px 0 0 5px}verdocs-view .tools .title{padding-left:16px;font-size:18px;font-weight:500;text-overflow:ellipsis;white-space:nowrap}verdocs-view .document{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}verdocs-view .document .inner{width:100%;max-width:1028px}'},"./node_modules/core-js/modules/es.array.reduce.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$reduce=__webpack_require__("./node_modules/core-js/internals/array-reduce.js").left,arrayMethodIsStrict=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js"),CHROME_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js");$({target:"Array",proto:!0,forced:!arrayMethodIsStrict("reduce")||!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83},{reduce:function reduce(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3V0aWxzL2VudmVsb3BlU3RvcmUudHMiLCJ3ZWJwYWNrOi8vL3NyYy91dGlscy9FbnZlbG9wZXMudHMiLCJ3ZWJwYWNrOi8vL3NyYy91dGlscy9lcnJvcnMudHMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9Ac3RlbmNpbC9zdG9yZS9kaXN0L2luZGV4Lm1qcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtdmlldy92ZXJkb2NzLXZpZXcuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtdmlldy92ZXJkb2NzLXZpZXcudHN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIl0sIm5hbWVzIjpbImNyZWF0ZVN0b3JlIiwiZW52ZWxvcGUiLCJsb2FkUHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZXJyb3IiLCJyb2xlTmFtZXMiLCJkaXJ0eSIsInN0YXRlIiwib25DaGFuZ2UiLCJuZXdFbnZlbG9wZSIsImNvbnNvbGUiLCJsb2ciLCJyZWNpcGllbnRzIiwibWFwIiwicmVjaXBpZW50Iiwicm9sZV9uYW1lIiwiZ2V0RW52ZWxvcGVCeUlkIiwiZW5kcG9pbnQiLCJlbnZlbG9wZUlkIiwiRW52ZWxvcGVTdG9yZSIsImlkIiwiZ2V0RW52ZWxvcGUiLCJyZXNwb25zZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJTREtFcnJvciIsInN0YXR1c0NvZGUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIkVycm9yIiwiaXNDb25uZWN0ZWQiLCJtYXliZUVsZW1lbnQiLCJjbGVhbnVwRWxlbWVudHMiLCJkZWJvdW5jZSIsImZuIiwibXMiLCJ0aW1lb3V0SWQiLCJhcmdzIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImtleXMiLCJrZXkiLCJzZXQiLCJnZXQiLCJmaWx0ZXIiLCJ1bndyYXAiLCJ2YWwiLCJyZW1vdmVGcm9tQXJyYXkiLCJhcnJheSIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJsZW5ndGgiLCJkZWZhdWx0U3RhdGUiLCJzaG91bGRVcGRhdGUiLCJjcmVhdGVPYnNlcnZhYmxlTWFwIiwiYSIsImIiLCJ1bndyYXBwZWRTdGF0ZSIsInN0YXRlcyIsIk1hcCIsImVudHJpZXMiLCJoYW5kbGVycyIsImRpc3Bvc2UiLCJyZXNldCIsIl9hIiwiZm9yRWFjaCIsImNiIiwicHJvcE5hbWUiLCJ2YWx1ZSIsIm9sZFZhbHVlIiwiUHJveHkiLCJfIiwib3duS2V5cyIsIkFycmF5IiwiZnJvbSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJoYXMiLCJvbiIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwicHVzaCIsInVuU2V0IiwibmV3VmFsdWUiLCJ1blJlc2V0IiwidXNlIiwic3Vic2NyaXB0aW9ucyIsInVuc3VicyIsInJlZHVjZSIsInN1YnNjcmlwdGlvbiIsInVuc3ViIiwiZm9yY2VVcGRhdGUiLCJzdGVuY2lsU3Vic2NyaXB0aW9uIiwiZ2V0UmVuZGVyaW5nUmVmIiwiZWxtc1RvVXBkYXRlIiwiY2xlYXIiLCJlbG0iLCJhcHBlbmRUb01hcCIsIml0ZW1zIiwiaW5jbHVkZXMiLCJlbGVtZW50cyIsImVsbXMiLCJWZXJkb2NzVmlldyIsIlZlcmRvY3NFbmRwb2ludCIsImdldERlZmF1bHQiLCJjb21wb25lbnRXaWxsTG9hZCIsInRoaXMiLCJsb2FkU2Vzc2lvbiIsInNka0Vycm9yIiwiZW1pdCIsImRhdGEiLCJhdHRhY2hGaWVsZEF0dHJpYnV0ZXMiLCJwYWdlSW5mbyIsInJvbGVJbmRleCIsImVsIiwic2V0QXR0cmlidXRlIiwieFNjYWxlIiwieVNjYWxlIiwiaGFuZGxlUGFnZVJlbmRlcmVkIiwiZSIsImRldGFpbCIsImZpZWxkcyIsImZpZWxkIiwicGFnZSIsInBhZ2VOdW1iZXIiLCJnZXRSb2xlSW5kZXgiLCJyZWNpcGllbnRfcm9sZSIsInJlbmRlckRvY3VtZW50RmllbGQiLCJkaXNhYmxlZCIsImVkaXRhYmxlIiwiZHJhZ2dhYmxlIiwiZG9uZSIsImlzQXJyYXkiLCJyZW5kZXIiLCJoIiwiSG9zdCIsImNsYXNzIiwiRnJhZ21lbnQiLCJzcmMiLCJhbHQiLCJuYW1lIiwic3R5bGUiLCJmbGV4IiwiaW5uZXJIVE1MIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxsIiwiY3Vyc29yIiwib25DbGljayIsIndpbmRvdyIsInByaW50IiwibWFyZ2luTGVmdCIsIm1hZ2luUmlnaHQiLCJzYXZlUERGIiwiZW52ZWxvcGVfZG9jdW1lbnRfaWQiLCJkb2N1bWVudHMiLCJlbnZlbG9wZURvY3VtZW50IiwicGFnZXMiLCJzb3J0Iiwic2VxdWVuY2UiLCJwYWdlSW1hZ2VVcmkiLCJkaXNwbGF5X3VyaSIsInZpcnR1YWxXaWR0aCIsInZpcnR1YWxIZWlnaHQiLCJvblBhZ2VSZW5kZXJlZCIsImxheWVycyIsInR5cGUiLCIkIiwiJHJlZHVjZSIsImxlZnQiLCJhcnJheU1ldGhvZElzU3RyaWN0IiwiQ0hST01FX1ZFUlNJT04iLCJJU19OT0RFIiwidGFyZ2V0IiwicHJvdG8iLCJmb3JjZWQiLCJjYWxsYmFja2ZuIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiO2tsYUFNMEJBLDJEQUFZLENBQ3BDQyxTQUFVLEtBQ1ZDLGFBQWMsRUFDZEMsU0FBUyxFQUNUQyxNQUFPLEdBRVBDLFVBQVcsR0FDWEMsT0FBTyxJQVBGQyxNQUFLLGFBQUxBLE9BVVBDLEVBVnNCLGFBQVJBLFVBVUwsV0FBVSxrRUFBRSxpQkFBTUMsYUFBVyxvSEFDL0JBLFlBQWEsQ0FBRixzQkFNUyxPQUx2QkMsUUFBUUMsSUFBSSxxQ0FDWkosTUFBTUYsVUFBWSxHQUNsQkUsTUFBTUQsT0FBUSxFQUNkQyxNQUFNSixTQUFVLEVBQ2hCSSxNQUFNSCxNQUFRLEdBQ2RHLE1BQU1MLGFBQWUsRUFBRSxpQ0FJekJRLFFBQVFDLElBQUksa0NBQW1DRixhQUUvQ0YsTUFBTUYsVUFB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MnFELGdIRUN2QixJQUFJQyxFQUFJLG9CQUFRLDhDQUNaQyxRQUFVLG9CQUFRLG9EQUE2QkMsS0FDL0NDLG9CQUFzQixvQkFBUSw4REFDOUJDLGVBQWlCLG9CQUFRLHlEQUN6QkMsUUFBVSxvQkFBUSxzREFTdEJMLEVBQUUsQ0FBRU0sT0FBUSxRQUFTQyxPQUFPLEVBQU1DLFFBUGRMLG9CQUFvQixZQUd0QkUsU0FBV0QsZUFBaUIsSUFBTUEsZUFBaUIsSUFJSyxDQUN4RW5GLE9BQVEsU0FBU0EsT0FBT3dGLFlBQ3RCLElBQUk5SCxPQUFTK0gsVUFBVS9ILE9BQ3ZCLE9BQU9zSCxRQUFROUQsS0FBTXNFLFdBQVk5SCxPQUFRQSxPQUFTLEVBQUkrSCxVQUFVLFFBQUtDLEVBQ3ZFLEciLCJmaWxlIjoiMjMuNjk3NjUxMDUuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE5PVEU6IERvIG5vdCBhdHRlbXB0IHRvIGNvbnZlcnQgdGhpcyB0byBhIG5hbWVkLWV4cG9ydCBtb2R1bGUuIEl0IHRyaWdnZXJzIGNvbXBpbGF0aW9uIGlzc3VlcyBpbiBSb2xsdXAgdGhhdCBJIHNwZW50IGRheXMgdHJ5aW5nIHRvXG4vLyByZXNvbHZlLiBUaGlzIG5lZWRzIHRvIGV4cG9ydCBhIHNpbmdsZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzdG9yZSdzIHN0YXRlLiBBbnkgaGVscGVyIGZ1bmN0aW9ucyBzaG91bGQgZ28gaW4gVGVtcGxhdGVzLnRzIGhlcmUuXG5cbmltcG9ydCB7Y3JlYXRlU3RvcmV9IGZyb20gJ0BzdGVuY2lsL3N0b3JlJztcbmltcG9ydCB7SUVudmVsb3BlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1R5cGVzJztcblxuY29uc3Qge3N0YXRlLCBvbkNoYW5nZX0gPSBjcmVhdGVTdG9yZSh7XG4gIGVudmVsb3BlOiBudWxsIGFzIElFbnZlbG9wZSB8IG51bGwsXG4gIGxvYWRQcm9ncmVzczogMCxcbiAgbG9hZGluZzogdHJ1ZSxcbiAgZXJyb3I6ICcnLFxuXG4gIHJvbGVOYW1lczogW10gYXMgc3RyaW5nW10sXG4gIGRpcnR5OiBmYWxzZSxcbn0pO1xuXG5vbkNoYW5nZSgnZW52ZWxvcGUnLCBhc3luYyBuZXdFbnZlbG9wZSA9PiB7XG4gIGlmICghbmV3RW52ZWxvcGUpIHtcbiAgICBjb25zb2xlLmxvZygnW0VOVkVMT1BFU1RPUkVdIENsZWFyaW5nIGVudmVsb3BlJyk7XG4gICAgc3RhdGUucm9sZU5hbWVzID0gW107XG4gICAgc3RhdGUuZGlydHkgPSBmYWxzZTtcbiAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgc3RhdGUuZXJyb3IgPSAnJztcbiAgICBzdGF0ZS5sb2FkUHJvZ3Jlc3MgPSAwO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCdbRU5WRUxPUEVTVE9SRV0gTG9hZGVkIGVudmVsb3BlJywgbmV3RW52ZWxvcGUpO1xuXG4gIHN0YXRlLnJvbGVOYW1lcyA9IG5ld0VudmVsb3BlLnJlY2lwaWVudHMubWFwKHJlY2lwaWVudCA9PiByZWNpcGllbnQucm9sZV9uYW1lKTtcbiAgbmV3RW52ZWxvcGUucmVjaXBpZW50cztcbiAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNUT1JFXSBMb2FkZWQgcm9sZXMnLCBzdGF0ZS5yb2xlTmFtZXMpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHN0YXRlO1xuIiwiaW1wb3J0IHtWZXJkb2NzRW5kcG9pbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkayc7XG5pbXBvcnQge2dldEVudmVsb3BlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL0VudmVsb3Blcyc7XG5pbXBvcnQgRW52ZWxvcGVTdG9yZSBmcm9tICcuL2VudmVsb3BlU3RvcmUnO1xuXG4vLyBBbGxvd3MgZW52ZWxvcGUgZGF0YSB0byBiZSBjYWNoZWQgZm9yIHJldXNlIGJldHdlZW4gY29tcG9uZW50cywgd2l0aG91dCBwYXJlbnQgY29tcG9uZW50cyBoYXZpbmcgdG8gcHJvcC1kcmlsbCBlbnRpcmUgZW52ZWxvcGVzIGludG9cbi8vIGNoaWxkIGVsZW1lbnRzLlxuZXhwb3J0IGNvbnN0IGdldEVudmVsb3BlQnlJZCA9IGFzeW5jIChlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50LCBlbnZlbG9wZUlkOiBzdHJpbmcpID0+IHtcbiAgRW52ZWxvcGVTdG9yZS5lbnZlbG9wZSA9IG51bGw7XG5cbiAgaWYgKCFlbnZlbG9wZUlkKSB7XG4gICAgY29uc29sZS5sb2coYFtFTlZFTE9QRVNdIE1pc3NpbmcgcmVxdWlyZWQgZW52ZWxvcGUgSURgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoRW52ZWxvcGVTdG9yZS5lbnZlbG9wZT8uaWQgPT09IGVudmVsb3BlSWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBFbnZlbG9wZVN0b3JlLmVycm9yID0gJyc7XG4gIEVudmVsb3BlU3RvcmUubG9hZGluZyA9IHRydWU7XG5cbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgW0VOVkVMT1BFU10gTG9hZGluZyBlbnZlbG9wZSAke2VudmVsb3BlSWR9YCk7XG4gICAgY29uc3QgZW52ZWxvcGUgPSBhd2FpdCBnZXRFbnZlbG9wZShlbmRwb2ludCwgZW52ZWxvcGVJZCwgdHJ1ZSk7XG4gICAgaWYgKCFlbnZlbG9wZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNdIFVuYWJsZSB0byBsb2FkIGVudmVsb3BlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRW52ZWxvcGVTdG9yZS5lbnZlbG9wZSA9IGVudmVsb3BlO1xuICAgIEVudmVsb3BlU3RvcmUubG9hZGluZyA9IGZhbHNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgRW52ZWxvcGVTdG9yZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgRW52ZWxvcGVTdG9yZS5lcnJvciA9IGU/LnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSA/ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgOiBlLm1lc3NhZ2U7XG4gICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNdIEVycm9yIGxvYWRpbmcgZW52ZWxvcGUnLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuIiwiLyoqXG4gKiBQYXNzZWQgdG8gcGFyZW50IGNvbXBvbmVudHMgaW4gY2VydGFpbiBjYWxsYmFja3Mgd2l0aCB0aGUgbG93ZXItbGV2ZWwgSlMtU0RLIGVtaXRzIGFuIGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBTREtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTtcbiAgc3RhdHVzQ29kZTtcbiAgcmVzcG9uc2U7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBzdGF0dXNDb2RlOiBudW1iZXIsIHJlc3BvbnNlOiBhbnkpIHtcbiAgICBzdXBlcihtZXNzYWdlIHx8ICdTREsgRXJyb3InKTtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBnZXRSZW5kZXJpbmdSZWYsIGZvcmNlVXBkYXRlIH0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5cbmNvbnN0IGFwcGVuZFRvTWFwID0gKG1hcCwgcHJvcE5hbWUsIHZhbHVlKSA9PiB7XG4gICAgY29uc3QgaXRlbXMgPSBtYXAuZ2V0KHByb3BOYW1lKTtcbiAgICBpZiAoIWl0ZW1zKSB7XG4gICAgICAgIG1hcC5zZXQocHJvcE5hbWUsIFt2YWx1ZV0pO1xuICAgIH1cbiAgICBlbHNlIGlmICghaXRlbXMuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xuICAgIH1cbn07XG5jb25zdCBkZWJvdW5jZSA9IChmbiwgbXMpID0+IHtcbiAgICBsZXQgdGltZW91dElkO1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IDA7XG4gICAgICAgICAgICBmbiguLi5hcmdzKTtcbiAgICAgICAgfSwgbXMpO1xuICAgIH07XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcG9zc2libGUgZWxlbWVudCBpc0Nvbm5lY3RlZC5cbiAqIFRoZSBwcm9wZXJ0eSBtaWdodCBub3QgYmUgdGhlcmUsIHNvIHdlIGNoZWNrIGZvciBpdC5cbiAqXG4gKiBXZSB3YW50IGl0IHRvIHJldHVybiB0cnVlIGlmIGlzQ29ubmVjdGVkIGlzIG5vdCBhIHByb3BlcnR5LFxuICogb3RoZXJ3aXNlIHdlIHdvdWxkIHJlbW92ZSB0aGVzZSBlbGVtZW50cyBhbmQgd291bGQgbm90IHVwZGF0ZS5cbiAqXG4gKiBCZXR0ZXIgbGVhayBpbiBFZGdlIHRoYW4gdG8gYmUgdXNlbGVzcy5cbiAqL1xuY29uc3QgaXNDb25uZWN0ZWQgPSAobWF5YmVFbGVtZW50KSA9PiAhKCdpc0Nvbm5lY3RlZCcgaW4gbWF5YmVFbGVtZW50KSB8fCBtYXliZUVsZW1lbnQuaXNDb25uZWN0ZWQ7XG5jb25zdCBjbGVhbnVwRWxlbWVudHMgPSBkZWJvdW5jZSgobWFwKSA9PiB7XG4gICAgZm9yIChsZXQga2V5IG9mIG1hcC5rZXlzKCkpIHtcbiAgICAgICAgbWFwLnNldChrZXksIG1hcC5nZXQoa2V5KS5maWx0ZXIoaXNDb25uZWN0ZWQpKTtcbiAgICB9XG59LCAyMDAwKTtcbmNvbnN0IHN0ZW5jaWxTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnZXRSZW5kZXJpbmdSZWYgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBpbiBhIHN0ZW5jaWwgcHJvamVjdCwgd2UgZG8gbm90aGluZy5cbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBub3QgcmVhbGx5IGV4cG9ydGVkIGJ5IEBzdGVuY2lsL2NvcmUuXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgZWxtc1RvVXBkYXRlID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IGVsbXNUb1VwZGF0ZS5jbGVhcigpLFxuICAgICAgICBnZXQ6IChwcm9wTmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxtID0gZ2V0UmVuZGVyaW5nUmVmKCk7XG4gICAgICAgICAgICBpZiAoZWxtKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG9NYXAoZWxtc1RvVXBkYXRlLCBwcm9wTmFtZSwgZWxtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZWxtc1RvVXBkYXRlLmdldChwcm9wTmFtZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBlbG1zVG9VcGRhdGUuc2V0KHByb3BOYW1lLCBlbGVtZW50cy5maWx0ZXIoZm9yY2VVcGRhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFudXBFbGVtZW50cyhlbG1zVG9VcGRhdGUpO1xuICAgICAgICB9LFxuICAgICAgICByZXNldDogKCkgPT4ge1xuICAgICAgICAgICAgZWxtc1RvVXBkYXRlLmZvckVhY2goKGVsbXMpID0+IGVsbXMuZm9yRWFjaChmb3JjZVVwZGF0ZSkpO1xuICAgICAgICAgICAgY2xlYW51cEVsZW1lbnRzKGVsbXNUb1VwZGF0ZSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbmNvbnN0IHVud3JhcCA9ICh2YWwpID0+ICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nID8gdmFsKCkgOiB2YWwpO1xuY29uc3QgY3JlYXRlT2JzZXJ2YWJsZU1hcCA9IChkZWZhdWx0U3RhdGUsIHNob3VsZFVwZGF0ZSA9IChhLCBiKSA9PiBhICE9PSBiKSA9PiB7XG4gICAgY29uc3QgdW53cmFwcGVkU3RhdGUgPSB1bndyYXAoZGVmYXVsdFN0YXRlKTtcbiAgICBsZXQgc3RhdGVzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyh1bndyYXBwZWRTdGF0ZSAhPT0gbnVsbCAmJiB1bndyYXBwZWRTdGF0ZSAhPT0gdm9pZCAwID8gdW53cmFwcGVkU3RhdGUgOiB7fSkpO1xuICAgIGNvbnN0IGhhbmRsZXJzID0ge1xuICAgICAgICBkaXNwb3NlOiBbXSxcbiAgICAgICAgZ2V0OiBbXSxcbiAgICAgICAgc2V0OiBbXSxcbiAgICAgICAgcmVzZXQ6IFtdLFxuICAgIH07XG4gICAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gV2hlbiByZXNldHRpbmcgdGhlIHN0YXRlLCB0aGUgZGVmYXVsdCBzdGF0ZSBtYXkgYmUgYSBmdW5jdGlvbiAtIHVud3JhcCBpdCB0byBpbnZva2UgaXQuXG4gICAgICAgIC8vIG90aGVyd2lzZSwgdGhlIHN0YXRlIHdvbid0IGJlIHByb3Blcmx5IHJlc2V0XG4gICAgICAgIHN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoKF9hID0gdW53cmFwKGRlZmF1bHRTdGF0ZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9KSk7XG4gICAgICAgIGhhbmRsZXJzLnJlc2V0LmZvckVhY2goKGNiKSA9PiBjYigpKTtcbiAgICB9O1xuICAgIGNvbnN0IGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgICAgIC8vIENhbGwgZmlyc3QgZGlzcG9zZSBhcyByZXNldHRpbmcgdGhlIHN0YXRlIHdvdWxkXG4gICAgICAgIC8vIGNhdXNlIGxlc3MgdXBkYXRlcyA7KVxuICAgICAgICBoYW5kbGVycy5kaXNwb3NlLmZvckVhY2goKGNiKSA9PiBjYigpKTtcbiAgICAgICAgcmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldCA9IChwcm9wTmFtZSkgPT4ge1xuICAgICAgICBoYW5kbGVycy5nZXQuZm9yRWFjaCgoY2IpID0+IGNiKHByb3BOYW1lKSk7XG4gICAgICAgIHJldHVybiBzdGF0ZXMuZ2V0KHByb3BOYW1lKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldCA9IChwcm9wTmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdGF0ZXMuZ2V0KHByb3BOYW1lKTtcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSh2YWx1ZSwgb2xkVmFsdWUsIHByb3BOYW1lKSkge1xuICAgICAgICAgICAgc3RhdGVzLnNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgaGFuZGxlcnMuc2V0LmZvckVhY2goKGNiKSA9PiBjYihwcm9wTmFtZSwgdmFsdWUsIG9sZFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN0YXRlID0gKHR5cGVvZiBQcm94eSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyB7fVxuICAgICAgICA6IG5ldyBQcm94eSh1bndyYXBwZWRTdGF0ZSwge1xuICAgICAgICAgICAgZ2V0KF8sIHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldChwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3duS2V5cyhfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oc3RhdGVzLmtleXMoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhcyhfLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZXMuaGFzKHByb3BOYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoXywgcHJvcE5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgY29uc3Qgb24gPSAoZXZlbnROYW1lLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICBoYW5kbGVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KGhhbmRsZXJzW2V2ZW50TmFtZV0sIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IG9uQ2hhbmdlID0gKHByb3BOYW1lLCBjYikgPT4ge1xuICAgICAgICBjb25zdCB1blNldCA9IG9uKCdzZXQnLCAoa2V5LCBuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYihuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIHVud3JhcCB0aGUgZGVmYXVsdFN0YXRlIGJlY2F1c2UgaXQgbWlnaHQgYmUgYSBmdW5jdGlvbi5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIG1pZ2h0IG5vdCBiZSBzZW5kaW5nIHRoZSByaWdodCByZXNldCB2YWx1ZS5cbiAgICAgICAgY29uc3QgdW5SZXNldCA9IG9uKCdyZXNldCcsICgpID0+IGNiKHVud3JhcChkZWZhdWx0U3RhdGUpW3Byb3BOYW1lXSkpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdW5TZXQoKTtcbiAgICAgICAgICAgIHVuUmVzZXQoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHVzZSA9ICguLi5zdWJzY3JpcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuc3VicyA9IHN1YnNjcmlwdGlvbnMucmVkdWNlKCh1bnN1YnMsIHN1YnNjcmlwdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5zZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbignc2V0Jywgc3Vic2NyaXB0aW9uLnNldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5nZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbignZ2V0Jywgc3Vic2NyaXB0aW9uLmdldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5yZXNldCkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdyZXNldCcsIHN1YnNjcmlwdGlvbi5yZXNldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5kaXNwb3NlKSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ2Rpc3Bvc2UnLCBzdWJzY3JpcHRpb24uZGlzcG9zZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuc3VicztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gKCkgPT4gdW5zdWJzLmZvckVhY2goKHVuc3ViKSA9PiB1bnN1YigpKTtcbiAgICB9O1xuICAgIGNvbnN0IGZvcmNlVXBkYXRlID0gKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHN0YXRlcy5nZXQoa2V5KTtcbiAgICAgICAgaGFuZGxlcnMuc2V0LmZvckVhY2goKGNiKSA9PiBjYihrZXksIG9sZFZhbHVlLCBvbGRWYWx1ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGdldCxcbiAgICAgICAgc2V0LFxuICAgICAgICBvbixcbiAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgIHVzZSxcbiAgICAgICAgZGlzcG9zZSxcbiAgICAgICAgcmVzZXQsXG4gICAgICAgIGZvcmNlVXBkYXRlLFxuICAgIH07XG59O1xuY29uc3QgcmVtb3ZlRnJvbUFycmF5ID0gKGFycmF5LCBpdGVtKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgICAgICBhcnJheS5sZW5ndGgtLTtcbiAgICB9XG59O1xuXG5jb25zdCBjcmVhdGVTdG9yZSA9IChkZWZhdWx0U3RhdGUsIHNob3VsZFVwZGF0ZSkgPT4ge1xuICAgIGNvbnN0IG1hcCA9IGNyZWF0ZU9ic2VydmFibGVNYXAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUpO1xuICAgIG1hcC51c2Uoc3RlbmNpbFN1YnNjcmlwdGlvbigpKTtcbiAgICByZXR1cm4gbWFwO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlT2JzZXJ2YWJsZU1hcCwgY3JlYXRlU3RvcmUgfTtcbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXZpZXcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1pbi1oZWlnaHQ6IDYwMHB4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuXG4gIGRpdixcbiAgY2FudmFzIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgLmhlYWRlciB7XG4gICAgZmxleDogMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHotaW5kZXg6IDEwMDA7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG1lZGl1bS1iZztcbiAgICBib3gtc2hhZG93OiAwIDRweCA0cHggMCByZ2IoMCAwIDAgLyAyNCUpLCAwIDAgNHB4IDAgcmdiKDAgMCAwIC8gMTIlKTtcblxuICAgIC5pbm5lciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIG1heC13aWR0aDogMTAyOHB4O1xuICAgIH1cbiAgfVxuXG4gIC50b29sYmFyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBwYWRkaW5nOiAwIDE0cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbiAgLnRvb2xzIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBoZWlnaHQ6IDU2cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRtZWRpdW0tYmc7XG5cbiAgICAubG9nbyB7XG4gICAgICB3aWR0aDogNzcuNXB4O1xuICAgICAgbWFyZ2luOiAtNnB4IDAgMCA1cHg7XG4gICAgfVxuXG4gICAgLnRpdGxlIHtcbiAgICAgIHBhZGRpbmctbGVmdDogMTZweDtcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgfVxuICB9XG5cbiAgLmRvY3VtZW50IHtcbiAgICBmbGV4OiAxO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgcm93LWdhcDogMTVweDtcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgLmlubmVyIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWF4LXdpZHRoOiAxMDI4cHg7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrJztcbmltcG9ydCB7Q29tcG9uZW50LCBoLCBFbGVtZW50LCBFdmVudCwgSG9zdCwgUHJvcCwgRXZlbnRFbWl0dGVyLCBGcmFnbWVudH0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5pbXBvcnQge2dldFJvbGVJbmRleCwgcmVuZGVyRG9jdW1lbnRGaWVsZCwgc2F2ZVBERn0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHtnZXRFbnZlbG9wZUJ5SWR9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0VudmVsb3Blcyc7XG5pbXBvcnQgRW52ZWxvcGVTdG9yZSBmcm9tICcuLi8uLi8uLi91dGlscy9lbnZlbG9wZVN0b3JlJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm99IGZyb20gJy4uLy4uLy4uL3V0aWxzL1R5cGVzJztcbmltcG9ydCB7U0RLRXJyb3J9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9ycyc7XG5cbmNvbnN0IFByaW50SWNvbiA9IGA8c3ZnIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTkgOEg1Yy0xLjY2IDAtMyAxLjM0LTMgM3Y2aDR2NGgxMnYtNGg0di02YzAtMS42Ni0xLjM0LTMtMy0zem0tMyAxMUg4di01aDh2NXptMy03Yy0uNTUgMC0xLS40NS0xLTFzLjQ1LTEgMS0xIDEgLjQ1IDEgMS0uNDUgMS0xIDF6bS0xLTlINnY0aDEyVjN6XCI+PC9wYXRoPjwvc3ZnPmA7XG5cbmNvbnN0IERvd25sb2FkSWNvbiA9IGA8c3ZnIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNNSAyMGgxNHYtMkg1djJ6TTE5IDloLTRWM0g5djZINWw3IDcgNy03elwiPjwvcGF0aD48L3N2Zz5gO1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZG9jdW1lbnRzIGF0dGFjaGVkIHRvIGFuIGVudmVsb3BlIGluIHJlYWQtb25seSAodmlldykgbW9kZS4gQWxsIGRvY3VtZW50cyBhcmUgZGlzcGxheWVkIGluIG9yZGVyLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy12aWV3JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXZpZXcuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NWaWV3IHtcbiAgQEVsZW1lbnQoKSBjb21wb25lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBUaGUgZW5kcG9pbnQgdG8gdXNlIHRvIGNvbW11bmljYXRlIHdpdGggVmVyZG9jcy4gSWYgbm90IHNldCwgdGhlIGRlZmF1bHQgZW5kcG9pbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgQFByb3AoKSBlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcblxuICAvKipcbiAgICogVGhlIGVudmVsb3BlIElEIHRvIHJlbmRlci4gU2V0IE9ORSBPRiB0ZW1wbGF0ZUlkIG9yIGVudmVsb3BlSWQuIElmIGJvdGggYXJlIHNldCwgZW52ZWxvcGVJZCB3aWxsIGJlIGlnbm9yZWQuXG4gICAqL1xuICBAUHJvcCgpIGVudmVsb3BlSWQ6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCBpZiBhbiBlcnJvciBvY2N1cnMuIFRoZSBldmVudCBkZXRhaWxzIHdpbGwgY29udGFpbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuIE1vc3QgZXJyb3JzIHdpbGxcbiAgICogdGVybWluYXRlIHRoZSBwcm9jZXNzLCBhbmQgdGhlIGNhbGxpbmcgYXBwbGljYXRpb24gc2hvdWxkIGNvcnJlY3QgdGhlIGNvbmRpdGlvbiBhbmQgcmUtcmVuZGVyIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgc2RrRXJyb3I6IEV2ZW50RW1pdHRlcjxTREtFcnJvcj47XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludC5sb2FkU2Vzc2lvbigpO1xuICB9XG5cbiAgLy8gVE9ETzogSGFuZGxpbmcgc2lnbmluZyB2cyBwcmV2aWV3LWFzLXVzZXIgY2FzZXNcbiAgLy8gVE9ETzogSGFuZGxlIGFub255bW91cyBjYXNlIGFuZCBmYWlsdXJlIHRvIGxvYWQgZHVlIHRvIG5vdCBiZWluZyBsb2dnZWQgaW5cbiAgYXN5bmMgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuZW52ZWxvcGVJZCkge1xuICAgICAgY29uc29sZS5lcnJvcihgW1ZJRVddIE1pc3NpbmcgcmV1cWlyZWQgZW52ZWxvcGVJZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBnZXRFbnZlbG9wZUJ5SWQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGEgcGFnZSBpcyBcInJvdGF0ZWRcIiAoaW4gZWl0aGVyIGRpcmVjdGlvbilcbiAgLy8gaXNSb3RhdGVkKHJvdGF0aW9uKSB7XG4gIC8vICAgcmV0dXJuIHJvdGF0aW9uICE9PSAwICYmIHJvdGF0aW9uICUgMTgwICE9PSAwO1xuICAvLyB9XG5cbiAgLy8gUmVuZGVyIG9uZSBkb2N1bWVudCBwYWdlLiBOb3RlIHRoYXQgcGFnZU51bWJlciBpcyAxLWJhc2VkLlxuICAvLyBhc3luYyByZW5kZXJQYWdlKHBhZ2VOdW1iZXI6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAvLyAgIGNvbnN0IGRvbVBhZ2UgPSB0aGlzLmRvbVBhZ2VzW3BhZ2VOdW1iZXJdO1xuICAvL1xuICAvLyAgIC8vIFR3byBhc3luYyBvcGVyYXRpb25zIGhhcHBlbiBoZXJlLCBsb2FkaW5nIHRoZSBQREYgYW5kIHJlbmRlcmluZyB0aGUgRE9NIGRpdi9jYW52YXMgcGxhY2Vob2xkZXJzIHRvIGRyYXcgdGhlIHBhZ2VzIG9uLlxuICAvLyAgIGlmICghZG9tUGFnZSkge1xuICAvLyAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBTa2lwcGluZyByZW5kZXJpbmcgcGFnZSBub3QgeWV0IGluIERPTScsIHtwYWdlTnVtYmVyfSk7XG4gIC8vICAgICByZXR1cm47XG4gIC8vICAgfVxuICAvL1xuICAvLyAgIGNvbnN0IHBhZ2VNZXRyaWNzID0gdGhpcy5zb3VyY2VQYWdlTWV0cmljc1twYWdlTnVtYmVyXTtcbiAgLy9cbiAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIFJlbmRlcmluZyBwYWdlJywge3BhZ2VOdW1iZXIsIHBhZ2VNZXRyaWNzLCBkb21QYWdlfSk7XG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIC8vIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCB0aGlzLnBkZkRvY3VtZW50LmdldFBhZ2UocGFnZU51bWJlcik7XG4gIC8vICAgICAvLyBjb25zdCB2aWV3cG9ydCA9IHBkZlBhZ2UuZ2V0Vmlld3BvcnQoe3NjYWxlOiBkb21QYWdlLnhTY2FsZX0pO1xuICAvLyAgICAgLy8gY29uc29sZS5sb2coJ1tWSUVXXSBQYWdlIHZpZXdwb3J0JywgZG9tUGFnZS54U2NhbGUsIHZpZXdwb3J0KTtcbiAgLy9cbiAgLy8gICAgIC8vIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2RvbVBhZ2UuY29udGFpbmVySWR9LXBhZ2VgKSBhcyBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw7XG4gIC8vICAgICAvLyBpZiAoIWNhbnZhcykge1xuICAvLyAgICAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIFVuYWJsZSB0byBmaW5kIGNhbnZhcyBlbGVtZW50Jyk7XG4gIC8vICAgICAvLyAgIHJldHVybjtcbiAgLy8gICAgIC8vIH1cbiAgLy8gICAgIC8vXG4gIC8vICAgICAvLyBjYW52YXMud2lkdGggPSBkb21QYWdlLnJlbmRlcmVkV2lkdGg7XG4gIC8vICAgICAvLyBjYW52YXMuaGVpZ2h0ID0gZG9tUGFnZS5yZW5kZXJlZEhlaWdodDtcbiAgLy8gICAgIC8vIGNvbnN0IGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgLy8gICAgIC8vIGNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGRvbVBhZ2UucmVuZGVyZWRXaWR0aCwgZG9tUGFnZS5yZW5kZXJlZEhlaWdodCk7XG4gIC8vICAgICAvLyBhd2FpdCBwZGZQYWdlLnJlbmRlcih7Y2FudmFzQ29udGV4dCwgdmlld3BvcnR9KTtcbiAgLy9cbiAgLy8gICAgIHRoaXMucGFnZVJlbmRlcmVkLmVtaXQoe1xuICAvLyAgICAgICByZW5kZXJlZFBhZ2U6IGRvbVBhZ2UsXG4gIC8vICAgICAgIHNvdXJjZVBhZ2VNZXRyaWNzOiBwYWdlTWV0cmljcyxcbiAgLy8gICAgICAgcGFnZXM6IHRoaXMuZG9tUGFnZXMsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9IGNhdGNoIChlKSB7XG4gIC8vICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgY29uc29sZS53YXJuKCdbVklFV10gRXJyb3IgcmVuZGVyaW5nIHBhZ2UnLCBlKTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBhc3luYyByZW5kZXJQYWdlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHRoaXMubnVtUGFnZXMpO1xuICAvLyAgIGZvciBhd2FpdCAobGV0IHBhZ2VOdW1iZXIgb2YgcGFnZU51bWJlcnNUb1JlbmRlcikge1xuICAvLyAgICAgdHJ5IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKHBhZ2VOdW1iZXIpO1xuICAvLyAgICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgICBjb25zb2xlLndhcm4oJ1tWSUVXXSBFcnJvciByZW5kZXJpbmcgcGFnZXMnLCBlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBvblByb2dyZXNzKHByb2dyZXNzOiBPblByb2dyZXNzUGFyYW1ldGVycykge1xuICAvLyAgIGNvbnNvbGUubG9nKGBbVklFV10gUHJvZ3Jlc3MgJHtNYXRoLmZsb29yKChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDApfSAoJHtwcm9ncmVzcy5sb2FkZWR9IC8gJHtwcm9ncmVzcy50b3RhbH0pYCk7XG4gIC8vICAgdGhpcy5sb2FkUHJvZ3Jlc3MgPSBNYXRoLmZsb29yKCgxMDAgKiBwcm9ncmVzcy5sb2FkZWQpIC8gcHJvZ3Jlc3MudG90YWwpO1xuICAvLyB9XG5cbiAgLy8gQWZ0ZXIgYSBkb2N1bWVudCBpcyBkb25lIGxvYWRpbmcsIGdvIHRocm91Z2ggaXRzIHBhZ2VzIHRvIGdldCB0aGVpciBkaW1lbnNpb25zXG4gIC8vIGFzeW5jIHBhcnNlUGFnZU1ldHJpY3MocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpIHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHBkZkRvY3VtZW50Lm51bVBhZ2VzKTtcbiAgLy9cbiAgLy8gICBmb3IgYXdhaXQgKGxldCBwYWdlTnVtYmVyIG9mIHBhZ2VOdW1iZXJzVG9SZW5kZXIpIHtcbiAgLy8gICAgIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCBwZGZEb2N1bWVudC5nZXRQYWdlKDEpO1xuICAvLyAgICAgY29uc3QgW3BhZ2VYMCwgcGFnZVkwLCBwYWdlWDEsIHBhZ2VZMV0gPSBwZGZQYWdlLnZpZXc7XG4gIC8vICAgICB0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdID0ge3dpZHRoOiBwYWdlWDEgLSBwYWdlWDAsIGhlaWdodDogcGFnZVkxIC0gcGFnZVkwfTtcbiAgLy8gICB9XG4gIC8vXG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBQYXJzZWQgcGFnZSBtZXRyaWNzJywgdGhpcy5zb3VyY2VQYWdlTWV0cmljcyk7XG4gIC8vIH1cblxuICAvLyBsb2FkQW5kUmVuZGVyKHNyYzogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nJywgc3JjKTtcbiAgLy9cbiAgLy8gICBjb25zdCB0b2tlbiA9IHRoaXMuZW5kcG9pbnQuZ2V0VG9rZW4oKTtcbiAgLy8gICBjb25zdCBodHRwSGVhZGVycyA9IHRva2VuID8ge0F1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gfSA6IHt9O1xuICAvL1xuICAvLyAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgLy8gICAgIHVybDogc3JjLFxuICAvLyAgICAgY01hcFVybDogQ01BUFNfVVJMLFxuICAvLyAgICAgY01hcFBhY2tlZDogdHJ1ZSxcbiAgLy8gICAgIGh0dHBIZWFkZXJzLFxuICAvLyAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAvLyAgICAgc3RvcEF0RXJyb3JzOiB0cnVlLFxuICAvLyAgICAgdmVyYm9zaXR5OiBwZGZqc0xpYi5WZXJib3NpdHlMZXZlbC5XQVJOSU5HUyxcbiAgLy8gICAgIC8vIHZlcmJvc2l0eTogcGRmanNMaWIuVmVyYm9zaXR5TGV2ZWwuSU5GT1MsXG4gIC8vICAgfSBhcyBEb2N1bWVudEluaXRQYXJhbWV0ZXJzO1xuICAvL1xuICAvLyAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICBjb25zdCBsb2FkaW5nVGFzayA9IHBkZi5nZXREb2N1bWVudChzb3VyY2UsIG51bGwsIG51bGwsIHRoaXMub25Qcm9ncmVzcyk7XG4gIC8vICAgbG9hZGluZ1Rhc2sub25Qcm9ncmVzcyA9IHRoaXMub25Qcm9ncmVzcztcbiAgLy8gICBsb2FkaW5nVGFzay5wcm9taXNlXG4gIC8vICAgICAudGhlbihhc3luYyAocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpID0+IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5wYXJzZVBhZ2VNZXRyaWNzKHBkZkRvY3VtZW50KTtcbiAgLy9cbiAgLy8gICAgICAgdGhpcy5wZGZEb2N1bWVudCA9IHBkZkRvY3VtZW50O1xuICAvLyAgICAgICB0aGlzLm51bVBhZ2VzID0gcGRmRG9jdW1lbnQubnVtUGFnZXM7XG4gIC8vICAgICAgIHRoaXMuZmluZ2VycHJpbnRzID0gcGRmRG9jdW1lbnQuZmluZ2VycHJpbnRzO1xuICAvLyAgICAgICBjb25zb2xlLmxvZyhgW1ZJRVddIEdvdCBQREYgZG9jdW1lbnQgZmluZ2VycHJpbnRzIFwiJHt0aGlzLmZpbmdlcnByaW50cy5qb2luKCcsICcpfVwiLCAke3RoaXMubnVtUGFnZXN9IHBhZ2UocylgKTtcbiAgLy9cbiAgLy8gICAgICAgLy8gV2UgZG9uJ3QgdHJ5IHRvIHJlbmRlciB0aGUgcGFnZXMgaGVyZSwgc2V0dGluZyBsb2FkUHJvdHJlc3MgdHJpZ2dlcnMgdGhhdCBieSBhZGRpbmcgdGhlIGluZGl2aWR1YWwgcGFnZSBlbnRyaWVzIGluXG4gIC8vICAgICAgIC8vIERPTSBpbiByZW5kZXIoKSBiZWxvdy4gRWFjaCBwYWdlIHRoZW4gZmlyZXMgb25QYWdlUmVuZGVyZWQgd2hlbiBpdCBpcyByZWFkeSB0byByZWNlaXZlIGNvbnRlbnQuXG4gIC8vICAgICAgIHRoaXMubG9hZFByb2dyZXNzID0gMTAwO1xuICAvLyAgICAgfSlcbiAgLy8gICAgIC5jYXRjaChlID0+IHtcbiAgLy8gICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgLy8gICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nIGVycm9yJywgZSk7XG4gIC8vICAgICB9KTtcbiAgLy8gfVxuXG4gIC8vIGFzeW5jIGhhbmRsZVBhZ2VSZW5kZXJlZChlOiBhbnkpIHtcbiAgLy8gICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAvL1xuICAvLyAgIGNvbnN0IGRvbVBhZ2UgPSBlLmRldGFpbCBhcyBJRG9jdW1lbnRQYWdlSW5mbztcbiAgLy8gICB0aGlzLmRvbVBhZ2VzW2RvbVBhZ2UucGFnZU51bWJlcl0gPSBkb21QYWdlO1xuICAvLyAgIGF3YWl0IHRoaXMucmVuZGVyUGFnZShkb21QYWdlLnBhZ2VOdW1iZXIpO1xuICAvLyB9XG5cbiAgYXR0YWNoRmllbGRBdHRyaWJ1dGVzKHBhZ2VJbmZvLCByb2xlSW5kZXgsIGVsKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgneFNjYWxlJywgcGFnZUluZm8ueFNjYWxlKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3lTY2FsZScsIHBhZ2VJbmZvLnlTY2FsZSk7XG4gIH1cblxuICBoYW5kbGVQYWdlUmVuZGVyZWQoZSkge1xuICAgIGNvbnN0IHBhZ2VJbmZvID0gZS5kZXRhaWwgYXMgSURvY3VtZW50UGFnZUluZm87XG4gICAgY29uc29sZS5sb2coJ1tTSUdOXSBQYWdlIHJlbmRlcmVkJywgcGFnZUluZm8pO1xuXG4gICAgRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5yZWNpcGllbnRzLm1hcChyZWNpcGllbnQgPT4ge1xuICAgICAgY29uc3QgZmllbGRzID0gcmVjaXBpZW50LmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZSA9PT0gcGFnZUluZm8ucGFnZU51bWJlcik7XG4gICAgICAvLyBjb25zdCBmaWVsZHMgPSB0aGlzLmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZV9zZXF1ZW5jZSA9PT0gcGFnZUluZm8ucmVuZGVyZWRQYWdlLnBhZ2VOdW1iZXIpO1xuICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBGaWVsZHMgb24gcGFnZScsIGZpZWxkcyk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIGNvbnN0IHJvbGVJbmRleCA9IGdldFJvbGVJbmRleChFbnZlbG9wZVN0b3JlLnJvbGVOYW1lcywgZmllbGQucmVjaXBpZW50X3JvbGUpO1xuICAgICAgICBjb25zdCBlbCA9IHJlbmRlckRvY3VtZW50RmllbGQoZmllbGQsIHBhZ2VJbmZvLCByb2xlSW5kZXgsIHtcbiAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsKSkge1xuICAgICAgICAgIGVsLm1hcChlID0+IHRoaXMuYXR0YWNoRmllbGRBdHRyaWJ1dGVzKHBhZ2VJbmZvLCByb2xlSW5kZXgsIGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmF0dGFjaEZpZWxkQXR0cmlidXRlcyhwYWdlSW5mbywgcm9sZUluZGV4LCBlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbnRlcmFjdChlbCkuZHJhZ2dhYmxlKHtcbiAgICAgICAgLy8gICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgLy8gICAgIHN0YXJ0KGV2ZW50KSB7XG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIHN0YXJ0ZWQnLCBldmVudC50eXBlLCBldmVudC50YXJnZXQpO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgICAgLy8gICAgICAgY29uc3Qgb2xkWCA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgncG9zWCcpIHx8IDApO1xuICAgICAgICAvLyAgICAgICBjb25zdCBvbGRZID0gKyhldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3NZJykgfHwgMCk7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IHhTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneFNjYWxlJykgfHwgMSk7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IHlTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneVNjYWxlJykgfHwgMSk7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IG5ld1ggPSBldmVudC5keCAvIHhTY2FsZSArIG9sZFg7XG4gICAgICAgIC8vICAgICAgIGNvbnN0IG5ld1kgPSBldmVudC5keSAvIHlTY2FsZSArIG9sZFk7XG4gICAgICAgIC8vICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Bvc1gnLCBuZXdYKTtcbiAgICAgICAgLy8gICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zeScsIG5ld1kpO1xuICAgICAgICAvLyAgICAgICB1cGRhdGVDc3NUcmFuc2Zvcm0oZXZlbnQudGFyZ2V0LCAndHJhbnNsYXRlJywgYCR7bmV3WH1weCwgJHtuZXdZfXB4YCk7XG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgZW5kKGV2ZW50KSB7XG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIGVuZGVkJywgZXZlbnQpO1xuICAgICAgICAvLyAgICAgICAvLyBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3NYJywgMCk7XG4gICAgICAgIC8vICAgICAgIC8vIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Bvc3knLCAwKTtcbiAgICAgICAgLy8gICAgICAgLy8gdXBkYXRlQ3NzVHJhbnNmb3JtKGV2ZW50LnRhcmdldCwgJ3RyYW5zbGF0ZScsIGAkezB9cHgsICR7MH1weGApO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICB9LFxuICAgICAgICAvLyB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnNvbGUubG9nKCdbVklFV10gUmVuZGVyaW5nJywgRW52ZWxvcGVTdG9yZS5lcnJvciwgRW52ZWxvcGVTdG9yZS5sb2FkaW5nLCBFbnZlbG9wZVN0b3JlLmVudmVsb3BlKTtcbiAgICBpZiAoRW52ZWxvcGVTdG9yZS5sb2FkaW5nIHx8ICFFbnZlbG9wZVN0b3JlLmVudmVsb3BlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SG9zdD5cbiAgICAgICAgICA8dmVyZG9jcy1sb2FkZXIgLz5cbiAgICAgICAgPC9Ib3N0PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoRW52ZWxvcGVTdG9yZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEhvc3Q+XG4gICAgICAgICAgPGRpdj57RW52ZWxvcGVTdG9yZS5lcnJvcn08L2Rpdj5cbiAgICAgICAgPC9Ib3N0PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3Q+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sc1wiPlxuICAgICAgICAgICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly92ZXJkb2NzLmNvbS9hc3NldHMvd2hpdGUtbG9nby5zdmdcIiBhbHQ9XCJWZXJkb2NzIExvZ29cIiBjbGFzcz1cImxvZ29cIiAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+e0VudmVsb3BlU3RvcmUuZW52ZWxvcGUubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmbGV4OiAnMSd9fSAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBpbm5lckhUTUw9e1ByaW50SWNvbn0gc3R5bGU9e3t3aWR0aDogJzI0cHgnLCBoZWlnaHQ6ICcyNHB4JywgZmlsbDogJyNmZmZmZmYnLCBjdXJzb3I6ICdwb2ludGVyJ319IG9uQ2xpY2s9eygpID0+IHdpbmRvdy5wcmludCgpfSAvPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBpbm5lckhUTUw9e0Rvd25sb2FkSWNvbn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogJzI0cHgnLCBoZWlnaHQ6ICcyNHB4JywgZmlsbDogJyNmZmZmZmYnLCBjdXJzb3I6ICdwb2ludGVyJywgbWFyZ2luTGVmdDogJzE2cHgnLCBtYWdpblJpZ2h0OiAnMzBweCd9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzYXZlUERGKHRoaXMuZW5kcG9pbnQsIEVudmVsb3BlU3RvcmUuZW52ZWxvcGUsIEVudmVsb3BlU3RvcmUuZW52ZWxvcGUuZW52ZWxvcGVfZG9jdW1lbnRfaWQpLmNhdGNoKCgpID0+IHt9KX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRvY3VtZW50XCI+XG4gICAgICAgICAgeyhFbnZlbG9wZVN0b3JlLmVudmVsb3BlPy5kb2N1bWVudHMgfHwgW10pLm1hcChlbnZlbG9wZURvY3VtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gWy4uLihlbnZlbG9wZURvY3VtZW50Py5wYWdlcyB8fCBbXSldO1xuICAgICAgICAgICAgcGFnZXMuc29ydCgoYSwgYikgPT4gYS5zZXF1ZW5jZSAtIGIuc2VxdWVuY2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAge3BhZ2VzLm1hcChwYWdlID0+IChcbiAgICAgICAgICAgICAgICAgIDx2ZXJkb2NzLWRvY3VtZW50LXBhZ2VcbiAgICAgICAgICAgICAgICAgICAgcGFnZUltYWdlVXJpPXtwYWdlLmRpc3BsYXlfdXJpfVxuICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsV2lkdGg9ezYxMn1cbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbEhlaWdodD17NzkyfVxuICAgICAgICAgICAgICAgICAgICBwYWdlTnVtYmVyPXtwYWdlLnNlcXVlbmNlfVxuICAgICAgICAgICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17ZSA9PiB0aGlzLmhhbmRsZVBhZ2VSZW5kZXJlZChlKX1cbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdwYWdlJywgdHlwZTogJ2NhbnZhcyd9LFxuICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnY29udHJvbHMnLCB0eXBlOiAnZGl2J30sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHJlZHVjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1yZWR1Y2UnKS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIENIUk9NRV9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3JlZHVjZScpO1xuLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxudmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=