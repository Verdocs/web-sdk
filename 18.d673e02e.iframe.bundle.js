/*! For license information please see 18.d673e02e.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"./dist/esm/Envelopes-779de57c.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getEnvelopeById})),__webpack_require__.d(__webpack_exports__,"b",(function(){return state}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./dist/esm/utils-06d58b15.js"),_index_fd7b8a34_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./dist/esm/index-fd7b8a34.js"),_Templates_0638b1e4_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./dist/esm/Templates-0638b1e4.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var _createStore=Object(_index_fd7b8a34_js__WEBPACK_IMPORTED_MODULE_23__.a)({envelope:null,template:null,loadProgress:0,loading:!0,error:"",roleNames:[],dirty:!1}),state=_createStore.state;(0,_createStore.onChange)("envelope",function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(newEnvelope){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(newEnvelope){_context.next=8;break}return console.log("[ENVELOPESTORE] Clearing envelope"),state.roleNames=[],state.dirty=!1,state.loading=!1,state.error="",state.loadProgress=0,_context.abrupt("return");case 8:console.log("[ENVELOPESTORE] Loaded envelope",newEnvelope),state.roleNames=newEnvelope.recipients.map((function(recipient){return recipient.role_name})),console.log("[ENVELOPESTORE] Loaded roles",state.roleNames);case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}());var getEnvelopeById=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(endpoint,envelopeId){var _a,_b,envelope,template;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(envelopeId){_context2.next=3;break}return console.log("[ENVELOPES] Missing required envelope ID"),_context2.abrupt("return");case 3:if((null===(_a=state.envelope)||void 0===_a?void 0:_a.id)!==envelopeId){_context2.next=6;break}return console.log("[ENVELOPES] Skipping load for already-loaded envelope ID"),_context2.abrupt("return");case 6:return state.error="",state.loading=!0,state.envelope=null,_context2.prev=9,console.log("[ENVELOPES] Loading envelope "+envelopeId),_context2.next=13,Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_22__.h)(endpoint,envelopeId,!0);case 13:if(envelope=_context2.sent){_context2.next=17;break}return console.log("[ENVELOPES] Unable to load envelope"),_context2.abrupt("return");case 17:return state.envelope=envelope,_context2.next=20,Object(_Templates_0638b1e4_js__WEBPACK_IMPORTED_MODULE_24__.c)(endpoint,envelope.template_id,!0);case 20:if(template=_context2.sent,envelope){_context2.next=24;break}return console.log("[ENVELOPES] Unable to load template"),_context2.abrupt("return");case 24:state.template=template,state.loading=!1,_context2.next=34;break;case 28:throw _context2.prev=28,_context2.t0=_context2.catch(9),state.loading=!1,state.error=401===(null===(_b=null===_context2.t0||void 0===_context2.t0?void 0:_context2.t0.response)||void 0===_b?void 0:_b.status)?"Authentication required":_context2.t0.message,console.log("[ENVELOPES] Error loading envelope",_context2.t0),_context2.t0;case 34:case"end":return _context2.stop()}}),_callee2,null,[[9,28]])})));return function getEnvelopeById(_x2,_x3){return _ref2.apply(this,arguments)}}()},"./dist/esm/Primitives-054bc6e5.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"b",(function(){return integerSequence}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")}},"./dist/esm/Templates-0638b1e4.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId,ssr){return endpoint.api.get("/templates/".concat(templateId)+(ssr?"?ssr=true":"")).then((function(r){return r.data}))},createTemplate=function createTemplate(endpoint,params){return endpoint.api.post("/templates/",params).then((function(r){return r.data}))}},"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/index-fd7b8a34.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createStore}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./dist/esm/index-f78d163d.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isConnected=function isConnected(maybeElement){return!("isConnected"in maybeElement)||maybeElement.isConnected},cleanupElements=function debounce(fn,ms){var timeoutId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout((function(){timeoutId=0,fn.apply(void 0,args)}),ms)}}((function(map){var _step,_iterator=_createForOfIteratorHelper(map.keys());try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;map.set(key,map.get(key).filter(isConnected))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),2e3),unwrap=function unwrap(val){return"function"==typeof val?val():val},removeFromArray=function removeFromArray(array,item){var index=array.indexOf(item);index>=0&&(array[index]=array[array.length-1],array.length--)},createStore=function createStore(defaultState,shouldUpdate){var map=function createObservableMap(defaultState){var shouldUpdate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(a,b){return a!==b},unwrappedState=unwrap(defaultState),states=new Map(Object.entries(null!=unwrappedState?unwrappedState:{})),handlers={dispose:[],get:[],set:[],reset:[]},reset=function reset(){var _a;states=new Map(Object.entries(null!==(_a=unwrap(defaultState))&&void 0!==_a?_a:{})),handlers.reset.forEach((function(cb){return cb()}))},dispose=function dispose(){handlers.dispose.forEach((function(cb){return cb()})),reset()},_get=function get(propName){return handlers.get.forEach((function(cb){return cb(propName)})),states.get(propName)},_set=function set(propName,value){var oldValue=states.get(propName);shouldUpdate(value,oldValue,propName)&&(states.set(propName,value),handlers.set.forEach((function(cb){return cb(propName,value,oldValue)})))},state="undefined"==typeof Proxy?{}:new Proxy(unwrappedState,{get:function get(_,propName){return _get(propName)},ownKeys:function ownKeys(_){return Array.from(states.keys())},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has:function has(_,propName){return states.has(propName)},set:function set(_,propName,value){return _set(propName,value),!0}}),on=function on(eventName,callback){return handlers[eventName].push(callback),function(){removeFromArray(handlers[eventName],callback)}},onChange=function onChange(propName,cb){var unSet=on("set",(function(key,newValue){key===propName&&cb(newValue)})),unReset=on("reset",(function(){return cb(unwrap(defaultState)[propName])}));return function(){unSet(),unReset()}},use=function use(){for(var _len2=arguments.length,subscriptions=new Array(_len2),_key2=0;_key2<_len2;_key2++)subscriptions[_key2]=arguments[_key2];var unsubs=subscriptions.reduce((function(unsubs,subscription){return subscription.set&&unsubs.push(on("set",subscription.set)),subscription.get&&unsubs.push(on("get",subscription.get)),subscription.reset&&unsubs.push(on("reset",subscription.reset)),subscription.dispose&&unsubs.push(on("dispose",subscription.dispose)),unsubs}),[]);return function(){return unsubs.forEach((function(unsub){return unsub()}))}};return{state:state,get:_get,set:_set,on:on,onChange:onChange,use:use,dispose:dispose,reset:reset,forceUpdate:function forceUpdate(key){var oldValue=states.get(key);handlers.set.forEach((function(cb){return cb(key,oldValue,oldValue)}))}}}(defaultState,shouldUpdate);return map.use(function stencilSubscription(){if("function"!=typeof _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.g)return{};var elmsToUpdate=new Map;return{dispose:function dispose(){return elmsToUpdate.clear()},get:function get(propName){var elm=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.g)();elm&&function appendToMap(map,propName,value){var items=map.get(propName);items?items.includes(value)||items.push(value):map.set(propName,[value])}(elmsToUpdate,propName,elm)},set:function set(propName){var elements=elmsToUpdate.get(propName);elements&&elmsToUpdate.set(propName,elements.filter(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.f)),cleanupElements(elmsToUpdate)},reset:function reset(){elmsToUpdate.forEach((function(elms){return elms.forEach(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_21__.f)})),cleanupElements(elmsToUpdate)}}}()),map}},"./dist/esm/verdocs-sign.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_sign",(function(){return VerdocsSign}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.finally.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/index-f78d163d.js"),_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./dist/esm/utils-06d58b15.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_37__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/Validators-f110bae2.js")),_Primitives_054bc6e5_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./dist/esm/Primitives-054bc6e5.js"),_VerdocsEndpoint_28ba21cc_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./dist/esm/VerdocsEndpoint-28ba21cc.js"),_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./dist/esm/Envelopes-779de57c.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/Token-54690789.js"),__webpack_require__("./dist/esm/Files-70a192df.js"),__webpack_require__("./dist/esm/index-fd7b8a34.js"),__webpack_require__("./dist/esm/Templates-0638b1e4.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},updateRecipient=function updateRecipient(endpoint,envelopeId,roleName,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/recipients/").concat(roleName),params).then((function(r){return r.data}))]}))}))},envelopeRecipientSubmit=function envelopeRecipientSubmit(endpoint,envelopeId,roleName){return updateRecipient(endpoint,envelopeId,roleName,{action:"submit"})},envelopeRecipientDecline=function envelopeRecipientDecline(endpoint,envelopeId,roleName){return updateRecipient(endpoint,envelopeId,roleName,{action:"decline"})},createSignature=function createSignature(endpoint,name,signature){var data=new FormData;return data.append("signature",signature,name),endpoint.api.post("/signatures",data).then((function(r){return r.data}))},createInitials=function createInitials(endpoint,name,initials){var data=new FormData;return data.append("initial",initials,name),endpoint.api.post("/initials",data).then((function(r){return r.data}))},inProgressMenuOptions=[{id:"later",label:"Finish Later"},{id:"decline",label:"Decline to Sign"},{id:"print",label:"Print Without Signing"},{id:"download",label:"Download"}],doneMenuOptions=[{id:"print",label:"Print"},{id:"download",label:"Download"}],VerdocsSign=function(){function VerdocsSign(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSign),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.e)(this,"sdkError",7),this.envelopeLoaded=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.e)(this,"envelopeLoaded",7),this.envelopeUpdated=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.e)(this,"envelopeUpdated",7),this.endpoint=null,this.recipientIndex=-1,this.envelopeId=null,this.roleId=null,this.inviteCode=null,this.recipient=null,this.signerToken=null,this.hasSignature=!1,this.nextButtonLabel="Start",this.nextSubmits=!1,this.errorMessage="",this.focusedField="",this.isDone=!1,this.showDone=!1,this.finishLater=!1,this.showFinishLater=!1,this.agreed=!1,this.documentsSingularPlural="document"}var _handleNext,_handleFieldChange,_handleOptionSelected,_componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSign,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint=new _VerdocsEndpoint_28ba21cc_js__WEBPACK_IMPORTED_MODULE_39__.a({sessionType:"signing"})}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,_d,_e,_f,_g,_yield$getSigningSess,session,recipient,signerToken,_this=this;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.envelopeId){_context.next=3;break}return null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a("[SIGN] Missing required envelopId",500,"")),_context.abrupt("return");case 3:if(this.roleId){_context.next=6;break}return null===(_b=this.sdkError)||void 0===_b||_b.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a("[SIGN] Missing required roleId",500,"")),_context.abrupt("return");case 6:if(this.inviteCode){_context.next=9;break}return null===(_c=this.sdkError)||void 0===_c||_c.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a("[SIGN] Missing required inviteCode",500,"")),_context.abrupt("return");case 9:return _context.prev=9,console.log("[SIGN] Processing invite code for "+this.envelopeId+" / "+this.roleId),_context.next=13,Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.b)(this.endpoint,{envelopeId:this.envelopeId,roleId:this.roleId,inviteCode:this.inviteCode});case 13:return _yield$getSigningSess=_context.sent,session=_yield$getSigningSess.session,recipient=_yield$getSigningSess.recipient,signerToken=_yield$getSigningSess.signerToken,console.log("[SIGN] Loaded signing session "+session.email+" / "+session.profile_id),this.recipient=recipient,console.log("[SIGN] We are recipient",this.recipient),this.signerToken=signerToken,this.endpoint.setToken(signerToken),this.agreed&&(this.nextButtonLabel="Next"),_context.next=25,Object(_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.a)(this.endpoint,this.envelopeId);case 25:_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.documents.length>0&&(this.documentsSingularPlural="document(s)"),this.recipientIndex=_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.recipients.findIndex((function(recipient){return recipient.role_name==_this.roleId})),this.recipientIndex>-1?(this.recipient=_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.recipients[this.recipientIndex],this.agreed=this.recipient.agreed,console.log("[SIGN] Found our recipient in the envelope",this.recipientIndex,this.recipient)):console.log("[SIGN] Could not find our recipient record",this.roleId,_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.recipients),this.isDone=["submitted","canceled","declined"].includes(this.recipient.status),null===(_d=this.envelopeLoaded)||void 0===_d||_d.emit({endpoint:this.endpoint,envelope:_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope}),_context.next=36;break;case 32:_context.prev=32,_context.t0=_context.catch(9),console.log("Error with signing session",_context.t0),null===(_e=this.sdkError)||void 0===_e||_e.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(_context.t0.message,null===(_f=_context.t0.response)||void 0===_f?void 0:_f.status,null===(_g=_context.t0.response)||void 0===_g?void 0:_g.data));case 36:case"end":return _context.stop()}}),_callee,this,[[9,32]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"handleClickAgree",value:function handleClickAgree(){var _this2=this;(function envelopeRecipientAgree(endpoint,envelopeId,roleName,agreed){return updateRecipient(endpoint,envelopeId,roleName,{action:"update",agreed:agreed})})(this.endpoint,this.envelopeId,this.roleId,!0).then((function(){var _a;_this2.nextButtonLabel="Next",_this2.agreed=!0,null===(_a=_this2.envelopeUpdated)||void 0===_a||_a.emit({endpoint:_this2.endpoint,envelope:_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope,event:"agreed"})})).catch((function(e){var _a,_b,_c;console.log("Update failure",e),null===(_a=_this2.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data))}))}},{key:"handleOptionSelected",value:(_handleOptionSelected=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(e){var declineResult;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=e.detail.id,_context2.next="later"===_context2.t0?3:"claim"===_context2.t0?6:"decline"===_context2.t0?8:"print"===_context2.t0?14:"download"===_context2.t0?16:18;break;case 3:return this.finishLater=!0,this.showFinishLater=!0,_context2.abrupt("break",18);case 6:return window.alert("This feature will be available in an upcoming release."),_context2.abrupt("break",18);case 8:return _context2.next=10,envelopeRecipientDecline(this.endpoint,this.envelopeId,this.roleId);case 10:return declineResult=_context2.sent,console.log("Decline result",declineResult),this.isDone=!0,_context2.abrupt("break",18);case 14:return window.print(),_context2.abrupt("break",18);case 16:return Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.k)(this.endpoint,_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope,_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.envelope_document_id).catch((function(e){console.log("Error downloading PDF",e)})),_context2.abrupt("break",18);case 18:case"end":return _context2.stop()}}),_callee2,this)}))),function handleOptionSelected(_x){return _handleOptionSelected.apply(this,arguments)})},{key:"updateRecipientFieldValue",value:function updateRecipientFieldValue(fieldName,updateResult){this.recipient.fields.forEach((function(oldField){oldField.name===fieldName&&(oldField.settings=updateResult.settings,Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.m)(oldField))}))}},{key:"saveFieldChange",value:function saveFieldChange(fieldName,fields){var _this3=this;Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.c)(this.endpoint,this.envelopeId,fieldName,fields).then((function(updateResult){_this3.updateRecipientFieldValue(fieldName,updateResult)})).catch((function(e){var _a,_b,_c,_d,_e,_f;401===(null===(_a=e.response)||void 0===_a?void 0:_a.status)&&"jwt expired"===(null===(_c=null===(_b=e.response)||void 0===_b?void 0:_b.data)||void 0===_c?void 0:_c.error)?(console.log("[SIGN] Signing session expired"),_this3.errorMessage="Signing session expired. Please reload your browser to continue."):console.log("[SIGN] Server error",e),null===(_d=_this3.sdkError)||void 0===_d||_d.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_e=e.response)||void 0===_e?void 0:_e.status,null===(_f=e.response)||void 0===_f?void 0:_f.data))}))}},{key:"handleFieldChange",value:(_handleFieldChange=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(field,e){var _e$target,value,checked,options,_options,initialsBlob,signatureBlob,iso,_this4=this;return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:_e$target=e.target,value=_e$target.value,checked=_e$target.checked,_context5.t0=field.type,_context5.next="textbox"===_context5.t0?4:"checkbox_group"===_context5.t0?5:"radio_button_group"===_context5.t0?7:"dropdown"===_context5.t0?9:"initial"===_context5.t0?10:"signature"===_context5.t0?16:"date"===_context5.t0?22:"timestamp"===_context5.t0?24:26;break;case 4:return _context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:value}));case 5:return options=field.settings.options.map((function(option){return{id:option.id,checked:e.target.checked}})),_context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:{options:options}}));case 7:return _options=field.settings.options.map((function(option){return{id:option.id,selected:e.target.value===option.id}})),_context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:{options:_options}}));case 9:return _context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:e.detail}));case 10:return _context5.next=12,fetch(e.detail);case 12:return _context5.next=14,_context5.sent.blob();case 14:return initialsBlob=_context5.sent,_context5.abrupt("return",createInitials(this.endpoint,"initial",initialsBlob).then(function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(newInitials){var updateResult;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.e)(_this4.endpoint,_this4.envelopeId,field.name,newInitials.id);case 2:updateResult=_context3.sent,_this4.updateRecipientFieldValue(field.name,updateResult);case 4:case"end":return _context3.stop()}}),_callee3)})));return function(_x4){return _ref.apply(this,arguments)}}()));case 16:return _context5.next=18,fetch(e.detail);case 18:return _context5.next=20,_context5.sent.blob();case 20:return signatureBlob=_context5.sent,_context5.abrupt("return",createSignature(this.endpoint,"signature",signatureBlob).then(function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(newSignature){var updateResult;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.d)(_this4.endpoint,_this4.envelopeId,field.name,newSignature.id);case 2:updateResult=_context4.sent,_this4.updateRecipientFieldValue(field.name,updateResult);case 4:case"end":return _context4.stop()}}),_callee4)})));return function(_x5){return _ref2.apply(this,arguments)}}()));case 22:return iso=e.target.getAttribute("iso"),_context5.abrupt("return",this.saveFieldChange(field.name,{prepared:!1,value:iso}));case 24:return console.log("Updating timestamp",{value:value,ts:e.target.getAttribute("timestamp")}),_context5.abrupt("break",28);case 26:return console.log("Unhandled field update",{value:value,checked:checked},field),_context5.abrupt("break",28);case 28:case"end":return _context5.stop()}}),_callee5,this)}))),function handleFieldChange(_x2,_x3){return _handleFieldChange.apply(this,arguments)})},{key:"isFieldValid",value:function isFieldValid(field){var _a,_b,_c,_d,_e,_f,_g,_field$required=field.required,required=void 0!==_field$required&&_field$required,_ref3=field.settings||{},_ref3$result=_ref3.result,result=void 0===_ref3$result?"":_ref3$result,_ref3$value=_ref3.value,value=void 0===_ref3$value?"":_ref3$value,_ref3$base=_ref3.base64,base64=void 0===_ref3$base?"":_ref3$base;switch(field.type){case"textbox":switch((null===(_a=field.settings)||void 0===_a?void 0:_a.validator)||""){case"email":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_37__.b)(result);case"phone":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_37__.a)(result);default:return!required||""!==result}case"signature":case"initial":return!required||""!==base64;case"timestamp":return!0;case"textarea":case"date":case"attachment":return!required||""!==result;case"dropdown":return!required||""!==value;case"checkbox_group":var checkedCount=((null===(_c=null===(_b=field.settings)||void 0===_b?void 0:_b.options)||void 0===_c?void 0:_c.filter((function(option){return option.checked})))||[]).length;return!required||checkedCount>=((null===(_d=field.settings)||void 0===_d?void 0:_d.minimum_checked)||0)&&checkedCount<=((null===(_e=field.settings)||void 0===_e?void 0:_e.maximum_checked)||999);case"radio_button_group":return!required||((null===(_g=null===(_f=field.settings)||void 0===_f?void 0:_f.options)||void 0===_g?void 0:_g.filter((function(option){return option.selected})))||[]).length>0;default:return!1}}},{key:"handleNext",value:(_handleNext=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var _a,result,requiredFields,focusedIndex,nextFocusedIndex,nextRequiredField,skips,id,el,_this5=this;return _regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!this.nextSubmits){_context6.next=14;break}return _context6.prev=1,_context6.next=4,envelopeRecipientSubmit(this.endpoint,this.envelopeId,this.roleId);case 4:result=_context6.sent,console.log("[SIGN] Submitted successfully",result),this.showDone=!0,this.isDone=!0,_context6.next=13;break;case 10:_context6.prev=10,_context6.t0=_context6.catch(1),console.log("Error submitting",_context6.t0);case 13:return _context6.abrupt("return");case 14:requiredFields=this.recipient.fields.filter((function(field){return field.required})),focusedIndex=requiredFields.findIndex((function(field){return field.name===_this5.focusedField})),(nextFocusedIndex=focusedIndex+1)>=requiredFields.length&&(nextFocusedIndex=0),nextRequiredField=requiredFields[nextFocusedIndex],(skips=0)<requiredFields.length&&["signature","initial"].includes(nextRequiredField.type)&&"signed"===(null===(_a=nextRequiredField.settings)||void 0===_a?void 0:_a.result)&&(skips++,++nextFocusedIndex>=requiredFields.length&&(nextFocusedIndex=0),nextRequiredField=requiredFields[nextFocusedIndex]),skips>=requiredFields.length&&(nextRequiredField=null),nextRequiredField&&(id=Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.f)(nextRequiredField),null==(el=document.getElementById(id))||el.focusField(),this.focusedField=nextRequiredField.name);case 23:case"end":return _context6.stop()}}),_callee6,this,[[1,10]])}))),function handleNext(){return _handleNext.apply(this,arguments)})},{key:"checkRecipientFields",value:function checkRecipientFields(){var _this6=this,invalidFields=this.recipient.fields.filter((function(field){return!_this6.isFieldValid(field)}));invalidFields.length<1?(this.nextButtonLabel="Finish",this.nextSubmits=!0):(console.log("[SIGN] Remaining invalid fields",invalidFields),this.nextButtonLabel="Next",this.nextSubmits=!1)}},{key:"attachFieldAttributes",value:function attachFieldAttributes(pageInfo,field,roleIndex,el){var _a,_this7=this;el.addEventListener("input",(function(){return _this7.checkRecipientFields()})),el.addEventListener("focusout",(function(e){return _this7.handleFieldChange(field,e).finally((function(){return _this7.checkRecipientFields()}))})),el.addEventListener("fieldChange",(function(e){return _this7.handleFieldChange(field,e).finally((function(){return _this7.checkRecipientFields()}))})),el.setAttribute("roleindex",roleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale),el.setAttribute("initials",this.recipient?Object(_Primitives_054bc6e5_js__WEBPACK_IMPORTED_MODULE_38__.a)(this.recipient.full_name):""),el.setAttribute("name",(null===(_a=this.recipient)||void 0===_a?void 0:_a.full_name)||"")}},{key:"handlePageRendered",value:function handlePageRendered(e){var _this8=this,pageInfo=e.detail,roleIndex=Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.a)(_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.roleNames,this.recipient.role_name),recipientFields=this.recipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Page rendered, updating fields",{pageInfo:pageInfo,roleIndex:roleIndex,recipientFields:recipientFields}),recipientFields.forEach((function(field){var el=Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.j)(field,pageInfo,roleIndex,{disabled:!1,editable:!1,draggable:!1,done:_this8.isDone});el&&(Array.isArray(el)?el.map((function(e){return _this8.attachFieldAttributes(pageInfo,field,roleIndex,e)})):_this8.attachFieldAttributes(pageInfo,field,roleIndex,el))})),_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.recipients.filter((function(recipient){return recipient.role_name!==_this8.recipient.role_name})).forEach((function(otherRecipient){var otherRoleIndex=Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.a)(_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.roleNames,otherRecipient.role_name);otherRecipient.fields.filter((function(field){return field.page===pageInfo.pageNumber})).forEach((function(field){var el=Object(_utils_06d58b15_js__WEBPACK_IMPORTED_MODULE_35__.j)(field,pageInfo,otherRoleIndex,{disabled:!0,editable:!1,draggable:!1,done:_this8.isDone});el&&el.setAttribute&&(el.setAttribute("roleindex",otherRoleIndex),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale))}))})),this.checkRecipientFields()}},{key:"render",value:function render(){var _this9=this;return _Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.loading||!_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-loader",null)):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.b,{class:{agreed:this.agreed}},!this.isDone&&!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"intro"},"Please review and act on these documents."),!this.isDone&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"header"},this.agreed?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.a,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("img",{src:"https://verdocs.com/assets/white-logo.svg",alt:"Verdocs Logo",class:"logo"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"title"},_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.name),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{style:{flex:"1"}})):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"agree"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-checkbox",{name:"agree",label:"I agree to use electronic records and signatures.",onInput:function onInput(){return _this9.handleClickAgree()}})),!this.isDone&&!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-button",{size:"small",label:this.nextButtonLabel,disabled:!this.agreed,onClick:function onClick(){return _this9.handleNext()}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{style:{marginLeft:"10px"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-dropdown",{options:this.isDone||this.finishLater?doneMenuOptions:inProgressMenuOptions,onOptionSelected:function onOptionSelected(e){return _this9.handleOptionSelected(e)}})),this.isDone||this.agreed?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{style:{display:"none"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"cover"}),this.isDone?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-view",{endpoint:this.endpoint,envelopeId:this.envelopeId,onSdkError:function onSdkError(e){var _a;return null===(_a=_this9.sdkError)||void 0===_a?void 0:_a.emit(e.detail)}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("div",{class:"document"},(_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.envelope.documents||[]).map((function(envelopeDocument){var pages=_toConsumableArray((null==envelopeDocument?void 0:envelopeDocument.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.a,null,pages.map((function(page){var _a,templatePage=null===(_a=_Envelopes_779de57c_js__WEBPACK_IMPORTED_MODULE_40__.b.template)||void 0===_a?void 0:_a.pages.find((function(p){return p.sequence===page.sequence}));return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-document-page",{pageImageUri:(null==templatePage?void 0:templatePage.display_uri)||page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,onPageRendered:function onPageRendered(e){return _this9.handlePageRendered(e)},layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})})))}))),this.showFinishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-ok-dialog",{heading:"You've saved your document to finish later.",message:"To complete the "+this.documentsSingularPlural+", use the link in the original email notification inviting you to review and finish the document.",onNext:function onNext(){return _this9.showFinishLater=!1}}),this.errorMessage&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-ok-dialog",{heading:"Network Error",message:this.errorMessage,onNext:function onNext(){return _this9.errorMessage=""}}),this.showDone&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_34__.h)("verdocs-ok-dialog",{heading:"You're Done!",message:"You can access the "+this.documentsSingularPlural+" at any time by clicking on the link from the invitation email.<br /><br />After all recipients have completed their actions, you will receive an email with the document and envelope certificate attached.",onNext:function onNext(){return _this9.showDone=!1}}))}}]),VerdocsSign}();VerdocsSign.style='verdocs-sign{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-sign div{display:block;-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-sign input{vertical-align:top}verdocs-sign .header{color:#fff;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex:0 0 56px;flex:0 0 56px;padding:0 15px;font-size:12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-webkit-transition:all 0.25s;transition:all 0.25s;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}verdocs-sign .header .logo{width:80px;display:none;margin:-6px 0 0 10px}verdocs-sign .header .title{padding-left:16px;font-size:18px;font-weight:500;text-overflow:ellipsis;white-space:nowrap}verdocs-sign .intro{width:100%;display:-ms-flexbox;display:flex;-ms-flex:0 0 60px;flex:0 0 60px;color:#111111;padding:0 15px;font-size:18px;font-weight:500;line-height:28px;-ms-flex-direction:row;flex-direction:row;background:#ffffff;-ms-flex-align:center;align-items:center}verdocs-sign .cover{top:0;left:0;right:0;bottom:0;z-index:999;position:absolute;background:rgba(0, 0, 0, 0.5)}verdocs-sign>.document{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}verdocs-sign>.document .inner{width:100%;max-width:1028px}verdocs-sign .agree{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding:0 15px}verdocs-sign .agree .intro{display:none}verdocs-sign .agree .header{-ms-flex:0 0 56px;flex:0 0 56px}@media print{verdocs-sign .header{display:none}}'},"./node_modules/core-js/modules/es.array.reduce.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$reduce=__webpack_require__("./node_modules/core-js/internals/array-reduce.js").left,arrayMethodIsStrict=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js"),CHROME_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js");$({target:"Array",proto:!0,forced:!arrayMethodIsStrict("reduce")||!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83},{reduce:function reduce(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.promise.finally.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),promiseResolve=__webpack_require__("./node_modules/core-js/internals/promise-resolve.js"),defineBuiltIn=__webpack_require__("./node_modules/core-js/internals/define-built-in.js"),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($({target:"Promise",proto:!0,real:!0,forced:!!NativePromiseConstructor&&fails((function(){NativePromisePrototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction=isCallable(onFinally);return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then((function(){return x}))}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then((function(){throw e}))}:onFinally)}}),!IS_PURE&&isCallable(NativePromiseConstructor)){var method=getBuiltIn("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn(NativePromisePrototype,"finally",method,{unsafe:!0})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9FbnZlbG9wZXMtNzc5ZGU1N2MuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vUHJpbWl0aXZlcy0wNTRiYzZlNS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9UZW1wbGF0ZXMtMDYzOGIxZTQuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vVmFsaWRhdG9ycy1mMTEwYmFlMi5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9lcnJvcnMtOWI1NDk4YzguanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vaW5kZXgtZmQ3YjhhMzQuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdmVyZG9jcy1zaWduLmVudHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5LmpzIl0sIm5hbWVzIjpbImkiLCJjcmVhdGVTdG9yZSIsImVudmVsb3BlIiwidGVtcGxhdGUiLCJsb2FkUHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZXJyb3IiLCJyb2xlTmFtZXMiLCJkaXJ0eSIsInN0YXRlIiwib25DaGFuZ2UiLCJuZXdFbnZlbG9wZSIsImNvbnNvbGUiLCJsb2ciLCJyZWNpcGllbnRzIiwibWFwIiwicmVjaXBpZW50Iiwicm9sZV9uYW1lIiwiZ2V0RW52ZWxvcGVCeUlkIiwiZW5kcG9pbnQiLCJlbnZlbG9wZUlkIiwiX2EiLCJpZCIsImdldEVudmVsb3BlIiwiZ2V0VGVtcGxhdGUiLCJ0ZW1wbGF0ZV9pZCIsIl9iIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJtZXNzYWdlIiwiaW50ZWdlclNlcXVlbmNlIiwic3RhcnQiLCJjb3VudCIsIkFycmF5IiwiZmlsbCIsIl8iLCJpbmRleCIsImZ1bGxOYW1lVG9Jbml0aWFscyIsIm5hbWUiLCJzcGxpdCIsIndvcmQiLCJqb2luIiwiZ2V0VGVtcGxhdGVzIiwicGFyYW1zIiwiYXBpIiwicG9zdCIsInRoZW4iLCJyIiwiZGF0YSIsInRlbXBsYXRlSWQiLCJzc3IiLCJnZXQiLCJjb25jYXQiLCJjcmVhdGVUZW1wbGF0ZSIsIkVNQUlMX1JFR0VYIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJ0ZXN0IiwiUEhPTkVfUkVHRVgiLCJpc1ZhbGlkUGhvbmUiLCJwaG9uZSIsIlNES0Vycm9yIiwic3RhdHVzQ29kZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiRXJyb3IiLCJpc0Nvbm5lY3RlZCIsIm1heWJlRWxlbWVudCIsImNsZWFudXBFbGVtZW50cyIsImRlYm91bmNlIiwiZm4iLCJtcyIsInRpbWVvdXRJZCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwia2V5cyIsImtleSIsInNldCIsImZpbHRlciIsInVud3JhcCIsInZhbCIsInJlbW92ZUZyb21BcnJheSIsImFycmF5IiwiaXRlbSIsImluZGV4T2YiLCJsZW5ndGgiLCJkZWZhdWx0U3RhdGUiLCJzaG91bGRVcGRhdGUiLCJjcmVhdGVPYnNlcnZhYmxlTWFwIiwiYSIsImIiLCJ1bndyYXBwZWRTdGF0ZSIsInN0YXRlcyIsIk1hcCIsImVudHJpZXMiLCJoYW5kbGVycyIsImRpc3Bvc2UiLCJyZXNldCIsImZvckVhY2giLCJjYiIsInByb3BOYW1lIiwidmFsdWUiLCJvbGRWYWx1ZSIsIlByb3h5Iiwib3duS2V5cyIsImZyb20iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiaGFzIiwib24iLCJldmVudE5hbWUiLCJjYWxsYmFjayIsInB1c2giLCJ1blNldCIsIm5ld1ZhbHVlIiwidW5SZXNldCIsInVzZSIsInN1YnNjcmlwdGlvbnMiLCJ1bnN1YnMiLCJyZWR1Y2UiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YiIsImZvcmNlVXBkYXRlIiwic3RlbmNpbFN1YnNjcmlwdGlvbiIsImdldFJlbmRlcmluZ1JlZiIsImVsbXNUb1VwZGF0ZSIsImNsZWFyIiwiZWxtIiwiYXBwZW5kVG9NYXAiLCJpdGVtcyIsImluY2x1ZGVzIiwiZWxlbWVudHMiLCJlbG1zIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJhZG9wdCIsImFwcGx5IiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJ0IiwiZyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJ1cGRhdGVSZWNpcGllbnQiLCJyb2xlTmFtZSIsInB1dCIsImVudmVsb3BlUmVjaXBpZW50U3VibWl0IiwiYWN0aW9uIiwiZW52ZWxvcGVSZWNpcGllbnREZWNsaW5lIiwiY3JlYXRlU2lnbmF0dXJlIiwic2lnbmF0dXJlIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJjcmVhdGVJbml0aWFscyIsImluaXRpYWxzIiwiaW5Qcm9ncmVzc01lbnVPcHRpb25zIiwiZG9uZU1lbnVPcHRpb25zIiwiVmVyZG9jc1NpZ24iLCJob3N0UmVmIiwicmVnaXN0ZXJJbnN0YW5jZSIsInNka0Vycm9yIiwiY3JlYXRlRXZlbnQiLCJlbnZlbG9wZUxvYWRlZCIsImVudmVsb3BlVXBkYXRlZCIsInJlY2lwaWVudEluZGV4Iiwicm9sZUlkIiwiaW52aXRlQ29kZSIsInNpZ25lclRva2VuIiwiaGFzU2lnbmF0dXJlIiwibmV4dEJ1dHRvbkxhYmVsIiwibmV4dFN1Ym1pdHMiLCJlcnJvck1lc3NhZ2UiLCJmb2N1c2VkRmllbGQiLCJpc0RvbmUiLCJzaG93RG9uZSIsImZpbmlzaExhdGVyIiwic2hvd0ZpbmlzaExhdGVyIiwiYWdyZWVkIiwiZG9jdW1lbnRzU2luZ3VsYXJQbHVyYWwiLCJjb21wb25lbnRXaWxsTG9hZCIsIlZlcmRvY3NFbmRwb2ludCIsInNlc3Npb25UeXBlIiwiZW1pdCIsIl9jIiwiZ2V0U2lnbmluZ1Nlc3Npb24iLCJzZXNzaW9uIiwicHJvZmlsZV9pZCIsInNldFRva2VuIiwiZG9jdW1lbnRzIiwiZmluZEluZGV4IiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJoYW5kbGVDbGlja0FncmVlIiwiZW52ZWxvcGVSZWNpcGllbnRBZ3JlZSIsImV2ZW50IiwiZGV0YWlsIiwid2luZG93IiwiYWxlcnQiLCJkZWNsaW5lUmVzdWx0IiwicHJpbnQiLCJzYXZlUERGIiwiZW52ZWxvcGVfZG9jdW1lbnRfaWQiLCJ1cGRhdGVSZWNpcGllbnRGaWVsZFZhbHVlIiwiZmllbGROYW1lIiwidXBkYXRlUmVzdWx0IiwiZmllbGRzIiwib2xkRmllbGQiLCJzZXR0aW5ncyIsInVwZGF0ZURvY3VtZW50RmllbGRWYWx1ZSIsInNhdmVGaWVsZENoYW5nZSIsInVwZGF0ZUVudmVsb3BlRmllbGQiLCJmaWVsZCIsInRhcmdldCIsImNoZWNrZWQiLCJ0eXBlIiwicHJlcGFyZWQiLCJvcHRpb25zIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJmZXRjaCIsImJsb2IiLCJpbml0aWFsc0Jsb2IiLCJuZXdJbml0aWFscyIsInVwZGF0ZUVudmVsb3BlRmllbGRJbml0aWFscyIsInNpZ25hdHVyZUJsb2IiLCJuZXdTaWduYXR1cmUiLCJ1cGRhdGVFbnZlbG9wZUZpZWxkU2lnbmF0dXJlIiwiaXNvIiwiZ2V0QXR0cmlidXRlIiwidHMiLCJpc0ZpZWxkVmFsaWQiLCJyZXF1aXJlZCIsImJhc2U2NCIsInZhbGlkYXRvciIsImNoZWNrZWRDb3VudCIsIm1pbmltdW1fY2hlY2tlZCIsIm1heGltdW1fY2hlY2tlZCIsInJlcXVpcmVkRmllbGRzIiwiZm9jdXNlZEluZGV4IiwibmV4dEZvY3VzZWRJbmRleCIsIm5leHRSZXF1aXJlZEZpZWxkIiwic2tpcHMiLCJnZXRGaWVsZElkIiwiZWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXNGaWVsZCIsImNoZWNrUmVjaXBpZW50RmllbGRzIiwiaW52YWxpZEZpZWxkcyIsImF0dGFjaEZpZWxkQXR0cmlidXRlcyIsInBhZ2VJbmZvIiwicm9sZUluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUZpZWxkQ2hhbmdlIiwic2V0QXR0cmlidXRlIiwieFNjYWxlIiwieVNjYWxlIiwiZnVsbF9uYW1lIiwiaGFuZGxlUGFnZVJlbmRlcmVkIiwiZ2V0Um9sZUluZGV4IiwicmVjaXBpZW50RmllbGRzIiwicGFnZSIsInBhZ2VOdW1iZXIiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZGlzYWJsZWQiLCJlZGl0YWJsZSIsImRyYWdnYWJsZSIsImlzQXJyYXkiLCJvdGhlclJlY2lwaWVudCIsIm90aGVyUm9sZUluZGV4IiwicmVuZGVyIiwiaCIsIkhvc3QiLCJjbGFzcyIsIkZyYWdtZW50Iiwic3JjIiwiYWx0Iiwic3R5bGUiLCJmbGV4Iiwib25JbnB1dCIsInNpemUiLCJvbkNsaWNrIiwiaGFuZGxlTmV4dCIsIm1hcmdpbkxlZnQiLCJvbk9wdGlvblNlbGVjdGVkIiwiaGFuZGxlT3B0aW9uU2VsZWN0ZWQiLCJkaXNwbGF5Iiwib25TZGtFcnJvciIsImVudmVsb3BlRG9jdW1lbnQiLCJwYWdlcyIsInNvcnQiLCJzZXF1ZW5jZSIsInRlbXBsYXRlUGFnZSIsImZpbmQiLCJwIiwicGFnZUltYWdlVXJpIiwiZGlzcGxheV91cmkiLCJ2aXJ0dWFsV2lkdGgiLCJ2aXJ0dWFsSGVpZ2h0Iiwib25QYWdlUmVuZGVyZWQiLCJsYXllcnMiLCJoZWFkaW5nIiwib25OZXh0IiwiJCIsIiRyZWR1Y2UiLCJsZWZ0IiwiYXJyYXlNZXRob2RJc1N0cmljdCIsIkNIUk9NRV9WRVJTSU9OIiwiSVNfTk9ERSIsInByb3RvIiwiZm9yY2VkIiwiY2FsbGJhY2tmbiIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIklTX1BVUkUiLCJOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IiLCJmYWlscyIsImdldEJ1aWx0SW4iLCJpc0NhbGxhYmxlIiwic3BlY2llc0NvbnN0cnVjdG9yIiwicHJvbWlzZVJlc29sdmUiLCJkZWZpbmVCdWlsdEluIiwiTmF0aXZlUHJvbWlzZVByb3RvdHlwZSIsInJlYWwiLCJvbkZpbmFsbHkiLCJDIiwiaXNGdW5jdGlvbiIsIngiLCJtZXRob2QiLCJ1bnNhZmUiXSwibWFwcGluZ3MiOiI7ZzBFQUNBLDQyS0FBQUEsR0FBQSw4QkFBQUEsRUFBQSx5Q0FBQUEsR0FBQSwyQkFBQUEsR0FBQSx1cUZBQUFBLEVBQUEseUJBQUFBLEdBQUEsSUFBQUEsRUFBQSwyQkFBQUEsR0FBQSxvbEJBQUFBLEVBQUEseUJBQUFBLEdBQUEsSUFBQUEsRUFBQSwyQkFBQUEsR0FBQSw2eUJBQUFBLEVBQUEseUJBQUFBLEdBQUEsSUFBQUEsRUFBQSwyQkFBQUEsR0FBQSxxS0FBQUEsRUFBQSx5QkFBQUEsR0FBQSxJQUFBQSxFQUFBLDJCQUFBQSxHQUFBLGc4QkFJQSxpQkFBNEJDLDJEQUFZLENBQ3RDQyxTQUFVLEtBQ1ZDLFNBQVUsS0FDVkMsYUFBYyxFQUNkQyxTQUFTLEVBQ1RDLE1BQU8sR0FDUEMsVUFBVyxHQUNYQyxPQUFPLElBUERDLE1BQUssYUFBTEEsT0FTUkMsRUFUdUIsYUFBUkEsVUFTTixXQUFVLGtFQUFFLGlCQUFPQyxhQUFXLG9IQUNoQ0EsWUFBYSxDQUFGLHNCQU1TLE9BTHZCQyxRQUFRQyxJQUFJLHFDQUNaSixNQUFNRixVQUFZLEdBQ2xCRSxNQUFNRCxPQUFRLEVBQ2RDLE1BQU1KLFNBQVUsRUFDaEJJLE1BQU1ILE1BQVEsR0FDZEcsTUFBTUwsYUFBZSxFQUFFLGlDQUd6QlEsUUFBUUMsSUFBSSxrQ0FBbUNGLGFBQy9DRixNQUFNRixVQUFZSSxZQUFZRyxXQUFXQyxLQUFJLFNBQUFDLFdBQVMsT0FBSUEsVUFBVUMsU0FBUyxJQUM3RUwsUUFBUUMsSUFBSSwrQkFBZ0NKLE1BQU1GLFdBQVcseURBQzlELHVEQWJrQixJQWlCbkIsSUFBTVcsZ0JBQWUs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USxVQUFXaUcsT0FBTyxFQUFNYyxNQUFNLEVBQU1iLFNBUDVCSywwQkFBNEJDLE9BQU0sV0FFcERNLHVCQUFnQyxRQUFFdkwsS0FBSyxDQUFFN0gsS0FBTSxXQUEwQixJQUFLLFdBQTBCLEdBQzFHLEtBSXVFLENBQ3JFLFFBQVcsU0FBVXNULFdBQ25CLElBQUlDLEVBQUlOLG1CQUFtQnpMLEtBQU11TCxXQUFXLFlBQ3hDUyxXQUFhUixXQUFXTSxXQUM1QixPQUFPOUwsS0FBS3hILEtBQ1Z3VCxXQUFhLFNBQVVDLEdBQ3JCLE9BQU9QLGVBQWVLLEVBQUdELGFBQWF0VCxNQUFLLFdBQWMsT0FBT3lULENBQUcsR0FDckUsRUFBSUgsVUFDSkUsV0FBYSxTQUFVbk4sR0FDckIsT0FBTzZNLGVBQWVLLEVBQUdELGFBQWF0VCxNQUFLLFdBQWMsTUFBTXFHLENBQUcsR0FDcEUsRUFBSWlOLFVBRVIsS0FJR1YsU0FBV0ksV0FBV0gsMEJBQTJCLENBQ3BELElBQUlhLE9BQVNYLFdBQVcsV0FBVzVSLFVBQW1CLFFBQ2xEaVMsdUJBQWdDLFVBQU1NLFFBQ3hDUCxjQUFjQyx1QkFBd0IsVUFBV00sT0FBUSxDQUFFQyxRQUFRLEdBRXZFLEMiLCJmaWxlIjoiMTguZDY3M2UwMmUuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGggYXMgZ2V0RW52ZWxvcGUgfSBmcm9tICcuL3V0aWxzLTA2ZDU4YjE1LmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlU3RvcmUgfSBmcm9tICcuL2luZGV4LWZkN2I4YTM0LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0VGVtcGxhdGUgfSBmcm9tICcuL1RlbXBsYXRlcy0wNjM4YjFlNC5qcyc7XG5cbi8vIE5PVEU6IERvIG5vdCBhdHRlbXB0IHRvIGNvbnZlcnQgdGhpcyB0byBhIG5hbWVkLWV4cG9ydCBtb2R1bGUuIEl0IHRyaWdnZXJzIGNvbXBpbGF0aW9uIGlzc3VlcyBpbiBSb2xsdXAgdGhhdCBJIHNwZW50IGRheXMgdHJ5aW5nIHRvXG5jb25zdCB7IHN0YXRlLCBvbkNoYW5nZSB9ID0gY3JlYXRlU3RvcmUoe1xuICBlbnZlbG9wZTogbnVsbCxcbiAgdGVtcGxhdGU6IG51bGwsXG4gIGxvYWRQcm9ncmVzczogMCxcbiAgbG9hZGluZzogdHJ1ZSxcbiAgZXJyb3I6ICcnLFxuICByb2xlTmFtZXM6IFtdLFxuICBkaXJ0eTogZmFsc2UsXG59KTtcbm9uQ2hhbmdlKCdlbnZlbG9wZScsIGFzeW5jIChuZXdFbnZlbG9wZSkgPT4ge1xuICBpZiAoIW5ld0VudmVsb3BlKSB7XG4gICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNUT1JFXSBDbGVhcmluZyBlbnZlbG9wZScpO1xuICAgIHN0YXRlLnJvbGVOYW1lcyA9IFtdO1xuICAgIHN0YXRlLmRpcnR5ID0gZmFsc2U7XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLmVycm9yID0gJyc7XG4gICAgc3RhdGUubG9hZFByb2dyZXNzID0gMDtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNUT1JFXSBMb2FkZWQgZW52ZWxvcGUnLCBuZXdFbnZlbG9wZSk7XG4gIHN0YXRlLnJvbGVOYW1lcyA9IG5ld0VudmVsb3BlLnJlY2lwaWVudHMubWFwKHJlY2lwaWVudCA9PiByZWNpcGllbnQucm9sZV9uYW1lKTtcbiAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNUT1JFXSBMb2FkZWQgcm9sZXMnLCBzdGF0ZS5yb2xlTmFtZXMpO1xufSk7XG5cbi8vIEFsbG93cyBlbnZlbG9wZSBkYXRhIHRvIGJlIGNhY2hlZCBmb3IgcmV1c2UgYmV0d2VlbiBjb21wb25lbnRzLCB3aXRob3V0IHBhcmVudCBjb21wb25lbnRzIGhhdmluZyB0byBwcm9wLWRyaWxsIGVudGlyZSBlbnZlbG9wZXMgaW50b1xuLy8gY2hpbGQgZWxlbWVudHMuXG5jb25zdCBnZXRFbnZlbG9wZUJ5SWQgPSBhc3luYyAoZW5kcG9pbnQsIGVudmVsb3BlSWQpID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKCFlbnZlbG9wZUlkKSB7XG4gICAgY29uc29sZS5sb2coYFtFTlZFTE9QRVNdIE1pc3NpbmcgcmVxdWlyZWQgZW52ZWxvcGUgSURgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCgoX2EgPSBzdGF0ZS5lbnZlbG9wZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSA9PT0gZW52ZWxvcGVJZCkge1xuICAgIGNvbnNvbGUubG9nKGBbRU5WRUxPUEVTXSBTa2lwcGluZyBsb2FkIGZvciBhbHJlYWR5LWxvYWRlZCBlbnZlbG9wZSBJRGApO1xuICAgIHJldHVybjtcbiAgfVxuICBzdGF0ZS5lcnJvciA9ICcnO1xuICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgc3RhdGUuZW52ZWxvcGUgPSBudWxsO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBbRU5WRUxPUEVTXSBMb2FkaW5nIGVudmVsb3BlICR7ZW52ZWxvcGVJZH1gKTtcbiAgICBjb25zdCBlbnZlbG9wZSA9IGF3YWl0IGdldEVudmVsb3BlKGVuZHBvaW50LCBlbnZlbG9wZUlkLCB0cnVlKTtcbiAgICBpZiAoIWVudmVsb3BlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0VOVkVMT1BFU10gVW5hYmxlIHRvIGxvYWQgZW52ZWxvcGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhdGUuZW52ZWxvcGUgPSBlbnZlbG9wZTtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IGdldFRlbXBsYXRlKGVuZHBvaW50LCBlbnZlbG9wZS50ZW1wbGF0ZV9pZCwgdHJ1ZSk7XG4gICAgaWYgKCFlbnZlbG9wZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNdIFVuYWJsZSB0byBsb2FkIHRlbXBsYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXRlLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLmVycm9yID0gKChfYiA9IGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnN0YXR1cykgPT09IDQwMSA/ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgOiBlLm1lc3NhZ2U7XG4gICAgY29uc29sZS5sb2coJ1tFTlZFTE9QRVNdIEVycm9yIGxvYWRpbmcgZW52ZWxvcGUnLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5leHBvcnQgeyBnZXRFbnZlbG9wZUJ5SWQgYXMgZywgc3RhdGUgYXMgcyB9O1xuIiwiLyoqXG4gKiBDcmVhdGUgYW4gYXJyYXkgY29udGFpbmluZyBhIHNlcXVlbmNlIG9mIGludGVnZXJzLCBlLmcuIFtTVEFSVCwgU1RBUlQrMSwgU1RBUlQrMiwgLi4uXSBUaGlzIGlzIGZyZXF1ZW50bHkgdXNlZnVsXG4gKiBpbiByZW5kZXJpbmcgb3BlcmF0aW9ucyB3aGVuIHRoZXJlIGlzIG5vIHNvdXJjZSBhcnJheSB0byAubWFwKCkgYWNyb3NzLlxuICovXG52YXIgaW50ZWdlclNlcXVlbmNlID0gZnVuY3Rpb24gKHN0YXJ0LCBjb3VudCkge1xuICAgIHJldHVybiBBcnJheShjb3VudClcbiAgICAgICAgLmZpbGwoMSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHsgcmV0dXJuIGluZGV4ICsgc3RhcnQ7IH0pO1xufTtcbi8qKlxuICogR2VuZXJhdGUgc3VnZ2VzdGVkIGluaXRpYWxzIGZvciBhIGZ1bGwgbmFtZSwgZS5nLiBcIkpvaG4gRG9lXCIgd2lsbCB5aWVsZCBcIkpEXCIuXG4gKi9cbnZhciBmdWxsTmFtZVRvSW5pdGlhbHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHdvcmQpIHsgcmV0dXJuIHdvcmRbMF07IH0pXG4gICAgICAgIC5qb2luKCcnKTtcbn07XG5cbmV4cG9ydCB7IGZ1bGxOYW1lVG9Jbml0aWFscyBhcyBmLCBpbnRlZ2VyU2VxdWVuY2UgYXMgaSB9O1xuIiwiLyoqXG4gKiBBIFRlbXBsYXRlIGRlZmluZXMgaG93IGEgVmVyZG9jcyBzaWduaW5nIGZsb3cgd2lsbCBiZSBwZXJmb3JtZWQsIGluY2x1ZGluZyBhdHRhY2htZW50cywgc2lnbmluZyBmaWVsZHMsIGFuZFxuICogcmVjaXBpZW50cy5cbiAqXG4gKiBAbW9kdWxlXG4gKi9cbi8qKlxuICogR2V0IGFsbCB0ZW1wbGF0ZXMgYWNjZXNzaWJsZSBieSB0aGUgY2FsbGVyLCB3aXRoIG9wdGlvbmFsIGZpbHRlcnMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCkpO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19zdGFycmVkOiB0cnVlIH0pO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19jcmVhdG9yOiB0cnVlIH0pO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19vcmdhbml6YXRpb246IHRydWUgfSk7XG4gKiBgYGBcbiAqL1xudmFyIGdldFRlbXBsYXRlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcycsIHsgcGFyYW1zOiBwYXJhbXMgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb25lIHRlbXBsYXRlIGJ5IGl0cyBJRC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG52YXIgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIHNzcikge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQpICsgKHNzciA/ICc/c3NyPXRydWUnIDogJycpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIENyZWF0ZSBhIHRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCBuZXdUZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5jcmVhdGVUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgey4uLn0pO1xuICogYGBgXG4gKi9cbnZhciBjcmVhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcy8nLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcblxuZXhwb3J0IHsgZ2V0VGVtcGxhdGVzIGFzIGEsIGNyZWF0ZVRlbXBsYXRlIGFzIGMsIGdldFRlbXBsYXRlIGFzIGcgfTtcbiIsIi8qKlxuICogR2V0IGFsbCBkZWZpbmVkIHZhbGlkYXRvcnNcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0RvY3VtZW50c30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgRG9jdW1lbnRzLmdldERvY3VtZW50cyh0ZW1wbGF0ZUlEKTtcbiAqIGBgYFxuICovXG52YXIgRU1BSUxfUkVHRVggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbnZhciBpc1ZhbGlkRW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHsgcmV0dXJuICEhZW1haWwgJiYgRU1BSUxfUkVHRVgudGVzdChlbWFpbCk7IH07XG4vLyBAc2VlIGh0dHBzOi8vd3d3LnJlZ2V4dGVzdGVyLmNvbS8xOTc4XG52YXIgUEhPTkVfUkVHRVggPSAvKCg/OlxcK3wwMClbMTddKD86IHxcXC0pP3woPzpcXCt8MDApWzEtOV1cXGR7MCwyfSg/OiB8XFwtKT98KD86XFwrfDAwKTFcXC1cXGR7M30oPzogfFxcLSk/KT8oMFxcZHxcXChbMC05XXszfVxcKXxbMS05XXswLDN9KSg/OigoPzogfFxcLSlbMC05XXsyfSl7NH18KCg/OlswLTldezJ9KXs0fSl8KCg/OiB8XFwtKVswLTldezN9KD86IHxcXC0pWzAtOV17NH0pfChbMC05XXs3fSkpLztcbnZhciBpc1ZhbGlkUGhvbmUgPSBmdW5jdGlvbiAocGhvbmUpIHsgcmV0dXJuICEhcGhvbmUgJiYgUEhPTkVfUkVHRVgudGVzdChwaG9uZSk7IH07XG5cbmV4cG9ydCB7IGlzVmFsaWRQaG9uZSBhcyBhLCBpc1ZhbGlkRW1haWwgYXMgaSB9O1xuIiwiLyoqXG4gKiBQYXNzZWQgdG8gcGFyZW50IGNvbXBvbmVudHMgaW4gY2VydGFpbiBjYWxsYmFja3Mgd2l0aCB0aGUgbG93ZXItbGV2ZWwgSlMtU0RLIGVtaXRzIGFuIGVycm9yXG4gKi9cbmNsYXNzIFNES0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXNDb2RlLCByZXNwb25zZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1NESyBFcnJvcicpO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU0RLRXJyb3IgYXMgUyB9O1xuIiwiaW1wb3J0IHsgZyBhcyBnZXRSZW5kZXJpbmdSZWYsIGYgYXMgZm9yY2VVcGRhdGUgfSBmcm9tICcuL2luZGV4LWY3OGQxNjNkLmpzJztcblxuY29uc3QgYXBwZW5kVG9NYXAgPSAobWFwLCBwcm9wTmFtZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBpdGVtcyA9IG1hcC5nZXQocHJvcE5hbWUpO1xuICAgIGlmICghaXRlbXMpIHtcbiAgICAgICAgbWFwLnNldChwcm9wTmFtZSwgW3ZhbHVlXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpdGVtcy5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgaXRlbXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufTtcbmNvbnN0IGRlYm91bmNlID0gKGZuLCBtcykgPT4ge1xuICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGltZW91dElkID0gMDtcbiAgICAgICAgICAgIGZuKC4uLmFyZ3MpO1xuICAgICAgICB9LCBtcyk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwb3NzaWJsZSBlbGVtZW50IGlzQ29ubmVjdGVkLlxuICogVGhlIHByb3BlcnR5IG1pZ2h0IG5vdCBiZSB0aGVyZSwgc28gd2UgY2hlY2sgZm9yIGl0LlxuICpcbiAqIFdlIHdhbnQgaXQgdG8gcmV0dXJuIHRydWUgaWYgaXNDb25uZWN0ZWQgaXMgbm90IGEgcHJvcGVydHksXG4gKiBvdGhlcndpc2Ugd2Ugd291bGQgcmVtb3ZlIHRoZXNlIGVsZW1lbnRzIGFuZCB3b3VsZCBub3QgdXBkYXRlLlxuICpcbiAqIEJldHRlciBsZWFrIGluIEVkZ2UgdGhhbiB0byBiZSB1c2VsZXNzLlxuICovXG5jb25zdCBpc0Nvbm5lY3RlZCA9IChtYXliZUVsZW1lbnQpID0+ICEoJ2lzQ29ubmVjdGVkJyBpbiBtYXliZUVsZW1lbnQpIHx8IG1heWJlRWxlbWVudC5pc0Nvbm5lY3RlZDtcbmNvbnN0IGNsZWFudXBFbGVtZW50cyA9IGRlYm91bmNlKChtYXApID0+IHtcbiAgICBmb3IgKGxldCBrZXkgb2YgbWFwLmtleXMoKSkge1xuICAgICAgICBtYXAuc2V0KGtleSwgbWFwLmdldChrZXkpLmZpbHRlcihpc0Nvbm5lY3RlZCkpO1xuICAgIH1cbn0sIDIwMDApO1xuY29uc3Qgc3RlbmNpbFN1YnNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdldFJlbmRlcmluZ1JlZiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IGluIGEgc3RlbmNpbCBwcm9qZWN0LCB3ZSBkbyBub3RoaW5nLlxuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIG5vdCByZWFsbHkgZXhwb3J0ZWQgYnkgQHN0ZW5jaWwvY29yZS5cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBlbG1zVG9VcGRhdGUgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzcG9zZTogKCkgPT4gZWxtc1RvVXBkYXRlLmNsZWFyKCksXG4gICAgICAgIGdldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbG0gPSBnZXRSZW5kZXJpbmdSZWYoKTtcbiAgICAgICAgICAgIGlmIChlbG0pIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUb01hcChlbG1zVG9VcGRhdGUsIHByb3BOYW1lLCBlbG0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IChwcm9wTmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBlbG1zVG9VcGRhdGUuZ2V0KHByb3BOYW1lKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5zZXQocHJvcE5hbWUsIGVsZW1lbnRzLmZpbHRlcihmb3JjZVVwZGF0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cEVsZW1lbnRzKGVsbXNUb1VwZGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBlbG1zVG9VcGRhdGUuZm9yRWFjaCgoZWxtcykgPT4gZWxtcy5mb3JFYWNoKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuY29uc3QgdW53cmFwID0gKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicgPyB2YWwoKSA6IHZhbCk7XG5jb25zdCBjcmVhdGVPYnNlcnZhYmxlTWFwID0gKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlID0gKGEsIGIpID0+IGEgIT09IGIpID0+IHtcbiAgICBjb25zdCB1bndyYXBwZWRTdGF0ZSA9IHVud3JhcChkZWZhdWx0U3RhdGUpO1xuICAgIGxldCBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHVud3JhcHBlZFN0YXRlICE9PSBudWxsICYmIHVud3JhcHBlZFN0YXRlICE9PSB2b2lkIDAgPyB1bndyYXBwZWRTdGF0ZSA6IHt9KSk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgICAgIGRpc3Bvc2U6IFtdLFxuICAgICAgICBnZXQ6IFtdLFxuICAgICAgICBzZXQ6IFtdLFxuICAgICAgICByZXNldDogW10sXG4gICAgfTtcbiAgICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBXaGVuIHJlc2V0dGluZyB0aGUgc3RhdGUsIHRoZSBkZWZhdWx0IHN0YXRlIG1heSBiZSBhIGZ1bmN0aW9uIC0gdW53cmFwIGl0IHRvIGludm9rZSBpdC5cbiAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgc3RhdGUgd29uJ3QgYmUgcHJvcGVybHkgcmVzZXRcbiAgICAgICAgc3RhdGVzID0gbmV3IE1hcChPYmplY3QuZW50cmllcygoX2EgPSB1bndyYXAoZGVmYXVsdFN0YXRlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKTtcbiAgICAgICAgaGFuZGxlcnMucmVzZXQuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICAgIH07XG4gICAgY29uc3QgZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgLy8gQ2FsbCBmaXJzdCBkaXNwb3NlIGFzIHJlc2V0dGluZyB0aGUgc3RhdGUgd291bGRcbiAgICAgICAgLy8gY2F1c2UgbGVzcyB1cGRhdGVzIDspXG4gICAgICAgIGhhbmRsZXJzLmRpc3Bvc2UuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICAgICAgICByZXNldCgpO1xuICAgIH07XG4gICAgY29uc3QgZ2V0ID0gKHByb3BOYW1lKSA9PiB7XG4gICAgICAgIGhhbmRsZXJzLmdldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUpKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlcy5nZXQocHJvcE5hbWUpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0ID0gKHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHN0YXRlcy5nZXQocHJvcE5hbWUpO1xuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKHZhbHVlLCBvbGRWYWx1ZSwgcHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBzdGF0ZXMuc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICBoYW5kbGVycy5zZXQuZm9yRWFjaCgoY2IpID0+IGNiKHByb3BOYW1lLCB2YWx1ZSwgb2xkVmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3RhdGUgPSAodHlwZW9mIFByb3h5ID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHt9XG4gICAgICAgIDogbmV3IFByb3h5KHVud3JhcHBlZFN0YXRlLCB7XG4gICAgICAgICAgICBnZXQoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHByb3BOYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvd25LZXlzKF8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZXMua2V5cygpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzKF8sIHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlcy5oYXMocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldChfLCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCBvbiA9IChldmVudE5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkoaGFuZGxlcnNbZXZlbnROYW1lXSwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3Qgb25DaGFuZ2UgPSAocHJvcE5hbWUsIGNiKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuU2V0ID0gb24oJ3NldCcsIChrZXksIG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIGNiKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdW53cmFwIHRoZSBkZWZhdWx0U3RhdGUgYmVjYXVzZSBpdCBtaWdodCBiZSBhIGZ1bmN0aW9uLlxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgbWlnaHQgbm90IGJlIHNlbmRpbmcgdGhlIHJpZ2h0IHJlc2V0IHZhbHVlLlxuICAgICAgICBjb25zdCB1blJlc2V0ID0gb24oJ3Jlc2V0JywgKCkgPT4gY2IodW53cmFwKGRlZmF1bHRTdGF0ZSlbcHJvcE5hbWVdKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1blNldCgpO1xuICAgICAgICAgICAgdW5SZXNldCgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXNlID0gKC4uLnN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgdW5zdWJzID0gc3Vic2NyaXB0aW9ucy5yZWR1Y2UoKHVuc3Vicywgc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLnNldCkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdzZXQnLCBzdWJzY3JpcHRpb24uc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmdldCkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdnZXQnLCBzdWJzY3JpcHRpb24uZ2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLnJlc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3Jlc2V0Jywgc3Vic2NyaXB0aW9uLnJlc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbignZGlzcG9zZScsIHN1YnNjcmlwdGlvbi5kaXNwb3NlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5zdWJzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnMuZm9yRWFjaCgodW5zdWIpID0+IHVuc3ViKCkpO1xuICAgIH07XG4gICAgY29uc3QgZm9yY2VVcGRhdGUgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChrZXkpO1xuICAgICAgICBoYW5kbGVycy5zZXQuZm9yRWFjaCgoY2IpID0+IGNiKGtleSwgb2xkVmFsdWUsIG9sZFZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0ZSxcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXQsXG4gICAgICAgIG9uLFxuICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgdXNlLFxuICAgICAgICBkaXNwb3NlLFxuICAgICAgICByZXNldCxcbiAgICAgICAgZm9yY2VVcGRhdGUsXG4gICAgfTtcbn07XG5jb25zdCByZW1vdmVGcm9tQXJyYXkgPSAoYXJyYXksIGl0ZW0pID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgICAgIGFycmF5Lmxlbmd0aC0tO1xuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZVN0b3JlID0gKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKSA9PiB7XG4gICAgY29uc3QgbWFwID0gY3JlYXRlT2JzZXJ2YWJsZU1hcChkZWZhdWx0U3RhdGUsIHNob3VsZFVwZGF0ZSk7XG4gICAgbWFwLnVzZShzdGVuY2lsU3Vic2NyaXB0aW9uKCkpO1xuICAgIHJldHVybiBtYXA7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVTdG9yZSBhcyBjIH07XG4iLCJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCwgRiBhcyBGcmFnbWVudCB9IGZyb20gJy4vaW5kZXgtZjc4ZDE2M2QuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRTaWduaW5nU2Vzc2lvbiwgcyBhcyBzYXZlUERGLCB1IGFzIHVwZGF0ZURvY3VtZW50RmllbGRWYWx1ZSwgYyBhcyB1cGRhdGVFbnZlbG9wZUZpZWxkLCBkIGFzIHVwZGF0ZUVudmVsb3BlRmllbGRTaWduYXR1cmUsIGUgYXMgdXBkYXRlRW52ZWxvcGVGaWVsZEluaXRpYWxzLCBhIGFzIGdldFJvbGVJbmRleCwgciBhcyByZW5kZXJEb2N1bWVudEZpZWxkLCBmIGFzIGdldEZpZWxkSWQgfSBmcm9tICcuL3V0aWxzLTA2ZDU4YjE1LmpzJztcbmltcG9ydCAnLi9UeXBlcy1hYjlmNmFmOC5qcyc7XG5pbXBvcnQgeyBhIGFzIGlzVmFsaWRQaG9uZSwgaSBhcyBpc1ZhbGlkRW1haWwgfSBmcm9tICcuL1ZhbGlkYXRvcnMtZjExMGJhZTIuanMnO1xuaW1wb3J0IHsgZiBhcyBmdWxsTmFtZVRvSW5pdGlhbHMgfSBmcm9tICcuL1ByaW1pdGl2ZXMtMDU0YmM2ZTUuanMnO1xuaW1wb3J0IHsgViBhcyBWZXJkb2NzRW5kcG9pbnQgfSBmcm9tICcuL1ZlcmRvY3NFbmRwb2ludC0yOGJhMjFjYy5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldEVudmVsb3BlQnlJZCwgcyBhcyBzdGF0ZSB9IGZyb20gJy4vRW52ZWxvcGVzLTc3OWRlNTdjLmpzJztcbmltcG9ydCB7IFMgYXMgU0RLRXJyb3IgfSBmcm9tICcuL2Vycm9ycy05YjU0OThjOC5qcyc7XG5pbXBvcnQgJy4vVG9rZW4tNTQ2OTA3ODkuanMnO1xuaW1wb3J0ICcuL0ZpbGVzLTcwYTE5MmRmLmpzJztcbmltcG9ydCAnLi9pbmRleC1mZDdiOGEzNC5qcyc7XG5pbXBvcnQgJy4vVGVtcGxhdGVzLTA2MzhiMWU0LmpzJztcblxudmFyIF9fYXdhaXRlciA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBVcGRhdGUgYSByZWNpcGllbnQncyBzdGF0dXMgYmxvY2tcbiAqL1xudmFyIHVwZGF0ZVJlY2lwaWVudCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHBhcmFtcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucHV0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCwgXCIvcmVjaXBpZW50cy9cIikuY29uY2F0KHJvbGVOYW1lKSwgcGFyYW1zKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBTdWJtaXQgYW4gZW52ZWxvcGUgKHNpZ25pbmcgaXMgZmluaXNoZWQpLiBOb3RlIHRoYXQgYWxsIGZpZWxkcyBtdXN0IGJlIHZhbGlkL2NvbXBsZXRlZCBmb3IgdGhpcyB0byBzdWNjZWVkLlxuICovXG52YXIgZW52ZWxvcGVSZWNpcGllbnRTdWJtaXQgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVJlY2lwaWVudChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHsgYWN0aW9uOiAnc3VibWl0JyB9KTtcbn07XG4vKipcbiAqIERlY2xpbmUgdG8gY29tcGxldGUgYW4gZW52ZWxvcGUgKHNpZ25pbmcgd2lsbCBub3QgdGVybWluYXRlZCkuXG4gKi9cbnZhciBlbnZlbG9wZVJlY2lwaWVudERlY2xpbmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIHJvbGVOYW1lKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVJlY2lwaWVudChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHsgYWN0aW9uOiAnZGVjbGluZScgfSk7XG59O1xuLyoqXG4gKiBBZ3JlZSB0byBlbGVjdHJvbmljIHNpZ25pbmcuXG4gKi9cbnZhciBlbnZlbG9wZVJlY2lwaWVudEFncmVlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCByb2xlTmFtZSwgYWdyZWVkKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVJlY2lwaWVudChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUsIHsgYWN0aW9uOiAndXBkYXRlJywgYWdyZWVkOiBhZ3JlZWQgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIHNpZ25hdHVyZSBibG9jay4gSW4gYSB0eXBpY2FsIHNpZ25pbmcgd29ya2Zsb3csIHRoZSB1c2VyIGlzIGFza2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHByb2Nlc3MgdG8gXCJhZG9wdFwiXG4gKiBhIHNpZ25hdHVyZSBibG9jayB0byBiZSB1c2VkIGZvciBhbGwgc2lnbmF0dXJlIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuIFRodXMsIHRoaXMgaXMgdHlwaWNhbGx5IGNhbGxlZCBvbmUgdGltZSB0b1xuICogY3JlYXRlIGFuZCBzdG9yZSBhIHNpZ25hdHVyZSBibG9jay4gVGhlcmVhZnRlciwgdGhlIElEIG9mIHRoZSBzaWduYXR1cmUgYmxvY2sgbWF5IGJlIHJlLXVzZWQgZm9yIGVhY2ggc2lnbmF0dXJlIGZpZWxkXG4gKiB0byBiZSBcInN0YW1wZWRcIiBieSB0aGUgdXNlci5cbiAqL1xudmFyIGNyZWF0ZVNpZ25hdHVyZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgbmFtZSwgc2lnbmF0dXJlKSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgnc2lnbmF0dXJlJywgc2lnbmF0dXJlLCBuYW1lKTtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KFwiL3NpZ25hdHVyZXNcIiwgZGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbml0aWFscyBibG9jay4gSW4gYSB0eXBpY2FsIHNpZ25pbmcgd29ya2Zsb3csIHRoZSB1c2VyIGlzIGFza2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHByb2Nlc3MgdG8gXCJhZG9wdFwiXG4gKiBhbiBpbml0aWFscyBibG9jayB0byBiZSB1c2VkIGZvciBhbGwgaW5pdGlhbHMgZmllbGRzIGluIHRoZSBkb2N1bWVudC4gVGh1cywgdGhpcyBpcyB0eXBpY2FsbHkgY2FsbGVkIG9uZSB0aW1lIHRvXG4gKiBjcmVhdGUgYW5kIHN0b3JlIGFuIGluaXRpYWxzIGJsb2NrLiBUaGVyZWFmdGVyLCB0aGUgSUQgb2YgdGhlIGluaXRpYWxzIGJsb2NrIG1heSBiZSByZS11c2VkIGZvciBlYWNoIGluaXRpYWxzIGZpZWxkXG4gKiB0byBiZSBcInN0YW1wZWRcIiBieSB0aGUgdXNlci5cbiAqL1xudmFyIGNyZWF0ZUluaXRpYWxzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBuYW1lLCBpbml0aWFscykge1xuICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZGF0YS5hcHBlbmQoJ2luaXRpYWwnLCBpbml0aWFscywgbmFtZSk7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdChcIi9pbml0aWFsc1wiLCBkYXRhKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5cbmNvbnN0IHZlcmRvY3NTaWduQ3NzID0gXCJ2ZXJkb2NzLXNpZ257ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO21pbi1oZWlnaHQ6NjAwcHg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2ZvbnQtZmFtaWx5OlxcXCJJbnRlclxcXCIsIC1hcHBsZS1zeXN0ZW0sIFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJSb2JvdG9cXFwiLCBcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLCBzYW5zLXNlcmlmfXZlcmRvY3Mtc2lnbiBkaXZ7ZGlzcGxheTpibG9jazstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9dmVyZG9jcy1zaWduIGlucHV0e3ZlcnRpY2FsLWFsaWduOnRvcH12ZXJkb2NzLXNpZ24gLmhlYWRlcntjb2xvcjojZmZmO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3otaW5kZXg6MTAwMDstbXMtZmxleDowIDAgNTZweDtmbGV4OjAgMCA1NnB4O3BhZGRpbmc6MCAxNXB4O2ZvbnQtc2l6ZToxMnB4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAwLjI1czt0cmFuc2l0aW9uOmFsbCAwLjI1cztiYWNrZ3JvdW5kLWNvbG9yOiMzMzM1NGM7LXdlYmtpdC1ib3gtc2hhZG93OjAgNHB4IDRweCAwIHJnYmEoMCwgMCwgMCwgMC4yNCksIDAgMCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO2JveC1zaGFkb3c6MCA0cHggNHB4IDAgcmdiYSgwLCAwLCAwLCAwLjI0KSwgMCAwIDRweCAwIHJnYmEoMCwgMCwgMCwgMC4xMil9dmVyZG9jcy1zaWduIC5oZWFkZXIgLmxvZ297d2lkdGg6ODBweDtkaXNwbGF5Om5vbmU7bWFyZ2luOi02cHggMCAwIDEwcHh9dmVyZG9jcy1zaWduIC5oZWFkZXIgLnRpdGxle3BhZGRpbmctbGVmdDoxNnB4O2ZvbnQtc2l6ZToxOHB4O2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcH12ZXJkb2NzLXNpZ24gLmludHJve3dpZHRoOjEwMCU7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXg6MCAwIDYwcHg7ZmxleDowIDAgNjBweDtjb2xvcjojMTExMTExO3BhZGRpbmc6MCAxNXB4O2ZvbnQtc2l6ZToxOHB4O2ZvbnQtd2VpZ2h0OjUwMDtsaW5lLWhlaWdodDoyOHB4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O2JhY2tncm91bmQ6I2ZmZmZmZjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfXZlcmRvY3Mtc2lnbiAuY292ZXJ7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDo5OTk7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDpyZ2JhKDAsIDAsIDAsIDAuNSl9dmVyZG9jcy1zaWduPi5kb2N1bWVudHstbXMtZmxleDoxO2ZsZXg6MTtoZWlnaHQ6MTAwJTtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwYWRkaW5nOjE1cHg7cm93LWdhcDoxNXB4O21pbi1oZWlnaHQ6MjAwcHg7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3cteTpzY3JvbGw7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn12ZXJkb2NzLXNpZ24+LmRvY3VtZW50IC5pbm5lcnt3aWR0aDoxMDAlO21heC13aWR0aDoxMDI4cHh9dmVyZG9jcy1zaWduIC5hZ3JlZXstbXMtZmxleDoxO2ZsZXg6MTtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdzstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MCAxNXB4fXZlcmRvY3Mtc2lnbiAuYWdyZWUgLmludHJve2Rpc3BsYXk6bm9uZX12ZXJkb2NzLXNpZ24gLmFncmVlIC5oZWFkZXJ7LW1zLWZsZXg6MCAwIDU2cHg7ZmxleDowIDAgNTZweH1AbWVkaWEgcHJpbnR7dmVyZG9jcy1zaWduIC5oZWFkZXJ7ZGlzcGxheTpub25lfX1cIjtcblxuY29uc3QgaW5Qcm9ncmVzc01lbnVPcHRpb25zID0gW1xuICB7IGlkOiAnbGF0ZXInLCBsYWJlbDogJ0ZpbmlzaCBMYXRlcicgfSxcbiAgLy8ge2lkOiAnY2xhaW0nLCBsYWJlbDogJ0NsYWltIHRoZSBEb2N1bWVudCcsIGRpc2FibGVkOiB0cnVlfSxcbiAgeyBpZDogJ2RlY2xpbmUnLCBsYWJlbDogJ0RlY2xpbmUgdG8gU2lnbicgfSxcbiAgeyBpZDogJ3ByaW50JywgbGFiZWw6ICdQcmludCBXaXRob3V0IFNpZ25pbmcnIH0sXG4gIHsgaWQ6ICdkb3dubG9hZCcsIGxhYmVsOiAnRG93bmxvYWQnIH0sXG5dO1xuY29uc3QgZG9uZU1lbnVPcHRpb25zID0gW1xuICB7IGlkOiAncHJpbnQnLCBsYWJlbDogJ1ByaW50JyB9LFxuICB7IGlkOiAnZG93bmxvYWQnLCBsYWJlbDogJ0Rvd25sb2FkJyB9LFxuXTtcbmNvbnN0IFZlcmRvY3NTaWduID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLnNka0Vycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJzZGtFcnJvclwiLCA3KTtcbiAgICB0aGlzLmVudmVsb3BlTG9hZGVkID0gY3JlYXRlRXZlbnQodGhpcywgXCJlbnZlbG9wZUxvYWRlZFwiLCA3KTtcbiAgICB0aGlzLmVudmVsb3BlVXBkYXRlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiZW52ZWxvcGVVcGRhdGVkXCIsIDcpO1xuICAgIHRoaXMuZW5kcG9pbnQgPSBudWxsO1xuICAgIHRoaXMucmVjaXBpZW50SW5kZXggPSAtMTtcbiAgICB0aGlzLmVudmVsb3BlSWQgPSBudWxsO1xuICAgIHRoaXMucm9sZUlkID0gbnVsbDtcbiAgICB0aGlzLmludml0ZUNvZGUgPSBudWxsO1xuICAgIHRoaXMucmVjaXBpZW50ID0gbnVsbDtcbiAgICB0aGlzLnNpZ25lclRva2VuID0gbnVsbDtcbiAgICB0aGlzLmhhc1NpZ25hdHVyZSA9IGZhbHNlO1xuICAgIHRoaXMubmV4dEJ1dHRvbkxhYmVsID0gJ1N0YXJ0JztcbiAgICB0aGlzLm5leHRTdWJtaXRzID0gZmFsc2U7XG4gICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnJztcbiAgICB0aGlzLmZvY3VzZWRGaWVsZCA9ICcnO1xuICAgIHRoaXMuaXNEb25lID0gZmFsc2U7XG4gICAgdGhpcy5zaG93RG9uZSA9IGZhbHNlO1xuICAgIHRoaXMuZmluaXNoTGF0ZXIgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dGaW5pc2hMYXRlciA9IGZhbHNlO1xuICAgIHRoaXMuYWdyZWVkID0gZmFsc2U7XG4gICAgdGhpcy5kb2N1bWVudHNTaW5ndWxhclBsdXJhbCA9ICdkb2N1bWVudCc7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludCA9IG5ldyBWZXJkb2NzRW5kcG9pbnQoeyBzZXNzaW9uVHlwZTogJ3NpZ25pbmcnIH0pO1xuICB9XG4gIGFzeW5jIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIGlmICghdGhpcy5lbnZlbG9wZUlkKSB7XG4gICAgICAoX2EgPSB0aGlzLnNka0Vycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdChuZXcgU0RLRXJyb3IoJ1tTSUdOXSBNaXNzaW5nIHJlcXVpcmVkIGVudmVsb3BJZCcsIDUwMCwgJycpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnJvbGVJZCkge1xuICAgICAgKF9iID0gdGhpcy5zZGtFcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXQobmV3IFNES0Vycm9yKCdbU0lHTl0gTWlzc2luZyByZXF1aXJlZCByb2xlSWQnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5pbnZpdGVDb2RlKSB7XG4gICAgICAoX2MgPSB0aGlzLnNka0Vycm9yKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZW1pdChuZXcgU0RLRXJyb3IoJ1tTSUdOXSBNaXNzaW5nIHJlcXVpcmVkIGludml0ZUNvZGUnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgW1NJR05dIFByb2Nlc3NpbmcgaW52aXRlIGNvZGUgZm9yICR7dGhpcy5lbnZlbG9wZUlkfSAvICR7dGhpcy5yb2xlSWR9YCk7XG4gICAgICBjb25zdCB7IHNlc3Npb24sIHJlY2lwaWVudCwgc2lnbmVyVG9rZW4gfSA9IGF3YWl0IGdldFNpZ25pbmdTZXNzaW9uKHRoaXMuZW5kcG9pbnQsIHtcbiAgICAgICAgZW52ZWxvcGVJZDogdGhpcy5lbnZlbG9wZUlkLFxuICAgICAgICByb2xlSWQ6IHRoaXMucm9sZUlkLFxuICAgICAgICBpbnZpdGVDb2RlOiB0aGlzLmludml0ZUNvZGUsXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGBbU0lHTl0gTG9hZGVkIHNpZ25pbmcgc2Vzc2lvbiAke3Nlc3Npb24uZW1haWx9IC8gJHtzZXNzaW9uLnByb2ZpbGVfaWR9YCk7XG4gICAgICB0aGlzLnJlY2lwaWVudCA9IHJlY2lwaWVudDtcbiAgICAgIGNvbnNvbGUubG9nKCdbU0lHTl0gV2UgYXJlIHJlY2lwaWVudCcsIHRoaXMucmVjaXBpZW50KTtcbiAgICAgIHRoaXMuc2lnbmVyVG9rZW4gPSBzaWduZXJUb2tlbjtcbiAgICAgIHRoaXMuZW5kcG9pbnQuc2V0VG9rZW4oc2lnbmVyVG9rZW4pO1xuICAgICAgaWYgKHRoaXMuYWdyZWVkKSB7XG4gICAgICAgIHRoaXMubmV4dEJ1dHRvbkxhYmVsID0gJ05leHQnO1xuICAgICAgfVxuICAgICAgYXdhaXQgZ2V0RW52ZWxvcGVCeUlkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCk7XG4gICAgICBpZiAoc3RhdGUuZW52ZWxvcGUuZG9jdW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudHNTaW5ndWxhclBsdXJhbCA9ICdkb2N1bWVudChzKSc7XG4gICAgICB9XG4gICAgICB0aGlzLnJlY2lwaWVudEluZGV4ID0gc3RhdGUuZW52ZWxvcGUucmVjaXBpZW50cy5maW5kSW5kZXgocmVjaXBpZW50ID0+IHJlY2lwaWVudC5yb2xlX25hbWUgPT0gdGhpcy5yb2xlSWQpO1xuICAgICAgaWYgKHRoaXMucmVjaXBpZW50SW5kZXggPiAtMSkge1xuICAgICAgICB0aGlzLnJlY2lwaWVudCA9IHN0YXRlLmVudmVsb3BlLnJlY2lwaWVudHNbdGhpcy5yZWNpcGllbnRJbmRleF07XG4gICAgICAgIHRoaXMuYWdyZWVkID0gdGhpcy5yZWNpcGllbnQuYWdyZWVkO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIEZvdW5kIG91ciByZWNpcGllbnQgaW4gdGhlIGVudmVsb3BlJywgdGhpcy5yZWNpcGllbnRJbmRleCwgdGhpcy5yZWNpcGllbnQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0lHTl0gQ291bGQgbm90IGZpbmQgb3VyIHJlY2lwaWVudCByZWNvcmQnLCB0aGlzLnJvbGVJZCwgc3RhdGUuZW52ZWxvcGUucmVjaXBpZW50cyk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzRG9uZSA9IFsnc3VibWl0dGVkJywgJ2NhbmNlbGVkJywgJ2RlY2xpbmVkJ10uaW5jbHVkZXModGhpcy5yZWNpcGllbnQuc3RhdHVzKTtcbiAgICAgIC8vIFRPRE86IEZpeCBzZXJ2aWNlIHRvIGFsbG93IHRoaXM/XG4gICAgICAvLyBjb25zdCBzaWdzID0gYXdhaXQgZ2V0U2lnbmF0dXJlcygpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3NpZ3MnLCBzaWdzKTtcbiAgICAgIChfZCA9IHRoaXMuZW52ZWxvcGVMb2FkZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5lbWl0KHsgZW5kcG9pbnQ6IHRoaXMuZW5kcG9pbnQsIGVudmVsb3BlOiBzdGF0ZS5lbnZlbG9wZSB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB3aXRoIHNpZ25pbmcgc2Vzc2lvbicsIGUpO1xuICAgICAgKF9lID0gdGhpcy5zZGtFcnJvcikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgKF9mID0gZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnN0YXR1cywgKF9nID0gZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmRhdGEpKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlQ2xpY2tBZ3JlZSgpIHtcbiAgICBlbnZlbG9wZVJlY2lwaWVudEFncmVlKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgdGhpcy5yb2xlSWQsIHRydWUpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICB0aGlzLm5leHRCdXR0b25MYWJlbCA9ICdOZXh0JztcbiAgICAgIHRoaXMuYWdyZWVkID0gdHJ1ZTsgLy8gVGhlIHNlcnZlciByZXR1cm5zIGEgcmVjaXBpZW50IG9iamVjdCBidXQgaXQncyBub3QgXCJkZWVwXCIgc28gd2UgdHJhY2sgdGhpcyBsb2NhbGx5XG4gICAgICAoX2EgPSB0aGlzLmVudmVsb3BlVXBkYXRlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoeyBlbmRwb2ludDogdGhpcy5lbmRwb2ludCwgZW52ZWxvcGU6IHN0YXRlLmVudmVsb3BlLCBldmVudDogJ2FncmVlZCcgfSk7XG4gICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZSBmYWlsdXJlJywgZSk7XG4gICAgICAoX2EgPSB0aGlzLnNka0Vycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCAoX2IgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3RhdHVzLCAoX2MgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGF0YSkpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGhhbmRsZU9wdGlvblNlbGVjdGVkKGUpIHtcbiAgICBzd2l0Y2ggKGUuZGV0YWlsLmlkKSB7XG4gICAgICBjYXNlICdsYXRlcic6XG4gICAgICAgIHRoaXMuZmluaXNoTGF0ZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnNob3dGaW5pc2hMYXRlciA9IHRydWU7XG4gICAgICAgIC8vIHRoaXMucm91dGVyLm5hdmlnYXRlKFtgdmlldy9zaWduLyR7dGhpcy5lbnZlbG9wZUlkfS9yb2xlLyR7dGhpcy5yb2xlTmFtZX0vc2F2ZWRgXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2xhaW0nOlxuICAgICAgICB3aW5kb3cuYWxlcnQoJ1RoaXMgZmVhdHVyZSB3aWxsIGJlIGF2YWlsYWJsZSBpbiBhbiB1cGNvbWluZyByZWxlYXNlLicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlY2xpbmUnOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgZGVjbGluZVJlc3VsdCA9IGF3YWl0IGVudmVsb3BlUmVjaXBpZW50RGVjbGluZSh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIHRoaXMucm9sZUlkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRGVjbGluZSByZXN1bHQnLCBkZWNsaW5lUmVzdWx0KTtcbiAgICAgICAgICB0aGlzLmlzRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwcmludCc6XG4gICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Rvd25sb2FkJzpcbiAgICAgICAgc2F2ZVBERih0aGlzLmVuZHBvaW50LCBzdGF0ZS5lbnZlbG9wZSwgc3RhdGUuZW52ZWxvcGUuZW52ZWxvcGVfZG9jdW1lbnRfaWQpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkb3dubG9hZGluZyBQREYnLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB1cGRhdGVSZWNpcGllbnRGaWVsZFZhbHVlKGZpZWxkTmFtZSwgdXBkYXRlUmVzdWx0KSB7XG4gICAgdGhpcy5yZWNpcGllbnQuZmllbGRzLmZvckVhY2gob2xkRmllbGQgPT4ge1xuICAgICAgaWYgKG9sZEZpZWxkLm5hbWUgPT09IGZpZWxkTmFtZSkge1xuICAgICAgICBvbGRGaWVsZC5zZXR0aW5ncyA9IHVwZGF0ZVJlc3VsdC5zZXR0aW5ncztcbiAgICAgICAgLy8gVE9ETzogV2hlbiB3ZSBicmVhayBvdXQgb3RoZXIgZmllbGRzIGxpa2UgdmFsdWUsIHVwZGF0ZSB0aGVtIGhlcmUgdG9vXG4gICAgICAgIHVwZGF0ZURvY3VtZW50RmllbGRWYWx1ZShvbGRGaWVsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc2F2ZUZpZWxkQ2hhbmdlKGZpZWxkTmFtZSwgZmllbGRzKSB7XG4gICAgdXBkYXRlRW52ZWxvcGVGaWVsZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkTmFtZSwgZmllbGRzKSAvL1xuICAgICAgLnRoZW4odXBkYXRlUmVzdWx0ID0+IHtcbiAgICAgIHRoaXMudXBkYXRlUmVjaXBpZW50RmllbGRWYWx1ZShmaWVsZE5hbWUsIHVwZGF0ZVJlc3VsdCk7XG4gICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgaWYgKCgoX2EgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzKSA9PT0gNDAxICYmICgoX2MgPSAoX2IgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGF0YSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmVycm9yKSA9PT0gJ2p3dCBleHBpcmVkJykge1xuICAgICAgICAvLyBUT0RPOiBEbyB3ZSB3YW50IHRvIGltcHJvdmUgdGhlIGluc3RydWN0aW9ucyBoZXJlP1xuICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIFNpZ25pbmcgc2Vzc2lvbiBleHBpcmVkJyk7XG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ1NpZ25pbmcgc2Vzc2lvbiBleHBpcmVkLiBQbGVhc2UgcmVsb2FkIHlvdXIgYnJvd3NlciB0byBjb250aW51ZS4nO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0lHTl0gU2VydmVyIGVycm9yJywgZSk7XG4gICAgICB9XG4gICAgICAoX2QgPSB0aGlzLnNka0Vycm9yKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCAoX2UgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc3RhdHVzLCAoX2YgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuZGF0YSkpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKSB7XG4gICAgY29uc3QgeyB2YWx1ZSwgY2hlY2tlZCB9ID0gZS50YXJnZXQ7XG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICd0ZXh0Ym94JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUZpZWxkQ2hhbmdlKGZpZWxkLm5hbWUsIHsgcHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZSB9KTtcbiAgICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzoge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZmllbGQuc2V0dGluZ3Mub3B0aW9ucy5tYXAob3B0aW9uID0+ICh7IGlkOiBvcHRpb24uaWQsIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWQgfSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwgeyBwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7IG9wdGlvbnMgfSB9KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkLnNldHRpbmdzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiAoeyBpZDogb3B0aW9uLmlkLCBzZWxlY3RlZDogZS50YXJnZXQudmFsdWUgPT09IG9wdGlvbi5pZCB9KSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNhdmVGaWVsZENoYW5nZShmaWVsZC5uYW1lLCB7IHByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IHsgb3B0aW9ucyB9IH0pO1xuICAgICAgfVxuICAgICAgY2FzZSAnZHJvcGRvd24nOlxuICAgICAgICByZXR1cm4gdGhpcy5zYXZlRmllbGRDaGFuZ2UoZmllbGQubmFtZSwgeyBwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiBlLmRldGFpbCB9KTtcbiAgICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgICBjb25zdCBpbml0aWFsc0Jsb2IgPSBhd2FpdCAoYXdhaXQgZmV0Y2goZS5kZXRhaWwpKS5ibG9iKCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbml0aWFscyh0aGlzLmVuZHBvaW50LCAnaW5pdGlhbCcsIGluaXRpYWxzQmxvYikgLy9cbiAgICAgICAgICAudGhlbihhc3luYyAobmV3SW5pdGlhbHMpID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVFbnZlbG9wZUZpZWxkSW5pdGlhbHModGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZC5uYW1lLCBuZXdJbml0aWFscy5pZCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVSZWNpcGllbnRGaWVsZFZhbHVlKGZpZWxkLm5hbWUsIHVwZGF0ZVJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlQmxvYiA9IGF3YWl0IChhd2FpdCBmZXRjaChlLmRldGFpbCkpLmJsb2IoKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNpZ25hdHVyZSh0aGlzLmVuZHBvaW50LCAnc2lnbmF0dXJlJywgc2lnbmF0dXJlQmxvYikgLy9cbiAgICAgICAgICAudGhlbihhc3luYyAobmV3U2lnbmF0dXJlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZSh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIG5ld1NpZ25hdHVyZS5pZCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVSZWNpcGllbnRGaWVsZFZhbHVlKGZpZWxkLm5hbWUsIHVwZGF0ZVJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIGNvbnN0IGlzbyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaXNvJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNhdmVGaWVsZENoYW5nZShmaWVsZC5uYW1lLCB7IHByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGlzbyB9KTtcbiAgICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyB0aW1lc3RhbXAnLCB7IHZhbHVlLCB0czogZS50YXJnZXQuZ2V0QXR0cmlidXRlKCd0aW1lc3RhbXAnKSB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnVW5oYW5kbGVkIGZpZWxkIHVwZGF0ZScsIHsgdmFsdWUsIGNoZWNrZWQgfSwgZmllbGQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaXNGaWVsZFZhbGlkKGZpZWxkKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIGNvbnN0IHsgcmVxdWlyZWQgPSBmYWxzZSB9ID0gZmllbGQ7XG4gICAgY29uc3QgeyByZXN1bHQgPSAnJywgdmFsdWUgPSAnJywgYmFzZTY0ID0gJycgfSA9IGZpZWxkLnNldHRpbmdzIHx8IHt9O1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAndGV4dGJveCc6XG4gICAgICAgIHN3aXRjaCAoKChfYSA9IGZpZWxkLnNldHRpbmdzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsaWRhdG9yKSB8fCAnJykge1xuICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkRW1haWwocmVzdWx0KTtcbiAgICAgICAgICBjYXNlICdwaG9uZSc6XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZFBob25lKHJlc3VsdCk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAhcmVxdWlyZWQgfHwgcmVzdWx0ICE9PSAnJztcbiAgICAgICAgfVxuICAgICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgICByZXR1cm4gIXJlcXVpcmVkIHx8IGJhc2U2NCAhPT0gJyc7XG4gICAgICAvLyBUaW1lc3RhbXAgZmllbGRzIGdldCBhdXRvbWF0aWNhbGx5IGZpbGxlZCB3aGVuIHRoZSBlbnZlbG9wZSBpcyBzdWJtaXR0ZWQuXG4gICAgICBjYXNlICd0aW1lc3RhbXAnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgICAgIHJldHVybiAhcmVxdWlyZWQgfHwgcmVzdWx0ICE9PSAnJztcbiAgICAgIGNhc2UgJ2Ryb3Bkb3duJzpcbiAgICAgICAgcmV0dXJuICFyZXF1aXJlZCB8fCB2YWx1ZSAhPT0gJyc7XG4gICAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgICAgIGNvbnN0IGNoZWNrZWRDb3VudCA9ICgoKF9jID0gKF9iID0gZmllbGQuc2V0dGluZ3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY2hlY2tlZCkpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiAhcmVxdWlyZWQgfHwgKGNoZWNrZWRDb3VudCA+PSAoKChfZCA9IGZpZWxkLnNldHRpbmdzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWluaW11bV9jaGVja2VkKSB8fCAwKSAmJiBjaGVja2VkQ291bnQgPD0gKCgoX2UgPSBmaWVsZC5zZXR0aW5ncykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm1heGltdW1fY2hlY2tlZCkgfHwgOTk5KSk7XG4gICAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgICByZXR1cm4gIXJlcXVpcmVkIHx8ICgoKF9nID0gKF9mID0gZmllbGQuc2V0dGluZ3MpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpKSB8fCBbXSkubGVuZ3RoID4gMDtcbiAgICAgIC8vIFRPRE9cbiAgICAgIC8vIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIC8vICAgcmV0dXJuIDx2ZXJkb2NzLWZpZWxkLWNoZWNrYm94IHN0eWxlPXtzdHlsZX0gdmFsdWU9e3Jlc3VsdCB8fCAnJ30gaWQ9e2lkfSAvPjtcbiAgICAgIC8vIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgLy8gICByZXR1cm4gPHZlcmRvY3MtZmllbGQtcGF5bWVudCBzdHlsZT17c3R5bGV9IGZpZWxkPXtmaWVsZH0gaWQ9e2lkfSAvPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgaGFuZGxlTmV4dCgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRoaXMubmV4dFN1Ym1pdHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVudmVsb3BlUmVjaXBpZW50U3VibWl0KHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgdGhpcy5yb2xlSWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NJR05dIFN1Ym1pdHRlZCBzdWNjZXNzZnVsbHknLCByZXN1bHQpO1xuICAgICAgICB0aGlzLnNob3dEb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc0RvbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHN1Ym1pdHRpbmcnLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRmluZCBhbmQgZm9jdXMgdGhlIG5leHQgaW5jb21wbGV0ZSByZXF1aXJlZCBmaWVsZFxuICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gdGhpcy5yZWNpcGllbnQuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5yZXF1aXJlZCk7XG4gICAgY29uc3QgZm9jdXNlZEluZGV4ID0gcmVxdWlyZWRGaWVsZHMuZmluZEluZGV4KGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IHRoaXMuZm9jdXNlZEZpZWxkKTtcbiAgICBsZXQgbmV4dEZvY3VzZWRJbmRleCA9IGZvY3VzZWRJbmRleCArIDE7XG4gICAgaWYgKG5leHRGb2N1c2VkSW5kZXggPj0gcmVxdWlyZWRGaWVsZHMubGVuZ3RoKSB7XG4gICAgICBuZXh0Rm9jdXNlZEluZGV4ID0gMDtcbiAgICB9XG4gICAgbGV0IG5leHRSZXF1aXJlZEZpZWxkID0gcmVxdWlyZWRGaWVsZHNbbmV4dEZvY3VzZWRJbmRleF07XG4gICAgLy8gU2tpcCBzaWduYXR1cmUgYW5kIGluaXRpYWwgZmllbGRzIHRoYXQgYXJlIGFscmVhZHkgZmlsbGVkIGluLiBXZSBoYXZlIHRvIGNvdW50IG91ciBcInNraXBzXCIganVzdCBpbiBjYXNlLCB0byBhdm9pZCBpbmZpbml0ZSBsb29wcy5cbiAgICBsZXQgc2tpcHMgPSAwO1xuICAgIGlmIChza2lwcyA8IHJlcXVpcmVkRmllbGRzLmxlbmd0aCAmJiBbJ3NpZ25hdHVyZScsICdpbml0aWFsJ10uaW5jbHVkZXMobmV4dFJlcXVpcmVkRmllbGQudHlwZSkgJiYgKChfYSA9IG5leHRSZXF1aXJlZEZpZWxkLnNldHRpbmdzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzdWx0KSA9PT0gJ3NpZ25lZCcpIHtcbiAgICAgIHNraXBzKys7XG4gICAgICBuZXh0Rm9jdXNlZEluZGV4Kys7XG4gICAgICBpZiAobmV4dEZvY3VzZWRJbmRleCA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEZvY3VzZWRJbmRleCA9IDA7XG4gICAgICB9XG4gICAgICBuZXh0UmVxdWlyZWRGaWVsZCA9IHJlcXVpcmVkRmllbGRzW25leHRGb2N1c2VkSW5kZXhdO1xuICAgIH1cbiAgICBpZiAoc2tpcHMgPj0gcmVxdWlyZWRGaWVsZHMubGVuZ3RoKSB7XG4gICAgICBuZXh0UmVxdWlyZWRGaWVsZCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuZXh0UmVxdWlyZWRGaWVsZCkge1xuICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZElkKG5leHRSZXF1aXJlZEZpZWxkKTtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLmZvY3VzRmllbGQoKTtcbiAgICAgIHRoaXMuZm9jdXNlZEZpZWxkID0gbmV4dFJlcXVpcmVkRmllbGQubmFtZTtcbiAgICB9XG4gIH1cbiAgLy8gU2VlIGlmIGV2ZXJ5dGhpbmcgdGhhdCBcIm5lZWRzIHRvIGJlXCIgZmlsbGVkIGluIGlzLCBhbmQgYWxsIFwiZmlsbGFibGUgZmllbGRzXCIgYXJlIHZhbGlkXG4gIGNoZWNrUmVjaXBpZW50RmllbGRzKCkge1xuICAgIGNvbnN0IGludmFsaWRGaWVsZHMgPSB0aGlzLnJlY2lwaWVudC5maWVsZHMuZmlsdGVyKGZpZWxkID0+ICF0aGlzLmlzRmllbGRWYWxpZChmaWVsZCkpO1xuICAgIGlmIChpbnZhbGlkRmllbGRzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRoaXMubmV4dEJ1dHRvbkxhYmVsID0gJ0ZpbmlzaCc7XG4gICAgICB0aGlzLm5leHRTdWJtaXRzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnW1NJR05dIFJlbWFpbmluZyBpbnZhbGlkIGZpZWxkcycsIGludmFsaWRGaWVsZHMpO1xuICAgICAgdGhpcy5uZXh0QnV0dG9uTGFiZWwgPSAnTmV4dCc7XG4gICAgICB0aGlzLm5leHRTdWJtaXRzID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGF0dGFjaEZpZWxkQXR0cmlidXRlcyhwYWdlSW5mbywgZmllbGQsIHJvbGVJbmRleCwgZWwpIHtcbiAgICB2YXIgX2E7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB0aGlzLmNoZWNrUmVjaXBpZW50RmllbGRzKCkpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgZSA9PiB0aGlzLmhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKS5maW5hbGx5KCgpID0+IHRoaXMuY2hlY2tSZWNpcGllbnRGaWVsZHMoKSkpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpZWxkQ2hhbmdlJywgZSA9PiB0aGlzLmhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKS5maW5hbGx5KCgpID0+IHRoaXMuY2hlY2tSZWNpcGllbnRGaWVsZHMoKSkpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZWluZGV4Jywgcm9sZUluZGV4KTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3hTY2FsZScsIHBhZ2VJbmZvLnhTY2FsZSk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCd5U2NhbGUnLCBwYWdlSW5mby55U2NhbGUpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnaW5pdGlhbHMnLCB0aGlzLnJlY2lwaWVudCA/IGZ1bGxOYW1lVG9Jbml0aWFscyh0aGlzLnJlY2lwaWVudC5mdWxsX25hbWUpIDogJycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnbmFtZScsICgoX2EgPSB0aGlzLnJlY2lwaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZ1bGxfbmFtZSkgfHwgJycpO1xuICB9XG4gIGhhbmRsZVBhZ2VSZW5kZXJlZChlKSB7XG4gICAgY29uc3QgcGFnZUluZm8gPSBlLmRldGFpbDtcbiAgICBjb25zdCByb2xlSW5kZXggPSBnZXRSb2xlSW5kZXgoc3RhdGUucm9sZU5hbWVzLCB0aGlzLnJlY2lwaWVudC5yb2xlX25hbWUpO1xuICAgIGNvbnN0IHJlY2lwaWVudEZpZWxkcyA9IHRoaXMucmVjaXBpZW50LmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZSA9PT0gcGFnZUluZm8ucGFnZU51bWJlcik7XG4gICAgY29uc29sZS5sb2coJ1tTSUdOXSBQYWdlIHJlbmRlcmVkLCB1cGRhdGluZyBmaWVsZHMnLCB7IHBhZ2VJbmZvLCByb2xlSW5kZXgsIHJlY2lwaWVudEZpZWxkcyB9KTtcbiAgICByZWNpcGllbnRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICBjb25zdCBlbCA9IHJlbmRlckRvY3VtZW50RmllbGQoZmllbGQsIHBhZ2VJbmZvLCByb2xlSW5kZXgsIHsgZGlzYWJsZWQ6IGZhbHNlLCBlZGl0YWJsZTogZmFsc2UsIGRyYWdnYWJsZTogZmFsc2UsIGRvbmU6IHRoaXMuaXNEb25lIH0pO1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICAgICAgZWwubWFwKGUgPT4gdGhpcy5hdHRhY2hGaWVsZEF0dHJpYnV0ZXMocGFnZUluZm8sIGZpZWxkLCByb2xlSW5kZXgsIGUpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmF0dGFjaEZpZWxkQXR0cmlidXRlcyhwYWdlSW5mbywgZmllbGQsIHJvbGVJbmRleCwgZWwpO1xuICAgICAgfVxuICAgICAgLy8gaW50ZXJhY3QoZWwpLmRyYWdnYWJsZSh7XG4gICAgICAvLyAgIGxpc3RlbmVyczoge1xuICAgICAgLy8gICAgIHN0YXJ0KGV2ZW50KSB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnW0ZJRUxEU10gRHJhZyBzdGFydGVkJywgZXZlbnQudHlwZSwgZXZlbnQudGFyZ2V0KTtcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgIC8vICAgICAgIGNvbnN0IG9sZFggPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Bvc1gnKSB8fCAwKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IG9sZFkgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Bvc1knKSB8fCAwKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IHhTY2FsZSA9ICsoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgneFNjYWxlJykgfHwgMSk7XG4gICAgICAvLyAgICAgICBjb25zdCB5U2NhbGUgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3lTY2FsZScpIHx8IDEpO1xuICAgICAgLy8gICAgICAgY29uc3QgbmV3WCA9IGV2ZW50LmR4IC8geFNjYWxlICsgb2xkWDtcbiAgICAgIC8vICAgICAgIGNvbnN0IG5ld1kgPSBldmVudC5keSAvIHlTY2FsZSArIG9sZFk7XG4gICAgICAvLyAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3NYJywgbmV3WCk7XG4gICAgICAvLyAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwb3N5JywgbmV3WSk7XG4gICAgICAvLyAgICAgICB1cGRhdGVDc3NUcmFuc2Zvcm0oZXZlbnQudGFyZ2V0LCAndHJhbnNsYXRlJywgYCR7bmV3WH1weCwgJHtuZXdZfXB4YCk7XG4gICAgICAvLyAgICAgfSxcbiAgICAgIC8vICAgICBlbmQoZXZlbnQpIHtcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdbRklFTERTXSBEcmFnIGVuZGVkJywgZXZlbnQpO1xuICAgICAgLy8gICAgICAgLy8gZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zWCcsIDApO1xuICAgICAgLy8gICAgICAgLy8gZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zeScsIDApO1xuICAgICAgLy8gICAgICAgLy8gdXBkYXRlQ3NzVHJhbnNmb3JtKGV2ZW50LnRhcmdldCwgJ3RyYW5zbGF0ZScsIGAkezB9cHgsICR7MH1weGApO1xuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgIH0sXG4gICAgICAvLyB9KTtcbiAgICB9KTtcbiAgICAvLyBSZW5kZXIgZmllbGRzIGZvciBcInRoZSBvdGhlclwiIHJlY2lwaWVudHNcbiAgICBzdGF0ZS5lbnZlbG9wZS5yZWNpcGllbnRzXG4gICAgICAuZmlsdGVyKHJlY2lwaWVudCA9PiByZWNpcGllbnQucm9sZV9uYW1lICE9PSB0aGlzLnJlY2lwaWVudC5yb2xlX25hbWUpXG4gICAgICAuZm9yRWFjaChvdGhlclJlY2lwaWVudCA9PiB7XG4gICAgICBjb25zdCBvdGhlclJvbGVJbmRleCA9IGdldFJvbGVJbmRleChzdGF0ZS5yb2xlTmFtZXMsIG90aGVyUmVjaXBpZW50LnJvbGVfbmFtZSk7XG4gICAgICBjb25zdCByZWNpcGllbnRGaWVsZHMgPSBvdGhlclJlY2lwaWVudC5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLnBhZ2UgPT09IHBhZ2VJbmZvLnBhZ2VOdW1iZXIpO1xuICAgICAgLy8gV2UgZG9uJ3QgcmVuZGVyIG90aGVyIHJlY2lwaWVudHMnIGZpZWxkcyBpZiB0aGV5J3ZlIGFscmVhZHkgYWN0ZWQsIGJlY2F1c2UgdGhvc2UgdmFsdWVzIGFyZSBub3cgc3RhbXBlZCBpbnRvIHRoZSBkb2N1bWVudCBwYWdlLlxuICAgICAgLy8gVE9ETzogRG8gd2Ugd2FudCB0byByZW5kZXIgYWx0ZXJuYXRlIHRyZWF0bWVudHMgZm9yIHJlY2lwaWVudHMgd2hvIGhhdmUgZGVjbGluZWQgKHJlZCBib3hlcz8pIGFuZC9vciBpZiB0aGUgZW52ZWxvcGUgaXMgY2FuY2VsbGVkP1xuICAgICAgLy8gVE9ETzogV2hlbiBkb2luZyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgd2UgcHJvYmFibHkgd2FudCB0byBcInN0YW1wXCIgdmFsdWVzIGludG8gdGhlIHJlbmRlcmVkIFBERiBvbmx5IG9uY2UgdGhlIHJlY2lwaWVudCBpcyBkb25lXG4gICAgICAvLyAgYWN0aW5nLiBEbyB0aGlzIG9uY2UgdlNpZ24gaXMgaW4gUHJvZHVjdGlvbi5cbiAgICAgIC8vIFRPRE86IENoYW5nZWQgdGFja3MgaGVyZS4gRHVyaW5nIHNpZ25pbmcgd2Ugc2hvdyB0aGUgdGVtcGxhdGUgUERGcyBhbmQgZXZlcnlib2R5J3MgZmllbGRzLCBmaWxsZWQgaW4gb3Igbm8uIFdoZW4gZG9uZSwgd2Ugc3dpdGNoXG4gICAgICAvLyAgdG8gc2hvd2luZyB0aGUgZW52ZWxvcGUgUERGcyB3aXRoIHN0YW1wZWQtaW4gdmFsdWVzLiBDb25maXJtIHRoaXMgaXMgYSBnb29kIGFwcHJvYWNoLlxuICAgICAgLy8gaWYgKCFbJ3N1Ym1pdHRlZCcsICdzaWduZWQnXS5pbmNsdWRlcyhvdGhlclJlY2lwaWVudC5zdGF0dXMpKSB7XG4gICAgICByZWNpcGllbnRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gcmVuZGVyRG9jdW1lbnRGaWVsZChmaWVsZCwgcGFnZUluZm8sIG90aGVyUm9sZUluZGV4LCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgICAgZG9uZTogdGhpcy5pc0RvbmUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFJlc2VhcmNoIHdoeSB0aGlzIG9jY3Vycy4gVGhlcmUgYXJlIGNhc2VzIHdoZW4gd2UncmUgZ2V0dGluZyBcImVsLnNldEF0dHJpYnV0ZSBpcyBub3QgYSBmdW5jdGlvblwiXG4gICAgICAgIGlmIChlbC5zZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIG90aGVyUm9sZUluZGV4KTtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3hTY2FsZScsIHBhZ2VJbmZvLnhTY2FsZSk7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd5U2NhbGUnLCBwYWdlSW5mby55U2NhbGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIH1cbiAgICB9KTtcbiAgICB0aGlzLmNoZWNrUmVjaXBpZW50RmllbGRzKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmIChzdGF0ZS5sb2FkaW5nIHx8ICFzdGF0ZS5lbnZlbG9wZSkge1xuICAgICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJ2ZXJkb2NzLWxvYWRlclwiLCBudWxsKSkpO1xuICAgIH1cbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczogeyBhZ3JlZWQ6IHRoaXMuYWdyZWVkIH0gfSwgIXRoaXMuaXNEb25lICYmICF0aGlzLmZpbmlzaExhdGVyICYmIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbnRyb1wiIH0sIFwiUGxlYXNlIHJldmlldyBhbmQgYWN0IG9uIHRoZXNlIGRvY3VtZW50cy5cIiksICF0aGlzLmlzRG9uZSAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImhlYWRlclwiIH0sICF0aGlzLmFncmVlZCA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWdyZWVcIiB9LCBoKFwidmVyZG9jcy1jaGVja2JveFwiLCB7IG5hbWU6IFwiYWdyZWVcIiwgbGFiZWw6IFwiSSBhZ3JlZSB0byB1c2UgZWxlY3Ryb25pYyByZWNvcmRzIGFuZCBzaWduYXR1cmVzLlwiLCBvbklucHV0OiAoKSA9PiB0aGlzLmhhbmRsZUNsaWNrQWdyZWUoKSB9KSkpIDogKGgoRnJhZ21lbnQsIG51bGwsIGgoXCJpbWdcIiwgeyBzcmM6IFwiaHR0cHM6Ly92ZXJkb2NzLmNvbS9hc3NldHMvd2hpdGUtbG9nby5zdmdcIiwgYWx0OiBcIlZlcmRvY3MgTG9nb1wiLCBjbGFzczogXCJsb2dvXCIgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0aXRsZVwiIH0sIHN0YXRlLmVudmVsb3BlLm5hbWUpLCBoKFwiZGl2XCIsIHsgc3R5bGU6IHsgZmxleDogJzEnIH0gfSkpKSwgIXRoaXMuaXNEb25lICYmICF0aGlzLmZpbmlzaExhdGVyICYmIGgoXCJ2ZXJkb2NzLWJ1dHRvblwiLCB7IHNpemU6IFwic21hbGxcIiwgbGFiZWw6IHRoaXMubmV4dEJ1dHRvbkxhYmVsLCBkaXNhYmxlZDogIXRoaXMuYWdyZWVkLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSB9KSwgaChcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6ICcxMHB4JyB9IH0pLCBoKFwidmVyZG9jcy1kcm9wZG93blwiLCB7IG9wdGlvbnM6ICF0aGlzLmlzRG9uZSAmJiAhdGhpcy5maW5pc2hMYXRlciA/IGluUHJvZ3Jlc3NNZW51T3B0aW9ucyA6IGRvbmVNZW51T3B0aW9ucywgb25PcHRpb25TZWxlY3RlZDogZSA9PiB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGVkKGUpIH0pKSksICF0aGlzLmlzRG9uZSAmJiAhdGhpcy5hZ3JlZWQgPyBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY292ZXJcIiB9KSA6IGgoXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSB9KSwgdGhpcy5pc0RvbmUgPyAoXG4gICAgLy8gPGRpdj50ZXN0PC9kaXY+XG4gICAgaChcInZlcmRvY3Mtdmlld1wiLCB7IGVuZHBvaW50OiB0aGlzLmVuZHBvaW50LCBlbnZlbG9wZUlkOiB0aGlzLmVudmVsb3BlSWQsIG9uU2RrRXJyb3I6IGUgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLnNka0Vycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdChlLmRldGFpbCk7IH0gfSkpIDogKGgoXCJkaXZcIiwgeyBjbGFzczogXCJkb2N1bWVudFwiIH0sIChzdGF0ZS5lbnZlbG9wZS5kb2N1bWVudHMgfHwgW10pLm1hcChlbnZlbG9wZURvY3VtZW50ID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VzID0gWy4uLigoZW52ZWxvcGVEb2N1bWVudCA9PT0gbnVsbCB8fCBlbnZlbG9wZURvY3VtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbnZlbG9wZURvY3VtZW50LnBhZ2VzKSB8fCBbXSldO1xuICAgICAgcGFnZXMuc29ydCgoYSwgYikgPT4gYS5zZXF1ZW5jZSAtIGIuc2VxdWVuY2UpO1xuICAgICAgcmV0dXJuIChoKEZyYWdtZW50LCBudWxsLCBwYWdlcy5tYXAocGFnZSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gSW4gc2lnbmluZyBtb2RlIHdlIHNob3cgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHBhZ2Ugd2l0aCBhbGwgdGhlIHJlY2lwaWVudCBmaWVsZHMgc28gd2UgY2FuIHNob3cgc291cmNlIGZvcm1hdHRpbmcgYW5kXG4gICAgICAgIC8vIHdoZXJlIGV2ZXJ5dGhpbmcgd2VudC4gVGhpcyBpcyBhbHNvIGEgdmlzdWFsIGluZGljYXRvciB3aGVuIG9wdGlvbmFsIGZpZWxkcyB3ZXJlbid0IGZpbGxlZCBpbiBieSBwcmV2aW91cyBhY3RvcnMsIG9yXG4gICAgICAgIC8vIGZ1dHVyZSBzaWduZXJzIHN0aWxsIG5lZWQgdG8gYWN0LiBPbmNlIHdlJ3JlIFwiZG9uZVwiIHdlIGZsaXAgdG8gc2hvd2luZyB0aGUgZW52ZWxvcGUncyBkb2N1bWVudHMgd2hpY2ggaGF2ZSB0aGUgZmluYWxcbiAgICAgICAgLy8gZmllbGQgdmFsZXMgKHNvIGZhcikgc3RhbXBlZCBpbnRvIHRoZW0uXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUGFnZSA9IChfYSA9IHN0YXRlLnRlbXBsYXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFnZXMuZmluZChwID0+IHAuc2VxdWVuY2UgPT09IHBhZ2Uuc2VxdWVuY2UpO1xuICAgICAgICAvLyBUT0RPOiBDb25maXJtIHRoYXQgYSBwdXJlIHBhZ2UtbnVtYmVyIG1hdGNoIGlzIGdvb2QgZW5vdWdoIHRvIGZpbmQgdGhlIG1hdGNoaW5nIHRlbXBsYXRlIHBhZ2UuIFdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gICAgICAgIC8vICB3ZSBlaXRoZXIgZG9uJ3QgcmVzZXQgb3VyIHBhZ2UgbnVtYmVycyBmb3IgYWRkaXRpb25hbCBhdHRhY2htZW50cywgb3IgYWRkIG1hdGNoLW9uIGlkZW50aWZpZXJzIHRvIHdvcmsgYXJvdW5kIHRoYXQuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cCcsIHRlbXBsYXRlUGFnZSwgcGFnZSk7XG4gICAgICAgIHJldHVybiAoaChcInZlcmRvY3MtZG9jdW1lbnQtcGFnZVwiLCB7IHBhZ2VJbWFnZVVyaTogKHRlbXBsYXRlUGFnZSA9PT0gbnVsbCB8fCB0ZW1wbGF0ZVBhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRlbXBsYXRlUGFnZS5kaXNwbGF5X3VyaSkgfHwgcGFnZS5kaXNwbGF5X3VyaSwgdmlydHVhbFdpZHRoOiA2MTIsIHZpcnR1YWxIZWlnaHQ6IDc5MiwgcGFnZU51bWJlcjogcGFnZS5zZXF1ZW5jZSwgb25QYWdlUmVuZGVyZWQ6IGUgPT4gdGhpcy5oYW5kbGVQYWdlUmVuZGVyZWQoZSksIGxheWVyczogW1xuICAgICAgICAgICAgeyBuYW1lOiAncGFnZScsIHR5cGU6ICdjYW52YXMnIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdjb250cm9scycsIHR5cGU6ICdkaXYnIH0sXG4gICAgICAgICAgXSB9KSk7XG4gICAgICB9KSkpO1xuICAgIH0pKSksIHRoaXMuc2hvd0ZpbmlzaExhdGVyICYmIChoKFwidmVyZG9jcy1vay1kaWFsb2dcIiwgeyBoZWFkaW5nOiBcIllvdSd2ZSBzYXZlZCB5b3VyIGRvY3VtZW50IHRvIGZpbmlzaCBsYXRlci5cIiwgbWVzc2FnZTogYFRvIGNvbXBsZXRlIHRoZSAke3RoaXMuZG9jdW1lbnRzU2luZ3VsYXJQbHVyYWx9LCB1c2UgdGhlIGxpbmsgaW4gdGhlIG9yaWdpbmFsIGVtYWlsIG5vdGlmaWNhdGlvbiBpbnZpdGluZyB5b3UgdG8gcmV2aWV3IGFuZCBmaW5pc2ggdGhlIGRvY3VtZW50LmAsIG9uTmV4dDogKCkgPT4gKHRoaXMuc2hvd0ZpbmlzaExhdGVyID0gZmFsc2UpIH0pKSwgdGhpcy5lcnJvck1lc3NhZ2UgJiYgaChcInZlcmRvY3Mtb2stZGlhbG9nXCIsIHsgaGVhZGluZzogXCJOZXR3b3JrIEVycm9yXCIsIG1lc3NhZ2U6IHRoaXMuZXJyb3JNZXNzYWdlLCBvbk5leHQ6ICgpID0+ICh0aGlzLmVycm9yTWVzc2FnZSA9ICcnKSB9KSwgdGhpcy5zaG93RG9uZSAmJiAoaChcInZlcmRvY3Mtb2stZGlhbG9nXCIsIHsgaGVhZGluZzogXCJZb3UncmUgRG9uZSFcIiwgbWVzc2FnZTogYFlvdSBjYW4gYWNjZXNzIHRoZSAke3RoaXMuZG9jdW1lbnRzU2luZ3VsYXJQbHVyYWx9IGF0IGFueSB0aW1lIGJ5IGNsaWNraW5nIG9uIHRoZSBsaW5rIGZyb20gdGhlIGludml0YXRpb24gZW1haWwuPGJyIC8+PGJyIC8+QWZ0ZXIgYWxsIHJlY2lwaWVudHMgaGF2ZSBjb21wbGV0ZWQgdGhlaXIgYWN0aW9ucywgeW91IHdpbGwgcmVjZWl2ZSBhbiBlbWFpbCB3aXRoIHRoZSBkb2N1bWVudCBhbmQgZW52ZWxvcGUgY2VydGlmaWNhdGUgYXR0YWNoZWQuYCwgb25OZXh0OiAoKSA9PiAodGhpcy5zaG93RG9uZSA9IGZhbHNlKSB9KSkpKTtcbiAgfVxufTtcblZlcmRvY3NTaWduLnN0eWxlID0gdmVyZG9jc1NpZ25Dc3M7XG5cbmV4cG9ydCB7IFZlcmRvY3NTaWduIGFzIHZlcmRvY3Nfc2lnbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHJlZHVjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1yZWR1Y2UnKS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIENIUk9NRV9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3JlZHVjZScpO1xuLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxudmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLW5hdGl2ZS1jb25zdHJ1Y3RvcicpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciBwcm9taXNlUmVzb2x2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLXJlc29sdmUnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xuXG52YXIgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciAmJiBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4vLyBTYWZhcmkgYnVnIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMDA4MjlcbnZhciBOT05fR0VORVJJQyA9ICEhTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tdGhlbmFibGUgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnZmluYWxseSddLmNhbGwoeyB0aGVuOiBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0gfSwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbn0pO1xuXG4vLyBgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLmZpbmFsbHlcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgcHJvdG86IHRydWUsIHJlYWw6IHRydWUsIGZvcmNlZDogTk9OX0dFTkVSSUMgfSwge1xuICAnZmluYWxseSc6IGZ1bmN0aW9uIChvbkZpbmFsbHkpIHtcbiAgICB2YXIgQyA9IHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBnZXRCdWlsdEluKCdQcm9taXNlJykpO1xuICAgIHZhciBpc0Z1bmN0aW9uID0gaXNDYWxsYWJsZShvbkZpbmFsbHkpO1xuICAgIHJldHVybiB0aGlzLnRoZW4oXG4gICAgICBpc0Z1bmN0aW9uID8gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgICAgfSA6IG9uRmluYWxseSxcbiAgICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB0aHJvdyBlOyB9KTtcbiAgICAgIH0gOiBvbkZpbmFsbHlcbiAgICApO1xuICB9XG59KTtcblxuLy8gbWFrZXMgc3VyZSB0aGF0IG5hdGl2ZSBwcm9taXNlLWJhc2VkIEFQSXMgYFByb21pc2UjZmluYWxseWAgcHJvcGVybHkgd29ya3Mgd2l0aCBwYXRjaGVkIGBQcm9taXNlI3RoZW5gXG5pZiAoIUlTX1BVUkUgJiYgaXNDYWxsYWJsZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpKSB7XG4gIHZhciBtZXRob2QgPSBnZXRCdWlsdEluKCdQcm9taXNlJykucHJvdG90eXBlWydmaW5hbGx5J107XG4gIGlmIChOYXRpdmVQcm9taXNlUHJvdG90eXBlWydmaW5hbGx5J10gIT09IG1ldGhvZCkge1xuICAgIGRlZmluZUJ1aWx0SW4oTmF0aXZlUHJvbWlzZVByb3RvdHlwZSwgJ2ZpbmFsbHknLCBtZXRob2QsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9