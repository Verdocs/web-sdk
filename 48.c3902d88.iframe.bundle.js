(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/verdocs-auth.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_auth",(function(){return VerdocsAuth}));__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./dist/esm/index-f78d163d.js"),_VerdocsEndpoint_7f17b088_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./dist/esm/VerdocsEndpoint-7f17b088.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/Token-54690789.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsAuth=function(){function VerdocsAuth(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsAuth),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.j)(this,hostRef),this.authenticated=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.e)(this,"authenticated",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.e)(this,"sdkError",7),this.endpoint=_VerdocsEndpoint_7f17b088_js__WEBPACK_IMPORTED_MODULE_8__.b.getDefault(),this.visible=!0,this.logo="https://verdocs.com/assets/blue-logo.svg",this.isAuthenticated=!1,this.displayMode="login",this.username="",this.password="",this.loggingIn=!1,this.activeSession=null,this.loginError=null}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsAuth,[{key:"componentWillLoad",value:function componentWillLoad(){var _a,_b;this.endpoint.loadSession(),this.endpoint.session?(console.log("[AUTH] Authenticated"),this.isAuthenticated=!0,this.activeSession=this.endpoint.session,null===(_a=this.authenticated)||void 0===_a||_a.emit({authenticated:!0,session:this.endpoint.session})):(console.log("[AUTH] Anonymous"),null===(_b=this.authenticated)||void 0===_b||_b.emit({authenticated:!1,session:null}))}},{key:"handleLogin",value:function handleLogin(){var _this=this;this.loggingIn=!0,function authenticateUser(endpoint,params){return endpoint.api.post("/authentication/login",params).then((function(r){return r.data}))}(this.endpoint,{username:this.username,password:this.password}).then((function(r){var _a;_this.loggingIn=!1,_this.endpoint.setToken(r.accessToken),_this.activeSession=_this.endpoint.session,_this.isAuthenticated=!0,null===(_a=_this.authenticated)||void 0===_a||_a.emit({authenticated:!0,session:_this.endpoint.session})})).catch((function(e){var _a,_b,_c,_d,_e;console.log("[AUTH] Authentication error",e.response,JSON.stringify(e)),_this.loggingIn=!1,_this.activeSession=null,null===(_a=_this.authenticated)||void 0===_a||_a.emit({authenticated:!1,session:null}),null===(_b=_this.sdkError)||void 0===_b||_b.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_9__.a(e.message,null===(_c=e.response)||void 0===_c?void 0:_c.status,null===(_d=e.response)||void 0===_d?void 0:_d.data)),403===(null===(_e=null==e?void 0:e.response)||void 0===_e?void 0:_e.status)&&(_this.loginError="Please check your username and password and try again.")}))}},{key:"handleLogout",value:function handleLogout(){var _a;this.endpoint.clearSession(),this.isAuthenticated=!1,null===(_a=this.authenticated)||void 0===_a||_a.emit({authenticated:!1,session:null})}},{key:"handleClearError",value:function handleClearError(){this.loginError=null}},{key:"render",value:function render(){var _this2=this;return this.visible?this.isAuthenticated?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("div",{class:"status-result"},"Authenticated"):"signup"===this.displayMode?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("div",{class:"signup-form"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("img",{src:this.logo,alt:"Verdocs Logo",class:"logo"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("h3",null,"Sign up for an account"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("h4",null,"Already have an account?",Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-button",{label:"Log In",variant:"text",onClick:function onClick(){return _this2.displayMode="login"},disabled:this.loggingIn})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("form",{onSubmit:function onSubmit(){return _this2.handleLogin()}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-text-input",{label:"Email",autocomplete:"username",value:this.username,onInput:function onInput(e){return _this2.username=e.target.value},disabled:this.loggingIn}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-text-input",{label:"Password",type:"password",autocomplete:"current-password",value:this.password,onInput:function onInput(e){return _this2.password=e.target.value},disabled:this.loggingIn}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-button",{label:"Signup",disabled:this.loggingIn,onClick:function onClick(){return _this2.handleLogin()},style:{display:"flex",justifyContent:"center",margin:"30px auto 0"}}))):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("div",{class:"login-form"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("img",{src:this.logo,alt:"Verdocs Logo",class:"logo"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("h3",null,"Log in to your account"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("h4",null,"Don't have an account?",Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-button",{label:"Sign Up",variant:"text",onClick:function onClick(){return _this2.displayMode="signup"},disabled:this.loggingIn})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("form",{onSubmit:function onSubmit(){return _this2.handleLogin()}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-text-input",{label:"Email",autocomplete:"username",value:this.username,onInput:function onInput(e){return _this2.username=e.target.value},disabled:this.loggingIn}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-text-input",{label:"Password",type:"password",autocomplete:"current-password",value:this.password,onInput:function onInput(e){return _this2.password=e.target.value},disabled:this.loggingIn}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-button",{label:"Forgot Your Password?",variant:"text",onClick:function onClick(){return _this2.displayMode="signup"},disabled:this.loggingIn,style:{display:"flex",justifyContent:"center",margin:"10px auto 20px"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-button",{label:"Login",disabled:this.loggingIn,onClick:function onClick(){return _this2.handleLogin()},style:{display:"flex",justifyContent:"center",margin:"10px auto 0"}})),this.loginError?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("verdocs-ok-dialog",{heading:"Login Error",message:this.loginError,onNext:function onNext(){return _this2.handleClearError()}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("div",null)):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_7__.h)("div",{style:{display:"none"}},"Verdocs Auth Placeholder")}}]),VerdocsAuth}();VerdocsAuth.style='verdocs-auth{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-auth .login-form,verdocs-auth .signup-form{background:#ffffff;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;display:-ms-flexbox;display:flex;padding:20px;width:300px;max-width:100%}verdocs-auth .logo{margin:20px 0 30px;width:128px;max-width:100%}verdocs-auth h3{text-align:center;font-weight:400;font-size:16px;line-height:1.75;margin:0}verdocs-auth h4{text-align:center;font-weight:400;font-size:14px;line-height:1.43;margin:0}verdocs-auth .status-result{display:none}verdocs-auth .status-result.debug{white-space:pre-wrap;font-size:14px;background:#fff;padding:10px;display:block;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}verdocs-auth form{width:100%}verdocs-auth verdocs-text-input{margin-bottom:10px}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9lcnJvcnMtOWI1NDk4YzguanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdmVyZG9jcy1hdXRoLmVudHJ5LmpzIl0sIm5hbWVzIjpbIlNES0Vycm9yIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJyZXNwb25zZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiRXJyb3IiLCJWZXJkb2NzQXV0aCIsImhvc3RSZWYiLCJyZWdpc3Rlckluc3RhbmNlIiwidGhpcyIsImF1dGhlbnRpY2F0ZWQiLCJjcmVhdGVFdmVudCIsInNka0Vycm9yIiwiZW5kcG9pbnQiLCJWZXJkb2NzRW5kcG9pbnQiLCJnZXREZWZhdWx0IiwidmlzaWJsZSIsImxvZ28iLCJpc0F1dGhlbnRpY2F0ZWQiLCJkaXNwbGF5TW9kZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJsb2dnaW5nSW4iLCJhY3RpdmVTZXNzaW9uIiwibG9naW5FcnJvciIsImNvbXBvbmVudFdpbGxMb2FkIiwiX2EiLCJfYiIsImxvYWRTZXNzaW9uIiwic2Vzc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJlbWl0IiwiaGFuZGxlTG9naW4iLCJhdXRoZW50aWNhdGVVc2VyIiwicGFyYW1zIiwiYXBpIiwicG9zdCIsInRoZW4iLCJyIiwiZGF0YSIsInNldFRva2VuIiwiYWNjZXNzVG9rZW4iLCJlIiwiX2MiLCJfZCIsIl9lIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXR1cyIsImhhbmRsZUxvZ291dCIsImNsZWFyU2Vzc2lvbiIsImhhbmRsZUNsZWFyRXJyb3IiLCJyZW5kZXIiLCJoIiwiY2xhc3MiLCJzcmMiLCJhbHQiLCJsYWJlbCIsInZhcmlhbnQiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJvblN1Ym1pdCIsImF1dG9jb21wbGV0ZSIsInZhbHVlIiwib25JbnB1dCIsInRhcmdldCIsInR5cGUiLCJzdHlsZSIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsIm1h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OEMsTUFBTyxDQUFFQyxRQUFTLE9BQVFDLGVBQWdCLFNBQVVDLE9BQVEsb0JBQXVCakIsMERBQUUsaUJBQWtCLENBQUVJLE1BQU8sUUFBU0csU0FBVXBELEtBQUthLFVBQVdzQyxRQUFTLDBCQUFNLE9BQUszQixhQUFhLEVBQUVtQyxNQUFPLENBQUVDLFFBQVMsT0FBUUMsZUFBZ0IsU0FBVUMsT0FBUSxrQkFBcUI5RCxLQUFLZSxXQUFhOEIsMERBQUUsb0JBQXFCLENBQUVrQixRQUFTLGNBQWV6RSxRQUFTVSxLQUFLZSxXQUFZaUQsT0FBUSx5QkFBTSxPQUFLckIsa0JBQWtCLElBQU1FLDBEQUFFLE1BQU8sT0FSandDQSwwREFBRSxNQUFPLENBQUVjLE1BQU8sQ0FBRUMsUUFBUyxTQUFZLDJCQVNwRCxLQUFDLFlBekVjLEdBMkVqQi9ELFlBQVk4RCxNQTdFVyx1bEMiLCJmaWxlIjoiNDguYzM5MDJkODguaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUGFzc2VkIHRvIHBhcmVudCBjb21wb25lbnRzIGluIGNlcnRhaW4gY2FsbGJhY2tzIHdpdGggdGhlIGxvd2VyLWxldmVsIEpTLVNESyBlbWl0cyBhbiBlcnJvclxuICovXG5jbGFzcyBTREtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzQ29kZSwgcmVzcG9uc2UpIHtcbiAgICBzdXBlcihtZXNzYWdlIHx8ICdTREsgRXJyb3InKTtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNES0Vycm9yIGFzIFMgfTtcbiIsImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCB9IGZyb20gJy4vaW5kZXgtZjc4ZDE2M2QuanMnO1xuaW1wb3J0IHsgViBhcyBWZXJkb2NzRW5kcG9pbnQgfSBmcm9tICcuL1ZlcmRvY3NFbmRwb2ludC03ZjE3YjA4OC5qcyc7XG5pbXBvcnQgeyBTIGFzIFNES0Vycm9yIH0gZnJvbSAnLi9lcnJvcnMtOWI1NDk4YzguanMnO1xuaW1wb3J0ICcuL1Rva2VuLTU0NjkwNzg5LmpzJztcblxuLyoqXG4gKiBBdXRoZW50aWNhdGUgdG8gVmVyZG9jcyB2aWEgdXNlci9wYXNzd29yZCBhdXRoZW50aWNhdGlvblxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7QXV0aH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0F1dGgnO1xuICogaW1wb3J0IHtUcmFuc3BvcnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9IVFRQJztcbiAqXG4gKiBjb25zdCB7YWNjZXNzVG9rZW59ID0gYXdhaXQgQXV0aC5hdXRoZW50aWNhdGVVc2VyKHsgdXNlcm5hbWU6ICd0ZXN0QHRlc3QuY29tJywgcGFzc3dvcmQ6ICdQQVNTV09SRCcgfSk7XG4gKiBUcmFuc3BvcnQuc2V0QXV0aFRva2VuKGFjY2Vzc1Rva2VuKTtcbiAqIGBgYFxuICovXG52YXIgYXV0aGVudGljYXRlVXNlciA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL2F1dGhlbnRpY2F0aW9uL2xvZ2luJywgcGFyYW1zKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5cbmNvbnN0IHZlcmRvY3NBdXRoQ3NzID0gXCJ2ZXJkb2NzLWF1dGh7Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfXZlcmRvY3MtYXV0aCAubG9naW4tZm9ybSx2ZXJkb2NzLWF1dGggLnNpZ251cC1mb3Jte2JhY2tncm91bmQ6I2ZmZmZmZjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzoyMHB4O3dpZHRoOjMwMHB4O21heC13aWR0aDoxMDAlfXZlcmRvY3MtYXV0aCAubG9nb3ttYXJnaW46MjBweCAwIDMwcHg7d2lkdGg6MTI4cHg7bWF4LXdpZHRoOjEwMCV9dmVyZG9jcy1hdXRoIGgze3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXNpemU6MTZweDtsaW5lLWhlaWdodDoxLjc1O21hcmdpbjowfXZlcmRvY3MtYXV0aCBoNHt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDo0MDA7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40MzttYXJnaW46MH12ZXJkb2NzLWF1dGggLnN0YXR1cy1yZXN1bHR7ZGlzcGxheTpub25lfXZlcmRvY3MtYXV0aCAuc3RhdHVzLXJlc3VsdC5kZWJ1Z3t3aGl0ZS1zcGFjZTpwcmUtd3JhcDtmb250LXNpemU6MTRweDtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZzoxMHB4O2Rpc3BsYXk6YmxvY2s7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn12ZXJkb2NzLWF1dGggZm9ybXt3aWR0aDoxMDAlfXZlcmRvY3MtYXV0aCB2ZXJkb2NzLXRleHQtaW5wdXR7bWFyZ2luLWJvdHRvbToxMHB4fVwiO1xuXG5jb25zdCBWZXJkb2NzQXV0aCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5hdXRoZW50aWNhdGVkID0gY3JlYXRlRXZlbnQodGhpcywgXCJhdXRoZW50aWNhdGVkXCIsIDcpO1xuICAgIHRoaXMuc2RrRXJyb3IgPSBjcmVhdGVFdmVudCh0aGlzLCBcInNka0Vycm9yXCIsIDcpO1xuICAgIHRoaXMuZW5kcG9pbnQgPSBWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpO1xuICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vdmVyZG9jcy5jb20vYXNzZXRzL2JsdWUtbG9nby5zdmcnO1xuICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5kaXNwbGF5TW9kZSA9ICdsb2dpbic7XG4gICAgdGhpcy51c2VybmFtZSA9ICcnO1xuICAgIHRoaXMucGFzc3dvcmQgPSAnJztcbiAgICB0aGlzLmxvZ2dpbmdJbiA9IGZhbHNlO1xuICAgIHRoaXMuYWN0aXZlU2Vzc2lvbiA9IG51bGw7XG4gICAgdGhpcy5sb2dpbkVycm9yID0gbnVsbDtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHRoaXMuZW5kcG9pbnQubG9hZFNlc3Npb24oKTtcbiAgICBpZiAodGhpcy5lbmRwb2ludC5zZXNzaW9uKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0FVVEhdIEF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWN0aXZlU2Vzc2lvbiA9IHRoaXMuZW5kcG9pbnQuc2Vzc2lvbjtcbiAgICAgIChfYSA9IHRoaXMuYXV0aGVudGljYXRlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoeyBhdXRoZW50aWNhdGVkOiB0cnVlLCBzZXNzaW9uOiB0aGlzLmVuZHBvaW50LnNlc3Npb24gfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1tBVVRIXSBBbm9ueW1vdXMnKTtcbiAgICAgIChfYiA9IHRoaXMuYXV0aGVudGljYXRlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXQoeyBhdXRoZW50aWNhdGVkOiBmYWxzZSwgc2Vzc2lvbjogbnVsbCB9KTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlTG9naW4oKSB7XG4gICAgdGhpcy5sb2dnaW5nSW4gPSB0cnVlO1xuICAgIGF1dGhlbnRpY2F0ZVVzZXIodGhpcy5lbmRwb2ludCwgeyB1c2VybmFtZTogdGhpcy51c2VybmFtZSwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQgfSlcbiAgICAgIC50aGVuKHIgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgdGhpcy5sb2dnaW5nSW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuZW5kcG9pbnQuc2V0VG9rZW4oci5hY2Nlc3NUb2tlbik7XG4gICAgICB0aGlzLmFjdGl2ZVNlc3Npb24gPSB0aGlzLmVuZHBvaW50LnNlc3Npb247XG4gICAgICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgICAoX2EgPSB0aGlzLmF1dGhlbnRpY2F0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KHsgYXV0aGVudGljYXRlZDogdHJ1ZSwgc2Vzc2lvbjogdGhpcy5lbmRwb2ludC5zZXNzaW9uIH0pO1xuICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgY29uc29sZS5sb2coJ1tBVVRIXSBBdXRoZW50aWNhdGlvbiBlcnJvcicsIGUucmVzcG9uc2UsIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgIHRoaXMubG9nZ2luZ0luID0gZmFsc2U7XG4gICAgICB0aGlzLmFjdGl2ZVNlc3Npb24gPSBudWxsO1xuICAgICAgKF9hID0gdGhpcy5hdXRoZW50aWNhdGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCh7IGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLCBzZXNzaW9uOiBudWxsIH0pO1xuICAgICAgKF9iID0gdGhpcy5zZGtFcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgKF9jID0gZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnN0YXR1cywgKF9kID0gZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmRhdGEpKTtcbiAgICAgIGlmICgoKF9lID0gZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc3RhdHVzKSA9PT0gNDAzKSB7XG4gICAgICAgIHRoaXMubG9naW5FcnJvciA9ICdQbGVhc2UgY2hlY2sgeW91ciB1c2VybmFtZSBhbmQgcGFzc3dvcmQgYW5kIHRyeSBhZ2Fpbi4nO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGhhbmRsZUxvZ291dCgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5lbmRwb2ludC5jbGVhclNlc3Npb24oKTtcbiAgICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgIChfYSA9IHRoaXMuYXV0aGVudGljYXRlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoeyBhdXRoZW50aWNhdGVkOiBmYWxzZSwgc2Vzc2lvbjogbnVsbCB9KTtcbiAgfVxuICBoYW5kbGVDbGVhckVycm9yKCkge1xuICAgIHRoaXMubG9naW5FcnJvciA9IG51bGw7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6ICdub25lJyB9IH0sIFwiVmVyZG9jcyBBdXRoIFBsYWNlaG9sZGVyXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwic3RhdHVzLXJlc3VsdFwiIH0sIFwiQXV0aGVudGljYXRlZFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzcGxheU1vZGUgPT09ICdzaWdudXAnKSB7XG4gICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJzaWdudXAtZm9ybVwiIH0sIGgoXCJpbWdcIiwgeyBzcmM6IHRoaXMubG9nbywgYWx0OiBcIlZlcmRvY3MgTG9nb1wiLCBjbGFzczogXCJsb2dvXCIgfSksIGgoXCJoM1wiLCBudWxsLCBcIlNpZ24gdXAgZm9yIGFuIGFjY291bnRcIiksIGgoXCJoNFwiLCBudWxsLCBcIkFscmVhZHkgaGF2ZSBhbiBhY2NvdW50P1wiLCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJMb2cgSW5cIiwgdmFyaWFudDogXCJ0ZXh0XCIsIG9uQ2xpY2s6ICgpID0+ICh0aGlzLmRpc3BsYXlNb2RlID0gJ2xvZ2luJyksIGRpc2FibGVkOiB0aGlzLmxvZ2dpbmdJbiB9KSksIGgoXCJmb3JtXCIsIHsgb25TdWJtaXQ6ICgpID0+IHRoaXMuaGFuZGxlTG9naW4oKSB9LCBoKFwidmVyZG9jcy10ZXh0LWlucHV0XCIsIHsgbGFiZWw6IFwiRW1haWxcIiwgYXV0b2NvbXBsZXRlOiBcInVzZXJuYW1lXCIsIHZhbHVlOiB0aGlzLnVzZXJuYW1lLCBvbklucHV0OiAoZSkgPT4gKHRoaXMudXNlcm5hbWUgPSBlLnRhcmdldC52YWx1ZSksIGRpc2FibGVkOiB0aGlzLmxvZ2dpbmdJbiB9KSwgaChcInZlcmRvY3MtdGV4dC1pbnB1dFwiLCB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgYXV0b2NvbXBsZXRlOiBcImN1cnJlbnQtcGFzc3dvcmRcIiwgdmFsdWU6IHRoaXMucGFzc3dvcmQsIG9uSW5wdXQ6IChlKSA9PiAodGhpcy5wYXNzd29yZCA9IGUudGFyZ2V0LnZhbHVlKSwgZGlzYWJsZWQ6IHRoaXMubG9nZ2luZ0luIH0pLCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJTaWdudXBcIiwgZGlzYWJsZWQ6IHRoaXMubG9nZ2luZ0luLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZUxvZ2luKCksIHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBtYXJnaW46ICczMHB4IGF1dG8gMCcgfSB9KSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwibG9naW4tZm9ybVwiIH0sIGgoXCJpbWdcIiwgeyBzcmM6IHRoaXMubG9nbywgYWx0OiBcIlZlcmRvY3MgTG9nb1wiLCBjbGFzczogXCJsb2dvXCIgfSksIGgoXCJoM1wiLCBudWxsLCBcIkxvZyBpbiB0byB5b3VyIGFjY291bnRcIiksIGgoXCJoNFwiLCBudWxsLCBcIkRvbid0IGhhdmUgYW4gYWNjb3VudD9cIiwgaChcInZlcmRvY3MtYnV0dG9uXCIsIHsgbGFiZWw6IFwiU2lnbiBVcFwiLCB2YXJpYW50OiBcInRleHRcIiwgb25DbGljazogKCkgPT4gKHRoaXMuZGlzcGxheU1vZGUgPSAnc2lnbnVwJyksIGRpc2FibGVkOiB0aGlzLmxvZ2dpbmdJbiB9KSksIGgoXCJmb3JtXCIsIHsgb25TdWJtaXQ6ICgpID0+IHRoaXMuaGFuZGxlTG9naW4oKSB9LCBoKFwidmVyZG9jcy10ZXh0LWlucHV0XCIsIHsgbGFiZWw6IFwiRW1haWxcIiwgYXV0b2NvbXBsZXRlOiBcInVzZXJuYW1lXCIsIHZhbHVlOiB0aGlzLnVzZXJuYW1lLCBvbklucHV0OiAoZSkgPT4gKHRoaXMudXNlcm5hbWUgPSBlLnRhcmdldC52YWx1ZSksIGRpc2FibGVkOiB0aGlzLmxvZ2dpbmdJbiB9KSwgaChcInZlcmRvY3MtdGV4dC1pbnB1dFwiLCB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgYXV0b2NvbXBsZXRlOiBcImN1cnJlbnQtcGFzc3dvcmRcIiwgdmFsdWU6IHRoaXMucGFzc3dvcmQsIG9uSW5wdXQ6IChlKSA9PiAodGhpcy5wYXNzd29yZCA9IGUudGFyZ2V0LnZhbHVlKSwgZGlzYWJsZWQ6IHRoaXMubG9nZ2luZ0luIH0pLCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJGb3Jnb3QgWW91ciBQYXNzd29yZD9cIiwgdmFyaWFudDogXCJ0ZXh0XCIsIG9uQ2xpY2s6ICgpID0+ICh0aGlzLmRpc3BsYXlNb2RlID0gJ3NpZ251cCcpLCBkaXNhYmxlZDogdGhpcy5sb2dnaW5nSW4sIHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBtYXJnaW46ICcxMHB4IGF1dG8gMjBweCcgfSB9KSwgaChcInZlcmRvY3MtYnV0dG9uXCIsIHsgbGFiZWw6IFwiTG9naW5cIiwgZGlzYWJsZWQ6IHRoaXMubG9nZ2luZ0luLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZUxvZ2luKCksIHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBtYXJnaW46ICcxMHB4IGF1dG8gMCcgfSB9KSksIHRoaXMubG9naW5FcnJvciA/IGgoXCJ2ZXJkb2NzLW9rLWRpYWxvZ1wiLCB7IGhlYWRpbmc6IFwiTG9naW4gRXJyb3JcIiwgbWVzc2FnZTogdGhpcy5sb2dpbkVycm9yLCBvbk5leHQ6ICgpID0+IHRoaXMuaGFuZGxlQ2xlYXJFcnJvcigpIH0pIDogaChcImRpdlwiLCBudWxsKSkpO1xuICB9XG59O1xuVmVyZG9jc0F1dGguc3R5bGUgPSB2ZXJkb2NzQXV0aENzcztcblxuZXhwb3J0IHsgVmVyZG9jc0F1dGggYXMgdmVyZG9jc19hdXRoIH07XG4iXSwic291cmNlUm9vdCI6IiJ9