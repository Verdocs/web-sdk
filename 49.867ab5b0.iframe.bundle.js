(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"./dist/esm/verdocs-contact-picker.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_contact_picker",(function(){return VerdocsContactPicker}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./dist/esm/index-b18c0348.js"),_VerdocsEndpoint_6d7a17ce_js__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__("./dist/esm/Types-5f31149e.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-6d7a17ce.js"));function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsContactPicker=function(){function VerdocsContactPicker(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsContactPicker),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.j)(this,hostRef),this.searchContacts=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.e)(this,"searchContacts",7),this.exit=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.e)(this,"exit",7),this.next=Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.e)(this,"next",7),this.endpoint=_VerdocsEndpoint_6d7a17ce_js__WEBPACK_IMPORTED_MODULE_13__.b.getDefault(),this.templateRole=null,this.contactSuggestions=[],this.name=void 0,this.email=void 0,this.phone=void 0,this.message=void 0,this.showSuggestions=!1,this.showMessage=!1,this.delegator=!1,this.nameFieldId="verdocs-contact-picker-name-"+Math.random().toString(36).substring(2,11),this.emailFieldId="verdocs-contact-picker-email-"+Math.random().toString(36).substring(2,11),this.phoneFieldId="verdocs-contact-picker-phone-"+Math.random().toString(36).substring(2,11)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsContactPicker,[{key:"componentWillLoad",value:function componentWillLoad(){this.templateRole&&(this.name=this.templateRole.full_name||"",this.email=this.templateRole.email||"",this.phone=this.templateRole.phone||"",this.delegator=this.templateRole.delegator||!1,this.message=this.templateRole.message||"",this.showMessage=""!==this.message)}},{key:"handleNameChange",value:function handleNameChange(e){var _a;this.name=e.target.value,null===(_a=this.searchContacts)||void 0===_a||_a.emit({query:this.name})}},{key:"handleEmailChange",value:function handleEmailChange(e){this.email=e.target.value}},{key:"handlePhoneChange",value:function handlePhoneChange(e){this.phone=e.target.value}},{key:"handleMessageChange",value:function handleMessageChange(e){this.message=e.target.value}},{key:"handleCancel",value:function handleCancel(e){var _a;e.stopPropagation(),this.showSuggestions=!1,null===(_a=this.exit)||void 0===_a||_a.emit()}},{key:"handleSubmit",value:function handleSubmit(e){var _a;e.stopPropagation(),this.showSuggestions=!1,null===(_a=this.next)||void 0===_a||_a.emit({full_name:this.name,email:this.email,phone:this.phone,message:this.message,delegator:this.delegator})}},{key:"handleSelectSuggestion",value:function handleSelectSuggestion(e,suggestion){e.stopPropagation(),this.name=suggestion.name,this.email=suggestion.email,this.phone=suggestion.phone,this.showSuggestions=!1}},{key:"render",value:function render(){var _this=this;return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("form",{onSubmit:function onSubmit(e){return e.preventDefault()},onClick:function onClick(e){return e.stopPropagation()},autocomplete:"off"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"row"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("label",{htmlFor:this.nameFieldId},"Name:"),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("input",{id:this.nameFieldId,name:this.nameFieldId,type:"text","data-lpignore":"true",autocomplete:"blocked",value:this.name,placeholder:"Recipient Name...",onFocus:function onFocus(){var _a;return _this.showSuggestions=(null===(_a=_this.contactSuggestions)||void 0===_a?void 0:_a.length)>0},onInput:function onInput(e){return _this.handleNameChange(e)}}),this.showSuggestions&&Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"dropdown"},this.contactSuggestions.map((function(suggestion){var _a;return Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{key:null!==(_a=suggestion.id)&&void 0!==_a?_a:suggestion.name,class:"suggestion",onClick:function onClick(e){return _this.handleSelectSuggestion(e,suggestion)}},suggestion.avatar?Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("img",{alt:"Avatar",class:"avatar",src:suggestion.avatar}):Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"avatar",innerHTML:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-zjt8k" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="AccountCircleIcon" tabindex="-1" title="AccountCircle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"></path></svg>'}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"details"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"name"},suggestion.name),suggestion.email&&Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"destination"},suggestion.email),suggestion.phone&&Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"destination"},suggestion.phone)))})))),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"row"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("label",{htmlFor:this.emailFieldId},"Email:"),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("input",{id:this.emailFieldId,name:this.emailFieldId,type:"text","data-lpignore":"true",autoComplete:"blocked",value:this.email,placeholder:"Email Address...",onFocus:function onFocus(){return _this.showSuggestions=!1},onInput:function onInput(e){return _this.handleEmailChange(e)}})),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"row"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("label",{htmlFor:this.phoneFieldId},"Phone:"),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("input",{id:this.phoneFieldId,name:this.phoneFieldId,type:"text","data-lpignore":"true",autoComplete:"blocked",value:this.phone,placeholder:"Phone Number...",onFocus:function onFocus(){return _this.showSuggestions=!1},onInput:function onInput(e){return _this.handlePhoneChange(e)}})),this.showMessage&&Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"row"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("label",{htmlFor:"verdocs-contact-picker-message"},"Message:"),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("input",{id:"verdocs-contact-picker-message",name:"verdocs-contact-picker-message",type:"text","data-lpignore":"true",autocomplete:"blocked",value:this.message,placeholder:"Invitation Message...",onFocus:function onFocus(){return _this.showSuggestions=!1},onInput:function onInput(e){return _this.handleMessageChange(e)}})),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"buttons"},Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("verdocs-toggle-button",{icon:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>',size:"small",active:this.showMessage,onToggle:function onToggle(e){_this.showMessage=e.detail.active,_this.showSuggestions=!1}}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("verdocs-toggle-button",{icon:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-zjt8k" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="AssignmentIndIcon" tabindex="-1" title="AssignmentInd"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></svg>',size:"small",active:this.delegator,onToggle:function onToggle(e){_this.delegator=e.detail.active,_this.showSuggestions=!1}}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("div",{class:"flex-fill"}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("verdocs-button",{variant:"outline",label:"Cancel",size:"small",onClick:function onClick(e){return _this.handleCancel(e)}}),Object(_index_b18c0348_js__WEBPACK_IMPORTED_MODULE_11__.h)("verdocs-button",{label:"OK",size:"small",onClick:function onClick(e){return _this.handleSubmit(e)}})))}}]),VerdocsContactPicker}();VerdocsContactPicker.style='verdocs-contact-picker{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;background-color:#ffffff}verdocs-contact-picker form{background-color:#f5f5fa;padding:12px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-contact-picker form .row{width:300px;display:-ms-flexbox;display:flex;position:relative;margin:0 0 20px 0;-ms-flex-direction:column;flex-direction:column}verdocs-contact-picker form label{display:block;font-size:14px;font-weight:500;margin:0 0 4px 0;color:#5c6575}verdocs-contact-picker form input{border:none;font-size:18px;padding:3px 6px 3px 0;background:transparent;border-bottom:1px solid #33364b}verdocs-contact-picker form input:focus{outline:none}verdocs-contact-picker form .dropdown{left:0;right:0;top:49px;z-index:10000;position:absolute;background:#ffffff;-webkit-box-shadow:0 0 15px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 15px 0 rgba(0, 0, 0, 0.1)}verdocs-contact-picker form .dropdown .suggestion{display:-ms-flexbox;display:flex;padding:6px 12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row}verdocs-contact-picker form .dropdown .suggestion svg{fill:#666666}verdocs-contact-picker form .dropdown .suggestion .avatar{width:48px;height:48px;-ms-flex:0 0 48px;flex:0 0 48px;margin-right:8px;border-radius:100%}verdocs-contact-picker form .dropdown .suggestion .details{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}verdocs-contact-picker form .dropdown .suggestion .name{font-size:16px;font-weight:500;margin-bottom:3px;color:#092c4c}verdocs-contact-picker form .dropdown .suggestion .destination{font-size:14px;margin-bottom:3px;color:#33364b}verdocs-contact-picker form .dropdown .suggestion:hover{background:#eee;cursor:pointer}verdocs-contact-picker .buttons{display:-ms-flexbox;display:flex;-webkit-column-gap:8px;-moz-column-gap:8px;column-gap:8px;margin-top:16px;-ms-flex-direction:row;flex-direction:row}verdocs-contact-picker .buttons .flex-fill{-ms-flex:1;flex:1}verdocs-contact-picker ::-webkit-input-placeholder{color:#aaaaaa}verdocs-contact-picker ::-moz-placeholder{color:#aaaaaa}verdocs-contact-picker :-ms-input-placeholder{color:#aaaaaa}verdocs-contact-picker ::-ms-input-placeholder{color:#aaaaaa}verdocs-contact-picker ::placeholder{color:#aaaaaa}verdocs-contact-picker [data-lastpass-icon-root]{display:none !important}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS92ZXJkb2NzLWNvbnRhY3QtcGlja2VyLmVudHJ5LmpzIl0sIm5hbWVzIjpbIlZlcmRvY3NDb250YWN0UGlja2VyIiwiaG9zdFJlZiIsInJlZ2lzdGVySW5zdGFuY2UiLCJ0aGlzIiwic2VhcmNoQ29udGFjdHMiLCJjcmVhdGVFdmVudCIsImV4aXQiLCJuZXh0IiwiZW5kcG9pbnQiLCJWZXJkb2NzRW5kcG9pbnQiLCJnZXREZWZhdWx0IiwidGVtcGxhdGVSb2xlIiwiY29udGFjdFN1Z2dlc3Rpb25zIiwibmFtZSIsInVuZGVmaW5lZCIsImVtYWlsIiwicGhvbmUiLCJtZXNzYWdlIiwic2hvd1N1Z2dlc3Rpb25zIiwic2hvd01lc3NhZ2UiLCJkZWxlZ2F0b3IiLCJuYW1lRmllbGRJZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVtYWlsRmllbGRJZCIsInBob25lRmllbGRJZCIsImNvbXBvbmVudFdpbGxMb2FkIiwiZnVsbF9uYW1lIiwiaGFuZGxlTmFtZUNoYW5nZSIsImUiLCJfYSIsInRhcmdldCIsInZhbHVlIiwiZW1pdCIsInF1ZXJ5IiwiaGFuZGxlRW1haWxDaGFuZ2UiLCJoYW5kbGVQaG9uZUNoYW5nZSIsImhhbmRsZU1lc3NhZ2VDaGFuZ2UiLCJoYW5kbGVDYW5jZWwiLCJzdG9wUHJvcGFnYXRpb24iLCJoYW5kbGVTdWJtaXQiLCJoYW5kbGVTZWxlY3RTdWdnZXN0aW9uIiwic3VnZ2VzdGlvbiIsInJlbmRlciIsImgiLCJvblN1Ym1pdCIsInByZXZlbnREZWZhdWx0Iiwib25DbGljayIsImF1dG9jb21wbGV0ZSIsImNsYXNzIiwiaHRtbEZvciIsImlkIiwidHlwZSIsInBsYWNlaG9sZGVyIiwib25Gb2N1cyIsImxlbmd0aCIsIm9uSW5wdXQiLCJtYXAiLCJrZXkiLCJhdmF0YXIiLCJhbHQiLCJzcmMiLCJpbm5lckhUTUwiLCJhdXRvQ29tcGxldGUiLCJpY29uIiwic2l6ZSIsImFj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LE1BQUtRLG9CQUFvQlIsRUFBRSxLQUFPZSwyREFBRSxNQUFPLENBQUVLLE1BQU8sV0FBYUwsMkRBQUUsd0JBQXlCLENBQUVvQixLQWhGMXBDLHlSQWdGNnFDQyxLQUFNLFFBQVNDLE9BQVFqRSxLQUFLZ0IsWUFBYWtELFNBQVUsa0JBQUF0QyxHQUM1dUMsTUFBS1osWUFBY1ksRUFBRXVDLE9BQU9GLE9BQzVCLE1BQUtsRCxpQkFBa0IsQ0FDekIsSUFBTTRCLDJEQUFFLHdCQUF5QixDQUFFb0IsS0FsRnBCLHloQkFrRndDQyxLQUFNLFFBQVNDLE9BQVFqRSxLQUFLaUIsVUFBV2lELFNBQVUsa0JBQUF0QyxHQUN0RyxNQUFLWCxVQUFZVyxFQUFFdUMsT0FBT0YsT0FDMUIsTUFBS2xELGlCQUFrQixDQUN6QixJQUFNNEIsMkRBQUUsTUFBTyxDQUFFSyxNQUFPLGNBQWdCTCwyREFBRSxpQkFBa0IsQ0FBRXlCLFFBQVMsVUFBV0MsTUFBTyxTQUFVTCxLQUFNLFFBQVNsQixRQUFTLGlCQUFBbEIsR0FBQyxPQUFJLE1BQUtTLGFBQWFULEVBQUUsSUFBS2UsMkRBQUUsaUJBQWtCLENBQUUwQixNQUFPLEtBQU1MLEtBQU0sUUFBU2xCLFFBQVMsaUJBQUFsQixHQUFDLE9BQUksTUFBS1csYUFBYVgsRUFBRSxLQUNqUCxLQUFDLHFCQXBGdUIsR0FzRjFCL0IscUJBQXFCeUUsTUEzRlcsNjJFIiwiZmlsZSI6IjQ5Ljg2N2FiNWIwLmlmcmFtZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGggfSBmcm9tICcuL2luZGV4LWIxOGMwMzQ4LmpzJztcbmltcG9ydCAnLi9UeXBlcy01ZjMxMTQ5ZS5qcyc7XG5pbXBvcnQgeyBWIGFzIFZlcmRvY3NFbmRwb2ludCB9IGZyb20gJy4vVmVyZG9jc0VuZHBvaW50LTZkN2ExN2NlLmpzJztcblxuY29uc3QgdmVyZG9jc0NvbnRhY3RQaWNrZXJDc3MgPSBcInZlcmRvY3MtY29udGFjdC1waWNrZXJ7Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmfXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybXtiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZmE7cGFkZGluZzoxMnB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAucm93e3dpZHRoOjMwMHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIDAgMjBweCAwOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSBsYWJlbHtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDttYXJnaW46MCAwIDRweCAwO2NvbG9yOiM1YzY1NzV9dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIGlucHV0e2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxOHB4O3BhZGRpbmc6M3B4IDZweCAzcHggMDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMzMzM2NGJ9dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIGlucHV0OmZvY3Vze291dGxpbmU6bm9uZX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3due2xlZnQ6MDtyaWdodDowO3RvcDo0OXB4O3otaW5kZXg6MTAwMDA7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDojZmZmZmZmOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMTVweCAwIHJnYmEoMCwgMCwgMCwgMC4xKTtib3gtc2hhZG93OjAgMCAxNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpfXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAuZHJvcGRvd24gLnN1Z2dlc3Rpb257ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo2cHggMTJweDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93fXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAuZHJvcGRvd24gLnN1Z2dlc3Rpb24gc3Zne2ZpbGw6IzY2NjY2Nn12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3duIC5zdWdnZXN0aW9uIC5hdmF0YXJ7d2lkdGg6NDhweDtoZWlnaHQ6NDhweDstbXMtZmxleDowIDAgNDhweDtmbGV4OjAgMCA0OHB4O21hcmdpbi1yaWdodDo4cHg7Ym9yZGVyLXJhZGl1czoxMDAlfXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAuZHJvcGRvd24gLnN1Z2dlc3Rpb24gLmRldGFpbHN7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW59dmVyZG9jcy1jb250YWN0LXBpY2tlciBmb3JtIC5kcm9wZG93biAuc3VnZ2VzdGlvbiAubmFtZXtmb250LXNpemU6MTZweDtmb250LXdlaWdodDo1MDA7bWFyZ2luLWJvdHRvbTozcHg7Y29sb3I6IzA5MmM0Y312ZXJkb2NzLWNvbnRhY3QtcGlja2VyIGZvcm0gLmRyb3Bkb3duIC5zdWdnZXN0aW9uIC5kZXN0aW5hdGlvbntmb250LXNpemU6MTRweDttYXJnaW4tYm90dG9tOjNweDtjb2xvcjojMzMzNjRifXZlcmRvY3MtY29udGFjdC1waWNrZXIgZm9ybSAuZHJvcGRvd24gLnN1Z2dlc3Rpb246aG92ZXJ7YmFja2dyb3VuZDojZWVlO2N1cnNvcjpwb2ludGVyfXZlcmRvY3MtY29udGFjdC1waWNrZXIgLmJ1dHRvbnN7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1jb2x1bW4tZ2FwOjhweDstbW96LWNvbHVtbi1nYXA6OHB4O2NvbHVtbi1nYXA6OHB4O21hcmdpbi10b3A6MTZweDstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvd312ZXJkb2NzLWNvbnRhY3QtcGlja2VyIC5idXR0b25zIC5mbGV4LWZpbGx7LW1zLWZsZXg6MTtmbGV4OjF9dmVyZG9jcy1jb250YWN0LXBpY2tlciA6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6I2FhYWFhYX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojYWFhYWFhfXZlcmRvY3MtY29udGFjdC1waWNrZXIgOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojYWFhYWFhfXZlcmRvY3MtY29udGFjdC1waWNrZXIgOjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6I2FhYWFhYX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIDo6cGxhY2Vob2xkZXJ7Y29sb3I6I2FhYWFhYX12ZXJkb2NzLWNvbnRhY3QtcGlja2VyIFtkYXRhLWxhc3RwYXNzLWljb24tcm9vdF17ZGlzcGxheTpub25lICFpbXBvcnRhbnR9XCI7XG5cbmNvbnN0IG1lc3NhZ2VJY29uID0gJzxzdmcgY2xhc3M9XCJNdWlTdmdJY29uLXJvb3QgTXVpU3ZnSWNvbi1mb250U2l6ZU1lZGl1bSBNdWlCb3gtcm9vdCBjc3MtMW9tMGhrY1wiIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMjAgMkg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMjJsNC00aDE0YzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS0yIDEySDZ2LTJoMTJ2MnptMC0zSDZWOWgxMnYyem0wLTNINlY2aDEydjJ6XCI+PC9wYXRoPjwvc3ZnPic7XG5jb25zdCBkZWxlZ2F0ZUljb24gPSAnPHN2ZyBjbGFzcz1cIk11aVN2Z0ljb24tcm9vdCBNdWlTdmdJY29uLWZvbnRTaXplTWVkaXVtIE11aVN2Z0ljb24tcm9vdCBNdWlTdmdJY29uLWZvbnRTaXplTGFyZ2UgY3NzLXpqdDhrXCIgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZGF0YS10ZXN0aWQ9XCJBc3NpZ25tZW50SW5kSWNvblwiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIkFzc2lnbm1lbnRJbmRcIj48cGF0aCBkPVwiTTE5IDNoLTQuMThDMTQuNCAxLjg0IDEzLjMgMSAxMiAxYy0xLjMgMC0yLjQuODQtMi44MiAySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnptLTcgMGMuNTUgMCAxIC40NSAxIDFzLS40NSAxLTEgMS0xLS40NS0xLTEgLjQ1LTEgMS0xem0wIDRjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem02IDEySDZ2LTEuNGMwLTIgNC0zLjEgNi0zLjFzNiAxLjEgNiAzLjFWMTl6XCI+PC9wYXRoPjwvc3ZnPic7XG5jb25zdCBwbGFjZWhvbGRlckljb24gPSAnPHN2ZyBjbGFzcz1cIk11aVN2Z0ljb24tcm9vdCBNdWlTdmdJY29uLWZvbnRTaXplTWVkaXVtIE11aVN2Z0ljb24tcm9vdCBNdWlTdmdJY29uLWZvbnRTaXplTGFyZ2UgY3NzLXpqdDhrXCIgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZGF0YS10ZXN0aWQ9XCJBY2NvdW50Q2lyY2xlSWNvblwiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIkFjY291bnRDaXJjbGVcIj48cGF0aCBkPVwiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgNGMxLjkzIDAgMy41IDEuNTcgMy41IDMuNVMxMy45MyAxMyAxMiAxM3MtMy41LTEuNTctMy41LTMuNVMxMC4wNyA2IDEyIDZ6bTAgMTRjLTIuMDMgMC00LjQzLS44Mi02LjE0LTIuODhDNy41NSAxNS44IDkuNjggMTUgMTIgMTVzNC40NS44IDYuMTQgMi4xMkMxNi40MyAxOS4xOCAxNC4wMyAyMCAxMiAyMHpcIj48L3BhdGg+PC9zdmc+JztcbmNvbnN0IFZlcmRvY3NDb250YWN0UGlja2VyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLnNlYXJjaENvbnRhY3RzID0gY3JlYXRlRXZlbnQodGhpcywgXCJzZWFyY2hDb250YWN0c1wiLCA3KTtcbiAgICB0aGlzLmV4aXQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImV4aXRcIiwgNyk7XG4gICAgdGhpcy5uZXh0ID0gY3JlYXRlRXZlbnQodGhpcywgXCJuZXh0XCIsIDcpO1xuICAgIHRoaXMuZW5kcG9pbnQgPSBWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpO1xuICAgIHRoaXMudGVtcGxhdGVSb2xlID0gbnVsbDtcbiAgICB0aGlzLmNvbnRhY3RTdWdnZXN0aW9ucyA9IFtdO1xuICAgIHRoaXMubmFtZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVtYWlsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucGhvbmUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgdGhpcy5zaG93TWVzc2FnZSA9IGZhbHNlO1xuICAgIHRoaXMuZGVsZWdhdG9yID0gZmFsc2U7XG4gICAgdGhpcy5uYW1lRmllbGRJZCA9IGB2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW5hbWUtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpfWA7XG4gICAgdGhpcy5lbWFpbEZpZWxkSWQgPSBgdmVyZG9jcy1jb250YWN0LXBpY2tlci1lbWFpbC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMSl9YDtcbiAgICB0aGlzLnBob25lRmllbGRJZCA9IGB2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLXBob25lLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKX1gO1xuICB9XG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGlmICh0aGlzLnRlbXBsYXRlUm9sZSkge1xuICAgICAgdGhpcy5uYW1lID0gdGhpcy50ZW1wbGF0ZVJvbGUuZnVsbF9uYW1lIHx8ICcnO1xuICAgICAgdGhpcy5lbWFpbCA9IHRoaXMudGVtcGxhdGVSb2xlLmVtYWlsIHx8ICcnO1xuICAgICAgdGhpcy5waG9uZSA9IHRoaXMudGVtcGxhdGVSb2xlLnBob25lIHx8ICcnO1xuICAgICAgdGhpcy5kZWxlZ2F0b3IgPSB0aGlzLnRlbXBsYXRlUm9sZS5kZWxlZ2F0b3IgfHwgZmFsc2U7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLnRlbXBsYXRlUm9sZS5tZXNzYWdlIHx8ICcnO1xuICAgICAgdGhpcy5zaG93TWVzc2FnZSA9IHRoaXMubWVzc2FnZSAhPT0gJyc7XG4gICAgfVxuICB9XG4gIGhhbmRsZU5hbWVDaGFuZ2UoZSkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLm5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAoX2EgPSB0aGlzLnNlYXJjaENvbnRhY3RzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCh7IHF1ZXJ5OiB0aGlzLm5hbWUgfSk7XG4gIH1cbiAgaGFuZGxlRW1haWxDaGFuZ2UoZSkge1xuICAgIHRoaXMuZW1haWwgPSBlLnRhcmdldC52YWx1ZTtcbiAgfVxuICBoYW5kbGVQaG9uZUNoYW5nZShlKSB7XG4gICAgdGhpcy5waG9uZSA9IGUudGFyZ2V0LnZhbHVlO1xuICB9XG4gIGhhbmRsZU1lc3NhZ2VDaGFuZ2UoZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IGUudGFyZ2V0LnZhbHVlO1xuICB9XG4gIGhhbmRsZUNhbmNlbChlKSB7XG4gICAgdmFyIF9hO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5zaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICAoX2EgPSB0aGlzLmV4aXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KCk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KGUpIHtcbiAgICB2YXIgX2E7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICAgIChfYSA9IHRoaXMubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoe1xuICAgICAgZnVsbF9uYW1lOiB0aGlzLm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5lbWFpbCxcbiAgICAgIHBob25lOiB0aGlzLnBob25lLFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgZGVsZWdhdG9yOiB0aGlzLmRlbGVnYXRvcixcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTZWxlY3RTdWdnZXN0aW9uKGUsIHN1Z2dlc3Rpb24pIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMubmFtZSA9IHN1Z2dlc3Rpb24ubmFtZTtcbiAgICB0aGlzLmVtYWlsID0gc3VnZ2VzdGlvbi5lbWFpbDtcbiAgICB0aGlzLnBob25lID0gc3VnZ2VzdGlvbi5waG9uZTtcbiAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICB9XG4gIC8vIFRoZSByZWFzb24gZm9yIHRoZSByYW5kb20gbmFtZXMvSURzIGlzIHRvIGRpc2FibGUgYnJvd3NlciBhdXRvY29tcGxldGUuIFdlIHNldCB0aGUgYXV0b2NvbXBsZXRlIHRhZ3MgYnV0IG1hbnkgYnJvd3NlcnMgaWdub3JlIHRoZW1cbiAgLy8gYW5kIHNob3cgYSBkdXBsaWNhdGUgYXV0b2NvbXBsZXRlIHBpY2tlciBvbiB0b3Agb2Ygb3VyIG93bi5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImZvcm1cIiwgeyBvblN1Ym1pdDogZSA9PiBlLnByZXZlbnREZWZhdWx0KCksIG9uQ2xpY2s6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSwgYXV0b2NvbXBsZXRlOiBcIm9mZlwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyb3dcIiB9LCBoKFwibGFiZWxcIiwgeyBodG1sRm9yOiB0aGlzLm5hbWVGaWVsZElkIH0sIFwiTmFtZTpcIiksIGgoXCJpbnB1dFwiLCB7IGlkOiB0aGlzLm5hbWVGaWVsZElkLCBuYW1lOiB0aGlzLm5hbWVGaWVsZElkLCB0eXBlOiBcInRleHRcIiwgXCJkYXRhLWxwaWdub3JlXCI6IFwidHJ1ZVwiLCBhdXRvY29tcGxldGU6IFwiYmxvY2tlZFwiLCB2YWx1ZTogdGhpcy5uYW1lLCBwbGFjZWhvbGRlcjogXCJSZWNpcGllbnQgTmFtZS4uLlwiLCBvbkZvY3VzOiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuICh0aGlzLnNob3dTdWdnZXN0aW9ucyA9ICgoX2EgPSB0aGlzLmNvbnRhY3RTdWdnZXN0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiAwKTsgfSxcbiAgICAgIC8vIG9uQmx1cj17KCkgPT4gKHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2UpfVxuICAgICAgb25JbnB1dDogZSA9PiB0aGlzLmhhbmRsZU5hbWVDaGFuZ2UoZSkgfSksIHRoaXMuc2hvd1N1Z2dlc3Rpb25zICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZHJvcGRvd25cIiB9LCB0aGlzLmNvbnRhY3RTdWdnZXN0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBrZXk6IChfYSA9IHN1Z2dlc3Rpb24uaWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHN1Z2dlc3Rpb24ubmFtZSwgY2xhc3M6IFwic3VnZ2VzdGlvblwiLCBvbkNsaWNrOiBlID0+IHRoaXMuaGFuZGxlU2VsZWN0U3VnZ2VzdGlvbihlLCBzdWdnZXN0aW9uKSB9LCBzdWdnZXN0aW9uLmF2YXRhciA/IGgoXCJpbWdcIiwgeyBhbHQ6IFwiQXZhdGFyXCIsIGNsYXNzOiBcImF2YXRhclwiLCBzcmM6IHN1Z2dlc3Rpb24uYXZhdGFyIH0pIDogaChcImRpdlwiLCB7IGNsYXNzOiBcImF2YXRhclwiLCBpbm5lckhUTUw6IHBsYWNlaG9sZGVySWNvbiB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImRldGFpbHNcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwibmFtZVwiIH0sIHN1Z2dlc3Rpb24ubmFtZSksIHN1Z2dlc3Rpb24uZW1haWwgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcImRlc3RpbmF0aW9uXCIgfSwgc3VnZ2VzdGlvbi5lbWFpbCksIHN1Z2dlc3Rpb24ucGhvbmUgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcImRlc3RpbmF0aW9uXCIgfSwgc3VnZ2VzdGlvbi5waG9uZSkpKSk7XG4gICAgfSkpKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyb3dcIiB9LCBoKFwibGFiZWxcIiwgeyBodG1sRm9yOiB0aGlzLmVtYWlsRmllbGRJZCB9LCBcIkVtYWlsOlwiKSwgaChcImlucHV0XCIsIHsgaWQ6IHRoaXMuZW1haWxGaWVsZElkLCBuYW1lOiB0aGlzLmVtYWlsRmllbGRJZCwgdHlwZTogXCJ0ZXh0XCIsIFwiZGF0YS1scGlnbm9yZVwiOiBcInRydWVcIiwgYXV0b0NvbXBsZXRlOiBcImJsb2NrZWRcIiwgdmFsdWU6IHRoaXMuZW1haWwsIHBsYWNlaG9sZGVyOiBcIkVtYWlsIEFkZHJlc3MuLi5cIiwgb25Gb2N1czogKCkgPT4gKHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2UpLCBvbklucHV0OiBlID0+IHRoaXMuaGFuZGxlRW1haWxDaGFuZ2UoZSkgfSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicm93XCIgfSwgaChcImxhYmVsXCIsIHsgaHRtbEZvcjogdGhpcy5waG9uZUZpZWxkSWQgfSwgXCJQaG9uZTpcIiksIGgoXCJpbnB1dFwiLCB7IGlkOiB0aGlzLnBob25lRmllbGRJZCwgbmFtZTogdGhpcy5waG9uZUZpZWxkSWQsIHR5cGU6IFwidGV4dFwiLCBcImRhdGEtbHBpZ25vcmVcIjogXCJ0cnVlXCIsIGF1dG9Db21wbGV0ZTogXCJibG9ja2VkXCIsIHZhbHVlOiB0aGlzLnBob25lLCBwbGFjZWhvbGRlcjogXCJQaG9uZSBOdW1iZXIuLi5cIiwgb25Gb2N1czogKCkgPT4gKHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2UpLCBvbklucHV0OiBlID0+IHRoaXMuaGFuZGxlUGhvbmVDaGFuZ2UoZSkgfSkpLCB0aGlzLnNob3dNZXNzYWdlICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwicm93XCIgfSwgaChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJ2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW1lc3NhZ2VcIiB9LCBcIk1lc3NhZ2U6XCIpLCBoKFwiaW5wdXRcIiwgeyBpZDogXCJ2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW1lc3NhZ2VcIiwgbmFtZTogXCJ2ZXJkb2NzLWNvbnRhY3QtcGlja2VyLW1lc3NhZ2VcIiwgdHlwZTogXCJ0ZXh0XCIsIFwiZGF0YS1scGlnbm9yZVwiOiBcInRydWVcIiwgYXV0b2NvbXBsZXRlOiBcImJsb2NrZWRcIiwgdmFsdWU6IHRoaXMubWVzc2FnZSwgcGxhY2Vob2xkZXI6IFwiSW52aXRhdGlvbiBNZXNzYWdlLi4uXCIsIG9uRm9jdXM6ICgpID0+ICh0aGlzLnNob3dTdWdnZXN0aW9ucyA9IGZhbHNlKSwgb25JbnB1dDogZSA9PiB0aGlzLmhhbmRsZU1lc3NhZ2VDaGFuZ2UoZSkgfSkpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImJ1dHRvbnNcIiB9LCBoKFwidmVyZG9jcy10b2dnbGUtYnV0dG9uXCIsIHsgaWNvbjogbWVzc2FnZUljb24sIHNpemU6IFwic21hbGxcIiwgYWN0aXZlOiB0aGlzLnNob3dNZXNzYWdlLCBvblRvZ2dsZTogZSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSBlLmRldGFpbC5hY3RpdmU7XG4gICAgICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICB9IH0pLCBoKFwidmVyZG9jcy10b2dnbGUtYnV0dG9uXCIsIHsgaWNvbjogZGVsZWdhdGVJY29uLCBzaXplOiBcInNtYWxsXCIsIGFjdGl2ZTogdGhpcy5kZWxlZ2F0b3IsIG9uVG9nZ2xlOiBlID0+IHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0b3IgPSBlLmRldGFpbC5hY3RpdmU7XG4gICAgICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICB9IH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZmxleC1maWxsXCIgfSksIGgoXCJ2ZXJkb2NzLWJ1dHRvblwiLCB7IHZhcmlhbnQ6IFwib3V0bGluZVwiLCBsYWJlbDogXCJDYW5jZWxcIiwgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiBlID0+IHRoaXMuaGFuZGxlQ2FuY2VsKGUpIH0pLCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJPS1wiLCBzaXplOiBcInNtYWxsXCIsIG9uQ2xpY2s6IGUgPT4gdGhpcy5oYW5kbGVTdWJtaXQoZSkgfSkpKSk7XG4gIH1cbn07XG5WZXJkb2NzQ29udGFjdFBpY2tlci5zdHlsZSA9IHZlcmRvY3NDb250YWN0UGlja2VyQ3NzO1xuXG5leHBvcnQgeyBWZXJkb2NzQ29udGFjdFBpY2tlciBhcyB2ZXJkb2NzX2NvbnRhY3RfcGlja2VyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9