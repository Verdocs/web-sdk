/*! For license information please see 35.a81c2fbd.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/verdocs-sign.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_sign",(function(){return VerdocsSign}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./dist/esm/Envelopes-19ca610d.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_38__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/Validators-f110bae2.js")),_VerdocsEndpoint_dac04424_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./dist/esm/VerdocsEndpoint-dac04424.js"),_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./dist/esm/utils-16973ff9.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./dist/esm/errors-9b5498c8.js");__webpack_require__("./dist/esm/index-fd7b8a34.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},createSignature=function createSignature(endpoint,name,signature){var data=new FormData;return data.append("signature",signature,name),endpoint.api.post("/signatures",data).then((function(r){return r.data}))},VerdocsSign=function(){function VerdocsSign(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSign),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.e)(this,"sdkError",7),this.fieldUpdated=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.e)(this,"fieldUpdated",7),this.endpoint=null,this.recipientIndex=-1,this.fields=[],this.envelopeId=null,this.roleId=null,this.inviteCode=null,this.recipient=null,this.signerToken=null,this.hasSignature=!1,this.nextButtonLabel="Start",this.focusedField="",this.finishLater=!1,this.showFinishLater=!1}var _handleFieldChange,_handleOptionSelected,_savePDF,_componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSign,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint=new _VerdocsEndpoint_dac04424_js__WEBPACK_IMPORTED_MODULE_39__.a({sessionType:"signing"})}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,_d,_e,_f,_yield$getSigningSess,session,recipient,signerToken,_this=this;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.envelopeId){_context.next=3;break}return null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a("[SIGN] Missing required envelopId",500,"")),_context.abrupt("return");case 3:if(this.roleId){_context.next=6;break}return null===(_b=this.sdkError)||void 0===_b||_b.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a("[SIGN] Missing required roleId",500,"")),_context.abrupt("return");case 6:if(this.inviteCode){_context.next=9;break}return null===(_c=this.sdkError)||void 0===_c||_c.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a("[SIGN] Missing required inviteCode",500,"")),_context.abrupt("return");case 9:return _context.prev=9,console.log("[SIGN] Processing invite code for "+this.envelopeId+" / "+this.roleId),_context.next=13,Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.d)(this.endpoint,{envelopeId:this.envelopeId,roleId:this.roleId,inviteCode:this.inviteCode});case 13:return _yield$getSigningSess=_context.sent,session=_yield$getSigningSess.session,recipient=_yield$getSigningSess.recipient,signerToken=_yield$getSigningSess.signerToken,console.log("[SIGN] Loaded signing session "+session.email+" / "+session.profile_id),this.recipient=recipient,this.signerToken=signerToken,this.endpoint.setToken(signerToken),this.recipient.agreed&&(this.nextButtonLabel="Next"),_context.next=24,Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.a)(this.endpoint,this.envelopeId);case 24:this.recipientIndex=_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.recipients.findIndex((function(recipient){return recipient.role_name==_this.roleId})),this.recipientIndex>-1&&(this.recipient=_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.recipients[this.recipientIndex],this.fields=this.recipient.fields),_context.next=32;break;case 28:_context.prev=28,_context.t0=_context.catch(9),console.log("Error with signing session",_context.t0),null===(_d=this.sdkError)||void 0===_d||_d.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(_context.t0.message,null===(_e=_context.t0.response)||void 0===_e?void 0:_e.status,null===(_f=_context.t0.response)||void 0===_f?void 0:_f.data));case 32:case"end":return _context.stop()}}),_callee,this,[[9,28]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"handleClickAgree",value:function handleClickAgree(){var _this2=this;(function updateRecipientStatus(endpoint,envelopeId,roleName,action,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/recipients/").concat(roleName),__assign({role_name:roleName,action:action},params||{})).then((function(r){return r.data}))]}))}))})(this.endpoint,this.envelopeId,this.roleId,"update",{agreed:!0}).then((function(r){_this2.nextButtonLabel="Next",_this2.recipient=r})).catch((function(e){var _a,_b,_c;console.log("Update failure",e),null===(_a=_this2.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data))}))}},{key:"savePDF",value:(_savePDF=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var fileName,data,xhr;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return fileName=_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.name+" - "+_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.updated_at.split("T")[0]+".pdf",_context2.next=3,Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.b)(this.endpoint,this.envelopeId,_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.envelope_document_id);case 3:data=_context2.sent,(xhr=new XMLHttpRequest).responseType="blob",xhr.onload=function(){var a=document.createElement("a");a.href=window.URL.createObjectURL(xhr.response),a.download=fileName,a.style.display="none",document.body.appendChild(a),a.click(),a.remove()},xhr.open("GET","data:application/pdf;base64,"+data),xhr.send();case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function savePDF(){return _savePDF.apply(this,arguments)})},{key:"handleOptionSelected",value:(_handleOptionSelected=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(e){return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.t0=e.detail.id,_context3.next="later"===_context3.t0?3:"claim"===_context3.t0?6:"decline"===_context3.t0?7:"print"===_context3.t0?8:"download"===_context3.t0?9:11;break;case 3:return this.finishLater=!0,this.showFinishLater=!0,_context3.abrupt("break",11);case 6:case 7:case 8:return _context3.abrupt("break",11);case 9:return this.savePDF().catch((function(){})),_context3.abrupt("break",11);case 11:case"end":return _context3.stop()}}),_callee3,this)}))),function handleOptionSelected(_x){return _handleOptionSelected.apply(this,arguments)})},{key:"handleFieldChange",value:(_handleFieldChange=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(field,e,optionId){var _e$target,value,checked,options,newSignature,attachResult,iso,_this3=this;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:console.log("fieldChange",field,e),_e$target=e.target,value=_e$target.value,checked=_e$target.checked,_context4.t0=field.type,_context4.next="textbox"===_context4.t0?5:"checkbox_group"===_context4.t0?7:"radio_button_group"===_context4.t0?9:"dropdown"===_context4.t0?12:"initial"===_context4.t0?14:"signature"===_context4.t0?16:"date"===_context4.t0?26:29;break;case 5:return Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.f)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:value}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c,_d,_e,_f;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),401===(null===(_d=e.response)||void 0===_d?void 0:_d.status)&&"jwt expired"===(null===(_f=null===(_e=e.response)||void 0===_e?void 0:_e.data)||void 0===_f?void 0:_f.error)&&console.log("jwt expired"),console.log("Error updating",e)})),_context4.abrupt("break",31);case 7:return Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.f)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:{options:[{id:optionId,checked:checked}]}}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context4.abrupt("break",31);case 9:return options=field.settings.options.map((function(option){return{id:option.id,selected:optionId===option.id}})),Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.f)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:{options:options}}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context4.abrupt("break",31);case 12:return Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.f)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:e.detail}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context4.abrupt("break",31);case 14:return console.log("Got initial",e.detail),_context4.abrupt("break",31);case 16:return console.log("Got signature",e.detail),_context4.next=19,createSignature(this.endpoint,"signature",e.detail);case 19:return newSignature=_context4.sent,console.log("Created signature",newSignature),_context4.next=23,Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.c)(this.endpoint,this.envelopeId,field.name,newSignature.id);case 23:return attachResult=_context4.sent,console.log("Attach result",attachResult),_context4.abrupt("break",31);case 26:return iso=e.target.getAttribute("iso"),Object(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.f)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:iso}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c,_d,_e,_f;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_41__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),401===(null===(_d=e.response)||void 0===_d?void 0:_d.status)&&"jwt expired"===(null===(_f=null===(_e=e.response)||void 0===_e?void 0:_e.data)||void 0===_f?void 0:_f.error)&&console.log("jwt expired"),console.log("Error updating",e)})),_context4.abrupt("break",31);case 29:return console.log("Unhandled field update",{value:value,checked:checked},field),_context4.abrupt("break",31);case 31:case"end":return _context4.stop()}}),_callee4,this)}))),function handleFieldChange(_x2,_x3,_x4){return _handleFieldChange.apply(this,arguments)})},{key:"isFieldValid",value:function isFieldValid(field){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m;switch(field.type){case"textbox":switch((null===(_a=field.settings)||void 0===_a?void 0:_a.validator)||""){case"email":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_38__.b)((null===(_b=field.settings)||void 0===_b?void 0:_b.result)||"");case"phone":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_38__.a)((null===(_c=field.settings)||void 0===_c?void 0:_c.result)||"");default:return!!(null===(_d=field.settings)||void 0===_d?void 0:_d.result)}case"signature":case"initial":case"textarea":case"date":case"timestamp":case"attachment":return!!(null===(_e=field.settings)||void 0===_e?void 0:_e.result);case"dropdown":return!!(null===(_f=field.settings)||void 0===_f?void 0:_f.value);case"checkbox_group":var checked=((null===(_h=null===(_g=field.settings)||void 0===_g?void 0:_g.options)||void 0===_h?void 0:_h.filter((function(option){return option.checked})))||[]).length;return checked>=((null===(_j=field.settings)||void 0===_j?void 0:_j.minimum_checked)||0)&&checked<=((null===(_k=field.settings)||void 0===_k?void 0:_k.maximum_checked)||999);case"radio_button_group":return((null===(_m=null===(_l=field.settings)||void 0===_l?void 0:_l.options)||void 0===_m?void 0:_m.filter((function(option){return option.selected})))||[]).length>0;default:return!1}}},{key:"handleNext",value:function handleNext(){var _this4=this,requiredFields=this.fields.filter((function(field){return field.required}));console.log("required Fields",requiredFields);var focusedIndex=requiredFields.findIndex((function(field){return field.name===_this4.focusedField}));console.log("focused Index",focusedIndex);var nextFocusedIndex=focusedIndex+1;nextFocusedIndex>=requiredFields.length&&(nextFocusedIndex=0);var nextRequiredField=requiredFields[nextFocusedIndex];if(console.log("next required field",nextRequiredField),nextRequiredField){var id=Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.b)(nextRequiredField),el=document.getElementById(id);console.log("focusing",id,el),null==el||el.focusField(),this.focusedField=nextRequiredField.name}}},{key:"handlePageRendered",value:function handlePageRendered(e){var _this5=this,pageInfo=e.detail;console.log("[SIGN] Page rendered",pageInfo),console.log("rendering fields for recipient",Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.d)(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.roleNames,this.recipient.role_name));var recipientFields=this.recipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Fields on page",recipientFields),recipientFields.forEach((function(field){var _a,el=Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.f)(field,pageInfo,Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.d)(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.roleNames,field.recipient_role),{disabled:!1,editable:!1,draggable:!1});el&&(el.addEventListener("input",(function(e){_this5.handleFieldChange(field,e)})),el.addEventListener("fieldChange",(function(e){_this5.handleFieldChange(field,e)})),el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale),el.setAttribute("initials",_this5.recipient?Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.c)(_this5.recipient.full_name):""),el.setAttribute("name",(null===(_a=_this5.recipient)||void 0===_a?void 0:_a.full_name)||""))})),_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.recipients.filter((function(recipient){return recipient.role_name!==_this5.recipient.role_name})).map((function(otherRecipient){console.log("Rendering fields for other recipient",Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.d)(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.roleNames,otherRecipient.role_name),otherRecipient);var recipientFields=otherRecipient.fields.filter((function(field){return field.page===pageInfo.pageNumber}));console.log("[SIGN] Fields on page",recipientFields),recipientFields.forEach((function(field){var el=Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.f)(field,pageInfo,Object(_utils_16973ff9_js__WEBPACK_IMPORTED_MODULE_40__.d)(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.roleNames,otherRecipient.role_name),{disabled:!0,editable:!1,draggable:!1});el&&(el.setAttribute("xScale",pageInfo.xScale),el.setAttribute("yScale",pageInfo.yScale))}))}))}},{key:"render",value:function render(){var _a,_b,_c,_d,_this6=this;if(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.loading||!_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope)return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.b,null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("verdocs-loader",null));return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.b,{class:{agreed:null===(_a=this.recipient)||void 0===_a?void 0:_a.agreed}},!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"intro"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"inner"},"Please review and act on these documents.")),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"header"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"inner"},!this.finishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"toolbar"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"tools"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("verdocs-dropdown",{options:[{id:"later",label:"Finish Later"},{id:"claim",label:"Claim the Document",disabled:!0},{id:"decline",label:"Decline to Sign"},{id:"print",label:"Print Without Signing"},{id:"download",label:"Download"}],onOptionSelected:function onOptionSelected(e){return _this6.handleOptionSelected(e)}}),(null===(_b=this.recipient)||void 0===_b?void 0:_b.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{style:{flex:"1"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"agree"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("verdocs-checkbox",{name:"agree",label:"I agree to use electronic records and signatures.",onInput:function onInput(){return _this6.handleClickAgree()}})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("verdocs-button",{size:"small",label:this.nextButtonLabel,disabled:!(null===(_c=this.recipient)||void 0===_c?void 0:_c.agreed),onClick:function onClick(){return _this6.handleNext()}}))))),(null===(_d=this.recipient)||void 0===_d?void 0:_d.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{style:{display:"none"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"cover"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("div",{class:"document"},(_Envelopes_19ca610d_js__WEBPACK_IMPORTED_MODULE_36__.e.envelope.documents||[]).map((function(envelopeDocument){var pages=_toConsumableArray((null==envelopeDocument?void 0:envelopeDocument.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.a,null,pages.map((function(page){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("verdocs-document-page",{pageImageUri:page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,onPageRendered:function onPageRendered(e){return _this6.handlePageRendered(e)},layers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})})))}))),this.showFinishLater&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_35__.h)("verdocs-ok-dialog",{heading:"You've saved your document to finish later.",message:"To complete the document, use the link in the original email notification inviting you to review and finish the document.",onNext:function onNext(){return _this6.showFinishLater=!1}}))}}]),VerdocsSign}();VerdocsSign.style='verdocs-sign{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-sign div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-sign .header{-ms-flex:0;flex:0;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex-align:center;align-items:center;-webkit-transition:all 0.25s;transition:all 0.25s;-ms-flex-pack:center;justify-content:center;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}verdocs-sign .header .inner{width:100%;max-width:1028px}verdocs-sign .intro{width:100%;height:60px;display:-ms-flexbox;display:flex;background:#ffffff;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-sign .intro .inner{width:100%;color:#111111;padding:0 14px;font-size:20px;font-weight:500;line-height:28px;max-width:1024px}verdocs-sign .toolbar{width:100%;margin:0 auto;padding:0 14px;position:relative}verdocs-sign .tools{width:100%;color:#fff;height:56px;display:-ms-flexbox;display:flex;font-size:12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;background-color:#33354c}verdocs-sign .cover{top:0;left:0;right:0;bottom:0;z-index:999;position:absolute;background:rgba(0, 0, 0, 0.5)}verdocs-sign .document{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}verdocs-sign .document .inner{width:100%;max-width:1028px}verdocs-sign .agree{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding:0 15px}verdocs-sign .agree .intro{display:none}verdocs-sign .agree .header{-ms-flex:0 0 56px;flex:0 0 56px}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVmFsaWRhdG9ycy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvUmVjaXBpZW50cy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvU2lnbmF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtc2lnbi92ZXJkb2NzLXNpZ24udHN4Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbWJlZHMvdmVyZG9jcy1zaWduL3ZlcmRvY3Mtc2lnbi5zY3NzIl0sIm5hbWVzIjpbIkVNQUlMX1JFR0VYIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJ0ZXN0IiwiUEhPTkVfUkVHRVgiLCJpc1ZhbGlkUGhvbmUiLCJwaG9uZSIsIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiYWRvcHQiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJwb3AiLCJwdXNoIiwiY3JlYXRlU2lnbmF0dXJlIiwiZW5kcG9pbnQiLCJuYW1lIiwic2lnbmF0dXJlIiwiZGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiYXBpIiwicG9zdCIsInIiLCJWZXJkb2NzU2lnbiIsInJlY2lwaWVudEluZGV4IiwiZmllbGRzIiwiY29tcG9uZW50V2lsbExvYWQiLCJWZXJkb2NzRW5kcG9pbnQiLCJzZXNzaW9uVHlwZSIsImVudmVsb3BlSWQiLCJzZGtFcnJvciIsImVtaXQiLCJTREtFcnJvciIsInJvbGVJZCIsImludml0ZUNvZGUiLCJjb25zb2xlIiwibG9nIiwiRW52ZWxvcGVzLmdldFNpZ25pbmdTZXNzaW9uIiwic2Vzc2lvbiIsInJlY2lwaWVudCIsInNpZ25lclRva2VuIiwicHJvZmlsZV9pZCIsInNldFRva2VuIiwiYWdyZWVkIiwibmV4dEJ1dHRvbkxhYmVsIiwiZ2V0RW52ZWxvcGVCeUlkIiwiRW52ZWxvcGVTdG9yZSIsImVudmVsb3BlIiwicmVjaXBpZW50cyIsImZpbmRJbmRleCIsInJvbGVfbmFtZSIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsInN0YXR1cyIsImhhbmRsZUNsaWNrQWdyZWUiLCJ1cGRhdGVSZWNpcGllbnRTdGF0dXMiLCJyb2xlTmFtZSIsImFjdGlvbiIsInBhcmFtcyIsIl9hIiwicHV0IiwiY29uY2F0IiwiZmlsZU5hbWUiLCJ1cGRhdGVkX2F0Iiwic3BsaXQiLCJFbnZlbG9wZXMuZ2V0RW52ZWxvcGVGaWxlIiwiZW52ZWxvcGVfZG9jdW1lbnRfaWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsImEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlIiwib3BlbiIsInNlbmQiLCJkZXRhaWwiLCJpZCIsImZpbmlzaExhdGVyIiwic2hvd0ZpbmlzaExhdGVyIiwic2F2ZVBERiIsImZpZWxkIiwib3B0aW9uSWQiLCJ0YXJnZXQiLCJjaGVja2VkIiwidHlwZSIsIkVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkIiwicHJlcGFyZWQiLCJlcnJvciIsIm9wdGlvbnMiLCJzZXR0aW5ncyIsIm1hcCIsIm9wdGlvbiIsInNlbGVjdGVkIiwibmV3U2lnbmF0dXJlIiwidXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZSIsImF0dGFjaFJlc3VsdCIsImlzbyIsImdldEF0dHJpYnV0ZSIsImlzRmllbGRWYWxpZCIsInZhbGlkYXRvciIsImZpbHRlciIsIm1pbmltdW1fY2hlY2tlZCIsIm1heGltdW1fY2hlY2tlZCIsImhhbmRsZU5leHQiLCJyZXF1aXJlZEZpZWxkcyIsInJlcXVpcmVkIiwiZm9jdXNlZEluZGV4IiwiZm9jdXNlZEZpZWxkIiwibmV4dEZvY3VzZWRJbmRleCIsIm5leHRSZXF1aXJlZEZpZWxkIiwiZ2V0RmllbGRJZCIsImVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJmb2N1c0ZpZWxkIiwiaGFuZGxlUGFnZVJlbmRlcmVkIiwicGFnZUluZm8iLCJnZXRSb2xlSW5kZXgiLCJyb2xlTmFtZXMiLCJyZWNpcGllbnRGaWVsZHMiLCJwYWdlIiwicGFnZU51bWJlciIsImZvckVhY2giLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwicmVjaXBpZW50X3JvbGUiLCJkaXNhYmxlZCIsImVkaXRhYmxlIiwiZHJhZ2dhYmxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUZpZWxkQ2hhbmdlIiwic2V0QXR0cmlidXRlIiwieFNjYWxlIiwieVNjYWxlIiwiZnVsbE5hbWVUb0luaXRpYWxzIiwiZnVsbF9uYW1lIiwib3RoZXJSZWNpcGllbnQiLCJyZW5kZXIiLCJsb2FkaW5nIiwiaCIsIkhvc3QiLCJjbGFzcyIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJoYW5kbGVPcHRpb25TZWxlY3RlZCIsImZsZXgiLCJvbklucHV0Iiwic2l6ZSIsIm9uQ2xpY2siLCJkb2N1bWVudHMiLCJlbnZlbG9wZURvY3VtZW50IiwicGFnZXMiLCJzb3J0IiwiYiIsInNlcXVlbmNlIiwiRnJhZ21lbnQiLCJwYWdlSW1hZ2VVcmkiLCJkaXNwbGF5X3VyaSIsInZpcnR1YWxXaWR0aCIsInZpcnR1YWxIZWlnaHQiLCJvblBhZ2VSZW5kZXJlZCIsImxheWVycyIsImhlYWRpbmciLCJvbk5leHQiXSwibWFwcGluZ3MiOiI7b0tBQUEsa0tBbUJBLElBQUlBLFlBQWMseUpBQ1BDLGFBQWUsU0FBZkEsYUFBeUJDLE9BQVMsUUFBU0EsT0FBU0YsWUFBWUcsS0FBS0QsTUFBTyxFQUVuRkUsWUFBYyw0TUFDUEMsYUFBZSxTQUFmQSxhQUF5QkMsT0FBUyxRQUFTQSxPQUFTRixZQUFZRCxLQUFLRyxNQUFPLEMsNm1nQkN2QnZGLElBQUlDLFNBQXNDLFdBU3RDLE9BUkFBLFNBQVdDLE9BQU9DLFFBQVUsU0FBU0MsR0FDakMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FDekROLEVBQUVNLEdBQUtMLEVBQUVLLElBRWpCLE9BQU9OLENBQ2YsRUFDV0gsU0FBU2EsTUFBTUMsS0FBTVAsVUFDaEMsRUFDSVEsVUFBd0MsU0FBVUMsUUFBU0MsV0FBWUMsRUFBR0MsV0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLFFBQVNDLFFBQy9DLFNBQVNDLFVBQVVDLE9BQVMsSUFBTUMsS0FBS04sVUFBVU8sS0FBS0YsT0FBaUMsQ0FBdEIsTUFBT0csR0FBS0wsT0FBT0ssRUFBRyxDQUFFLENBQ3pGLFNBQVNDLFNBQVNKLE9BQVMsSUFBTUMsS0FBS04sVUFBaUIsTUFBRUssT0FBaUMsQ0FBdEIsTUFBT0csR0FBS0wsT0FBT0ssRUFBRyxDQUFFLENBQzVGLFNBQVNGLEtBQUtJLFFBQVVBLE9BQU9DLEtBQU9ULFFBQVFRLE9BQU9MLE9BSnpELFNBQVNPLE1BQU1QLE9BQVMsT0FBT0EsaUJBQWlCTixFQUFJTSxNQUFRLElBQUlOLEdBQUUsU0FBVUcsU0FBV0EsUUFBUUcsTUFBTyxHQUFJLENBSXhDTyxDQUFNRixPQUFPTCxPQUFPUSxLQUFLVCxVQUFXSyxTQUFVLENBQzVHSCxNQUFNTixVQUFZQSxVQUFVTixNQUFNRyxRQUFTQyxZQUFjLEtBQUtTLE9BQ3RFLEdBQ0EsRUFDSU8sWUFBNEMsU0FBVWpCLFFBQVNrQixNQUMvRCxJQUFzR0MsRUFBR0MsRUFBR2pDLEVBQUdrQyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sZ0JBQWEsR0FBVyxFQUFQckMsRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLEVBQUcsRUFBSXNDLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVYLEtBQU1pQixLQUFLLEdBQUksTUFBU0EsS0FBSyxHQUFJLE9BQVVBLEtBQUssSUFBd0IsbUJBQVhDLFNBQTBCUCxFQUFFTyxPQUFPQyxVQUFZLFdBQWEsT0FBTy9CLElBQUssR0FBS3VCLEVBQ3ZKLFNBQVNNLEtBQUtyQyxHQUFLLE9BQU8sU0FBVXdDLEdBQUssT0FDekMsU0FBU3JCLEtBQUtzQixJQUNWLEdBQUlaLEVBQUcsTUFBTSxJQUFJYSxVQUFVLG1DQUMzQixLQUFPVixHQUFHLElBQ04sR0FBSUgsRUFBSSxFQUFHQyxJQUFNakMsRUFBWSxFQUFSNEMsR0FBRyxHQUFTWCxFQUFVLE9BQUlXLEdBQUcsR0FBS1gsRUFBUyxTQUFPakMsRUFBSWlDLEVBQVUsU0FBTWpDLEVBQUVTLEtBQUt3QixHQUFJLEdBQUtBLEVBQUVWLFNBQVd2QixFQUFJQSxFQUFFUyxLQUFLd0IsRUFBR1csR0FBRyxLQUFLakIsS0FBTSxPQUFPM0IsRUFFM0osT0FESWlDLEVBQUksRUFBR2pDLElBQUc0QyxHQUFLLENBQVMsRUFBUkEsR0FBRyxHQUFRNUMsRUFBRXFCLFFBQ3pCdUIsR0FBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUc1QyxFQUFJNEMsR0FBSSxNQUN4QixLQUFLLEVBQWMsT0FBWFQsRUFBRUMsUUFBZ0IsQ0FBRWYsTUFBT3VCLEdBQUcsR0FBSWpCLE1BQU0sR0FDaEQsS0FBSyxFQUFHUSxFQUFFQyxRQUFTSCxFQUFJVyxHQUFHLEdBQUlBLEdBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsR0FBS1QsRUFBRUksSUFBSU8sTUFBT1gsRUFBRUcsS0FBS1EsTUFBTyxTQUN4QyxRQUNJLEtBQU05QyxFQUFJbUMsRUFBRUcsTUFBTXRDLEVBQUlBLEVBQUVLLE9BQVMsR0FBS0wsRUFBRUEsRUFBRUssT0FBUyxLQUFrQixJQUFWdUMsR0FBRyxJQUFzQixJQUFWQSxHQUFHLElBQVcsQ0FBRVQsRUFBSSxFQUFHLFFBQVMsQ0FDMUcsR0FBYyxJQUFWUyxHQUFHLE1BQWM1QyxHQUFNNEMsR0FBRyxHQUFLNUMsRUFBRSxJQUFNNEMsR0FBRyxHQUFLNUMsRUFBRSxJQUFNLENBQUVtQyxFQUFFQyxNQUFRUSxHQUFHLEdBQUksS0FBTSxDQUNwRixHQUFjLElBQVZBLEdBQUcsSUFBWVQsRUFBRUMsTUFBUXBDLEVBQUUsR0FBSSxDQUFFbUMsRUFBRUMsTUFBUXBDLEVBQUUsR0FBSUEsRUFBSTRDLEdBQUksS0FBTSxDQUNuRSxHQUFJNUMsR0FBS21DLEVBQUVDLE1BQVFwQyxFQUFFLEdBQUksQ0FBRW1DLEVBQUVDLE1BQVFwQyxFQUFFLEdBQUltQyxFQUFFSSxJQUFJUSxLQUFLSCxJQUFLLEtBQU0sQ0FDN0Q1QyxFQUFFLElBQUltQyxFQUFFSSxJQUFJTyxNQUNoQlgsRUFBRUcsS0FBS1EsTUFBTyxTQUV0QkYsR0FBS2IsS0FBS3RCLEtBQUtJLFFBQVNzQixFQUM0QixDQUF0RCxNQUFPWCxHQUFLb0IsR0FBSyxDQUFDLEVBQUdwQixHQUFJUyxFQUFJLENBQUUsQ0FBRyxRQUFVRCxFQUFJaEMsRUFBSSxDQUFFLENBQ3hELEdBQVksRUFBUjRDLEdBQUcsR0FBUSxNQUFNQSxHQUFHLEdBQUksTUFBTyxDQUFFdkIsTUFBT3VCLEdBQUcsR0FBS0EsR0FBRyxRQUFLLEVBQVFqQixNQUFNLEVBQ2xGLENBdEJvREwsQ0FBSyxDQUFDbkIsRUFBR3dDLEdBQUksQ0FBRyxDQXVCcEUsRUN4Q1dLLGdCQUFrQixTQUFsQkEsZ0JBQTRCQyxTQUFVQyxLQUFNQyxXQUNuRCxJQUFJQyxLQUFPLElBQUlDLFNBRWYsT0FEQUQsS0FBS0UsT0FBTyxZQUFhSCxVQUFXRCxNQUM3QkQsU0FBU00sSUFDWEMsS0FBSyxjQUFlSixNQUNwQnZCLE1BQUssU0FBVTRCLEdBQUssT0FBT0EsRUFBRUwsSUFBSyxHQUMzQyxFQ3dCYU0sWUFBVyxXLHljQUN0QixLQUFBVCxTQUE0QixLQXdDNUIsS0FBQVUsZ0JBQTBCLEVBQzFCLEtBQUFDLE9BQTJCLEcsZ0JBcENTLEssWUFLSixLLGdCQUtJLEssZUFjSSxLLGlCQUNqQixLLG1CQUdDLEUscUJBQ0csUSxrQkFDSCxHLGtCQUVELEUsc0JBQ0ksQyxDQXFIMUIsdUJBdEJBLHNCQXRCQSxTQWxFQSxrQkE0WkEsTywrU0E5WkQsU0FBQUMsb0JBQ0VsRCxLQUFLc0MsU0FBVyxJQUFJYSw2REFBZ0IsQ0FBQ0MsWUFBYSxXLEdBQ25ELCtGQUVELDROQUNPcEQsS0FBS3FELFdBQVksQ0FBRixzQkFDOEQsT0FBbkUsUUFBYixHQUFBckQsS0FBS3NELGdCQUFRLFdBQUVDLEtBQUssSUFBSUMsb0RBQVMsb0NBQXFDLElBQUssS0FBSyxvQ0FJN0V4RCxLQUFLeUQsT0FBUSxDQUFGLHNCQUMrRCxPQUFoRSxRQUFiLEdBQUF6RCxLQUFLc0QsZ0JBQVEsV0FBRUMsS0FBSyxJQUFJQyxvREFBUyxpQ0FBa0MsSUFBSyxLQUFLLG9DQUkxRXhELEtBQUswRCxXQUFZLENBQUYsc0JBQytELE9BQXBFLFFBQWIsR0FBQTFELEtBQUtzRCxnQkFBUSxXQUFFQyxLQUFLLElBQUlDLG9EQUFTLHFDQUFzQyxJQUFLLEtBQUssaUNBS0ksT0FMSixnQkFLakZHLFFBQVFDLElBQUkscUNBQXFDNUQsS0FBS3FELFdBQVUsTUFBTXJELEtBQUt5RCxRQUFVLGlCQUNyQ0ksK0RBQTRCN0QsS0FBS3NDLFNBQVUsQ0FDekZlLFdBQVlyRCxLQUFLcUQsV0FDakJJLE9BQVF6RCxLQUFLeUQsT0FDYkMsV0FBWTFELEtBQUswRCxhQUNqQixRQVVELE9BVkMsb0NBSktJLFFBQU8sc0JBQVBBLFFBQVNDLFVBQVMsc0JBQVRBLFVBQVdDLFlBQVcsc0JBQVhBLFlBTTNCTCxRQUFRQyxJQUFJLGlDQUFpQ0UsUUFBUWpGLE1BQUssTUFBTWlGLFFBQVFHLFlBRXhFakUsS0FBSytELFVBQVlBLFVBQ2pCL0QsS0FBS2dFLFlBQWNBLFlBQ25CaEUsS0FBS3NDLFNBQVM0QixTQUFTRixhQUVuQmhFLEtBQUsrRCxVQUFVSSxTQUNqQm5FLEtBQUtvRSxnQkFBa0IsUUFDeEIsaUJBRUtDLCtEQUFnQnJFLEtBQUtzQyxTQUFVdEMsS0FBS3FELFlBQVcsUUFLckRyRCxLQUFLZ0QsZUFBaUJzQix1REFBY0MsU0FBU0MsV0FBV0MsV0FBVSxTQUFBVixXQUFTLE9BQUlBLFVBQVVXLFdBQWEsTUFBS2pCLE1BQU0sSUFDN0d6RCxLQUFLZ0QsZ0JBQWtCLElBQ3pCaEQsS0FBSytELFVBQVlPLHVEQUFjQyxTQUFTQyxXQUFXeEUsS0FBS2dELGdCQUN4RGhELEtBQUtpRCxPQUFTakQsS0FBSytELFVBQVVkLFEsOEVBTy9CVSxRQUFRQyxJQUFJLDZCQUE4QixTQUFGLElBQzNCLFFBQWIsR0FBQTVELEtBQUtzRCxnQkFBUSxXQUFFQyxLQUFLLElBQUlDLG9EQUFTLFlBQUVtQixRQUFtQixRQUFWLGVBQUVDLGdCQUFRLGlCQUFFQyxPQUFrQixRQUFWLGVBQUVELGdCQUFRLGlCQUFFbkMsT0FBTyx1RUFFdEYsNEdBRUQsU0FBQXFDLG1CQUFnQixpQkZ4RmlCLFNBQXhCQyxzQkFBa0N6QyxTQUFVZSxXQUFZMkIsU0FBVUMsT0FBUUMsUUFBVSxPQUFPakYsZUFBVSxPQUFRLE9BQVEsR0FBUSxXQUNwSSxPQUFPa0IsWUFBWW5CLE1BQU0sU0FBVW1GLElBQy9CLE1BQU8sQ0FBQyxFQUFjN0MsU0FBU00sSUFDdEJ3QyxJQUFJLGNBQWNDLE9BQU9oQyxXQUFZLGdCQUFnQmdDLE9BQU9MLFVBQVc5RixTQUFTLENBQUV3RixVQUFXTSxTQUFVQyxPQUFRQSxRQUFXQyxRQUFVLENBQUMsSUFDckloRSxNQUFLLFNBQVU0QixHQUFLLE9BQU9BLEVBQUVMLElBQUssSUFDbkQsR0FDQSxHQUFHLEVFbUZDc0MsQ0FBc0IvRSxLQUFLc0MsU0FBVXRDLEtBQUtxRCxXQUFZckQsS0FBS3lELE9BQVEsU0FBVSxDQUFDVSxRQUFRLElBQ25GakQsTUFBSyxTQUFBNEIsR0FDSixPQUFLc0IsZ0JBQWtCLE9BQ3ZCLE9BQUtMLFVBQVlqQixDLElBQ2pCLE9BQ0ssU0FBQWpDLEcsYUFDTDhDLFFBQVFDLElBQUksaUJBQWtCL0MsR0FDakIsUUFBYixVQUFLeUMsZ0JBQVEsV0FBRUMsS0FBSyxJQUFJQyxvREFBUzNDLEVBQUU4RCxRQUFtQixRQUFWLEdBQUE5RCxFQUFFK0QsZ0JBQVEsaUJBQUVDLE9BQWtCLFFBQVYsR0FBQWhFLEVBQUUrRCxnQkFBUSxpQkFBRW5DLE0sTUFFakYsNkVBRUQsK0pBQ3NHLE9BQTlGNkMsU0FBY2hCLHVEQUFjQyxTQUFTaEMsS0FBSSxNQUFNK0IsdURBQWNDLFNBQVNnQixXQUFXQyxNQUFNLEtBQUssR0FBRSx3QkFDakZDLCtEQUEwQnpGLEtBQUtzQyxTQUFVdEMsS0FBS3FELFdBQVlpQix1REFBY0MsU0FBU21CLHNCQUFxQixPQUFuSGpELEtBQU8sVUFBSCxNQUlOa0QsSUFBTSxJQUFJQyxnQkFDVkMsYUFBZSxPQUNuQkYsSUFBSUcsT0FBUyxXQUNYLElBQUlDLEVBQUlDLFNBQVNDLGNBQWMsS0FDL0JGLEVBQUVHLEtBQU9DLE9BQU9DLElBQUlDLGdCQUFnQlYsSUFBSWYsVUFDeENtQixFQUFFTyxTQUFXaEIsU0FDYlMsRUFBRVEsTUFBTUMsUUFBVSxPQUNsQlIsU0FBUzVFLEtBQUtxRixZQUFZVixHQUMxQkEsRUFBRVcsUUFDRlgsRUFBRVksUSxFQUdKaEIsSUFBSWlCLEtBQUssTUFBTywrQkFBK0JuRSxNQUMvQ2tELElBQUlrQixPQUFPLCtEQUNaLG1LQUVELGtCQUEyQmhHLEdBQUMsa0lBQ2xCQSxFQUFFaUcsT0FBT0MsR0FBRSxlQUNaLFVBRFksYUFDTCxFQVFQLFVBUk8sYUFRQSxFQUVQLFlBRk8sYUFFRSxFQUVULFVBRlMsYUFFRixFQUVQLGFBRk8sYUFFRyxrQixPQWJiL0csS0FBS2dILGFBQWMsRUFDbkJoSCxLQUFLaUgsaUJBQWtCLEUsNkZBYVEsT0FBL0JqSCxLQUFLa0gsVUFBUyxPQUFPLGVBQVUsNkZBR3BDLHlMQUVELGtCQUF3QkMsTUFBdUJ0RyxFQUFRdUcsVUFBaUIsbU1BQ3RFekQsUUFBUUMsSUFBSSxjQUFldUQsTUFBT3RHLEdBQUcsVUFDWkEsRUFBRXdHLE9BQXBCM0csTUFBSyxVQUFMQSxNQUFPNEcsUUFBTyxVQUFQQSxRQUFPLGFBRWJILE1BQU1JLEtBQUksZUFDWCxZQURXLGFBQ0YsRUFZVCxtQkFaUyxhQVlPLEVBU2hCLHVCQVRnQixhQVNJLEVBVXBCLGFBVm9CLGFBVVYsR0FTVixZQVRVLGFBU0QsR0FJVCxjQUpTLGFBSUUsR0FXWCxTQVhXLGFBV0wsbUJBOUNKLE9BUkxDLCtEQUE4QnhILEtBQUtzQyxTQUFVdEMsS0FBS3FELFdBQVk4RCxNQUFNNUUsS0FBTSxDQUFDa0YsVUFBVSxFQUFPL0csY0FDekZRLE1BQUssU0FBQTRCLEdBQUMsT0FBSWEsUUFBUUMsSUFBSSxnQkFBaUJkLEVBQUUsSUFBQyxPQUNwQyxTQUFBakMsRyxzQkFDUSxRQUFiLFVBQUt5QyxnQkFBUSxXQUFFQyxLQUFLLElBQUlDLG9EQUFTM0MsRUFBRThELFFBQW1CLFFBQVYsR0FBQTlELEVBQUUrRCxnQkFBUSxpQkFBRUMsT0FBa0IsUUFBVixHQUFBaEUsRUFBRStELGdCQUFRLGlCQUFFbkMsT0FDakQsT0FBYixRQUFWLEdBQUE1QixFQUFFK0QsZ0JBQVEsaUJBQUVDLFNBQThDLGlCQUFaLFFBQWhCLEdBQVUsUUFBVixHQUFBaEUsRUFBRStELGdCQUFRLGlCQUFFbkMsWUFBSSxpQkFBRWlGLFFBQ2xEL0QsUUFBUUMsSUFBSSxlQUVkRCxRQUFRQyxJQUFJLGlCQUFrQi9DLEUsSUFDN0Isb0NBU0EsT0FMTDJHLCtEQUE4QnhILEtBQUtzQyxTQUFVdEMsS0FBS3FELFdBQVk4RCxNQUFNNUUsS0FBTSxDQUFDa0YsVUFBVSxFQUFPL0csTUFBTyxDQUFDaUgsUUFBUyxDQUFDLENBQUNaLEdBQUlLLFNBQVVFLHFCQUMxSHBHLE1BQUssU0FBQTRCLEdBQUMsT0FBSWEsUUFBUUMsSUFBSSxnQkFBaUJkLEVBQUUsSUFBQyxPQUNwQyxTQUFBakMsRyxhQUNRLFFBQWIsVUFBS3lDLGdCQUFRLFdBQUVDLEtBQUssSUFBSUMsb0RBQVMzQyxFQUFFOEQsUUFBbUIsUUFBVixHQUFBOUQsRUFBRStELGdCQUFRLGlCQUFFQyxPQUFrQixRQUFWLEdBQUFoRSxFQUFFK0QsZ0JBQVEsaUJBQUVuQyxPQUM1RWtCLFFBQVFDLElBQUksaUJBQWtCL0MsRSxJQUM3QixvQ0FVQSxPQU5DOEcsUUFBVVIsTUFBTVMsU0FBU0QsUUFBUUUsS0FBSSxTQUFBQyxRQUFNLE1BQUssQ0FBQ2YsR0FBSWUsT0FBT2YsR0FBSWdCLFNBQVVYLFdBQWFVLE9BQU9mLEdBQUcsSUFDdkdTLCtEQUE4QnhILEtBQUtzQyxTQUFVdEMsS0FBS3FELFdBQVk4RCxNQUFNNUUsS0FBTSxDQUFDa0YsVUFBVSxFQUFPL0csTUFBTyxDQUFDaUgsbUJBQ2pHekcsTUFBSyxTQUFBNEIsR0FBQyxPQUFJYSxRQUFRQyxJQUFJLGdCQUFpQmQsRUFBRSxJQUFDLE9BQ3BDLFNBQUFqQyxHLGFBQ1EsUUFBYixVQUFLeUMsZ0JBQVEsV0FBRUMsS0FBSyxJQUFJQyxvREFBUzNDLEVBQUU4RCxRQUFtQixRQUFWLEdBQUE5RCxFQUFFK0QsZ0JBQVEsaUJBQUVDLE9BQWtCLFFBQVYsR0FBQWhFLEVBQUUrRCxnQkFBUSxpQkFBRW5DLE9BQzVFa0IsUUFBUUMsSUFBSSxpQkFBa0IvQyxFLElBQzdCLHFDQVNBLE9BTEwyRywrREFBOEJ4SCxLQUFLc0MsU0FBVXRDLEtBQUtxRCxXQUFZOEQsTUFBTTVFLEtBQU0sQ0FBQ2tGLFVBQVUsRUFBTy9HLE1BQU9HLEVBQUVpRyxTQUNsRzVGLE1BQUssU0FBQTRCLEdBQUMsT0FBSWEsUUFBUUMsSUFBSSxnQkFBaUJkLEVBQUUsSUFBQyxPQUNwQyxTQUFBakMsRyxhQUNRLFFBQWIsVUFBS3lDLGdCQUFRLFdBQUVDLEtBQUssSUFBSUMsb0RBQVMzQyxFQUFFOEQsUUFBbUIsUUFBVixHQUFBOUQsRUFBRStELGdCQUFRLGlCQUFFQyxPQUFrQixRQUFWLEdBQUFoRSxFQUFFK0QsZ0JBQVEsaUJBQUVuQyxPQUM1RWtCLFFBQVFDLElBQUksaUJBQWtCL0MsRSxJQUM3QixxQ0FJZ0MsT0FBckM4QyxRQUFRQyxJQUFJLGNBQWUvQyxFQUFFaUcsUUFBUSxxQ0FJRSxPQUF2Q25ELFFBQVFDLElBQUksZ0JBQWlCL0MsRUFBRWlHLFFBQVEsa0JBRVp6RSxnQkFBZ0JyQyxLQUFLc0MsU0FBVSxZQUFhekIsRUFBRWlHLFFBQU8sUSxPQUExRWtCLGFBQWUsVUFBSCxLQUNsQnJFLFFBQVFDLElBQUksb0JBQXFCb0UsYyxrQkFHTkMsK0RBQTZCakksS0FBS3NDLFNBQVV0QyxLQUFLcUQsV0FBWThELE1BQU01RSxLQUFNeUYsYUFBYWpCLElBQUcsUUFDekUsT0FEckNtQixhQUFlLFVBQUgsS0FDbEJ2RSxRQUFRQyxJQUFJLGdCQUFpQnNFLGNBQWMscUNBYXRDLE9BVENDLElBQU10SCxFQUFFd0csT0FBT2UsYUFBYSxPQUNsQ1osK0RBQThCeEgsS0FBS3NDLFNBQVV0QyxLQUFLcUQsV0FBWThELE1BQU01RSxLQUFNLENBQUNrRixVQUFVLEVBQU8vRyxNQUFPeUgsTUFDaEdqSCxNQUFLLFNBQUE0QixHQUFDLE9BQUlhLFFBQVFDLElBQUksZ0JBQWlCZCxFQUFFLElBQUMsT0FDcEMsU0FBQWpDLEcsc0JBQ1EsUUFBYixVQUFLeUMsZ0JBQVEsV0FBRUMsS0FBSyxJQUFJQyxvREFBUzNDLEVBQUU4RCxRQUFtQixRQUFWLEdBQUE5RCxFQUFFK0QsZ0JBQVEsaUJBQUVDLE9BQWtCLFFBQVYsR0FBQWhFLEVBQUUrRCxnQkFBUSxpQkFBRW5DLE9BQ2pELE9BQWIsUUFBVixHQUFBNUIsRUFBRStELGdCQUFRLGlCQUFFQyxTQUE4QyxpQkFBWixRQUFoQixHQUFVLFFBQVYsR0FBQWhFLEVBQUUrRCxnQkFBUSxpQkFBRW5DLFlBQUksaUJBQUVpRixRQUNsRC9ELFFBQVFDLElBQUksZUFFZEQsUUFBUUMsSUFBSSxpQkFBa0IvQyxFLElBQzdCLHFDQUkwRCxPQUEvRDhDLFFBQVFDLElBQUkseUJBQTBCLENBQUNsRCxZQUFPNEcsaUJBQVVILE9BQU8sNkZBR3BFLHFIQUVELFNBQUFrQixhQUFhbEIsTyx3Q0FDWCxPQUFRQSxNQUFNSSxNQUNaLElBQUssVUFDSCxRQUFzQixRQUFkLEdBQUFKLE1BQU1TLGdCQUFRLGlCQUFFVSxZQUFhLElBQ25DLElBQUssUUFDSCxPQUFPMUosaUVBQTJCLFFBQWQsR0FBQXVJLE1BQU1TLGdCQUFRLGlCQUFFN0csU0FBVSxJQUNoRCxJQUFLLFFBQ0gsT0FBTy9CLGlFQUEyQixRQUFkLEdBQUFtSSxNQUFNUyxnQkFBUSxpQkFBRTdHLFNBQVUsSUFDaEQsUUFDRSxTQUF1QixRQUFkLEdBQUFvRyxNQUFNUyxnQkFBUSxpQkFBRTdHLFFBRy9CLElBQUssWUFDTCxJQUFLLFVBQ0wsSUFBSyxXQUNMLElBQUssT0FDTCxJQUFLLFlBQ0wsSUFBSyxhQUNILFNBQXVCLFFBQWQsR0FBQW9HLE1BQU1TLGdCQUFRLGlCQUFFN0csUUFDM0IsSUFBSyxXQUNILFNBQXVCLFFBQWQsR0FBQW9HLE1BQU1TLGdCQUFRLGlCQUFFbEgsT0FDM0IsSUFBSyxpQkFDSCxJQUFNNEcsVUFBa0MsUUFBdkIsR0FBYyxRQUFkLEdBQUFILE1BQU1TLGdCQUFRLGlCQUFFRCxlQUFPLGlCQUFFWSxRQUFPLFNBQUFULFFBQU0sT0FBSUEsT0FBT1IsT0FBTyxNQUFLLElBQUk1SCxPQUNsRixPQUFPNEgsV0FBMEIsUUFBZCxHQUFBSCxNQUFNUyxnQkFBUSxpQkFBRVksa0JBQW1CLElBQU1sQixXQUEwQixRQUFkLEdBQUFILE1BQU1TLGdCQUFRLGlCQUFFYSxrQkFBbUIsS0FDN0csSUFBSyxxQkFDSCxRQUErQixRQUF2QixHQUFjLFFBQWQsR0FBQXRCLE1BQU1TLGdCQUFRLGlCQUFFRCxlQUFPLGlCQUFFWSxRQUFPLFNBQUFULFFBQU0sT0FBSUEsT0FBT0MsUUFBUSxNQUFLLElBQUlySSxPQUFTLEVBTXJGLFFBQ0UsT0FBTyxFLDJCQVViLFNBQUFnSixhQUFVLGdCQUVGQyxlQUFpQjNJLEtBQUtpRCxPQUFPc0YsUUFBTyxTQUFBcEIsT0FBSyxPQUFJQSxNQUFNeUIsUUFBUSxJQUNqRWpGLFFBQVFDLElBQUksa0JBQW1CK0UsZ0JBRS9CLElBQU1FLGFBQWVGLGVBQWVsRSxXQUFVLFNBQUEwQyxPQUFLLE9BQUlBLE1BQU01RSxPQUFTLE9BQUt1RyxZQUFZLElBQ3ZGbkYsUUFBUUMsSUFBSSxnQkFBaUJpRixjQUU3QixJQUFJRSxpQkFBbUJGLGFBQWUsRUFDbENFLGtCQUFvQkosZUFBZWpKLFNBQ3JDcUosaUJBQW1CLEdBR3JCLElBQU1DLGtCQUFvQkwsZUFBZUksa0JBR3pDLEdBRkFwRixRQUFRQyxJQUFJLHNCQUF1Qm9GLG1CQUUvQkEsa0JBQW1CLENBQ3JCLElBQU1qQyxHQUFLa0MsMkRBQVdELG1CQUNoQkUsR0FBS2xELFNBQVNtRCxlQUFlcEMsSUFDbkNwRCxRQUFRQyxJQUFJLFdBQVltRCxHQUFJbUMsSUFDNUJBLGFBQUlFLGFBQ0pwSixLQUFLOEksYUFBZUUsa0JBQWtCekcsSSxJQUV6QyxnQ0FFRCxTQUFBOEcsbUJBQW1CeEksR0FBQyxnQkFDWnlJLFNBQVd6SSxFQUFFaUcsT0FDbkJuRCxRQUFRQyxJQUFJLHVCQUF3QjBGLFVBRXBDM0YsUUFBUUMsSUFBSSxpQ0FBa0MyRiwyREFBYWpGLHVEQUFja0YsVUFBV3hKLEtBQUsrRCxVQUFVVyxZQUNuRyxJQUFNK0UsZ0JBQWtCekosS0FBSytELFVBQVVkLE9BQU9zRixRQUFPLFNBQUFwQixPQUFLLE9BQUlBLE1BQU11QyxPQUFTSixTQUFTSyxVQUFVLElBRWhHaEcsUUFBUUMsSUFBSSx3QkFBeUI2RixpQkFDckNBLGdCQUFnQkcsU0FBUSxTQUFBekMsTyxPQUNoQitCLEdBQUtXLDJEQUFvQjFDLE1BQU9tQyxTQUFVQywyREFBYWpGLHVEQUFja0YsVUFBV3JDLE1BQU0yQyxnQkFBaUIsQ0FBQ0MsVUFBVSxFQUFPQyxVQUFVLEVBQU9DLFdBQVcsSUFDdEpmLEtBSUxBLEdBQUdnQixpQkFBaUIsU0FBUyxTQUFBckosR0FDM0IsT0FBS3NKLGtCQUFrQmhELE1BQU90RyxFLElBR2hDcUksR0FBR2dCLGlCQUFpQixlQUFlLFNBQUFySixHQUNqQyxPQUFLc0osa0JBQWtCaEQsTUFBT3RHLEUsSUFHaENxSSxHQUFHa0IsYUFBYSxTQUFVZCxTQUFTZSxRQUNuQ25CLEdBQUdrQixhQUFhLFNBQVVkLFNBQVNnQixRQUNuQ3BCLEdBQUdrQixhQUFhLFdBQVksT0FBS3JHLFVBQVl3RywyREFBbUIsT0FBS3hHLFVBQVV5RyxXQUFhLElBQzVGdEIsR0FBR2tCLGFBQWEsUUFBc0IsUUFBZCxVQUFLckcsaUJBQVMsaUJBQUV5RyxZQUFhLEksSUE0QnZEbEcsdURBQWNDLFNBQVNDLFdBQ3BCK0QsUUFBTyxTQUFBeEUsV0FBUyxPQUFJQSxVQUFVVyxZQUFjLE9BQUtYLFVBQVVXLFNBQVMsSUFDcEVtRCxLQUFJLFNBQUE0QyxnQkFDSDlHLFFBQVFDLElBQUksdUNBQXdDMkYsMkRBQWFqRix1REFBY2tGLFVBQVdpQixlQUFlL0YsV0FBWStGLGdCQUNySCxJQUFNaEIsZ0JBQWtCZ0IsZUFBZXhILE9BQU9zRixRQUFPLFNBQUFwQixPQUFLLE9BQUlBLE1BQU11QyxPQUFTSixTQUFTSyxVQUFVLElBRWhHaEcsUUFBUUMsSUFBSSx3QkFBeUI2RixpQkFDckNBLGdCQUFnQkcsU0FBUSxTQUFBekMsT0FDdEIsSUFBTStCLEdBQUtXLDJEQUFvQjFDLE1BQU9tQyxTQUFVQywyREFBYWpGLHVEQUFja0YsVUFBV2lCLGVBQWUvRixXQUFZLENBQUNxRixVQUFVLEVBQU1DLFVBQVUsRUFBT0MsV0FBVyxJQUN6SmYsS0FJTEEsR0FBR2tCLGFBQWEsU0FBVWQsU0FBU2UsUUFDbkNuQixHQUFHa0IsYUFBYSxTQUFVZCxTQUFTZ0IsUSxTQUcxQyxvQkFFRCxTQUFBSSxTQUFNLEksWUFBQSxZQUNKLEdBQUlwRyx1REFBY3FHLFVBQVlyRyx1REFBY0MsU0FDMUMsT0FDRXFHLDJEQUFDQyxtREFBSSxLQUNIRCxtRkFhTixPQUNFQSwyREFBQ0MsbURBQUksQ0FBQ0MsTUFBTyxDQUFDM0csT0FBc0IsUUFBZCxHQUFBbkUsS0FBSytELGlCQUFTLGlCQUFFSSxVQUNsQ25FLEtBQUtnSCxhQUNMNEQsa0VBQUtFLE1BQU0sU0FDVEYsa0VBQUtFLE1BQU0sU0FBTyw4Q0FJdEJGLGtFQUFLRSxNQUFNLFVBQ1RGLGtFQUFLRSxNQUFNLFVBQ1A5SyxLQUFLZ0gsYUFDTDRELGtFQUFLRSxNQUFNLFdBQ1RGLGtFQUFLRSxNQUFNLFNBQ1RGLCtFQUFrQmpELFFBckJaLENBQ2xCLENBQUNaLEdBQUksUUFBU3RGLE1BQU8sZ0JBQ3JCLENBQUNzRixHQUFJLFFBQVN0RixNQUFPLHFCQUFzQnNJLFVBQVUsR0FDckQsQ0FBQ2hELEdBQUksVUFBV3RGLE1BQU8sbUJBQ3ZCLENBQUNzRixHQUFJLFFBQVN0RixNQUFPLHlCQUNyQixDQUFDc0YsR0FBSSxXQUFZdEYsTUFBTyxhQWdCNEJzSixpQkFBa0IsMEJBQUFsSyxHQUFDLE9BQUksT0FBS21LLHFCQUFxQm5LLEVBQUUsS0FFM0UsUUFBZCxHQUFBYixLQUFLK0QsaUJBQVMsaUJBQUVJLFFBS2hCeUcsa0VBQUtyRSxNQUFPLENBQUMwRSxLQUFNLE9BSm5CTCxrRUFBS0UsTUFBTSxTQUNURiwrRUFBa0JySSxLQUFLLFFBQVFkLE1BQU0sb0RBQW9EeUosUUFBUywwQkFBTSxPQUFLcEcsa0JBQWtCLEtBS25JOEYsNkVBQWdCTyxLQUFLLFFBQVExSixNQUFPekIsS0FBS29FLGdCQUFpQjJGLFdBQXlCLFFBQWQsR0FBQS9KLEtBQUsrRCxpQkFBUyxpQkFBRUksUUFBUWlILFFBQVMsMEJBQU0sT0FBSzFDLFlBQVksU0FPdkgsUUFBZCxHQUFBMUksS0FBSytELGlCQUFTLGlCQUFFSSxRQUFpQ3lHLGtFQUFLckUsTUFBTyxDQUFDQyxRQUFTLFVBQTlDb0Usa0VBQUtFLE1BQU0sVUFFdENGLGtFQUFLRSxNQUFNLGFBQ1B4Ryx1REFBY0MsU0FBUzhHLFdBQWEsSUFBSXhELEtBQUksU0FBQXlELGtCQUM1QyxJQUFNQyxNQUFRLG9CQUFLRCw0QkFBZ0IsRUFBaEJBLGlCQUFrQkMsUUFBUyxJQUc5QyxPQUZBQSxNQUFNQyxNQUFLLFNBQUN6RixFQUFHMEYsR0FBQyxPQUFLMUYsRUFBRTJGLFNBQVdELEVBQUVDLFFBQVEsSUFHMUNkLDJEQUFDZSxtREFBUSxLQUNOSixNQUFNMUQsS0FBSSxTQUFBNkIsTUFBSSxPQUNia0Isb0ZBQ0VnQixhQUFjbEMsS0FBS21DLFlBQ25CQyxhQUFjLElBQ2RDLGNBQWUsSUFDZnBDLFdBQVlELEtBQUtnQyxTQUNqQk0sZUFBZ0Isd0JBQUFuTCxHQUFDLE9BQUksT0FBS3dJLG1CQUFtQnhJLEVBQUUsRUFDL0NvTCxPQUFRLENBQ04sQ0FBQzFKLEtBQU0sT0FBUWdGLEtBQU0sVUFDckIsQ0FBQ2hGLEtBQU0sV0FBWWdGLEtBQU0sU0FFM0IsSSxLQU9YdkgsS0FBS2lILGlCQUNKMkQsZ0ZBQ0VzQixRQUFRLDhDQUNSdkgsUUFBUSw0SEFDUndILE9BQVEseUJBQU8sT0FBS2xGLGlCQUFrQixDQUFLLEksS0FLcEQsWUExY3FCLEcsa0JDcENELG1zRSIsImZpbGUiOiIzNS5hODFjMmZiZC5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZXQgYWxsIGRlZmluZWQgdmFsaWRhdG9yc1xuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7RG9jdW1lbnRzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKHRlbXBsYXRlSUQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VmFsaWRhdG9ycyA9IGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldCgnL3ZhbGlkYXRvcnMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5leHBvcnQgdmFyIGdldFZhbGlkYXRvciA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdmFsaWRhdG9yTmFtZSkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi92YWxpZGF0b3JzL1wiLmNvbmNhdCh2YWxpZGF0b3JOYW1lKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xudmFyIEVNQUlMX1JFR0VYID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG5leHBvcnQgdmFyIGlzVmFsaWRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkgeyByZXR1cm4gISFlbWFpbCAmJiBFTUFJTF9SRUdFWC50ZXN0KGVtYWlsKTsgfTtcbi8vIEBzZWUgaHR0cHM6Ly93d3cucmVnZXh0ZXN0ZXIuY29tLzE5NzhcbnZhciBQSE9ORV9SRUdFWCA9IC8oKD86XFwrfDAwKVsxN10oPzogfFxcLSk/fCg/OlxcK3wwMClbMS05XVxcZHswLDJ9KD86IHxcXC0pP3woPzpcXCt8MDApMVxcLVxcZHszfSg/OiB8XFwtKT8pPygwXFxkfFxcKFswLTldezN9XFwpfFsxLTldezAsM30pKD86KCg/OiB8XFwtKVswLTldezJ9KXs0fXwoKD86WzAtOV17Mn0pezR9KXwoKD86IHxcXC0pWzAtOV17M30oPzogfFxcLSlbMC05XXs0fSl8KFswLTldezd9KSkvO1xuZXhwb3J0IHZhciBpc1ZhbGlkUGhvbmUgPSBmdW5jdGlvbiAocGhvbmUpIHsgcmV0dXJuICEhcGhvbmUgJiYgUEhPTkVfUkVHRVgudGVzdChwaG9uZSk7IH07XG5leHBvcnQgdmFyIGlzVmFsaWRSb2xlTmFtZSA9IGZ1bmN0aW9uICh2YWx1ZSwgcm9sZXMpIHsgcmV0dXJuIHJvbGVzLmZpbmRJbmRleChmdW5jdGlvbiAocm9sZSkgeyByZXR1cm4gcm9sZS5uYW1lID09PSB2YWx1ZTsgfSkgIT09IC0xOyB9O1xudmFyIFRhZ1JlZ0V4ID0gL15bYS16QS1aMC05LV17MCwzMn0kLztcbmV4cG9ydCB2YXIgaXNWYWxpZFRhZyA9IGZ1bmN0aW9uICh2YWx1ZSwgdGFncykgeyByZXR1cm4gVGFnUmVnRXgudGVzdCh2YWx1ZSkgfHwgdGFncy5maW5kSW5kZXgoZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gdGFnLm5hbWUgPT09IHZhbHVlOyB9KSAhPT0gLTE7IH07XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogVXBkYXRlIGEgcmVjaXBpZW50J3Mgc3RhdHVzIGJsb2NrXG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlUmVjaXBpZW50U3RhdHVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCByb2xlTmFtZSwgYWN0aW9uLCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChyb2xlTmFtZSksIF9fYXNzaWduKHsgcm9sZV9uYW1lOiByb2xlTmFtZSwgYWN0aW9uOiBhY3Rpb24gfSwgKHBhcmFtcyB8fCB7fSkpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuZXhwb3J0IHZhciBnZXRTaWduZXJUb2tlbiA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHJvbGVOYW1lKSwgXCIvc2lnbmVyLXRva2VuXCIpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5leHBvcnQgdmFyIGdldEluUGVyc29uTGluayA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHJvbGVOYW1lKSwgXCI/aW5fcGVyc29uX2xpbms9dHJ1ZVwiKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiLyoqXG4gKiBDcmVhdGUgYSBzaWduYXR1cmUgYmxvY2suIEluIGEgdHlwaWNhbCBzaWduaW5nIHdvcmtmbG93LCB0aGUgdXNlciBpcyBhc2tlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9jZXNzIHRvIFwiYWRvcHRcIlxuICogYSBzaWduYXR1cmUgYmxvY2sgdG8gYmUgdXNlZCBmb3IgYWxsIHNpZ25hdHVyZSBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LiBUaHVzLCB0aGlzIGlzIHR5cGljYWxseSBjYWxsZWQgb25lIHRpbWUgdG9cbiAqIGNyZWF0ZSBhbmQgc3RvcmUgYSBzaWduYXR1cmUgYmxvY2suIFRoZXJlYWZ0ZXIsIHRoZSBJRCBvZiB0aGUgc2lnbmF0dXJlIGJsb2NrIG1heSBiZSByZS11c2VkIGZvciBlYWNoIHNpZ25hdHVyZSBmaWVsZFxuICogdG8gYmUgXCJzdGFtcGVkXCIgYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlU2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBuYW1lLCBzaWduYXR1cmUpIHtcbiAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGRhdGEuYXBwZW5kKCdzaWduYXR1cmUnLCBzaWduYXR1cmUsIG5hbWUpO1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoXCIvc2lnbmF0dXJlc1wiLCBkYXRhKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCB0aGUgYXZhaWxiYWJsZSBzaWduYXR1cmVzIGZvciBhIHVzZXIuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2lnbmF0dXJlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldCgnL3NpZ25hdHVyZXMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIEdldCBhIHVzZXIncyBzaWduYXR1cmUgYnkgSUQuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBzaWduYXR1cmVJZCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi9zaWduYXR1cmVzL1wiLmNvbmNhdChzaWduYXR1cmVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogRGVsZXRlIGEgdXNlcidzIHNpZ25hdHVyZS5cbiAqL1xuZXhwb3J0IHZhciBkZWxldGVTaWduYXR1cmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHNpZ25hdHVyZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZGVsZXRlKFwiL3NpZ25hdHVyZXMvXCIuY29uY2F0KHNpZ25hdHVyZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiaW1wb3J0IHtWZXJkb2NzRW5kcG9pbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkayc7XG5pbXBvcnQge0VudmVsb3Blc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcyc7XG5pbXBvcnQge0lEb2N1bWVudEZpZWxkLCBJUmVjaXBpZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1R5cGVzJztcbmltcG9ydCB7dXBkYXRlUmVjaXBpZW50U3RhdHVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1JlY2lwaWVudHMnO1xuaW1wb3J0IHtpc1ZhbGlkRW1haWwsIGlzVmFsaWRQaG9uZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9WYWxpZGF0b3JzJztcbmltcG9ydCB7RXZlbnQsIEV2ZW50RW1pdHRlciwgSG9zdCwgRnJhZ21lbnQsIENvbXBvbmVudCwgUHJvcCwgU3RhdGUsIGh9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IHtmdWxsTmFtZVRvSW5pdGlhbHMsIGdldEZpZWxkSWQsIGdldFJvbGVJbmRleCwgcmVuZGVyRG9jdW1lbnRGaWVsZH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IEVudmVsb3BlU3RvcmUgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZW52ZWxvcGVTdG9yZSc7XG5pbXBvcnQge2dldEVudmVsb3BlQnlJZH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvRW52ZWxvcGVzJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm99IGZyb20gJy4uLy4uLy4uL3V0aWxzL1R5cGVzJztcbmltcG9ydCB7U0RLRXJyb3J9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9ycyc7XG5pbXBvcnQge2NyZWF0ZVNpZ25hdHVyZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9TaWduYXR1cmVzJztcbmltcG9ydCB7dXBkYXRlRW52ZWxvcGVGaWVsZFNpZ25hdHVyZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9FbnZlbG9wZXMnO1xuXG4vKipcbiAqIERpc3BsYXkgYW4gZW52ZWxvcGUgc2lnbmluZyBleHBlcmllbmNlLiBUaGlzIHdpbGwgZGlzcGxheSB0aGUgZW52ZWxvcGUncyBhdHRhY2hlZFxuICogZG9jdW1lbnRzIHdpdGggc2lnbmluZyBmaWVsZHMgb3ZlcmxhaWQgb24gZWFjaCBwYWdlLlxuICpcbiAqIFRoZSBjb21wb25lbnQgd2lsbCBhdHRlbXB0IHRvIGluaXRpYXRlIGEgc2lnbmluZyBzZXNzaW9uIGFuZCBsb2FkIHRoZSBzcGVjaWZpZWRcbiAqIGVudmVsb3BlLiBJZiBzdWNjZXNzZnVsLCB0aGUgcmVjaXBpZW50J3MgZmllbGRzIHdpbGwgYmUgZW5hYmxlZCBhbmQgdGhlIHVzZXIgd2lsbFxuICogYmUgYWJsZSB0byBzaWduIHRoZSBlbnZlbG9wZSdzIGF0dGFjaGVkIGRvY3VtZW50cy4gSWYgbm90LCBhbiBgc2RrRXJyb3JgIHdpbGwgYmVcbiAqIHRocm93biBhbmQgdGhlIGNvbXBvbmVudCB3aWxsIGJlIGJsYW5rL2VtcHR5LiBUbyBwcm92aWRlIHRoZSBiZXN0IHVzZXIgZXhwZXJpZW5jZSxcbiAqIGFwcGxpY2F0aW9ucyBzaG91bGQgY2FwdHVyZSBhbmQgaGFuZGxlIHRoaXMgZXJyb3IgdG8gcHJvdmlkZSB0aGUgdXNlciB3aXRoXG4gKiBpbnN0cnVjdGlvbnMvb3B0aW9ucyBmb3IgbmV4dCBzdGVwcyBiYXNlZCBvbiB0aGUgYXBwbGljYXRpb24ncyBkZXNpZ24gYW5kIHdvcmtmbG93LlxuICpcbiAqIFVubGlrZSBvdGhlciBjb21wb25lbnRzLCB0aGlzIHdpbGwgYWx3YXlzIGNyZWF0ZSBpdHMgb3duIGVuZHBvaW50IHRvIG1hbmFnZSB0aGVcbiAqIHNlc3Npb24gc2Vzc2lvbi4gVGhpcyBlbmRwb2ludCB3aWxsIGJlIGluY2x1ZGVkIGluIGV2ZW50IGNhbGxiYWNrcyBmb3IgdGhlXG4gKiBjb252ZW5pZW5jZSBvZiBob3N0IGFwcGxpY2F0aW9ucyB0aGF0IG1heSB3aXNoIHRvIG1ha2Ugc2VydmVyIGNhbGxzIHVzaW5nIHRoZVxuICogc2lnbmVyJ3MgY3JlZGVudGlhbHMgb25jZSBzaWduaW5nIGlzIGNvbXBsZXRlIChlLmcuIHRvIG9idGFpbiBjb3BpZXMgb2ZcbiAqIHRoZSBzaWduZWQgYXR0YWNobWVudHMuKVxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy1zaWduJyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXNpZ24uc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NTaWduIHtcbiAgZW5kcG9pbnQ6IFZlcmRvY3NFbmRwb2ludCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZW52ZWxvcGUgdG8gc2lnbi5cbiAgICovXG4gIEBQcm9wKCkgZW52ZWxvcGVJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcm9sZSB0aGF0IHdpbGwgYmUgc2lnbmluZyBlLmcuICdSZWNpcGllbnQgMSdcbiAgICovXG4gIEBQcm9wKCkgcm9sZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIGludml0ZSBjb2RlIGZvciB0aGUgc2lnbmVyLlxuICAgKi9cbiAgQFByb3AoKSBpbnZpdGVDb2RlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogRXZlbnQgZmlyZWQgaWYgYW4gZXJyb3Igb2NjdXJzLiBUaGUgZXZlbnQgZGV0YWlscyB3aWxsIGNvbnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLiBNb3N0IGVycm9ycyB3aWxsXG4gICAqIHRlcm1pbmF0ZSB0aGUgcHJvY2VzcywgYW5kIHRoZSBjYWxsaW5nIGFwcGxpY2F0aW9uIHNob3VsZCBjb3JyZWN0IHRoZSBjb25kaXRpb24gYW5kIHJlLXJlbmRlciB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIHNka0Vycm9yOiBFdmVudEVtaXR0ZXI8U0RLRXJyb3I+O1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIGFueSBmaWVsZCBpcyB1cGRhdGVkLiBOb3RlIHRoYXQgdGhlIGN1cnJlbnQgYWN0aXZlIGVuZHBvaW50IGlzXG4gICAqIHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIGFzIGEgY29udmVuaWVuY2UgZm9yIGNhbGxlcnMgd2hlbiB0aGlzIGNvaW1wb25lbnRcbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBmaWVsZFVwZGF0ZWQ6IEV2ZW50RW1pdHRlcjx7ZW5kcG9pbnQ6IFZlcmRvY3NFbmRwb2ludH0+O1xuXG4gIEBTdGF0ZSgpIHJlY2lwaWVudDogSVJlY2lwaWVudCB8IG51bGwgPSBudWxsO1xuICBAU3RhdGUoKSBzaWduZXJUb2tlbiA9IG51bGw7XG4gIC8vIEBTdGF0ZSgpIGVudmVsb3BlOiBJRW52ZWxvcGUgfCBudWxsID0gbnVsbDtcbiAgLy8gQFN0YXRlKCkgZmllbGRzOiBJRG9jdW1lbnRGaWVsZFtdID0gW107XG4gIEBTdGF0ZSgpIGhhc1NpZ25hdHVyZSA9IGZhbHNlO1xuICBAU3RhdGUoKSBuZXh0QnV0dG9uTGFiZWwgPSAnU3RhcnQnO1xuICBAU3RhdGUoKSBmb2N1c2VkRmllbGQgPSAnJztcblxuICBAU3RhdGUoKSBmaW5pc2hMYXRlciA9IGZhbHNlO1xuICBAU3RhdGUoKSBzaG93RmluaXNoTGF0ZXIgPSBmYWxzZTtcblxuICByZWNpcGllbnRJbmRleDogbnVtYmVyID0gLTE7XG4gIGZpZWxkczogSURvY3VtZW50RmllbGRbXSA9IFtdO1xuXG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIHRoaXMuZW5kcG9pbnQgPSBuZXcgVmVyZG9jc0VuZHBvaW50KHtzZXNzaW9uVHlwZTogJ3NpZ25pbmcnfSk7XG4gIH1cblxuICBhc3luYyBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIGlmICghdGhpcy5lbnZlbG9wZUlkKSB7XG4gICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcignW1NJR05dIE1pc3NpbmcgcmVxdWlyZWQgZW52ZWxvcElkJywgNTAwLCAnJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5yb2xlSWQpIHtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKCdbU0lHTl0gTWlzc2luZyByZXF1aXJlZCByb2xlSWQnLCA1MDAsICcnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmludml0ZUNvZGUpIHtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKCdbU0lHTl0gTWlzc2luZyByZXF1aXJlZCBpbnZpdGVDb2RlJywgNTAwLCAnJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgW1NJR05dIFByb2Nlc3NpbmcgaW52aXRlIGNvZGUgZm9yICR7dGhpcy5lbnZlbG9wZUlkfSAvICR7dGhpcy5yb2xlSWR9YCk7XG4gICAgICBjb25zdCB7c2Vzc2lvbiwgcmVjaXBpZW50LCBzaWduZXJUb2tlbn0gPSBhd2FpdCBFbnZlbG9wZXMuZ2V0U2lnbmluZ1Nlc3Npb24odGhpcy5lbmRwb2ludCwge1xuICAgICAgICBlbnZlbG9wZUlkOiB0aGlzLmVudmVsb3BlSWQsXG4gICAgICAgIHJvbGVJZDogdGhpcy5yb2xlSWQsXG4gICAgICAgIGludml0ZUNvZGU6IHRoaXMuaW52aXRlQ29kZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhgW1NJR05dIExvYWRlZCBzaWduaW5nIHNlc3Npb24gJHtzZXNzaW9uLmVtYWlsfSAvICR7c2Vzc2lvbi5wcm9maWxlX2lkfWApO1xuXG4gICAgICB0aGlzLnJlY2lwaWVudCA9IHJlY2lwaWVudDtcbiAgICAgIHRoaXMuc2lnbmVyVG9rZW4gPSBzaWduZXJUb2tlbjtcbiAgICAgIHRoaXMuZW5kcG9pbnQuc2V0VG9rZW4oc2lnbmVyVG9rZW4pO1xuXG4gICAgICBpZiAodGhpcy5yZWNpcGllbnQuYWdyZWVkKSB7XG4gICAgICAgIHRoaXMubmV4dEJ1dHRvbkxhYmVsID0gJ05leHQnO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBnZXRFbnZlbG9wZUJ5SWQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkKTtcbiAgICAgIC8vIGNvbnN0IGVudmVsb3BlID0gYXdhaXQgRW52ZWxvcGVzLmdldEVudmVsb3BlKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCk7XG4gICAgICAvLyB0aGlzLmVudmVsb3BlID0gZW52ZWxvcGU7XG4gICAgICAvLyBjb25zb2xlLmxvZygnW1NJR05dIExvYWRlZCBlbnZlbG9wZScsIGVudmVsb3BlKTtcblxuICAgICAgdGhpcy5yZWNpcGllbnRJbmRleCA9IEVudmVsb3BlU3RvcmUuZW52ZWxvcGUucmVjaXBpZW50cy5maW5kSW5kZXgocmVjaXBpZW50ID0+IHJlY2lwaWVudC5yb2xlX25hbWUgPT0gdGhpcy5yb2xlSWQpO1xuICAgICAgaWYgKHRoaXMucmVjaXBpZW50SW5kZXggPiAtMSkge1xuICAgICAgICB0aGlzLnJlY2lwaWVudCA9IEVudmVsb3BlU3RvcmUuZW52ZWxvcGUucmVjaXBpZW50c1t0aGlzLnJlY2lwaWVudEluZGV4XTtcbiAgICAgICAgdGhpcy5maWVsZHMgPSB0aGlzLnJlY2lwaWVudC5maWVsZHM7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IEZpeCBzZXJ2aWNlIHRvIGFsbG93IHRoaXM/XG4gICAgICAvLyBjb25zdCBzaWdzID0gYXdhaXQgZ2V0U2lnbmF0dXJlcygpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3NpZ3MnLCBzaWdzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3Igd2l0aCBzaWduaW5nIHNlc3Npb24nLCBlKTtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xpY2tBZ3JlZSgpIHtcbiAgICB1cGRhdGVSZWNpcGllbnRTdGF0dXModGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCB0aGlzLnJvbGVJZCwgJ3VwZGF0ZScsIHthZ3JlZWQ6IHRydWV9KVxuICAgICAgLnRoZW4ociA9PiB7XG4gICAgICAgIHRoaXMubmV4dEJ1dHRvbkxhYmVsID0gJ05leHQnO1xuICAgICAgICB0aGlzLnJlY2lwaWVudCA9IHI7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlIGZhaWx1cmUnLCBlKTtcbiAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc2F2ZVBERigpIHtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke0VudmVsb3BlU3RvcmUuZW52ZWxvcGUubmFtZX0gLSAke0VudmVsb3BlU3RvcmUuZW52ZWxvcGUudXBkYXRlZF9hdC5zcGxpdCgnVCcpWzBdfS5wZGZgO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBFbnZlbG9wZXMuZ2V0RW52ZWxvcGVGaWxlKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5lbnZlbG9wZV9kb2N1bWVudF9pZCk7XG5cbiAgICAvLyBUaGlzIGlzIGJldHRlciBpbiBSZWFjdCB0aGFuIGRvaW5nIHdpbmRvdy5ocmVmPSBvciBzaW1pbGFyIHRvIHRyaWdnZXIgYSBkb3dubG9hZC4gRm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIHRlY2huaXF1ZVxuICAgIC8vIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84MTI2NjIzL2Rvd25sb2FkaW5nLWNhbnZhcy1lbGVtZW50LXRvLWFuLWltYWdlXG4gICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYS5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoeGhyLnJlc3BvbnNlKTtcbiAgICAgIGEuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgIGEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICBhLmNsaWNrKCk7XG4gICAgICBhLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgICB4aHIub3BlbignR0VUJywgYGRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCwke2RhdGF9YCk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZU9wdGlvblNlbGVjdGVkKGUpIHtcbiAgICBzd2l0Y2ggKGUuZGV0YWlsLmlkKSB7XG4gICAgICBjYXNlICdsYXRlcic6XG4gICAgICAgIHRoaXMuZmluaXNoTGF0ZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnNob3dGaW5pc2hMYXRlciA9IHRydWU7XG4gICAgICAgIC8vIHRoaXMucm91dGVyLm5hdmlnYXRlKFtgdmlldy9zaWduLyR7dGhpcy5lbnZlbG9wZUlkfS9yb2xlLyR7dGhpcy5yb2xlTmFtZX0vc2F2ZWRgXSk7XG4gICAgICAgIC8vIGlmICghd2luZG93Py5bJ1NUT1JZQk9PS19FTlYnXSkge1xuICAgICAgICAvLyAgIHdpbmRvdy5hbGVydCgnVXNlciBpbnRlbmRzIHRvIHNpZ24gbGF0ZXIuJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjbGFpbSc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGVjbGluZSc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncHJpbnQnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Rvd25sb2FkJzpcbiAgICAgICAgdGhpcy5zYXZlUERGKCkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVGaWVsZENoYW5nZShmaWVsZDogSURvY3VtZW50RmllbGQsIGU6IGFueSwgb3B0aW9uSWQ/OiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZygnZmllbGRDaGFuZ2UnLCBmaWVsZCwgZSk7XG4gICAgY29uc3Qge3ZhbHVlLCBjaGVja2VkfSA9IGUudGFyZ2V0O1xuXG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICd0ZXh0Ym94JzpcbiAgICAgICAgRW52ZWxvcGVzLnVwZGF0ZUVudmVsb3BlRmllbGQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZC5uYW1lLCB7cHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZX0pXG4gICAgICAgICAgLnRoZW4ociA9PiBjb25zb2xlLmxvZygnVXBkYXRlIHJlc3VsdCcsIHIpKVxuICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gICAgICAgICAgICBpZiAoZS5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEgJiYgZS5yZXNwb25zZT8uZGF0YT8uZXJyb3IgPT09ICdqd3QgZXhwaXJlZCcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2p3dCBleHBpcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgdXBkYXRpbmcnLCBlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICAgICAgRW52ZWxvcGVzLnVwZGF0ZUVudmVsb3BlRmllbGQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZC5uYW1lLCB7cHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZToge29wdGlvbnM6IFt7aWQ6IG9wdGlvbklkLCBjaGVja2VkfV19fSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkLnNldHRpbmdzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiAoe2lkOiBvcHRpb24uaWQsIHNlbGVjdGVkOiBvcHRpb25JZCA9PT0gb3B0aW9uLmlkfSkpO1xuICAgICAgICBFbnZlbG9wZXMudXBkYXRlRW52ZWxvcGVGaWVsZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uc319KVxuICAgICAgICAgIC50aGVuKHIgPT4gY29uc29sZS5sb2coJ1VwZGF0ZSByZXN1bHQnLCByKSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHVwZGF0aW5nJywgZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICAgIEVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb3QgaW5pdGlhbCcsIGUuZGV0YWlsKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb3Qgc2lnbmF0dXJlJywgZS5kZXRhaWwpO1xuXG4gICAgICAgIGNvbnN0IG5ld1NpZ25hdHVyZSA9IGF3YWl0IGNyZWF0ZVNpZ25hdHVyZSh0aGlzLmVuZHBvaW50LCAnc2lnbmF0dXJlJywgZS5kZXRhaWwpO1xuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBzaWduYXR1cmUnLCBuZXdTaWduYXR1cmUpO1xuXG4gICAgICAgIC8vICAgLS1kYXRhLXJhdyAne1wiaXBfYWRkcmVzc1wiOlwiaXBfdW5hdmFpbGFibGVcIn0nIFxcXG4gICAgICAgIGNvbnN0IGF0dGFjaFJlc3VsdCA9IGF3YWl0IHVwZGF0ZUVudmVsb3BlRmllbGRTaWduYXR1cmUodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZC5uYW1lLCBuZXdTaWduYXR1cmUuaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnQXR0YWNoIHJlc3VsdCcsIGF0dGFjaFJlc3VsdCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgY29uc3QgaXNvID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdpc28nKTtcbiAgICAgICAgRW52ZWxvcGVzLnVwZGF0ZUVudmVsb3BlRmllbGQodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCBmaWVsZC5uYW1lLCB7cHJlcGFyZWQ6IGZhbHNlLCB2YWx1ZTogaXNvfSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSAmJiBlLnJlc3BvbnNlPy5kYXRhPy5lcnJvciA9PT0gJ2p3dCBleHBpcmVkJykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnand0IGV4cGlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ1VuaGFuZGxlZCBmaWVsZCB1cGRhdGUnLCB7dmFsdWUsIGNoZWNrZWR9LCBmaWVsZCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlzRmllbGRWYWxpZChmaWVsZDogSURvY3VtZW50RmllbGQpIHtcbiAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3RleHRib3gnOlxuICAgICAgICBzd2l0Y2ggKGZpZWxkLnNldHRpbmdzPy52YWxpZGF0b3IgfHwgJycpIHtcbiAgICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZEVtYWlsKGZpZWxkLnNldHRpbmdzPy5yZXN1bHQgfHwgJycpO1xuICAgICAgICAgIGNhc2UgJ3Bob25lJzpcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkUGhvbmUoZmllbGQuc2V0dGluZ3M/LnJlc3VsdCB8fCAnJyk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAhIWZpZWxkLnNldHRpbmdzPy5yZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICd0aW1lc3RhbXAnOlxuICAgICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgICAgIHJldHVybiAhIWZpZWxkLnNldHRpbmdzPy5yZXN1bHQ7XG4gICAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICAgIHJldHVybiAhIWZpZWxkLnNldHRpbmdzPy52YWx1ZTtcbiAgICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICAgICAgY29uc3QgY2hlY2tlZCA9IChmaWVsZC5zZXR0aW5ncz8ub3B0aW9ucz8uZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY2hlY2tlZCkgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNoZWNrZWQgPj0gKGZpZWxkLnNldHRpbmdzPy5taW5pbXVtX2NoZWNrZWQgfHwgMCkgJiYgY2hlY2tlZCA8PSAoZmllbGQuc2V0dGluZ3M/Lm1heGltdW1fY2hlY2tlZCB8fCA5OTkpO1xuICAgICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgICAgcmV0dXJuIChmaWVsZC5zZXR0aW5ncz8ub3B0aW9ucz8uZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpIHx8IFtdKS5sZW5ndGggPiAwO1xuICAgICAgLy8gVE9ET1xuICAgICAgLy8gY2FzZSAnY2hlY2tib3gnOlxuICAgICAgLy8gICByZXR1cm4gPHZlcmRvY3MtZmllbGQtY2hlY2tib3ggc3R5bGU9e3N0eWxlfSB2YWx1ZT17cmVzdWx0IHx8ICcnfSBpZD17aWR9IC8+O1xuICAgICAgLy8gY2FzZSAncGF5bWVudCc6XG4gICAgICAvLyAgIHJldHVybiA8dmVyZG9jcy1maWVsZC1wYXltZW50IHN0eWxlPXtzdHlsZX0gZmllbGQ9e2ZpZWxkfSBpZD17aWR9IC8+O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIChhc3luYyAoKSA9PiB7XG4gIC8vICAgYXdhaXQgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQoJ3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlJyk7XG4gIC8vICAgY29uc3QgZWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlJyk7XG4gIC8vICAgYXdhaXQgZWxzLmZvY3VzRmllbGQoKTtcbiAgLy8gfSkoKTtcblxuICBoYW5kbGVOZXh0KCkge1xuICAgIC8vIEZpbmQgYW5kIGZvY3VzIHRoZSBuZXh0IGluY29tcGxldGUgcmVxdWlyZWQgZmllbGRcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IHRoaXMuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5yZXF1aXJlZCk7XG4gICAgY29uc29sZS5sb2coJ3JlcXVpcmVkIEZpZWxkcycsIHJlcXVpcmVkRmllbGRzKTtcblxuICAgIGNvbnN0IGZvY3VzZWRJbmRleCA9IHJlcXVpcmVkRmllbGRzLmZpbmRJbmRleChmaWVsZCA9PiBmaWVsZC5uYW1lID09PSB0aGlzLmZvY3VzZWRGaWVsZCk7XG4gICAgY29uc29sZS5sb2coJ2ZvY3VzZWQgSW5kZXgnLCBmb2N1c2VkSW5kZXgpO1xuXG4gICAgbGV0IG5leHRGb2N1c2VkSW5kZXggPSBmb2N1c2VkSW5kZXggKyAxO1xuICAgIGlmIChuZXh0Rm9jdXNlZEluZGV4ID49IHJlcXVpcmVkRmllbGRzLmxlbmd0aCkge1xuICAgICAgbmV4dEZvY3VzZWRJbmRleCA9IDA7XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dFJlcXVpcmVkRmllbGQgPSByZXF1aXJlZEZpZWxkc1tuZXh0Rm9jdXNlZEluZGV4XTtcbiAgICBjb25zb2xlLmxvZygnbmV4dCByZXF1aXJlZCBmaWVsZCcsIG5leHRSZXF1aXJlZEZpZWxkKTtcblxuICAgIGlmIChuZXh0UmVxdWlyZWRGaWVsZCkge1xuICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZElkKG5leHRSZXF1aXJlZEZpZWxkKTtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIGFueTtcbiAgICAgIGNvbnNvbGUubG9nKCdmb2N1c2luZycsIGlkLCBlbCk7XG4gICAgICBlbD8uZm9jdXNGaWVsZCgpO1xuICAgICAgdGhpcy5mb2N1c2VkRmllbGQgPSBuZXh0UmVxdWlyZWRGaWVsZC5uYW1lO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVBhZ2VSZW5kZXJlZChlKSB7XG4gICAgY29uc3QgcGFnZUluZm8gPSBlLmRldGFpbCBhcyBJRG9jdW1lbnRQYWdlSW5mbztcbiAgICBjb25zb2xlLmxvZygnW1NJR05dIFBhZ2UgcmVuZGVyZWQnLCBwYWdlSW5mbyk7XG5cbiAgICBjb25zb2xlLmxvZygncmVuZGVyaW5nIGZpZWxkcyBmb3IgcmVjaXBpZW50JywgZ2V0Um9sZUluZGV4KEVudmVsb3BlU3RvcmUucm9sZU5hbWVzLCB0aGlzLnJlY2lwaWVudC5yb2xlX25hbWUpKTtcbiAgICBjb25zdCByZWNpcGllbnRGaWVsZHMgPSB0aGlzLnJlY2lwaWVudC5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLnBhZ2UgPT09IHBhZ2VJbmZvLnBhZ2VOdW1iZXIpO1xuICAgIC8vIGNvbnN0IGZpZWxkcyA9IHRoaXMuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5wYWdlX3NlcXVlbmNlID09PSBwYWdlSW5mby5yZW5kZXJlZFBhZ2UucGFnZU51bWJlcik7XG4gICAgY29uc29sZS5sb2coJ1tTSUdOXSBGaWVsZHMgb24gcGFnZScsIHJlY2lwaWVudEZpZWxkcyk7XG4gICAgcmVjaXBpZW50RmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgY29uc3QgZWwgPSByZW5kZXJEb2N1bWVudEZpZWxkKGZpZWxkLCBwYWdlSW5mbywgZ2V0Um9sZUluZGV4KEVudmVsb3BlU3RvcmUucm9sZU5hbWVzLCBmaWVsZC5yZWNpcGllbnRfcm9sZSksIHtkaXNhYmxlZDogZmFsc2UsIGVkaXRhYmxlOiBmYWxzZSwgZHJhZ2dhYmxlOiBmYWxzZX0pO1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpO1xuICAgICAgfSk7XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpZWxkQ2hhbmdlJywgZSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpO1xuICAgICAgfSk7XG5cbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgneFNjYWxlJywgcGFnZUluZm8ueFNjYWxlKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgneVNjYWxlJywgcGFnZUluZm8ueVNjYWxlKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaW5pdGlhbHMnLCB0aGlzLnJlY2lwaWVudCA/IGZ1bGxOYW1lVG9Jbml0aWFscyh0aGlzLnJlY2lwaWVudC5mdWxsX25hbWUpIDogJycpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCduYW1lJywgdGhpcy5yZWNpcGllbnQ/LmZ1bGxfbmFtZSB8fCAnJyk7XG5cbiAgICAgIC8vIGludGVyYWN0KGVsKS5kcmFnZ2FibGUoe1xuICAgICAgLy8gICBsaXN0ZW5lcnM6IHtcbiAgICAgIC8vICAgICBzdGFydChldmVudCkge1xuICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ1tGSUVMRFNdIERyYWcgc3RhcnRlZCcsIGV2ZW50LnR5cGUsIGV2ZW50LnRhcmdldCk7XG4gICAgICAvLyAgICAgfSxcbiAgICAgIC8vICAgICBtb3ZlKGV2ZW50KSB7XG4gICAgICAvLyAgICAgICBjb25zdCBvbGRYID0gKyhldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3NYJykgfHwgMCk7XG4gICAgICAvLyAgICAgICBjb25zdCBvbGRZID0gKyhldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3NZJykgfHwgMCk7XG4gICAgICAvLyAgICAgICBjb25zdCB4U2NhbGUgPSArKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3hTY2FsZScpIHx8IDEpO1xuICAgICAgLy8gICAgICAgY29uc3QgeVNjYWxlID0gKyhldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCd5U2NhbGUnKSB8fCAxKTtcbiAgICAgIC8vICAgICAgIGNvbnN0IG5ld1ggPSBldmVudC5keCAvIHhTY2FsZSArIG9sZFg7XG4gICAgICAvLyAgICAgICBjb25zdCBuZXdZID0gZXZlbnQuZHkgLyB5U2NhbGUgKyBvbGRZO1xuICAgICAgLy8gICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zWCcsIG5ld1gpO1xuICAgICAgLy8gICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncG9zeScsIG5ld1kpO1xuICAgICAgLy8gICAgICAgdXBkYXRlQ3NzVHJhbnNmb3JtKGV2ZW50LnRhcmdldCwgJ3RyYW5zbGF0ZScsIGAke25ld1h9cHgsICR7bmV3WX1weGApO1xuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgICAgZW5kKGV2ZW50KSB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnW0ZJRUxEU10gRHJhZyBlbmRlZCcsIGV2ZW50KTtcbiAgICAgIC8vICAgICAgIC8vIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Bvc1gnLCAwKTtcbiAgICAgIC8vICAgICAgIC8vIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Bvc3knLCAwKTtcbiAgICAgIC8vICAgICAgIC8vIHVwZGF0ZUNzc1RyYW5zZm9ybShldmVudC50YXJnZXQsICd0cmFuc2xhdGUnLCBgJHswfXB4LCAkezB9cHhgKTtcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICB9LFxuICAgICAgLy8gfSk7XG4gICAgfSk7XG5cbiAgICBFbnZlbG9wZVN0b3JlLmVudmVsb3BlLnJlY2lwaWVudHNcbiAgICAgIC5maWx0ZXIocmVjaXBpZW50ID0+IHJlY2lwaWVudC5yb2xlX25hbWUgIT09IHRoaXMucmVjaXBpZW50LnJvbGVfbmFtZSlcbiAgICAgIC5tYXAob3RoZXJSZWNpcGllbnQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnUmVuZGVyaW5nIGZpZWxkcyBmb3Igb3RoZXIgcmVjaXBpZW50JywgZ2V0Um9sZUluZGV4KEVudmVsb3BlU3RvcmUucm9sZU5hbWVzLCBvdGhlclJlY2lwaWVudC5yb2xlX25hbWUpLCBvdGhlclJlY2lwaWVudCk7XG4gICAgICAgIGNvbnN0IHJlY2lwaWVudEZpZWxkcyA9IG90aGVyUmVjaXBpZW50LmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZSA9PT0gcGFnZUluZm8ucGFnZU51bWJlcik7XG4gICAgICAgIC8vIGNvbnN0IGZpZWxkcyA9IHRoaXMuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5wYWdlX3NlcXVlbmNlID09PSBwYWdlSW5mby5yZW5kZXJlZFBhZ2UucGFnZU51bWJlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0lHTl0gRmllbGRzIG9uIHBhZ2UnLCByZWNpcGllbnRGaWVsZHMpO1xuICAgICAgICByZWNpcGllbnRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgICAgY29uc3QgZWwgPSByZW5kZXJEb2N1bWVudEZpZWxkKGZpZWxkLCBwYWdlSW5mbywgZ2V0Um9sZUluZGV4KEVudmVsb3BlU3RvcmUucm9sZU5hbWVzLCBvdGhlclJlY2lwaWVudC5yb2xlX25hbWUpLCB7ZGlzYWJsZWQ6IHRydWUsIGVkaXRhYmxlOiBmYWxzZSwgZHJhZ2dhYmxlOiBmYWxzZX0pO1xuICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3hTY2FsZScsIHBhZ2VJbmZvLnhTY2FsZSk7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd5U2NhbGUnLCBwYWdlSW5mby55U2NhbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmIChFbnZlbG9wZVN0b3JlLmxvYWRpbmcgfHwgIUVudmVsb3BlU3RvcmUuZW52ZWxvcGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxIb3N0PlxuICAgICAgICAgIDx2ZXJkb2NzLWxvYWRlciAvPlxuICAgICAgICA8L0hvc3Q+XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IG1lbnVPcHRpb25zID0gW1xuICAgICAge2lkOiAnbGF0ZXInLCBsYWJlbDogJ0ZpbmlzaCBMYXRlcid9LCAvL1xuICAgICAge2lkOiAnY2xhaW0nLCBsYWJlbDogJ0NsYWltIHRoZSBEb2N1bWVudCcsIGRpc2FibGVkOiB0cnVlfSxcbiAgICAgIHtpZDogJ2RlY2xpbmUnLCBsYWJlbDogJ0RlY2xpbmUgdG8gU2lnbid9LFxuICAgICAge2lkOiAncHJpbnQnLCBsYWJlbDogJ1ByaW50IFdpdGhvdXQgU2lnbmluZyd9LFxuICAgICAge2lkOiAnZG93bmxvYWQnLCBsYWJlbDogJ0Rvd25sb2FkJ30sXG4gICAgXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8SG9zdCBjbGFzcz17e2FncmVlZDogdGhpcy5yZWNpcGllbnQ/LmFncmVlZH19PlxuICAgICAgICB7IXRoaXMuZmluaXNoTGF0ZXIgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRyb1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlubmVyXCI+UGxlYXNlIHJldmlldyBhbmQgYWN0IG9uIHRoZXNlIGRvY3VtZW50cy48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImlubmVyXCI+XG4gICAgICAgICAgICB7IXRoaXMuZmluaXNoTGF0ZXIgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbGJhclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sc1wiPlxuICAgICAgICAgICAgICAgICAgPHZlcmRvY3MtZHJvcGRvd24gb3B0aW9ucz17bWVudU9wdGlvbnN9IG9uT3B0aW9uU2VsZWN0ZWQ9e2UgPT4gdGhpcy5oYW5kbGVPcHRpb25TZWxlY3RlZChlKX0gLz5cblxuICAgICAgICAgICAgICAgICAgeyF0aGlzLnJlY2lwaWVudD8uYWdyZWVkID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWdyZWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8dmVyZG9jcy1jaGVja2JveCBuYW1lPVwiYWdyZWVcIiBsYWJlbD1cIkkgYWdyZWUgdG8gdXNlIGVsZWN0cm9uaWMgcmVjb3JkcyBhbmQgc2lnbmF0dXJlcy5cIiBvbklucHV0PXsoKSA9PiB0aGlzLmhhbmRsZUNsaWNrQWdyZWUoKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxleDogJzEnfX0gLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8dmVyZG9jcy1idXR0b24gc2l6ZT1cInNtYWxsXCIgbGFiZWw9e3RoaXMubmV4dEJ1dHRvbkxhYmVsfSBkaXNhYmxlZD17IXRoaXMucmVjaXBpZW50Py5hZ3JlZWR9IG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTmV4dCgpfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHshdGhpcy5yZWNpcGllbnQ/LmFncmVlZCA/IDxkaXYgY2xhc3M9XCJjb3ZlclwiIC8+IDogPGRpdiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+fVxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIHsoRW52ZWxvcGVTdG9yZS5lbnZlbG9wZS5kb2N1bWVudHMgfHwgW10pLm1hcChlbnZlbG9wZURvY3VtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gWy4uLihlbnZlbG9wZURvY3VtZW50Py5wYWdlcyB8fCBbXSldO1xuICAgICAgICAgICAgcGFnZXMuc29ydCgoYSwgYikgPT4gYS5zZXF1ZW5jZSAtIGIuc2VxdWVuY2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAge3BhZ2VzLm1hcChwYWdlID0+IChcbiAgICAgICAgICAgICAgICAgIDx2ZXJkb2NzLWRvY3VtZW50LXBhZ2VcbiAgICAgICAgICAgICAgICAgICAgcGFnZUltYWdlVXJpPXtwYWdlLmRpc3BsYXlfdXJpfVxuICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsV2lkdGg9ezYxMn1cbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbEhlaWdodD17NzkyfVxuICAgICAgICAgICAgICAgICAgICBwYWdlTnVtYmVyPXtwYWdlLnNlcXVlbmNlfVxuICAgICAgICAgICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17ZSA9PiB0aGlzLmhhbmRsZVBhZ2VSZW5kZXJlZChlKX1cbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdwYWdlJywgdHlwZTogJ2NhbnZhcyd9LFxuICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnY29udHJvbHMnLCB0eXBlOiAnZGl2J30sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3RoaXMuc2hvd0ZpbmlzaExhdGVyICYmIChcbiAgICAgICAgICA8dmVyZG9jcy1vay1kaWFsb2dcbiAgICAgICAgICAgIGhlYWRpbmc9XCJZb3UndmUgc2F2ZWQgeW91ciBkb2N1bWVudCB0byBmaW5pc2ggbGF0ZXIuXCJcbiAgICAgICAgICAgIG1lc3NhZ2U9XCJUbyBjb21wbGV0ZSB0aGUgZG9jdW1lbnQsIHVzZSB0aGUgbGluayBpbiB0aGUgb3JpZ2luYWwgZW1haWwgbm90aWZpY2F0aW9uIGludml0aW5nIHlvdSB0byByZXZpZXcgYW5kIGZpbmlzaCB0aGUgZG9jdW1lbnQuXCJcbiAgICAgICAgICAgIG9uTmV4dD17KCkgPT4gKHRoaXMuc2hvd0ZpbmlzaExhdGVyID0gZmFsc2UpfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3Mtc2lnbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWluLWhlaWdodDogNjAwcHg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGZvbnQtZmFtaWx5OiAkdmVyZG9jcy1wcmltYXJ5LWZvbnQ7XG5cbiAgZGl2IHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgLmhlYWRlciB7XG4gICAgZmxleDogMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHotaW5kZXg6IDEwMDA7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG1lZGl1bS1iZztcbiAgICBib3gtc2hhZG93OiAwIDRweCA0cHggMCByZ2IoMCAwIDAgLyAyNCUpLCAwIDAgNHB4IDAgcmdiKDAgMCAwIC8gMTIlKTtcblxuICAgIC5pbm5lciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIG1heC13aWR0aDogMTAyOHB4O1xuICAgIH1cbiAgfVxuXG4gIC5pbnRybyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA2MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cbiAgICAuaW5uZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBjb2xvcjogIzExMTExMTtcbiAgICAgIHBhZGRpbmc6IDAgMTRweDtcbiAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBsaW5lLWhlaWdodDogMjhweDtcbiAgICAgIG1heC13aWR0aDogMTAyNHB4O1xuICAgIH1cbiAgfVxuXG4gICYuYWdyZWVkIHtcbiAgICAuaW50cm8ge1xuICAgICAgLy9kaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxuXG4gIC50b29sYmFyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBwYWRkaW5nOiAwIDE0cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbiAgLnRvb2xzIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBoZWlnaHQ6IDU2cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRtZWRpdW0tYmc7XG4gIH1cblxuICAuY292ZXIge1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgfVxuXG4gIC5kb2N1bWVudCB7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIHJvdy1nYXA6IDE1cHg7XG4gICAgbWluLWhlaWdodDogMjAwcHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblxuICAgIC5pbm5lciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIG1heC13aWR0aDogMTAyOHB4O1xuICAgIH1cbiAgfVxuXG4gIC5hZ3JlZSB7XG4gICAgZmxleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAwIDE1cHg7XG5cbiAgICAuaW50cm8ge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICAuaGVhZGVyIHtcbiAgICAgIGZsZXg6IDAgMCA1NnB4O1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==