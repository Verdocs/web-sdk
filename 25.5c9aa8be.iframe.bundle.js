/*! For license information please see 25.5c9aa8be.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/Templates-0638b1e4.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId,ssr){return endpoint.api.get("/templates/".concat(templateId)+(ssr?"?ssr=true":"")).then((function(r){return r.data}))},createTemplate=function createTemplate(endpoint,params){return endpoint.api.post("/templates/",params).then((function(r){return r.data}))}},"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/verdocs-send.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_send",(function(){return VerdocsSend}));__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Templates_0638b1e4_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/Templates-0638b1e4.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/Validators-f110bae2.js")),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_VerdocsEndpoint_6df32d3a_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./dist/esm/VerdocsEndpoint-6df32d3a.js"),_utils_3d95c588_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./dist/esm/utils-3d95c588.js");__webpack_require__("./dist/esm/Token-54690789.js"),__webpack_require__("./dist/esm/Envelopes-130fd6ea.js"),__webpack_require__("./dist/esm/Files-70a192df.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsSend=function(){function VerdocsSend(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSend),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.j)(this,hostRef),this.send=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"send",7),this.cancel=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"cancel",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"sdkError",7),this.levels=[],this.endpoint=_VerdocsEndpoint_6df32d3a_js__WEBPACK_IMPORTED_MODULE_37__.a.getDefault(),this.templateId=null,this.template=null,this.pdfUrl=null,this.containerId="verdocs-send-"+Math.random().toString(36).substring(2,11),this.rolesAtLevel={},this.showPickerForId="",this.sessionContacts=[],this.recipientsAssigned={}}var _componentDidLoad,_componentWillLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSend,[{key:"componentWillLoad",value:(_componentWillLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,result;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.sessionContacts=[],_context.prev=1,_context.next=4,this.endpoint.loadSession();case 4:result=_context.sent,(null===(_a=result.session)||void 0===_a?void 0:_a.profile)&&this.sessionContacts.push({id:result.session.profile.id,name:result.session.profile.first_name+" "+result.session.profile.last_name,email:result.session.profile.email,phone:result.session.profile.phone}),_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(1),console.log("Error loading session",_context.t0);case 11:case"end":return _context.stop()}}),_callee,this,[[1,8]])}))),function componentWillLoad(){return _componentWillLoad.apply(this,arguments)})},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var template,rolesAtLevel;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return console.log("[SEND] Showing template",this.templateId),_context2.prev=1,console.log("[SEND] Loading template "+this.templateId),_context2.next=5,Object(_Templates_0638b1e4_js__WEBPACK_IMPORTED_MODULE_33__.c)(this.endpoint,this.templateId);case 5:template=_context2.sent,console.log("[SEND] Got template",template),this.template=template,(null==template?void 0:template.roles)&&(rolesAtLevel={},template.roles.forEach((function(role){var level=role.sequence-1;rolesAtLevel[level]||(rolesAtLevel[level]=[]);var id="r-"+level+"-"+rolesAtLevel[level].length;rolesAtLevel[level].push(Object.assign({},role,{id:id}))})),this.rolesAtLevel=rolesAtLevel,this.levels=Object.keys(rolesAtLevel).map((function(levelStr){return+levelStr})),this.levels.sort((function(a,b){return a-b}))),_context2.next=14;break;case 11:_context2.prev=11,_context2.t0=_context2.catch(1),console.log("[SEND] Error getting template",_context2.t0);case 14:case"end":return _context2.stop()}}),_callee2,this,[[1,11]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"getLevelIcon",value:function getLevelIcon(level){return level<0?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level-icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm10 6c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6z"></path></svg>'}):level>=this.levels.length?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level-icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"></path></svg>'}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level-icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></svg>'})}},{key:"handleSelectContact",value:function handleSelectContact(e,role){e.preventDefault(),this.recipientsAssigned[role.id]=Object.assign({},role,e.detail),this.showPickerForId=""}},{key:"handleClickRole",value:function handleClickRole(e,role){e.stopPropagation(),this.showPickerForId=role.id}},{key:"handleSend",value:function handleSend(e){var _a;e.stopPropagation(),null===(_a=this.send)||void 0===_a||_a.emit({recipientsAssigned:Object.values(this.recipientsAssigned)})}},{key:"handleCancel",value:function handleCancel(e){var _a;e.stopPropagation(),null===(_a=this.cancel)||void 0===_a||_a.emit()}},{key:"render",value:function render(){var _a,_b,_c,_this=this,roleNames=(null===(_b=null===(_a=this.template)||void 0===_a?void 0:_a.roles)||void 0===_b?void 0:_b.map((function(role){return role.name})))||[],allRecipientsAssigned=Object.values(this.recipientsAssigned).filter((function(recipient){return console.log("valid email",Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__.b)(recipient.email),recipient.email),console.log("valid phone",Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__.a)(recipient.phone),recipient.phone),Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__.b)(recipient.email)||Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__.a)(recipient.phone)})).length>=(null===(_c=this.template)||void 0===_c?void 0:_c.roles.length);return console.log("assigned",allRecipientsAssigned),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.b,{class:{}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"recipients"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"left-line"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level level-start"},this.getLevelIcon(-1),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"complete"},"Send Document")),this.levels.map((function(level){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level level-"+level},_this.getLevelIcon(level),_this.rolesAtLevel[level].map((function(role){var _a,_b,_c;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"recipient",style:{backgroundColor:Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_36__.a)(Object(_utils_3d95c588_js__WEBPACK_IMPORTED_MODULE_38__.a)(roleNames,role.name))},onClick:function onClick(e){return _this.handleClickRole(e,role)}},null!==(_b=null===(_a=_this.recipientsAssigned[role.id])||void 0===_a?void 0:_a.full_name)&&void 0!==_b?_b:role.name,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"icon",innerHTML:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg>'}),_this.showPickerForId===role.id&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-contact-picker",{onCancel:function onCancel(){return _this.showPickerForId=""},onNext:function onNext(e){return _this.handleSelectContact(e,role)},contactSuggestions:_this.sessionContacts,templateRole:null!==(_c=_this.recipientsAssigned[role.id])&&void 0!==_c?_c:role,onSearchContacts:function onSearchContacts(e){return console.log("Search",e.detail)}}))})))})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"level level-done"},this.getLevelIcon(this.levels.length),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"complete"},"Document Complete"))),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"buttons"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-button",{label:"Cancel",size:"small",variant:"outline",onClick:function onClick(e){return _this.handleCancel(e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-button",{label:"Send",size:"small",disabled:!allRecipientsAssigned,onClick:function onClick(e){return _this.handleSend(e)}})))}}]),VerdocsSend}();VerdocsSend.style='verdocs-send{display:-ms-flexbox;display:flex;padding:10px;position:relative;background:#ffffff;-ms-flex-direction:column;flex-direction:column;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-send .recipients{position:relative}verdocs-send .left-line{top:32px;left:20px;z-index:1;width:12px;bottom:30px;position:absolute;background:#ffffff;border-left:3px dotted #9b9b9b}verdocs-send .level{display:-ms-flexbox;display:flex;-webkit-column-gap:10px;-moz-column-gap:10px;column-gap:10px;margin-left:50px;position:relative;-ms-flex-direction:row;flex-direction:row;padding:8px 0 4px 0;border-bottom:1px solid #97979744}verdocs-send .level .level-icon{top:14px;z-index:2;left:-40px;width:24px;height:24px;position:absolute;background:#ffffff}verdocs-send .level .level-icon svg{fill:#00000089}verdocs-send .level .recipient{height:30px;display:-ms-flexbox;display:flex;-ms-flex:0 0 30px;flex:0 0 30px;color:#000000;cursor:pointer;font-size:14px;-ms-flex-align:center;align-items:center;border-radius:30px;-ms-flex-direction:row;flex-direction:row;background:#dddddd;white-space:nowrap;padding:2px 10px 2px 14px}verdocs-send .level .recipient .icon{width:22px;height:22px;-ms-flex:0 0 22px;flex:0 0 22px;margin:0 0 0 10px}verdocs-send .level .recipient .icon svg{width:22px;height:22px;fill:#333333;outline:none}verdocs-send .level .complete{-ms-flex:1;flex:1;height:30px;display:-ms-flexbox;display:flex;color:#000000;font-size:14px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;padding:3px 10px 3px 2px}verdocs-send .buttons{display:-ms-flexbox;display:flex;margin-top:10px;-webkit-column-gap:15px;-moz-column-gap:15px;column-gap:15px;-ms-flex-direction:row;flex-direction:row}verdocs-send verdocs-contact-picker{left:0;top:41px;z-index:10;position:absolute;border:1px solid #dddddd;-webkit-box-shadow:0 0 6px 3px rgba(0, 0, 0, 0.1);box-shadow:0 0 6px 3px rgba(0, 0, 0, 0.1)}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS9Db2xvcnMtMWIyOTgwOTIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vVGVtcGxhdGVzLTA2MzhiMWU0LmpzIiwid2VicGFjazovLy8uL2Rpc3QvZXNtL1ZhbGlkYXRvcnMtZjExMGJhZTIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9lc20vdmVyZG9jcy1zZW5kLmVudHJ5LmpzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJnZXRUZW1wbGF0ZXMiLCJlbmRwb2ludCIsInBhcmFtcyIsImFwaSIsInBvc3QiLCJ0aGVuIiwiciIsImRhdGEiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlSWQiLCJzc3IiLCJnZXQiLCJjb25jYXQiLCJjcmVhdGVUZW1wbGF0ZSIsIkVNQUlMX1JFR0VYIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJ0ZXN0IiwiUEhPTkVfUkVHRVgiLCJpc1ZhbGlkUGhvbmUiLCJwaG9uZSIsImkiLCJWZXJkb2NzU2VuZCIsImhvc3RSZWYiLCJyZWdpc3Rlckluc3RhbmNlIiwidGhpcyIsInNlbmQiLCJjcmVhdGVFdmVudCIsImNhbmNlbCIsInNka0Vycm9yIiwibGV2ZWxzIiwiVmVyZG9jc0VuZHBvaW50IiwiZ2V0RGVmYXVsdCIsInRlbXBsYXRlIiwicGRmVXJsIiwiY29udGFpbmVySWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJyb2xlc0F0TGV2ZWwiLCJzaG93UGlja2VyRm9ySWQiLCJzZXNzaW9uQ29udGFjdHMiLCJyZWNpcGllbnRzQXNzaWduZWQiLCJsb2FkU2Vzc2lvbiIsInJlc3VsdCIsIl9hIiwic2Vzc2lvbiIsInByb2ZpbGUiLCJwdXNoIiwiaWQiLCJuYW1lIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImNvbnNvbGUiLCJsb2ciLCJyb2xlcyIsImZvckVhY2giLCJyb2xlIiwibGV2ZWwiLCJzZXF1ZW5jZSIsImxlbmd0aCIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJsZXZlbFN0ciIsInNvcnQiLCJhIiwiYiIsImdldExldmVsSWNvbiIsImgiLCJjbGFzcyIsImlubmVySFRNTCIsImhhbmRsZVNlbGVjdENvbnRhY3QiLCJlIiwicHJldmVudERlZmF1bHQiLCJkZXRhaWwiLCJoYW5kbGVDbGlja1JvbGUiLCJzdG9wUHJvcGFnYXRpb24iLCJoYW5kbGVTZW5kIiwiZW1pdCIsInZhbHVlcyIsImhhbmRsZUNhbmNlbCIsInJlbmRlciIsIl9iIiwiX2MiLCJyb2xlTmFtZXMiLCJhbGxSZWNpcGllbnRzQXNzaWduZWQiLCJmaWx0ZXIiLCJyZWNpcGllbnQiLCJIb3N0Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRSb2xlSW5kZXgiLCJvbkNsaWNrIiwiZnVsbF9uYW1lIiwib25DYW5jZWwiLCJvbk5leHQiLCJjb250YWN0U3VnZ2VzdGlvbnMiLCJ0ZW1wbGF0ZVJvbGUiLCJvblNlYXJjaENvbnRhY3RzIiwibGFiZWwiLCJzaXplIiwidmFyaWFudCIsImRpc2FibGVkIl0sIm1hcHBpbmdzIjoiO2dLQU1BLFNBQVNBLFFBQVFDLFdBQ2IsT0FBUUEsVUFBWSxJQUNoQixLQUFLLEVBQ0QsT0FBcUIsSUFBZEEsVUFBa0IseUJBQTJCLDJCQUN4RCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTywwQkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxRQUNJLE1BQU8sMkJBRW5CLENBL0JBLDJFLDJHQ0FBLG9QQWtCQSxJQUFJQyxhQUFlLFNBQWZBLGFBQXlCQyxTQUFVQyxRQUNuQyxPQUFPRCxTQUFTRSxJQUNYQyxLQUFLLGFBQWMsQ0FBRUYsT0FBUUEsU0FDN0JHLE1BQUssU0FBVUMsR0FBSyxPQUFPQSxFQUFF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UUFBU0MsUUFBUyxVQUFXVCxRQUFTLGlCQUFBcEIsR0FBQyxPQUFJLE1BQUtRLGFBQWFSLEVBQUUsSUFBS0osMkRBQUUsaUJBQWtCLENBQUUrQixNQUFPLE9BQVFDLEtBQU0sUUFBU0UsVUFBV2pCLHNCQUF1Qk8sUUFBUyxpQkFBQXBCLEdBQUMsT0FBSSxNQUFLSyxXQUFXTCxFQUFFLEtBQ3RaLEtBQUMsWUF0R2MsR0F3R2pCcEQsWUFBWXFFLE1BOUdXLHM2RCIsImZpbGUiOiIyNS41YzlhYThiZS5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHaXZlbiBhIGByZ2JhKHIsZyxiLGEpYCBzdHJpbmcgdmFsdWUsIHJldHVybnMgdGhlIGhleCBlcXVpdmFsZW50LCBkcm9wcGluZyB0aGUgYWxwaGEgY2hhbm5lbC5cbiAqL1xuLyoqXG4gKiBHaXZlbiBhIHNpZ25lciByb2xlIGluZGV4LCByZXR1cm4gdGhlIGNvbG9yIGNvZGUgZm9yIHRoYXQgc2lnbmVyLlxuICovXG5mdW5jdGlvbiBnZXRSR0JBKHJvbGVJbmRleCkge1xuICAgIHN3aXRjaCAocm9sZUluZGV4ICUgMTApIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJbmRleCA9PT0gMCA/ICdyZ2JhKDI1NSwgMTkzLCA3LCAwLjQpJyA6ICdyZ2JhKDEzNCwgMTM0LCAxMzQsIDAuMyknOyAvLyAjRkZFNjlDXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxNTYsIDM5LCAxNzYsIC40KSc7IC8vICcjRTNDM0U5J1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMzMsIDE1MCwgMjQzLCAuNCknOyAvLyAnI0MxRTFGQidcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyMCwgMjMxLCAxMTcsIDAuMyknO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTIxLCAxMzQsIDIwMywgMC4zKSc7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg3NywgMTgyLCAxNzIsIDAuMyknO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyMDIsIDE2NSwgMC4zKSc7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyLCAyNDcsIDE5MCwgMC4zKSc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDEzOCwgMTAxLCAwLjMpJztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDgyLCAyNTUsIDc5LCAwLjMpJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjksIDExNSwgMTU1LCAwLjMpJztcbiAgICB9XG59XG5cbmV4cG9ydCB7IGdldFJHQkEgYXMgZyB9O1xuIiwiLyoqXG4gKiBBIFRlbXBsYXRlIGRlZmluZXMgaG93IGEgVmVyZG9jcyBzaWduaW5nIGZsb3cgd2lsbCBiZSBwZXJmb3JtZWQsIGluY2x1ZGluZyBhdHRhY2htZW50cywgc2lnbmluZyBmaWVsZHMsIGFuZFxuICogcmVjaXBpZW50cy5cbiAqXG4gKiBAbW9kdWxlXG4gKi9cbi8qKlxuICogR2V0IGFsbCB0ZW1wbGF0ZXMgYWNjZXNzaWJsZSBieSB0aGUgY2FsbGVyLCB3aXRoIG9wdGlvbmFsIGZpbHRlcnMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCkpO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19zdGFycmVkOiB0cnVlIH0pO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19jcmVhdG9yOiB0cnVlIH0pO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgeyBpc19vcmdhbml6YXRpb246IHRydWUgfSk7XG4gKiBgYGBcbiAqL1xudmFyIGdldFRlbXBsYXRlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcycsIHsgcGFyYW1zOiBwYXJhbXMgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb25lIHRlbXBsYXRlIGJ5IGl0cyBJRC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG52YXIgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIHNzcikge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQpICsgKHNzciA/ICc/c3NyPXRydWUnIDogJycpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIENyZWF0ZSBhIHRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCBuZXdUZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5jcmVhdGVUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgey4uLn0pO1xuICogYGBgXG4gKi9cbnZhciBjcmVhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcy8nLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcblxuZXhwb3J0IHsgZ2V0VGVtcGxhdGVzIGFzIGEsIGNyZWF0ZVRlbXBsYXRlIGFzIGMsIGdldFRlbXBsYXRlIGFzIGcgfTtcbiIsIi8qKlxuICogR2V0IGFsbCBkZWZpbmVkIHZhbGlkYXRvcnNcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0RvY3VtZW50c30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgRG9jdW1lbnRzLmdldERvY3VtZW50cyh0ZW1wbGF0ZUlEKTtcbiAqIGBgYFxuICovXG52YXIgRU1BSUxfUkVHRVggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbnZhciBpc1ZhbGlkRW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHsgcmV0dXJuICEhZW1haWwgJiYgRU1BSUxfUkVHRVgudGVzdChlbWFpbCk7IH07XG4vLyBAc2VlIGh0dHBzOi8vd3d3LnJlZ2V4dGVzdGVyLmNvbS8xOTc4XG52YXIgUEhPTkVfUkVHRVggPSAvKCg/OlxcK3wwMClbMTddKD86IHxcXC0pP3woPzpcXCt8MDApWzEtOV1cXGR7MCwyfSg/OiB8XFwtKT98KD86XFwrfDAwKTFcXC1cXGR7M30oPzogfFxcLSk/KT8oMFxcZHxcXChbMC05XXszfVxcKXxbMS05XXswLDN9KSg/OigoPzogfFxcLSlbMC05XXsyfSl7NH18KCg/OlswLTldezJ9KXs0fSl8KCg/OiB8XFwtKVswLTldezN9KD86IHxcXC0pWzAtOV17NH0pfChbMC05XXs3fSkpLztcbnZhciBpc1ZhbGlkUGhvbmUgPSBmdW5jdGlvbiAocGhvbmUpIHsgcmV0dXJuICEhcGhvbmUgJiYgUEhPTkVfUkVHRVgudGVzdChwaG9uZSk7IH07XG5cbmV4cG9ydCB7IGlzVmFsaWRQaG9uZSBhcyBhLCBpc1ZhbGlkRW1haWwgYXMgaSB9O1xuIiwiaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBIIGFzIEhvc3QgfSBmcm9tICcuL2luZGV4LWY3OGQxNjNkLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0VGVtcGxhdGUgfSBmcm9tICcuL1RlbXBsYXRlcy0wNjM4YjFlNC5qcyc7XG5pbXBvcnQgJy4vVHlwZXMtYWI5ZjZhZjguanMnO1xuaW1wb3J0IHsgaSBhcyBpc1ZhbGlkRW1haWwsIGEgYXMgaXNWYWxpZFBob25lIH0gZnJvbSAnLi9WYWxpZGF0b3JzLWYxMTBiYWUyLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0UkdCQSB9IGZyb20gJy4vQ29sb3JzLTFiMjk4MDkyLmpzJztcbmltcG9ydCB7IFYgYXMgVmVyZG9jc0VuZHBvaW50IH0gZnJvbSAnLi9WZXJkb2NzRW5kcG9pbnQtNmRmMzJkM2EuanMnO1xuaW1wb3J0IHsgYSBhcyBnZXRSb2xlSW5kZXggfSBmcm9tICcuL3V0aWxzLTNkOTVjNTg4LmpzJztcbmltcG9ydCAnLi9Ub2tlbi01NDY5MDc4OS5qcyc7XG5pbXBvcnQgJy4vRW52ZWxvcGVzLTEzMGZkNmVhLmpzJztcbmltcG9ydCAnLi9GaWxlcy03MGExOTJkZi5qcyc7XG5cbmNvbnN0IHZlcmRvY3NTZW5kQ3NzID0gXCJ2ZXJkb2NzLXNlbmR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzoxMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQ6I2ZmZmZmZjstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmb250LWZhbWlseTpcXFwiSW50ZXJcXFwiLCAtYXBwbGUtc3lzdGVtLCBcXFwiU2Vnb2UgVUlcXFwiLCBcXFwiUm9ib3RvXFxcIiwgXFxcIkhlbHZldGljYSBOZXVlXFxcIiwgc2Fucy1zZXJpZn12ZXJkb2NzLXNlbmQgLnJlY2lwaWVudHN7cG9zaXRpb246cmVsYXRpdmV9dmVyZG9jcy1zZW5kIC5sZWZ0LWxpbmV7dG9wOjMycHg7bGVmdDoyMHB4O3otaW5kZXg6MTt3aWR0aDoxMnB4O2JvdHRvbTozMHB4O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6I2ZmZmZmZjtib3JkZXItbGVmdDozcHggZG90dGVkICM5YjliOWJ9dmVyZG9jcy1zZW5kIC5sZXZlbHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWNvbHVtbi1nYXA6MTBweDstbW96LWNvbHVtbi1nYXA6MTBweDtjb2x1bW4tZ2FwOjEwcHg7bWFyZ2luLWxlZnQ6NTBweDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdztwYWRkaW5nOjhweCAwIDRweCAwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM5Nzk3OTc0NH12ZXJkb2NzLXNlbmQgLmxldmVsIC5sZXZlbC1pY29ue3RvcDoxNHB4O3otaW5kZXg6MjtsZWZ0Oi00MHB4O3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDojZmZmZmZmfXZlcmRvY3Mtc2VuZCAubGV2ZWwgLmxldmVsLWljb24gc3Zne2ZpbGw6IzAwMDAwMDg5fXZlcmRvY3Mtc2VuZCAubGV2ZWwgLnJlY2lwaWVudHtoZWlnaHQ6MzBweDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleDowIDAgMzBweDtmbGV4OjAgMCAzMHB4O2NvbG9yOiMwMDAwMDA7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjE0cHg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXItcmFkaXVzOjMwcHg7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7YmFja2dyb3VuZDojZGRkZGRkO3doaXRlLXNwYWNlOm5vd3JhcDtwYWRkaW5nOjJweCAxMHB4IDJweCAxNHB4fXZlcmRvY3Mtc2VuZCAubGV2ZWwgLnJlY2lwaWVudCAuaWNvbnt3aWR0aDoyMnB4O2hlaWdodDoyMnB4Oy1tcy1mbGV4OjAgMCAyMnB4O2ZsZXg6MCAwIDIycHg7bWFyZ2luOjAgMCAwIDEwcHh9dmVyZG9jcy1zZW5kIC5sZXZlbCAucmVjaXBpZW50IC5pY29uIHN2Z3t3aWR0aDoyMnB4O2hlaWdodDoyMnB4O2ZpbGw6IzMzMzMzMztvdXRsaW5lOm5vbmV9dmVyZG9jcy1zZW5kIC5sZXZlbCAuY29tcGxldGV7LW1zLWZsZXg6MTtmbGV4OjE7aGVpZ2h0OjMwcHg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7Y29sb3I6IzAwMDAwMDtmb250LXNpemU6MTRweDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O3BhZGRpbmc6M3B4IDEwcHggM3B4IDJweH12ZXJkb2NzLXNlbmQgLmJ1dHRvbnN7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7bWFyZ2luLXRvcDoxMHB4Oy13ZWJraXQtY29sdW1uLWdhcDoxNXB4Oy1tb3otY29sdW1uLWdhcDoxNXB4O2NvbHVtbi1nYXA6MTVweDstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvd312ZXJkb2NzLXNlbmQgdmVyZG9jcy1jb250YWN0LXBpY2tlcntsZWZ0OjA7dG9wOjQxcHg7ei1pbmRleDoxMDtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MXB4IHNvbGlkICNkZGRkZGQ7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCA2cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xKTtib3gtc2hhZG93OjAgMCA2cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xKX1cIjtcblxuY29uc3QgZWRpdEljb24gPSAnPHN2ZyBmb2N1c2FibGU9XCJmYWxzZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB0YWJpbmRleD1cIi0xXCI+PHBhdGggZD1cIk0zIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1TDMgMTcuMjV6TTIwLjcxIDcuMDRjLjM5LS4zOS4zOS0xLjAyIDAtMS40MWwtMi4zNC0yLjM0YS45OTU5Ljk5NTkgMCAwIDAtMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3pcIj48L3BhdGg+PC9zdmc+JztcbmNvbnN0IHN0YXJ0SWNvbiA9ICc8c3ZnIGZvY3VzYWJsZT1cImZhbHNlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHRhYmluZGV4PVwiLTFcIj48cGF0aCBkPVwiTTIgMTJDMiA2LjQ4IDYuNDggMiAxMiAyczEwIDQuNDggMTAgMTAtNC40OCAxMC0xMCAxMFMyIDE3LjUyIDIgMTJ6bTEwIDZjMy4zMSAwIDYtMi42OSA2LTZzLTIuNjktNi02LTYtNiAyLjY5LTYgNiAyLjY5IDYgNiA2elwiPjwvcGF0aD48L3N2Zz4nO1xuY29uc3Qgc3RlcEljb24gPSAnPHN2ZyBmb2N1c2FibGU9XCJmYWxzZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB0YWJpbmRleD1cIi0xXCI+PHBhdGggZD1cIk0xMiAyQzguMTMgMiA1IDUuMTMgNSA5YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjg3LTMuMTMtNy03LTd6bTAgOS41Yy0xLjM4IDAtMi41LTEuMTItMi41LTIuNXMxLjEyLTIuNSAyLjUtMi41IDIuNSAxLjEyIDIuNSAyLjUtMS4xMiAyLjUtMi41IDIuNXpcIj48L3BhdGg+PC9zdmc+JztcbmNvbnN0IGRvbmVJY29uID0gJzxzdmcgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgdGFiaW5kZXg9XCItMVwiPjxwYXRoIGQ9XCJtMTggNy0xLjQxLTEuNDEtNi4zNCA2LjM0IDEuNDEgMS40MUwxOCA3em00LjI0LTEuNDFMMTEuNjYgMTYuMTcgNy40OCAxMmwtMS40MSAxLjQxTDExLjY2IDE5bDEyLTEyLTEuNDItMS40MXpNLjQxIDEzLjQxIDYgMTlsMS40MS0xLjQxTDEuODMgMTIgLjQxIDEzLjQxelwiPjwvcGF0aD48L3N2Zz4nO1xuY29uc3QgVmVyZG9jc1NlbmQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuc2VuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwic2VuZFwiLCA3KTtcbiAgICB0aGlzLmNhbmNlbCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FuY2VsXCIsIDcpO1xuICAgIHRoaXMuc2RrRXJyb3IgPSBjcmVhdGVFdmVudCh0aGlzLCBcInNka0Vycm9yXCIsIDcpO1xuICAgIHRoaXMubGV2ZWxzID0gW107XG4gICAgdGhpcy5lbmRwb2ludCA9IFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCk7XG4gICAgdGhpcy50ZW1wbGF0ZUlkID0gbnVsbDtcbiAgICB0aGlzLnRlbXBsYXRlID0gbnVsbDtcbiAgICB0aGlzLnBkZlVybCA9IG51bGw7XG4gICAgdGhpcy5jb250YWluZXJJZCA9IGB2ZXJkb2NzLXNlbmQtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpfWA7XG4gICAgdGhpcy5yb2xlc0F0TGV2ZWwgPSB7fTtcbiAgICB0aGlzLnNob3dQaWNrZXJGb3JJZCA9ICcnO1xuICAgIHRoaXMuc2Vzc2lvbkNvbnRhY3RzID0gW107XG4gICAgdGhpcy5yZWNpcGllbnRzQXNzaWduZWQgPSB7fTtcbiAgfVxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5zZXNzaW9uQ29udGFjdHMgPSBbXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5lbmRwb2ludC5sb2FkU2Vzc2lvbigpO1xuICAgICAgaWYgKChfYSA9IHJlc3VsdC5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvZmlsZSkge1xuICAgICAgICB0aGlzLnNlc3Npb25Db250YWN0cy5wdXNoKHtcbiAgICAgICAgICBpZDogcmVzdWx0LnNlc3Npb24ucHJvZmlsZS5pZCxcbiAgICAgICAgICBuYW1lOiBgJHtyZXN1bHQuc2Vzc2lvbi5wcm9maWxlLmZpcnN0X25hbWV9ICR7cmVzdWx0LnNlc3Npb24ucHJvZmlsZS5sYXN0X25hbWV9YCxcbiAgICAgICAgICBlbWFpbDogcmVzdWx0LnNlc3Npb24ucHJvZmlsZS5lbWFpbCxcbiAgICAgICAgICBwaG9uZTogcmVzdWx0LnNlc3Npb24ucHJvZmlsZS5waG9uZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3IgbG9hZGluZyBzZXNzaW9uJywgZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ1tTRU5EXSBTaG93aW5nIHRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZUlkKTtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFtTRU5EXSBMb2FkaW5nIHRlbXBsYXRlICR7dGhpcy50ZW1wbGF0ZUlkfWApO1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBnZXRUZW1wbGF0ZSh0aGlzLmVuZHBvaW50LCB0aGlzLnRlbXBsYXRlSWQpO1xuICAgICAgY29uc29sZS5sb2coJ1tTRU5EXSBHb3QgdGVtcGxhdGUnLCB0ZW1wbGF0ZSk7XG4gICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUgPT09IG51bGwgfHwgdGVtcGxhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRlbXBsYXRlLnJvbGVzKSB7XG4gICAgICAgIGNvbnN0IHJvbGVzQXRMZXZlbCA9IHt9O1xuICAgICAgICB0ZW1wbGF0ZS5yb2xlcy5mb3JFYWNoKHJvbGUgPT4ge1xuICAgICAgICAgIGNvbnN0IGxldmVsID0gcm9sZS5zZXF1ZW5jZSAtIDE7XG4gICAgICAgICAgcm9sZXNBdExldmVsW2xldmVsXSB8fCAocm9sZXNBdExldmVsW2xldmVsXSA9IFtdKTtcbiAgICAgICAgICBjb25zdCBpZCA9IGByLSR7bGV2ZWx9LSR7cm9sZXNBdExldmVsW2xldmVsXS5sZW5ndGh9YDtcbiAgICAgICAgICByb2xlc0F0TGV2ZWxbbGV2ZWxdLnB1c2goeyAuLi5yb2xlLCBpZCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm9sZXNBdExldmVsID0gcm9sZXNBdExldmVsO1xuICAgICAgICB0aGlzLmxldmVscyA9IE9iamVjdC5rZXlzKHJvbGVzQXRMZXZlbCkubWFwKGxldmVsU3RyID0+ICtsZXZlbFN0cik7XG4gICAgICAgIHRoaXMubGV2ZWxzLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbU0VORF0gRXJyb3IgZ2V0dGluZyB0ZW1wbGF0ZScsIGUpO1xuICAgIH1cbiAgfVxuICBnZXRMZXZlbEljb24obGV2ZWwpIHtcbiAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcImxldmVsLWljb25cIiwgaW5uZXJIVE1MOiBzdGFydEljb24gfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxldmVsID49IHRoaXMubGV2ZWxzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBjbGFzczogXCJsZXZlbC1pY29uXCIsIGlubmVySFRNTDogZG9uZUljb24gfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBjbGFzczogXCJsZXZlbC1pY29uXCIsIGlubmVySFRNTDogc3RlcEljb24gfSk7XG4gICAgfVxuICB9XG4gIGhhbmRsZVNlbGVjdENvbnRhY3QoZSwgcm9sZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnJlY2lwaWVudHNBc3NpZ25lZFtyb2xlLmlkXSA9IHsgLi4ucm9sZSwgLi4uZS5kZXRhaWwgfTtcbiAgICB0aGlzLnNob3dQaWNrZXJGb3JJZCA9ICcnO1xuICB9XG4gIGhhbmRsZUNsaWNrUm9sZShlLCByb2xlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNob3dQaWNrZXJGb3JJZCA9IHJvbGUuaWQ7XG4gIH1cbiAgaGFuZGxlU2VuZChlKSB7XG4gICAgdmFyIF9hO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgKF9hID0gdGhpcy5zZW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCh7IHJlY2lwaWVudHNBc3NpZ25lZDogT2JqZWN0LnZhbHVlcyh0aGlzLnJlY2lwaWVudHNBc3NpZ25lZCkgfSk7XG4gIH1cbiAgaGFuZGxlQ2FuY2VsKGUpIHtcbiAgICB2YXIgX2E7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAoX2EgPSB0aGlzLmNhbmNlbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3Qgcm9sZU5hbWVzID0gKChfYiA9IChfYSA9IHRoaXMudGVtcGxhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yb2xlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1hcChyb2xlID0+IHJvbGUubmFtZSkpIHx8IFtdO1xuICAgIGNvbnN0IGFsbFJlY2lwaWVudHNBc3NpZ25lZCA9IE9iamVjdC52YWx1ZXModGhpcy5yZWNpcGllbnRzQXNzaWduZWQpLmZpbHRlcihyZWNpcGllbnQgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3ZhbGlkIGVtYWlsJywgaXNWYWxpZEVtYWlsKHJlY2lwaWVudC5lbWFpbCksIHJlY2lwaWVudC5lbWFpbCk7XG4gICAgICBjb25zb2xlLmxvZygndmFsaWQgcGhvbmUnLCBpc1ZhbGlkUGhvbmUocmVjaXBpZW50LnBob25lKSwgcmVjaXBpZW50LnBob25lKTtcbiAgICAgIHJldHVybiBpc1ZhbGlkRW1haWwocmVjaXBpZW50LmVtYWlsKSB8fCBpc1ZhbGlkUGhvbmUocmVjaXBpZW50LnBob25lKTtcbiAgICB9KS5sZW5ndGggPj0gKChfYyA9IHRoaXMudGVtcGxhdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yb2xlcy5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCdhc3NpZ25lZCcsIGFsbFJlY2lwaWVudHNBc3NpZ25lZCk7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgY2xhc3M6IHt9IH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyZWNpcGllbnRzXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImxlZnQtbGluZVwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IGBsZXZlbCBsZXZlbC1zdGFydGAgfSwgdGhpcy5nZXRMZXZlbEljb24oLTEpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29tcGxldGVcIiB9LCBcIlNlbmQgRG9jdW1lbnRcIikpLCB0aGlzLmxldmVscy5tYXAobGV2ZWwgPT4gKGgoXCJkaXZcIiwgeyBjbGFzczogYGxldmVsIGxldmVsLSR7bGV2ZWx9YCB9LCB0aGlzLmdldExldmVsSWNvbihsZXZlbCksIHRoaXMucm9sZXNBdExldmVsW2xldmVsXS5tYXAocm9sZSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInJlY2lwaWVudFwiLCBzdHlsZTogeyBiYWNrZ3JvdW5kQ29sb3I6IGdldFJHQkEoZ2V0Um9sZUluZGV4KHJvbGVOYW1lcywgcm9sZS5uYW1lKSkgfSwgb25DbGljazogZSA9PiB0aGlzLmhhbmRsZUNsaWNrUm9sZShlLCByb2xlKSB9LCAoX2IgPSAoX2EgPSB0aGlzLnJlY2lwaWVudHNBc3NpZ25lZFtyb2xlLmlkXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZ1bGxfbmFtZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogcm9sZS5uYW1lLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaWNvblwiLCBpbm5lckhUTUw6IGVkaXRJY29uIH0pLCB0aGlzLnNob3dQaWNrZXJGb3JJZCA9PT0gcm9sZS5pZCAmJiAoaChcInZlcmRvY3MtY29udGFjdC1waWNrZXJcIiwgeyBvbkNhbmNlbDogKCkgPT4gKHRoaXMuc2hvd1BpY2tlckZvcklkID0gJycpLCBvbk5leHQ6IGUgPT4gdGhpcy5oYW5kbGVTZWxlY3RDb250YWN0KGUsIHJvbGUpLCBjb250YWN0U3VnZ2VzdGlvbnM6IHRoaXMuc2Vzc2lvbkNvbnRhY3RzLCB0ZW1wbGF0ZVJvbGU6IChfYyA9IHRoaXMucmVjaXBpZW50c0Fzc2lnbmVkW3JvbGUuaWRdKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiByb2xlLCBvblNlYXJjaENvbnRhY3RzOiBlID0+IGNvbnNvbGUubG9nKCdTZWFyY2gnLCBlLmRldGFpbCkgfSkpKSk7XG4gICAgfSkpKSksIGgoXCJkaXZcIiwgeyBjbGFzczogYGxldmVsIGxldmVsLWRvbmVgIH0sIHRoaXMuZ2V0TGV2ZWxJY29uKHRoaXMubGV2ZWxzLmxlbmd0aCksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJjb21wbGV0ZVwiIH0sIFwiRG9jdW1lbnQgQ29tcGxldGVcIikpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImJ1dHRvbnNcIiB9LCBoKFwidmVyZG9jcy1idXR0b25cIiwgeyBsYWJlbDogXCJDYW5jZWxcIiwgc2l6ZTogXCJzbWFsbFwiLCB2YXJpYW50OiBcIm91dGxpbmVcIiwgb25DbGljazogZSA9PiB0aGlzLmhhbmRsZUNhbmNlbChlKSB9KSwgaChcInZlcmRvY3MtYnV0dG9uXCIsIHsgbGFiZWw6IFwiU2VuZFwiLCBzaXplOiBcInNtYWxsXCIsIGRpc2FibGVkOiAhYWxsUmVjaXBpZW50c0Fzc2lnbmVkLCBvbkNsaWNrOiBlID0+IHRoaXMuaGFuZGxlU2VuZChlKSB9KSkpKTtcbiAgfVxufTtcblZlcmRvY3NTZW5kLnN0eWxlID0gdmVyZG9jc1NlbmRDc3M7XG5cbmV4cG9ydCB7IFZlcmRvY3NTZW5kIGFzIHZlcmRvY3Nfc2VuZCB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==