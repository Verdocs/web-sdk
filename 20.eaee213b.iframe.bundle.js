/*! For license information please see 20.eaee213b.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./dist/esm/Templates-22116158.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.get("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId){return endpoint.api.get("/templates/".concat(templateId)).then((function(r){return r.data}))}},"./dist/esm/verdocs-quick-functions_3.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_quick_functions",(function(){return VerdocsQuickFunctions})),__webpack_require__.d(__webpack_exports__,"verdocs_search_activity",(function(){return VerdocsSearchActivity})),__webpack_require__.d(__webpack_exports__,"verdocs_search_box",(function(){return VerdocsSearchBox}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./dist/esm/index-43893f54.js"),_VerdocsEndpoint_9db225a3_js__WEBPACK_IMPORTED_MODULE_25__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-9db225a3.js")),_Templates_22116158_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./dist/esm/Templates-22116158.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},getSearchHistory=function getSearchHistory(endpoint){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/search/history").then((function(r){return r.data}))]}))}))},VerdocsQuickFunctions=function(){function VerdocsQuickFunctions(hostRef){_classCallCheck(this,VerdocsQuickFunctions),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.h)(this,hostRef),this.createTemplate=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.d)(this,"createTemplate",7),this.createDocument=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.d)(this,"createDocument",7),this.endpoint=_VerdocsEndpoint_9db225a3_js__WEBPACK_IMPORTED_MODULE_25__.a.getDefault()}return _createClass(VerdocsQuickFunctions,[{key:"handleCreateTemplate",value:function handleCreateTemplate(){this.createTemplate.emit()}},{key:"handleCreateDocument",value:function handleCreateDocument(){this.createDocument.emit()}},{key:"render",value:function render(){var _this=this;return Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"container"},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("p",{class:"title"},"Quick Create"),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("button",{onClick:function onClick(){return _this.handleCreateTemplate()},innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/><g><path d="M19,5v14H5V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3L19,3z"/></g><path d="M14,17H7v-2h7V17z M17,13H7v-2h10V13z M17,9H7V7h10V9z"/></g></svg>'},"Template"),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("button",{onClick:function onClick(){return _this.handleCreateDocument()},innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/></svg>'},"Document"))}}]),VerdocsQuickFunctions}();VerdocsQuickFunctions.style='verdocs-quick-functions{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-quick-functions .container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;width:240px;background-color:#1e2031;text-transform:uppercase;padding:10px 10px 20px 10px;font-family:sans-serif;color:#ffffff}verdocs-quick-functions .title{font-size:22px;font-weight:700;line-height:30px;margin:1em 0 40px 0}verdocs-quick-functions button{width:140px;height:40px;border:none;display:-ms-flexbox;display:flex;color:#ffffff;cursor:pointer;font-size:14px;font-weight:700;line-height:25px;-ms-flex-align:center;align-items:center;margin-bottom:20px;border-radius:5px;text-transform:uppercase;-ms-flex-pack:space-evenly;justify-content:space-evenly;background-color:#55bc81}verdocs-quick-functions button svg{fill:#ffffff}';var DocumentIcon='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/></svg>',VerdocsSearchActivity=function(){function VerdocsSearchActivity(hostRef){_classCallCheck(this,VerdocsSearchActivity),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.h)(this,hostRef),this.entrySelected=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.d)(this,"entrySelected",7),this.endpoint=_VerdocsEndpoint_9db225a3_js__WEBPACK_IMPORTED_MODULE_25__.a.getDefault(),this.type="recent",this.emptyMessage="You do not have any starred searches.",this.authFailure=!1,this.title="Recent Searches",this.recent=[],this.saved=[],this.starred=[]}return _createClass(VerdocsSearchActivity,[{key:"componentWillLoad",value:function componentWillLoad(){var _this2=this;this.endpoint.loadSession();var errorHandler=function errorHandler(e){var _a;console.warn("[Verdocs/search-activity] Error getting search data",e),401===(null===(_a=null==e?void 0:e.response)||void 0===_a?void 0:_a.status)&&(_this2.authFailure=!0)};switch(this.type){case"recent":this.title="Recent Searches",this.emptyMessage="You do not have any recent searches.",getSearchHistory(this.endpoint).then((function(r){return _this2.recent=r.recent})).catch(errorHandler);break;case"saved":this.title="Saved Searches",this.emptyMessage="You do not have any saved searches.",getSearchHistory(this.endpoint).then((function(r){return _this2.saved=r.saved})).catch(errorHandler);break;case"starred":this.title="My Starred items",this.emptyMessage="You do not have any starred templates.",Object(_Templates_22116158_js__WEBPACK_IMPORTED_MODULE_26__.a)(this.endpoint,{is_starred:!0}).then((function(r){return _this2.starred=r})).catch(errorHandler)}}},{key:"handleSelectEntry",value:function handleSelectEntry(entry){this.entrySelected.emit(entry)}},{key:"computePagesText",value:function computePagesText(pages){return pages<2?pages+" Page":pages+" Pages"}},{key:"computeRecipientsText",value:function computeRecipientsText(recipients){return"object"==typeof recipients?recipients.join(", "):recipients>1?recipients+" Recipients":recipients+" Recipient"}},{key:"render",value:function render(){var _this3=this,showEmpty=this.recent.length<1&&this.saved.length<1&&this.starred.length<1;return Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"container"},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("p",{class:"title"},this.title),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"items"},this.recent.map((function(recent){return Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("button",{class:"item",onClick:function onClick(){return _this3.handleSelectEntry(recent)}},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"icon",innerHTML:DocumentIcon}),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"details"},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"item-title"},recent.params.q),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"info"},"Test")))})),this.saved.map((function(option){return Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("button",{class:"item",onClick:function onClick(){return _this3.handleSelectEntry(option)}},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"icon",innerHTML:DocumentIcon}),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"details"},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"item-title"},option.params.q),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"info"})))})),showEmpty&&Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("div",{class:"empty"},this.authFailure?"Authentication required":this.emptyMessage)))}}]),VerdocsSearchActivity}();VerdocsSearchActivity.style='verdocs-search-activity{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-search-activity .container{display:-ms-flexbox;display:flex;width:240px;color:#ffffff;-ms-flex-direction:column;flex-direction:column;text-transform:uppercase;padding:10px 10px 20px 10px;background-color:#1e2031}verdocs-search-activity .title{font-size:22px;font-weight:700;line-height:30px}verdocs-search-activity .items{display:-ms-flexbox;display:flex;margin-top:20px;-ms-flex-direction:column;flex-direction:column}verdocs-search-activity .item{border:none;display:-ms-flexbox;display:flex;text-align:left;margin-bottom:20px;-ms-flex-direction:row;flex-direction:row;background:transparent}verdocs-search-activity .item:hover{cursor:pointer}verdocs-search-activity .icon{-ms-flex:0 0 22px;flex:0 0 22px;margin-right:14px}verdocs-search-activity .icon svg{fill:#707ae5;width:22px;height:22px}verdocs-search-activity .details{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-direction:column;flex-direction:column}verdocs-search-activity .item-title{font-size:16px;font-weight:400;color:#ffffff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}verdocs-search-activity .info{font-size:14px;font-weight:500;line-height:23px;color:#aeb4bf}verdocs-search-activity .empty{text-transform:none;line-height:22px;color:#cccccc}';var VerdocsSearchBox=function(){function VerdocsSearchBox(hostRef){_classCallCheck(this,VerdocsSearchBox),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.h)(this,hostRef),this.searchClicked=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.d)(this,"searchClicked",7),this.typeChanged=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.d)(this,"typeChanged",7),this.queryChanged=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.d)(this,"queryChanged",7),this.endpoint=_VerdocsEndpoint_9db225a3_js__WEBPACK_IMPORTED_MODULE_25__.a.getDefault(),this.placeholder="search documents, templates, people...",this.type="all",this.query="",this.grabsFocus=!1}var _focusField;return _createClass(VerdocsSearchBox,[{key:"focusField",value:(_focusField=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.inputEl.focus();case 1:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"componentDidRender",value:function componentDidRender(){this.grabsFocus&&this.inputEl.focus()}},{key:"handleSearch",value:function handleSearch(e){return this.searchClicked.emit({type:this.type,query:this.query}),e.preventDefault(),!1}},{key:"handleChange",value:function handleChange(e){this.queryChanged.emit(e.target.value)}},{key:"handleClearFilter",value:function handleClearFilter(){this.typeChanged.emit("all")}},{key:"handleKeyUp",value:function handleKeyUp(e){"Enter"===e.key&&this.searchClicked.emit({type:this.type,query:this.query})}},{key:"render",value:function render(){var _this4=this;return Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("form",{onSubmit:function onSubmit(e){return _this4.handleSearch(e)}},void 0!==this.type&&"all"!==this.type&&Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("span",{class:"type"},this.type,"s ",Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("button",{class:"remove",innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.0739 11.7565L19.7127 6.23228C20.0875 5.85692 20.0875 5.25309 19.7127 4.87773L19.0213 4.20046C18.6382 3.82511 18.0219 3.82511 17.6387 4.20046L12 9.72472L6.36127 4.20046C5.97814 3.82511 5.36179 3.82511 4.97866 4.20046L4.28735 4.87773C3.90422 5.25309 3.90422 5.85692 4.28735 6.23228L9.92608 11.7565L4.28735 17.2808C3.90422 17.6561 3.90422 18.26 4.28735 18.6353L4.97866 19.3126C5.36179 19.688 5.97814 19.688 6.36127 19.3126L12 13.7883L17.6387 19.3126C18.0219 19.688 18.6382 19.688 19.0213 19.3126L19.7127 18.6353C20.0958 18.26 20.0958 17.6561 19.7127 17.2808L14.0739 11.7565Z" fill="white"/>\n</svg>\n',onClick:function onClick(){return _this4.handleClearFilter()}})),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("input",{type:"text",value:this.query,placeholder:this.placeholder,onInput:function onInput(e){return _this4.handleChange(e)},onKeyUp:function onKeyUp(e){return _this4.handleKeyUp(e)},ref:function ref(el){return _this4.inputEl=el}}),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("button",{onClick:function onClick(e){return _this4.handleSearch(e)},class:"search"},Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_23__.f)("span",{innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M23.4809 20.7176L17.9111 15.2536C19.0961 13.6368 19.727 11.6926 19.7128 9.70131C19.7201 7.53345 18.9846 5.42606 17.6244 3.71753C16.2642 2.009 14.3581 0.798456 12.2123 0.280282C10.0665 -0.237892 7.80552 -0.0336342 5.79227 0.86026C3.77902 1.75415 2.13038 3.28582 1.1111 5.20931C0.0918114 7.1328 -0.238985 9.33652 0.171813 11.4666C0.582612 13.5967 1.71117 15.5296 3.37628 16.9548C5.0414 18.3801 7.14646 19.2151 9.35344 19.3257C11.5604 19.4364 13.7413 18.8162 15.5458 17.5649L21.1372 23.05L21.1563 23.0663C21.4841 23.3487 21.9039 23.507 22.3401 23.5128C22.7823 23.5125 23.2063 23.3402 23.5191 23.0337V23.0337C23.6749 22.8812 23.7979 22.6995 23.8804 22.4993C23.963 22.2991 24.0036 22.0847 23.9997 21.8688C23.9959 21.6529 23.9477 21.44 23.858 21.2428C23.7683 21.0456 23.639 20.8682 23.4778 20.7212L23.4809 20.7176ZM14.5167 14.1975C13.4564 15.2349 12.0623 15.8797 10.5719 16.022C9.08145 16.1644 7.58681 15.7955 6.34249 14.9781C5.09816 14.1608 4.18109 12.9456 3.74751 11.5395C3.31393 10.1334 3.39064 8.6233 3.96455 7.26643C4.53846 5.90955 5.57409 4.7898 6.89507 4.09787C8.21606 3.40594 9.74071 3.18461 11.2093 3.4716C12.678 3.75858 13.9998 4.53612 14.9497 5.6718C15.8996 6.80748 16.4188 8.23105 16.4189 9.7001C16.4196 10.5357 16.2519 11.3632 15.9254 12.135C15.599 12.9069 15.1202 13.6078 14.5167 14.1975V14.1975Z" fill="white"/>\n</svg>\n'}),"Search"))}}]),VerdocsSearchBox}();VerdocsSearchBox.style='verdocs-search-box{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-search-box form{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;height:45px;-webkit-box-sizing:border-box;box-sizing:border-box;margin:5px 0 0;border-radius:5px;-ms-flex-align:center;align-items:center;background-color:#fff;padding:0 8px;border-width:1px;border-style:solid;border-color:#707ae5}verdocs-search-box form input{-webkit-box-sizing:border-box;box-sizing:border-box;height:43px;width:100%;font-size:18px;border:none}verdocs-search-box form input:focus{outline:none}verdocs-search-box form button.search{cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px;border:none;width:100px;height:28px;font-weight:700;font-size:10px;letter-spacing:1px;background-color:#55bc81;text-transform:uppercase;color:#fff}verdocs-search-box form .type{background-color:#707ae5;height:30px;display:-ms-inline-flexbox;display:inline-flex;padding:1px 0 2px 10px;font-size:13px;line-height:16px;border-radius:4px;-ms-flex-pack:center;justify-content:center;text-transform:uppercase;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;color:#fff;margin-right:10px}verdocs-search-box form .type button{border:none;color:#fff;margin:5px 0 0 8px;background:transparent}verdocs-search-box form svg{width:12px;height:12px;margin-right:6px}verdocs-search-box ::-webkit-input-placeholder{color:#aeb4bf}verdocs-search-box ::-moz-placeholder{color:#aeb4bf}verdocs-search-box :-ms-input-placeholder{color:#aeb4bf}verdocs-search-box ::-ms-input-placeholder{color:#aeb4bf}verdocs-search-box ::placeholder{color:#aeb4bf}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVGVtcGxhdGVzLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvQHZlcmRvY3MvanMtc2RrL1NlYXJjaC9Db250ZW50LmpzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy92ZXJkb2NzLXF1aWNrLWZ1bmN0aW9ucy92ZXJkb2NzLXF1aWNrLWZ1bmN0aW9ucy50c3giLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtcXVpY2stZnVuY3Rpb25zL3ZlcmRvY3MtcXVpY2stZnVuY3Rpb25zLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5L3ZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5LnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1zZWFyY2gtYWN0aXZpdHkvdmVyZG9jcy1zZWFyY2gtYWN0aXZpdHkuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1zZWFyY2gtYm94L3ZlcmRvY3Mtc2VhcmNoLWJveC50c3giLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3Mtc2VhcmNoLWJveC92ZXJkb2NzLXNlYXJjaC1ib3guc2NzcyJdLCJuYW1lcyI6WyJnZXRUZW1wbGF0ZXMiLCJlbmRwb2ludCIsInBhcmFtcyIsImFwaSIsImdldCIsInRoZW4iLCJyIiwiZGF0YSIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVJZCIsImNvbmNhdCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJhZG9wdCIsImFwcGx5IiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidGhpcyIsIm4iLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJjYWxsIiwicG9wIiwibGVuZ3RoIiwicHVzaCIsImdldFNlYXJjaEhpc3RvcnkiLCJfYSIsIlZlcmRvY3NRdWlja0Z1bmN0aW9ucyIsIlZlcmRvY3NFbmRwb2ludCIsImdldERlZmF1bHQiLCJoYW5kbGVDcmVhdGVUZW1wbGF0ZSIsImNyZWF0ZVRlbXBsYXRlIiwiZW1pdCIsImhhbmRsZUNyZWF0ZURvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnQiLCJyZW5kZXIiLCJoIiwiY2xhc3MiLCJvbkNsaWNrIiwiaW5uZXJIVE1MIiwiVmVyZG9jc1NlYXJjaEFjdGl2aXR5IiwidHlwZSIsImVtcHR5TWVzc2FnZSIsImF1dGhGYWlsdXJlIiwidGl0bGUiLCJyZWNlbnQiLCJzYXZlZCIsInN0YXJyZWQiLCJjb21wb25lbnRXaWxsTG9hZCIsImxvYWRTZXNzaW9uIiwiZXJyb3JIYW5kbGVyIiwiY29uc29sZSIsIndhcm4iLCJyZXNwb25zZSIsInN0YXR1cyIsImlzX3N0YXJyZWQiLCJoYW5kbGVTZWxlY3RFbnRyeSIsImVudHJ5IiwiZW50cnlTZWxlY3RlZCIsImNvbXB1dGVQYWdlc1RleHQiLCJwYWdlcyIsImNvbXB1dGVSZWNpcGllbnRzVGV4dCIsInJlY2lwaWVudHMiLCJqb2luIiwic2hvd0VtcHR5IiwibWFwIiwiRG9jdW1lbnRJY29uIiwicSIsIm9wdGlvbiIsIlZlcmRvY3NTZWFyY2hCb3giLCJwbGFjZWhvbGRlciIsInF1ZXJ5IiwiZ3JhYnNGb2N1cyIsImlucHV0RWwiLCJmb2N1cyIsImNvbXBvbmVudERpZFJlbmRlciIsImhhbmRsZVNlYXJjaCIsInNlYXJjaENsaWNrZWQiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZUNoYW5nZSIsInF1ZXJ5Q2hhbmdlZCIsInRhcmdldCIsImhhbmRsZUNsZWFyRmlsdGVyIiwidHlwZUNoYW5nZWQiLCJoYW5kbGVLZXlVcCIsImtleSIsIm9uU3VibWl0IiwidW5kZWZpbmVkIiwib25JbnB1dCIsIm9uS2V5VXAiLCJyZWYiLCJlbCJdLCJtYXBwaW5ncyI6IjttS0FBQSxpS0FzRFUsSUFBQ0EsYUFBZSxTQUFmQSxhQUF5QkMsU0FBVUMsUUFDMUMsT0FBT0QsU0FBU0UsSUFDWEMsSUFBSSxhQUFjLENBQUVGLE9BQVFBLFNBQzVCRyxNQUFLLFNBQVVDLEdBQUssT0FBT0EsRUFBRUMsSUFBTyxHQUM3QyxFQVVXQyxZQUFjLFNBQWRBLFlBQXdCUCxTQUFVUSxZQUN6QyxPQUFPUixTQUFTRSxJQUNYQyxJQUFJLGNBQWNNLE9BQU9ELGFBQ3pCSixNQUFLLFNBQVVDLEdBQUssT0FBT0EsRUFBRUMsSUFBTyxHQUM3QyxDLG1pYkNqRUEsSUFBSUksVUFBd0MsU0FBVUMsUUFBU0MsV0FBWUMsRUFBR0MsV0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLFFBQVNDLFFBQy9DLFNBQVNDLFVBQVVDLE9BQVMsSUFBTUMsS0FBS04sVUFBVU8sS0FBS0YsT0FBbUMsQ0FBeEIsTUFBT0csR0FBS0wsT0FBT0ssRUFBSyxDQUFFLENBQzNGLFNBQVNDLFNBQVNKLE9BQVMsSUFBTUMsS0FBS04sVUFBUyxNQUFVSyxPQUFtQyxDQUF4QixNQUFPRyxHQUFLTCxPQUFPSyxFQUFLLENBQUUsQ0FDOUYsU0FBU0YsS0FBS0ksUUFBVUEsT0FBT0MsS0FBT1QsUUFBUVEsT0FBT0wsT0FKekQsU0FBU08sTUFBTVAsT0FBUyxPQUFPQSxpQkFBaUJOLEVBQUlNLE1BQVEsSUFBSU4sR0FBRSxTQUFVRyxTQUFXQSxRQUFRRyxNQUFTLEdBQUksQ0FJMUNPLENBQU1GLE9BQU9MLE9BQU9mLEtBQUtjLFVBQVdLLFNBQVksQ0FDOUdILE1BQU1OLFVBQVlBLFVBQVVhLE1BQU1oQixRQUFTQyxZQUFjLEtBQUtTLE9BQ2pFLEdBQ0osRUFDR08sWUFBNEMsU0FBVWpCLFFBQVNrQixNQUMvRCxJQUFzR0MsRUFBR0MsRUFBR0MsRUFBR0MsRUFBM0dDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLGdCQUFhLEdBQVcsRUFBUEosRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLEVBQUssRUFBRUssS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRVosS0FBTWtCLEtBQUssR0FBSSxNQUFTQSxLQUFLLEdBQUksT0FBVUEsS0FBSyxJQUF3QixtQkFBWEMsU0FBMEJQLEVBQUVPLE9BQU9DLFVBQVksV0FBYSxPQUFPQyxJQUFPLEdBQUdULEVBQ3ZKLFNBQVNNLEtBQUtJLEdBQUssT0FBTyxTQUFVQyxHQUFLLE9BQ3pDLFNBQVN4QixLQUFLeUIsSUFDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9aLEdBQUcsSUFDTixHQUFJSixFQUFJLEVBQUdDLElBQU1DLEVBQVksRUFBUmEsR0FBRyxHQUFTZCxFQUFDLE9BQWFjLEdBQUcsR0FBS2QsRUFBQyxTQUFlQyxFQUFJRCxFQUFDLFNBQWVDLEVBQUVlLEtBQUtoQixHQUFJLEdBQUtBLEVBQUVWLFNBQVdXLEVBQUlBLEVBQUVlLEtBQUtoQixFQUFHYyxHQUFHLEtBQUtwQixLQUFNLE9BQU9PLEVBRTNKLE9BRElELEVBQUksRUFBR0MsSUFBR2EsR0FBSyxDQUFTLEVBQVJBLEdBQUcsR0FBUWIsRUFBRWIsUUFDekIwQixHQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBR2IsRUFBSWEsR0FBSSxNQUN4QixLQUFLLEVBQWMsT0FBWFgsRUFBRUMsUUFBZ0IsQ0FBRWhCLE1BQU8wQixHQUFHLEdBQUlwQixNQUFNLEdBQ2hELEtBQUssRUFBR1MsRUFBRUMsUUFBU0osRUFBSWMsR0FBRyxHQUFJQSxHQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEdBQUtYLEVBQUVJLElBQUlVLE1BQU9kLEVBQUVHLEtBQUtXLE1BQU8sU0FDeEMsUUFDSSxLQUFNaEIsRUFBSUUsRUFBRUcsTUFBTUwsRUFBSUEsRUFBRWlCLE9BQVMsR0FBS2pCLEVBQUVBLEVBQUVpQixPQUFTLEtBQWtCLElBQVZKLEdBQUcsSUFBc0IsSUFBVkEsR0FBRyxJQUFXLENBQUVYLEVBQUksRUFBRyxRQUFXLENBQzVHLEdBQWMsSUFBVlcsR0FBRyxNQUFjYixHQUFNYSxHQUFHLEdBQUtiLEVBQUUsSUFBTWEsR0FBRyxHQUFLYixFQUFFLElBQU0sQ0FBRUUsRUFBRUMsTUFBUVUsR0FBRyxHQUFJLEtBQVEsQ0FDdEYsR0FBYyxJQUFWQSxHQUFHLElBQVlYLEVBQUVDLE1BQVFILEVBQUUsR0FBSSxDQUFFRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUlBLEVBQUlhLEdBQUksS0FBUSxDQUNyRSxHQUFJYixHQUFLRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUksQ0FBRUUsRUFBRUMsTUFBUUgsRUFBRSxHQUFJRSxFQUFFSSxJQUFJWSxLQUFLTCxJQUFLLEtBQVEsQ0FDL0RiLEVBQUUsSUFBSUUsRUFBRUksSUFBSVUsTUFDaEJkLEVBQUVHLEtBQUtXLE1BQU8sU0FFdEJILEdBQUtoQixLQUFLa0IsS0FBS3BDLFFBQVN1QixFQUM4QixDQUF4RCxNQUFPWixHQUFLdUIsR0FBSyxDQUFDLEVBQUd2QixHQUFJUyxFQUFJLENBQUksQ0FqQnpCLFFBaUJvQ0QsRUFBSUUsRUFBSSxDQUFJLENBQzFELEdBQVksRUFBUmEsR0FBRyxHQUFRLE1BQU1BLEdBQUcsR0FBSSxNQUFPLENBQUUxQixNQUFPMEIsR0FBRyxHQUFLQSxHQUFHLFFBQUssRUFBUXBCLE1BQU0sRUFDN0UsQ0F0QitDTCxDQUFLLENBQUN1QixFQUFHQyxHQUFNLENBQUcsQ0F1QnJFLEVBV1VPLGlCQUFtQixTQUFuQkEsaUJBQTZCbkQsVUFBWSxPQUFPVSxlQUFVLE9BQVEsT0FBUSxHQUFRLFdBQ3pGLE9BQU9rQixZQUFZYyxNQUFNLFNBQVVVLElBQy9CLE1BQU8sQ0FBQyxFQUFjcEQsU0FBU0UsSUFDdEJDLElBQUksbUJBQ0pDLE1BQUssU0FBVUMsR0FBSyxPQUFPQSxFQUFFQyxJQUFPLElBQ2hELEdBQ0osR0FBSSxFQzVDUStDLHNCQUFxQixXQUpsQyxvRix5UkFRVSxLQUFBckQsU0FBNEJzRCw2REFBZ0JDLFlBaUNyRCxDQXJDaUMsNkVBZ0JoQyxTQUFBQyx1QkFDRWQsS0FBS2UsZUFBZUMsTUFDckIsR0FsQitCLGtDQW9CaEMsU0FBQUMsdUJBQ0VqQixLQUFLa0IsZUFBZUYsTUFDckIsR0F0QitCLG9CQXdCaEMsU0FBQUcsU0FBTSxlQUNKLE9BQ0VDLGtFQUFLQyxNQUFNLGFBQ1RELGdFQUFHQyxNQUFNLFNBQU8sZ0JBQ2hCRCxxRUFBUUUsUUFBUywwQkFBTSxNQUFLUixzQkFBWCxFQUFtQ1MsVSw4WEFBdUIsWUFHM0VILHFFQUFRRSxRQUFTLDBCQUFNLE1BQUtMLHNCQUFYLEVBQW1DTSxVLG1SQUF1QixZQUtoRixLQXBDK0IseUIsNEJDZkQsdTRCLG1TQ21CcEJDLHNCQUFxQixXQUxsQyxvRiwrS0FTVSxLQUFBbEUsU0FBNEJzRCw2REFBZ0JDLGFBRTVDLEtBQUFZLEtBQXVDLFNBU3RDLEtBQUFDLGFBQWUsd0NBRWYsS0FBQUMsYUFBYyxFQUVkLEtBQUFDLE1BQVEsa0JBRVIsS0FBQUMsT0FBMEIsR0FFMUIsS0FBQUMsTUFBd0IsR0FFeEIsS0FBQUMsUUFBdUIsRUFpR2pDLENBMUhpQywwRUEyQmhDLFNBQUFDLG9CQUFpQixnQkFDZmhDLEtBQUsxQyxTQUFTMkUsY0FFZCxJQUFNQyxhQUFlLFNBQWZBLGFBQWV0RCxHLE9BQ25CdUQsUUFBUUMsS0FBSyxzREFBdUR4RCxHQUN4QyxPQUFiLFFBQVgsR0FBQUEsYUFBQyxFQUFEQSxFQUFHeUQsZ0JBQVEzQixZQUFBLEVBQUFBLEdBQUU0QixVQUNmLE9BQUtYLGFBQWMsRUFFdEIsRUFFRCxPQUFRM0IsS0FBS3lCLE1BQ1gsSUFBSyxTQUNIekIsS0FBSzRCLE1BQVEsa0JBQ2I1QixLQUFLMEIsYUFBZSx1Q0FDcEJqQixpQkFBaUJULEtBQUsxQyxVQUNuQkksTUFBSyxTQUFBQyxHQUFDLE9BQUssT0FBS2tFLE9BQVNsRSxFQUFFa0UsTUFBckIsSUFEVCxNQUVTSyxjQUNULE1BRUYsSUFBSyxRQUNIbEMsS0FBSzRCLE1BQVEsaUJBQ2I1QixLQUFLMEIsYUFBZSxzQ0FDcEJqQixpQkFBaUJULEtBQUsxQyxVQUNuQkksTUFBSyxTQUFBQyxHQUFDLE9BQUssT0FBS21FLE1BQVFuRSxFQUFFbUUsS0FBcEIsSUFEVCxNQUVTSSxjQUNULE1BRUYsSUFBSyxVQUNIbEMsS0FBSzRCLE1BQVEsbUJBQ2I1QixLQUFLMEIsYUFBZSx5Q0FDcEJyRSwrREFBYTJDLEtBQUsxQyxTQUFVLENBQUNpRixZQUFZLElBQ3RDN0UsTUFBSyxTQUFBQyxHQUFDLE9BQUssT0FBS29FLFFBQVVwRSxDQUFwQixJQURULE1BRVN1RSxjQUdkLEdBOUQrQiwrQkFnRWhDLFNBQUFNLGtCQUFrQkMsT0FDaEJ6QyxLQUFLMEMsY0FBYzFCLEtBQUt5QixNQUN6QixHQWxFK0IsOEJBb0VoQyxTQUFBRSxpQkFBaUJDLE9BQ2YsT0FBSUEsTUFBUSxFQUNBQSxNQUFWLFFBRVVBLE1BQVYsUUFFSCxHQTFFK0IsbUNBNEVoQyxTQUFBQyxzQkFBc0JDLFlBQ3BCLE1BQTBCLGlCQUFmQSxXQUNGQSxXQUFXQyxLQUFLLE1BQ2RELFdBQWEsRUFDWkEsV0FBVixjQUVVQSxXQUFWLFlBRUgsR0FwRitCLG9CQXNGaEMsU0FBQTNCLFNBQU0sZ0JBQ0U2QixVQUFZaEQsS0FBSzZCLE9BQU90QixPQUFTLEdBQUtQLEtBQUs4QixNQUFNdkIsT0FBUyxHQUFLUCxLQUFLK0IsUUFBUXhCLE9BQVMsRUFFM0YsT0FDRWEsa0VBQUtDLE1BQU0sYUFDVEQsZ0VBQUdDLE1BQU0sU0FBU3JCLEtBQUs0QixPQUV2QlIsa0VBQUtDLE1BQU0sU0FDUnJCLEtBQUs2QixPQUFPb0IsS0FBSSxTQUFBcEIsUUFBTSxPQUNyQlQscUVBQVFDLE1BQU0sT0FBT0MsUUFBUywwQkFBTSxPQUFLa0Isa0JBQWtCWCxPQUE3QixHQUM1QlQsa0VBQUtDLE1BQU0sT0FBT0UsVUFBVzJCLGVBQzdCOUIsa0VBQUtDLE1BQU0sV0FDVEQsa0VBQUtDLE1BQU0sY0FBY1EsT0FBT3RFLE9BQU80RixHQUN2Qy9CLGtFQUFLQyxNQUFNLFFBQU0sU0FMQSxJQVV0QnJCLEtBQUs4QixNQUFNbUIsS0FBSSxTQUFBRyxRQUFNLE9BQ3BCaEMscUVBQVFDLE1BQU0sT0FBT0MsUUFBUywwQkFBTSxPQUFLa0Isa0JBQWtCWSxPQUE3QixHQUM1QmhDLGtFQUFLQyxNQUFNLE9BQU9FLFVBQVcyQixlQUM3QjlCLGtFQUFLQyxNQUFNLFdBQ1RELGtFQUFLQyxNQUFNLGNBQWMrQixPQUFPN0YsT0FBTzRGLEdBQ3ZDL0Isa0VBQUtDLE1BQU0sVUFMSyxJQWFyQjJCLFdBQWE1QixrRUFBS0MsTUFBTSxTQUFTckIsS0FBSzJCLFlBQWMsMEJBQTRCM0IsS0FBSzBCLGVBSTdGLEtBekgrQix5Qiw0QkNuQkQsZzFDLElDdUJwQjJCLGlCQUFnQixXQUw3QiwwRSxxWEFXVSxLQUFBL0YsU0FBNEJzRCw2REFBZ0JDLGFBSzVDLEtBQUF5QyxZQUFjLHlDQUtkLEtBQUE3QixLQUFxQixNQUtyQixLQUFBOEIsTUFBUSxHQUtSLEtBQUFDLFlBQWEsQ0FzRXRCLENBaEc0QiwyRixxVkFBQSw2QkEyQ2pCLG9JQUNSeEQsS0FBS3lELFFBQVFDLFFBREwsNkRBM0NpQixrR0ErQzNCLFNBQUFDLHFCQUNNM0QsS0FBS3dELFlBQ1B4RCxLQUFLeUQsUUFBUUMsT0FFaEIsR0FuRDBCLDBCQXFEM0IsU0FBQUUsYUFBYWhGLEdBR1gsT0FGQW9CLEtBQUs2RCxjQUFjN0MsS0FBSyxDQUFDUyxLQUFNekIsS0FBS3lCLEtBQU04QixNQUFPdkQsS0FBS3VELFFBQ3REM0UsRUFBRWtGLGtCQUNLLENBQ1IsR0F6RDBCLDBCQTJEM0IsU0FBQUMsYUFBYW5GLEdBQ1hvQixLQUFLZ0UsYUFBYWhELEtBQUtwQyxFQUFFcUYsT0FBT3hGLE1BQ2pDLEdBN0QwQiwrQkErRDNCLFNBQUF5RixvQkFDRWxFLEtBQUttRSxZQUFZbkQsS0FBSyxNQUN2QixHQWpFMEIseUJBbUUzQixTQUFBb0QsWUFBWXhGLEdBQ0ksVUFBVkEsRUFBRXlGLEtBQ0pyRSxLQUFLNkQsY0FBYzdDLEtBQUssQ0FBQ1MsS0FBTXpCLEtBQUt5QixLQUFNOEIsTUFBT3ZELEtBQUt1RCxPQUV6RCxHQXZFMEIsb0JBeUUzQixTQUFBcEMsU0FBTSxnQkFDSixPQUNFQyxtRUFBTWtELFNBQVUsa0JBQUExRixHQUFDLE9BQUksT0FBS2dGLGFBQWFoRixFQUF0QixRQUNBMkYsSUFBZHZFLEtBQUt5QixNQUFvQyxRQUFkekIsS0FBS3lCLE1BQy9CTCxtRUFBTUMsTUFBTSxRQUNUckIsS0FBS3lCLEtBQUksS0FBR0wscUVBQVFDLE1BQU0sU0FBU0UsVSxzc0JBQXNCRCxRQUFTLDBCQUFNLE9BQUs0QyxtQkFBWCxLQUd2RTlDLG9FQUNFSyxLQUFLLE9BQ0xoRCxNQUFPdUIsS0FBS3VELE1BQ1pELFlBQWF0RCxLQUFLc0QsWUFDbEJrQixRQUFTLGlCQUFBNUYsR0FBQyxPQUFJLE9BQUttRixhQUFhbkYsRUFBdEIsRUFDVjZGLFFBQVMsaUJBQUE3RixHQUFDLE9BQUksT0FBS3dGLFlBQVl4RixFQUFyQixFQUNWOEYsSUFBSyxhQUFBQyxJQUFFLE9BQUssT0FBS2xCLFFBQVVrQixFQUFwQixJQUVUdkQscUVBQVFFLFFBQVMsaUJBQUExQyxHQUFDLE9BQUksT0FBS2dGLGFBQWFoRixFQUF0QixFQUEwQnlDLE1BQU0sVUFDaERELG1FQUFNRyxVLGk2Q0FBeUIsVUFLdEMsS0EvRjBCLG9CLHVCQ3ZCRCx3eUQiLCJmaWxlIjoiMjAuZWFlZTIxM2IuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBUZW1wbGF0ZSBkZWZpbmVzIGhvdyBhIFZlcmRvY3Mgc2lnbmluZyBmbG93IHdpbGwgYmUgcGVyZm9ybWVkLCBpbmNsdWRpbmcgYXR0YWNobWVudHMsIHNpZ25pbmcgZmllbGRzLCBhbmRcbiAqIHJlY2lwaWVudHMuXG4gKlxuICogQG1vZHVsZVxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBHZXQgYWxsIHRlbXBsYXRlcyBhY2Nlc3NpYmxlIGJ5IHRoZSBjYWxsZXIsIHdpdGggb3B0aW9uYWwgZmlsdGVycy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygpO1xuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcyh7IGlzX3N0YXJyZWQ6IHRydWUgfSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKHsgaXNfY3JlYXRvcjogdHJ1ZSB9KTtcbiAqIGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZXMoeyBpc19vcmdhbml6YXRpb246IHRydWUgfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRUZW1wbGF0ZXMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldCgnL3RlbXBsYXRlcycsIHsgcGFyYW1zOiBwYXJhbXMgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb25lIHRlbXBsYXRlIGJ5IGl0cyBJRC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGUoJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb3duZXIgaW5mb3JtYXRpb24gZm9yIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlT3duZXJJbmZvKCc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFRlbXBsYXRlT3duZXJJbmZvID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IG5ld1RlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLmNyZWF0ZVRlbXBsYXRlKHsuLi59KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzLycsIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBVcGRhdGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdXBkYXRlZFRlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLnVwZGF0ZVRlbXBsYXRlKCc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknLCB7IG5hbWU6ICdOZXcgTmFtZScgfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucHV0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCksIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBTZWFyY2ggZm9yIHRlbXBsYXRlcyBtYXRjaGluZyB2YXJpb3VzIGNyaXRlcmlhLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB7cmVzdWx0LCBwYWdlLCB0b3RhbH0gPSBhd2FpdCBUZW1wbGF0ZXMuc2VhcmNoKHsgLi4uIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgc2VhcmNoVGVtcGxhdGVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnBvc3QoJy90ZW1wbGF0ZXMvc2VhcmNoJywgcGFyYW1zKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBHZXQgYSBzdW1tYXJ5IG9mIHRlbXBsYXRlIGRhdGEsIHR5cGljYWxseSB1c2VkIHRvIHBvcHVsYXRlIGFkbWluIHBhbmVsIGRhc2hib2FyZCBwYWdlcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3Qgc3VtbWFyeSA9IGF3YWl0IFRlbXBsYXRlcy5nZXRTdW1tYXJ5KDApO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0U3VtbWFyeSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFnZSkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucG9zdCgnL3RlbXBsYXRlcy9zdW1tYXJ5JywgeyBwYWdlOiBwYWdlIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4iLCIvKipcbiAqIFZlcmRvY3MgcHJvdmlkZXMgYSByYW5nZSBvZiBzZWFyY2ggZnVuY3Rpb25zIHRvIGhlbHAgZmluZCBhbmQgcmV0cmlldmUgY29udGVudC4gVGhpcyBtb2R1bGUgcHJvdmlkZXMgZ2VuZXJpYyBmdW5jdGlvbnMgaW50ZW5kZWRcbiAqIHRvIGxvY2F0ZSBpdGVtcyBhY3Jvc3MgYWxsIGNvbnRlbnQgdHlwZXMuIE1vcmUgc3BlY2lmaWMgcmV0cmlldmFscyBtYXkgYmUgcGVyZm9ybWVkIHVzaW5nIHRoZSB2YXJpb3VzIFwibGlzdFwiIGVuZHBvaW50cyB3aXRoaW5cbiAqIGVhY2ggY29sbGVjdGlvbiAoZS5nLiB7QGxpbmsgRG9jdW1lbnRzLkRvY3VtZW50cy5zZWFyY2hEb2N1bWVudHN9IG9yIHtAbGluayBUZW1wbGF0ZXMuVGVtcGxhdGVzLnNlYXJjaFRlbXBsYXRlc30pLlxuICpcbiAqIEBtb2R1bGVcbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogUmV0cmlldmUgcmVjZW50IGFuZCBzYXZlZCBzZWFyY2hlcy4gTm90ZSB0aGF0IHJlc3VsdCBjb3VudHMgd2lsbCBiZSBsaW1pdGVkIHRvIGEgbWF4aW11bSBvZiAyMCBlbnRyaWVzIGZvciBlYWNoXG4gKiB0eXBlIGJ1dCB0aGlzIG1heSBiZSBleHBhbmRlZCBpbiB0aGUgZnV0dXJlLiBDbGllbnQgVUkncyBzaG91bGQgc2VsZi1saW1pdCBkaXNwbGF5IGNvdW50cyBhcyBuZWVkZWQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtDb250ZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvU2VhcmNoJztcbiAqXG4gKiBjb25zdCB7cmVjZW50LCBzYXZlZH0gPSBhd2FpdCBDb250ZW50LmdldFNlYXJjaEhpc3RvcnkoKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFNlYXJjaEhpc3RvcnkgPSBmdW5jdGlvbiAoZW5kcG9pbnQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldCgnL3NlYXJjaC9oaXN0b3J5JylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogU2F2ZSBhIHNlYXJjaC4gSWYgYSBuYW1lIGlzIHJlLXVzZWQsIHRoYXQgc2F2ZWQgc2VhcmNoIHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHBhcmFtZXRlcnMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtDb250ZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvU2VhcmNoJztcbiAqXG4gKiBjb25zdCBlbnRyeSA9IGF3YWl0IERvY3VtZW50cy5zYXZlU2VhcmNoKCdXOSBGb3JtcycsIHtxOiAndzknLCB0eXBlOiAndGVtcGxhdGV9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIHNhdmVTZWFyY2ggPSBmdW5jdGlvbiAoZW5kcG9pbnQsIG5hbWUsIHBhcmFtcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucG9zdCgnL3NlYXJjaC9zYXZlZCcsIHsgbmFtZTogbmFtZSwgcGFyYW1zOiBwYXJhbXMgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogU2VhcmNoIGZvciBkb2N1bWVudHMgbWF0Y2hpbmcgdmFyaW91cyBjcml0ZXJpYS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0NvbnRlbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9TZWFyY2gnO1xuICpcbiAqIGNvbnN0IHtyZXN1bHQsIHBhZ2UsIHRvdGFsfSA9IGF3YWl0IERvY3VtZW50cy5zZWFyY2goeyAuLi4gfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBzZWFyY2hDb250ZW50ID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9zZWFyY2gvY29udGVudCcsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbiIsImltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuaW1wb3J0IHtDb21wb25lbnQsIGgsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIFByb3B9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IFRlbXBsYXRlSWNvbiBmcm9tICcuL3RlbXBsYXRlLWljb24uc3ZnJztcbmltcG9ydCBEb2N1bWVudEljb24gZnJvbSAnLi9kb2N1bWVudC1pY29uLnN2Zyc7XG5cbi8qKlxuICogRGlzcGxheSBxdWljay1mdW5jdGlvbiBidXR0b25zIGZvciBjcmVhdGluZyB0ZW1wbGF0ZXMgYW5kIGRvY3VtZW50cy5cbiAqXG4gKiBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCB0byBkZW1vbnN0cmF0ZSB0aGlzIEVsZW1lbnQuIFlvdSBtYXkgZG8gdGhpcyBpbiBTdG9yeWJvb2sgYnkgdXNpbmcgdGhlIEF1dGhcbiAqIGVtYmVkLiBUaGlzIEVsZW1lbnQgd2lsbCByZXVzZSB0aGUgc2FtZSBzZXNzaW9uIHByb2R1Y2VkIGJ5IGxvZ2dpbmcgaW4gdmlhIHRoYXQgRW1iZWQuXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLXF1aWNrLWZ1bmN0aW9ucycsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1xdWljay1mdW5jdGlvbnMuc2NzcycsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NRdWlja0Z1bmN0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgZW5kcG9pbnQgdG8gdXNlIHRvIGNvbW11bmljYXRlIHdpdGggVmVyZG9jcy4gSWYgbm90IHNldCwgdGhlIGRlZmF1bHQgZW5kcG9pbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgQFByb3AoKSBlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcblxuICAvKipcbiAgICogRXZlbnQgZmlyZWQgd2hlbiBhbiBlbnRyeSBpcyBjbGlja2VkLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIGNyZWF0ZVRlbXBsYXRlOiBFdmVudEVtaXR0ZXI7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gYW4gZW50cnkgaXMgY2xpY2tlZC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBjcmVhdGVEb2N1bWVudDogRXZlbnRFbWl0dGVyO1xuXG4gIGhhbmRsZUNyZWF0ZVRlbXBsYXRlKCkge1xuICAgIHRoaXMuY3JlYXRlVGVtcGxhdGUuZW1pdCgpO1xuICB9XG5cbiAgaGFuZGxlQ3JlYXRlRG9jdW1lbnQoKSB7XG4gICAgdGhpcy5jcmVhdGVEb2N1bWVudC5lbWl0KCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiPlF1aWNrIENyZWF0ZTwvcD5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNyZWF0ZVRlbXBsYXRlKCl9IGlubmVySFRNTD17VGVtcGxhdGVJY29ufT5cbiAgICAgICAgICBUZW1wbGF0ZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNyZWF0ZURvY3VtZW50KCl9IGlubmVySFRNTD17RG9jdW1lbnRJY29ufT5cbiAgICAgICAgICBEb2N1bWVudFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXF1aWNrLWZ1bmN0aW9ucyB7XG4gIGZvbnQtZmFtaWx5OiAkdmVyZG9jcy1wcmltYXJ5LWZvbnQ7XG5cbiAgLmNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgIHdpZHRoOiAyNDBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdmVyZG9jcy1iZy01O1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgcGFkZGluZzogMTBweCAxMHB4IDIwcHggMTBweDtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgfVxuXG4gIC50aXRsZSB7XG4gICAgZm9udC1zaXplOiAyMnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gICAgbWFyZ2luOiAxZW0gMCA0MHB4IDA7XG4gIH1cblxuICBidXR0b24ge1xuICAgIHdpZHRoOiAxNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgY29sb3I6ICR2ZXJkb2NzLWdyZXktNDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR2ZXJkb2NzLWdyZWVuO1xuICB9XG5cbiAgYnV0dG9uIHN2ZyB7XG4gICAgZmlsbDogJHZlcmRvY3MtZ3JleS00O1xuICB9XG59XG4iLCJpbXBvcnQge0lUZW1wbGF0ZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UeXBlcyc7XG5pbXBvcnQge2dldFNlYXJjaEhpc3Rvcnl9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9TZWFyY2gvQ29udGVudCc7XG5pbXBvcnQge2dldFRlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UZW1wbGF0ZXMnO1xuaW1wb3J0IHtJUmVjZW50U2VhcmNoLCBJU2F2ZWRTZWFyY2h9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9TZWFyY2gvVHlwZXMnO1xuaW1wb3J0IHtDb21wb25lbnQsIGgsIFByb3AsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIFN0YXRlfSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuaW1wb3J0IERvY3VtZW50SWNvbiBmcm9tICcuL2RvY3VtZW50LWljb24uc3ZnJztcblxuLyoqXG4gKiBEaXNwbGF5IGEgbGlzdCBvZiBzdGFycmVkIGl0ZW1zLlxuICpcbiAqIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIHRvIGRlbW9uc3RyYXRlIHRoaXMgRWxlbWVudC4gWW91IG1heSBkbyB0aGlzIGluIFN0b3J5Ym9vayBieSB1c2luZyB0aGUgQXV0aFxuICogZW1iZWQuIFRoaXMgRWxlbWVudCB3aWxsIHJldXNlIHRoZSBzYW1lIHNlc3Npb24gcHJvZHVjZWQgYnkgbG9nZ2luZyBpbiB2aWEgdGhhdCBFbWJlZC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3Mtc2VhcmNoLWFjdGl2aXR5JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXNlYXJjaC1hY3Rpdml0eS5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc1NlYXJjaEFjdGl2aXR5IHtcbiAgLyoqXG4gICAqIFRoZSBlbmRwb2ludCB0byB1c2UgdG8gY29tbXVuaWNhdGUgd2l0aCBWZXJkb2NzLiBJZiBub3Qgc2V0LCB0aGUgZGVmYXVsdCBlbmRwb2ludCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBAUHJvcCgpIGVuZHBvaW50OiBWZXJkb2NzRW5kcG9pbnQgPSBWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpO1xuXG4gIEBQcm9wKCkgdHlwZTogJ3JlY2VudCcgfCAnc2F2ZWQnIHwgJ3N0YXJyZWQnID0gJ3JlY2VudCc7XG5cbiAgQFByb3AoKSBvcHRpb25zOiBhbnk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gYW4gZW50cnkgaXMgY2xpY2tlZC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBlbnRyeVNlbGVjdGVkOiBFdmVudEVtaXR0ZXI8SVJlY2VudFNlYXJjaD47XG5cbiAgQFN0YXRlKCkgZW1wdHlNZXNzYWdlID0gJ1lvdSBkbyBub3QgaGF2ZSBhbnkgc3RhcnJlZCBzZWFyY2hlcy4nO1xuXG4gIEBTdGF0ZSgpIGF1dGhGYWlsdXJlID0gZmFsc2U7XG5cbiAgQFN0YXRlKCkgdGl0bGUgPSAnUmVjZW50IFNlYXJjaGVzJztcblxuICBAU3RhdGUoKSByZWNlbnQ6IElSZWNlbnRTZWFyY2hbXSA9IFtdO1xuXG4gIEBTdGF0ZSgpIHNhdmVkOiBJU2F2ZWRTZWFyY2hbXSA9IFtdO1xuXG4gIEBTdGF0ZSgpIHN0YXJyZWQ6IElUZW1wbGF0ZVtdID0gW107XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbmRwb2ludC5sb2FkU2Vzc2lvbigpO1xuXG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gZSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tWZXJkb2NzL3NlYXJjaC1hY3Rpdml0eV0gRXJyb3IgZ2V0dGluZyBzZWFyY2ggZGF0YScsIGUpO1xuICAgICAgaWYgKGU/LnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aGlzLmF1dGhGYWlsdXJlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3JlY2VudCc6XG4gICAgICAgIHRoaXMudGl0bGUgPSAnUmVjZW50IFNlYXJjaGVzJztcbiAgICAgICAgdGhpcy5lbXB0eU1lc3NhZ2UgPSAnWW91IGRvIG5vdCBoYXZlIGFueSByZWNlbnQgc2VhcmNoZXMuJztcbiAgICAgICAgZ2V0U2VhcmNoSGlzdG9yeSh0aGlzLmVuZHBvaW50KVxuICAgICAgICAgIC50aGVuKHIgPT4gKHRoaXMucmVjZW50ID0gci5yZWNlbnQpKVxuICAgICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2F2ZWQnOlxuICAgICAgICB0aGlzLnRpdGxlID0gJ1NhdmVkIFNlYXJjaGVzJztcbiAgICAgICAgdGhpcy5lbXB0eU1lc3NhZ2UgPSAnWW91IGRvIG5vdCBoYXZlIGFueSBzYXZlZCBzZWFyY2hlcy4nO1xuICAgICAgICBnZXRTZWFyY2hIaXN0b3J5KHRoaXMuZW5kcG9pbnQpXG4gICAgICAgICAgLnRoZW4ociA9PiAodGhpcy5zYXZlZCA9IHIuc2F2ZWQpKVxuICAgICAgICAgIC5jYXRjaChlcnJvckhhbmRsZXIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3RhcnJlZCc6XG4gICAgICAgIHRoaXMudGl0bGUgPSAnTXkgU3RhcnJlZCBpdGVtcyc7XG4gICAgICAgIHRoaXMuZW1wdHlNZXNzYWdlID0gJ1lvdSBkbyBub3QgaGF2ZSBhbnkgc3RhcnJlZCB0ZW1wbGF0ZXMuJztcbiAgICAgICAgZ2V0VGVtcGxhdGVzKHRoaXMuZW5kcG9pbnQsIHtpc19zdGFycmVkOiB0cnVlfSlcbiAgICAgICAgICAudGhlbihyID0+ICh0aGlzLnN0YXJyZWQgPSByKSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU2VsZWN0RW50cnkoZW50cnk6IGFueSkge1xuICAgIHRoaXMuZW50cnlTZWxlY3RlZC5lbWl0KGVudHJ5KTtcbiAgfVxuXG4gIGNvbXB1dGVQYWdlc1RleHQocGFnZXMpIHtcbiAgICBpZiAocGFnZXMgPCAyKSB7XG4gICAgICByZXR1cm4gYCR7cGFnZXN9IFBhZ2VgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7cGFnZXN9IFBhZ2VzYDtcbiAgICB9XG4gIH1cblxuICBjb21wdXRlUmVjaXBpZW50c1RleHQocmVjaXBpZW50cykge1xuICAgIGlmICh0eXBlb2YgcmVjaXBpZW50cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiByZWNpcGllbnRzLmpvaW4oJywgJyk7XG4gICAgfSBlbHNlIGlmIChyZWNpcGllbnRzID4gMSkge1xuICAgICAgcmV0dXJuIGAke3JlY2lwaWVudHN9IFJlY2lwaWVudHNgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7cmVjaXBpZW50c30gUmVjaXBpZW50YDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2hvd0VtcHR5ID0gdGhpcy5yZWNlbnQubGVuZ3RoIDwgMSAmJiB0aGlzLnNhdmVkLmxlbmd0aCA8IDEgJiYgdGhpcy5zdGFycmVkLmxlbmd0aCA8IDE7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzcz1cInRpdGxlXCI+e3RoaXMudGl0bGV9PC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtc1wiPlxuICAgICAgICAgIHt0aGlzLnJlY2VudC5tYXAocmVjZW50ID0+IChcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJpdGVtXCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVTZWxlY3RFbnRyeShyZWNlbnQpfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImljb25cIiBpbm5lckhUTUw9e0RvY3VtZW50SWNvbn0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS10aXRsZVwiPntyZWNlbnQucGFyYW1zLnF9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9cIj5UZXN0PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG5cbiAgICAgICAgICB7dGhpcy5zYXZlZC5tYXAob3B0aW9uID0+IChcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJpdGVtXCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVTZWxlY3RFbnRyeShvcHRpb24pfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImljb25cIiBpbm5lckhUTUw9e0RvY3VtZW50SWNvbn0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS10aXRsZVwiPntvcHRpb24ucGFyYW1zLnF9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9cIj5cbiAgICAgICAgICAgICAgICAgIHsvKntvcHRpb24ucGFnZXMgPyBgJHt0aGlzLmNvbXB1dGVQYWdlc1RleHQob3B0aW9uLnBhZ2VzKX0gYCA6ICcnfSovfVxuICAgICAgICAgICAgICAgICAgey8qe29wdGlvbi5yZWNpcGllbnRzID8gdGhpcy5jb21wdXRlUmVjaXBpZW50c1RleHQob3B0aW9uLnJlY2lwaWVudHMpIDogJyd9Ki99XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG5cbiAgICAgICAgICB7c2hvd0VtcHR5ICYmIDxkaXYgY2xhc3M9XCJlbXB0eVwiPnt0aGlzLmF1dGhGYWlsdXJlID8gJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyA6IHRoaXMuZW1wdHlNZXNzYWdlfTwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCJAaW1wb3J0ICcuLi8uLi8uLi90aGVtZS5zY3NzJztcblxudmVyZG9jcy1zZWFyY2gtYWN0aXZpdHkge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuXG4gIC5jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgd2lkdGg6IDI0MHB4O1xuICAgIGNvbG9yOiAkdmVyZG9jcy1ncmV5LTQ7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIHBhZGRpbmc6IDEwcHggMTBweCAyMHB4IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHZlcmRvY3MtYmctNTtcbiAgfVxuXG4gIC50aXRsZSB7XG4gICAgZm9udC1zaXplOiAyMnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gIH1cblxuICAuaXRlbXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLml0ZW0ge1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICB9XG5cbiAgLml0ZW06aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5pY29uIHtcbiAgICBmbGV4OiAwIDAgMjJweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7XG4gIH1cblxuICAuaWNvbiBzdmcge1xuICAgIGZpbGw6ICR2ZXJkb2NzLWxpZ2h0LWJsdWU7XG4gICAgd2lkdGg6IDIycHg7XG4gICAgaGVpZ2h0OiAyMnB4O1xuICB9XG5cbiAgLmRldGFpbHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLml0ZW0tdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGNvbG9yOiAkdmVyZG9jcy1ncmV5LTQ7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB9XG5cbiAgLmluZm8ge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGxpbmUtaGVpZ2h0OiAyM3B4O1xuICAgIGNvbG9yOiAkdmVyZG9jcy1ncmV5LTI7XG4gIH1cblxuICAuZW1wdHkge1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgIGNvbG9yOiAkdmVyZG9jcy1iZy0xO1xuICB9XG59XG4iLCJpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrJztcbmltcG9ydCB7Q29tcG9uZW50LCBoLCBFdmVudCwgRXZlbnRFbWl0dGVyLCBQcm9wLCBNZXRob2R9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IFNlYXJjaEljb24gZnJvbSAnLi9zZWFyY2guc3ZnJztcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnLi9jbG9zZS5zdmcnO1xuXG5leHBvcnQgdHlwZSBUQ29udGVudFR5cGUgPSAnYWxsJyB8ICdkb2N1bWVudCcgfCAndGVtcGxhdGUnIHwgJ29yZ2FuaXphdGlvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNlYXJjaEV2ZW50IHtcbiAgcXVlcnk6IHN0cmluZztcbiAgdHlwZTogVENvbnRlbnRUeXBlO1xufVxuXG4vKipcbiAqIERpc3BsYXlzIGEgY3VzdG9taXphYmxlIGlucHV0IGJveCBmb3Igc2VhcmNoIHF1ZXJpZXMuXG4gKlxuICogQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgdG8gZGVtb25zdHJhdGUgdGhpcyBFbGVtZW50LiBZb3UgbWF5IGRvIHRoaXMgaW4gU3Rvcnlib29rIGJ5IHVzaW5nIHRoZSBBdXRoXG4gKiBlbWJlZC4gVGhpcyBFbGVtZW50IHdpbGwgcmV1c2UgdGhlIHNhbWUgc2Vzc2lvbiBwcm9kdWNlZCBieSBsb2dnaW5nIGluIHZpYSB0aGF0IEVtYmVkLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy1zZWFyY2gtYm94JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXNlYXJjaC1ib3guc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NTZWFyY2hCb3gge1xuICBwcml2YXRlIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBlbmRwb2ludCB0byB1c2UgdG8gY29tbXVuaWNhdGUgd2l0aCBWZXJkb2NzLiBJZiBub3Qgc2V0LCB0aGUgZGVmYXVsdCBlbmRwb2ludCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBAUHJvcCgpIGVuZHBvaW50OiBWZXJkb2NzRW5kcG9pbnQgPSBWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpO1xuXG4gIC8qKlxuICAgKiBUaGUgcGxhY2Vob2xkZXIgdG8gZGlzcGxheSBpbiB0aGUgaW5wdXQgZmllbGQuXG4gICAqL1xuICBAUHJvcCgpIHBsYWNlaG9sZGVyID0gJ3NlYXJjaCBkb2N1bWVudHMsIHRlbXBsYXRlcywgcGVvcGxlLi4uJztcblxuICAvKipcbiAgICogSWYgc2V0IHRvIGEgdmFsdWUgb3RoZXIgdGhhbiAnYWxsJywgYSByZW1vdmVhYmxlIGZpbHRlciBpbmRpY2F0b3Igd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAqL1xuICBAUHJvcCgpIHR5cGU6IFRDb250ZW50VHlwZSA9ICdhbGwnO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBzZWFyY2ggc3RyaW5nIGVudGVyZWQgYnkgdGhlIHVzZXIuXG4gICAqL1xuICBAUHJvcCgpIHF1ZXJ5ID0gJyc7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGlucHV0IGZpZWxkIHdpbGwgYXR0ZW1wdCB0byBcImdyYWJcIiBmb2N1cyBhZnRlciBiZWluZyByZW5kZXJlZC5cbiAgICovXG4gIEBQcm9wKCkgZ3JhYnNGb2N1cyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIHR5cGUuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgc2VhcmNoQ2xpY2tlZDogRXZlbnRFbWl0dGVyPElTZWFyY2hFdmVudD47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgdHlwZS5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSB0eXBlQ2hhbmdlZDogRXZlbnRFbWl0dGVyPFRDb250ZW50VHlwZT47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgcXVlcnkgc3RyaW5nLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIHF1ZXJ5Q2hhbmdlZDogRXZlbnRFbWl0dGVyPHN0cmluZz47XG5cbiAgQE1ldGhvZCgpIGFzeW5jIGZvY3VzRmllbGQoKSB7XG4gICAgdGhpcy5pbnB1dEVsLmZvY3VzKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuZ3JhYnNGb2N1cykge1xuICAgICAgdGhpcy5pbnB1dEVsLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU2VhcmNoKGUpIHtcbiAgICB0aGlzLnNlYXJjaENsaWNrZWQuZW1pdCh7dHlwZTogdGhpcy50eXBlLCBxdWVyeTogdGhpcy5xdWVyeX0pO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZSkge1xuICAgIHRoaXMucXVlcnlDaGFuZ2VkLmVtaXQoZS50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgaGFuZGxlQ2xlYXJGaWx0ZXIoKSB7XG4gICAgdGhpcy50eXBlQ2hhbmdlZC5lbWl0KCdhbGwnKTtcbiAgfVxuXG4gIGhhbmRsZUtleVVwKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIHRoaXMuc2VhcmNoQ2xpY2tlZC5lbWl0KHt0eXBlOiB0aGlzLnR5cGUsIHF1ZXJ5OiB0aGlzLnF1ZXJ5fSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17ZSA9PiB0aGlzLmhhbmRsZVNlYXJjaChlKX0+XG4gICAgICAgIHt0aGlzLnR5cGUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnR5cGUgIT09ICdhbGwnICYmIChcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInR5cGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnR5cGV9cyA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlXCIgaW5uZXJIVE1MPXtDbG9zZUljb259IG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlQ2xlYXJGaWx0ZXIoKX0gLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICl9XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5xdWVyeX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICBvbklucHV0PXtlID0+IHRoaXMuaGFuZGxlQ2hhbmdlKGUpfVxuICAgICAgICAgIG9uS2V5VXA9e2UgPT4gdGhpcy5oYW5kbGVLZXlVcChlKX1cbiAgICAgICAgICByZWY9e2VsID0+ICh0aGlzLmlucHV0RWwgPSBlbCl9XG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17ZSA9PiB0aGlzLmhhbmRsZVNlYXJjaChlKX0gY2xhc3M9XCJzZWFyY2hcIj5cbiAgICAgICAgICA8c3BhbiBpbm5lckhUTUw9e1NlYXJjaEljb259IC8+XG4gICAgICAgICAgU2VhcmNoXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXNlYXJjaC1ib3gge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuXG4gIGZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBoZWlnaHQ6IDQ1cHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBtYXJnaW46IDVweCAwIDA7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBwYWRkaW5nOiAwIDhweDtcbiAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1jb2xvcjogJHZlcmRvY3MtbGlnaHQtYmx1ZTtcblxuICAgIGlucHV0IHtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICBoZWlnaHQ6IDQzcHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIGJvcmRlcjogbm9uZTtcblxuICAgICAgJjpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYnV0dG9uLnNlYXJjaCB7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB3aWR0aDogMTAwcHg7XG4gICAgICBoZWlnaHQ6IDI4cHg7XG4gICAgICBmb250LXdlaWdodDogNzAwO1xuICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR2ZXJkb2NzLWdyZWVuO1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgIH1cblxuICAgIC50eXBlIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR2ZXJkb2NzLWxpZ2h0LWJsdWU7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgIHBhZGRpbmc6IDFweCAwIDJweCAxMHB4O1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuXG4gICAgICBidXR0b24ge1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICBtYXJnaW46IDVweCAwIDAgOHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdmcge1xuICAgICAgd2lkdGg6IDEycHg7XG4gICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICB9XG4gIH1cblxuICA6OnBsYWNlaG9sZGVyIHtcbiAgICBjb2xvcjogJHZlcmRvY3MtZ3JleS0yO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9