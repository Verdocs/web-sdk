(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/utils-ce7ce11a.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rescale})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"f",(function(){return integerSequence})),__webpack_require__.d(__webpack_exports__,"g",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return setControlStyles})),__webpack_require__.d(__webpack_exports__,"i",(function(){return updateCssTransform}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match-all.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function rescale(r,n){return r*n}var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")},setControlStyles=function setControlStyles(el,field,xScale,yScale,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?function defaultWidth(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 82}return 150}(field):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?function defaultHeight(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 41}return 50}(field):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")"},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,fieldOptions){var _fieldOptions$disable=fieldOptions.disabled,disabled=void 0!==_fieldOptions$disable&&_fieldOptions$disable,_fieldOptions$editabl=fieldOptions.editable,editable=void 0!==_fieldOptions$editabl&&_fieldOptions$editabl,_fieldOptions$draggab=fieldOptions.draggable,draggable=void 0!==_fieldOptions$draggab&&_fieldOptions$draggab,controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return void setControlStyles(existingField,field,docPage.xScale,docPage.yScale);var el=document.createElement("verdocs-field-"+field.type);return el.field=field,el.setAttribute("id",id),el.setAttribute("roleindex",roleIndex),disabled&&el.setAttribute("disabled",!0),editable&&el.setAttribute("editable",!0),draggable&&el.setAttribute("draggable",!0),setControlStyles(el,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(el),el;case"checkbox_group":(field.settings||field.setting||{}).options.forEach((function(_,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-checkbox");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,checkboxIndex),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;case"radio_button_group":(field.settings||field.setting||{}).options.forEach((function(_,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-radio-button");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",buttonIndex),disabled&&cbEl.setAttribute("disabled",!0),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,buttonIndex),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;default:return console.log("[PREVIEW] Skipping unsupported field type",field),null}},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}},updateCssTransform=function updateCssTransform(el,key,value){var components=_toConsumableArray(el.style.transform.matchAll(/(\w+)\(([^)]*)\)/gi));el.style.transform=[components.filter((function(component){return component[1]!==key})).map((function(component){return component[0]})),key+"("+value+")"].join(" ")}},"./dist/esm/verdocs-field-payment.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_payment",(function(){return VerdocsFieldPayment}));__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_utils_ce7ce11a_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./dist/esm/utils-ce7ce11a.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsFieldPayment=function(){function VerdocsFieldPayment(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsFieldPayment),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.j)(this,hostRef),this.signatureComplete=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.e)(this,"signatureComplete",7),this.initialComplete=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.e)(this,"initialComplete",7),this._fields=[],this.signatureFile=null,this.initialFile=null,this.focusOrderNumber=-1,this.focusFieldName="",this.activeElement=null,this.showError={pageNum:-1,fieldIndex:-1,type:null},this.dialogOpened=!1,this.closeAllErrors=!1,this.fieldsMap={},this.fieldsForCurrentSigner=[],this.fontSize=11,this.averageFontWidth=5,this.requiredFields=[],this.field=null,this.disabled=!1,this.fields=void 0,this.pageNum=void 0,this.roleName=void 0,this.fieldId=void 0,this.recipients=void 0,this.selectedRoleName=void 0,this.pdfPages=void 0,this.currentSignature=void 0,this.currentSignatureId=void 0,this.currentInitial=void 0,this.currentInitialId=void 0,this.focused=!1,this.signed=!1,this.preparedMessage=void 0,this.signatureUrl="",this.roleIndex=0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsFieldPayment,[{key:"componentWillLoad",value:function componentWillLoad(){if(console.log("sign field",this.field),this.recipients&&this.recipients.length>0){var preparer=this.recipients.find((function(r){return"preparer"===r.type}));console.log("Found preparer",preparer),preparer&&(this.preparedMessage="Prepared by "+preparer.full_name)}}},{key:"render",value:function render(){var _a,_b,settings=Object(_utils_ce7ce11a_js__WEBPACK_IMPORTED_MODULE_10__.e)(this.field),disabled=null!==(_b=null!==(_a=this.disabled)&&void 0!==_a?_a:settings.disabled)&&void 0!==_b&&_b;console.log("Payment field",settings);var backgroundColor=this.field.rgba||Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__.a)(this.roleIndex);return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.b,{class:{focused:this.focused,disabled:disabled},style:{backgroundColor:backgroundColor}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("button",{class:{hide:this.signed}},"$"),this.signed?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("div",{class:"frame"}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("div",{style:{display:"none"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_8__.h)("img",{width:"100%",height:"100%",src:this.signatureUrl}))}}]),VerdocsFieldPayment}();VerdocsFieldPayment.style='verdocs-field-payment{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:24px;height:24px;display:block;font-size:11px;position:relative;border:1px solid #cfa;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left}verdocs-field-payment.disabled{opacity:0.5}verdocs-field-payment button,verdocs-field-payment div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-field-payment button{color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-payment button.hide{display:none}verdocs-field-payment input{float:left;font-family:Arial, sans-serif}verdocs-field-payment select{position:absolute;font-family:Arial, sans-serif;background:linear-gradient(55deg, transparent 50%, #333 50%), linear-gradient(125deg, #333 50%, transparent 50%), linear-gradient(to right, transparent, transparent);background-position:calc(100% - 7px) 4px, calc(100% - 3px) 4px, 100% 0;background-size:5px 5px, 5px 5px, 2.5em 2.5em;background-repeat:no-repeat;-webkit-appearance:none;-moz-appearance:none;appearance:none}verdocs-field-payment .frame{width:100%;height:100%;background-size:contain;text-align:left}verdocs-field-payment .frame img{position:absolute;height:auto;width:100%}verdocs-field-payment.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}'},"./node_modules/core-js/modules/es.string.match-all.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this-clause.js"),createIteratorConstructor=__webpack_require__("./node_modules/core-js/internals/iterator-create-constructor.js"),createIterResultObject=__webpack_require__("./node_modules/core-js/internals/create-iter-result-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isNullOrUndefined=__webpack_require__("./node_modules/core-js/internals/is-null-or-undefined.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),getRegExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-get-flags.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),defineBuiltIn=__webpack_require__("./node_modules/core-js/internals/define-built-in.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),MATCH_ALL=wellKnownSymbol("matchAll"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("RegExp String Iterator"),RegExpPrototype=RegExp.prototype,$TypeError=TypeError,stringIndexOf=uncurryThis("".indexOf),nativeMatchAll=uncurryThis("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails((function(){nativeMatchAll("a",/./)})),$RegExpStringIterator=createIteratorConstructor((function RegExpStringIterator(regexp,string,$global,fullUnicode){setInternalState(this,{type:"RegExp String Iterator",regexp:regexp,string:string,global:$global,unicode:fullUnicode,done:!1})}),"RegExp String",(function next(){var state=getInternalState(this);if(state.done)return createIterResultObject(void 0,!0);var R=state.regexp,S=state.string,match=regExpExec(R,S);return null===match?(state.done=!0,createIterResultObject(void 0,!0)):state.global?(""===toString(match[0])&&(R.lastIndex=advanceStringIndex(S,toLength(R.lastIndex),state.unicode)),createIterResultObject(match,!1)):(state.done=!0,createIterResultObject(match,!1))})),$matchAll=function(string){var matcher,$global,fullUnicode,R=anObject(this),S=toString(string),C=speciesConstructor(R,RegExp),flags=toString(getRegExpFlags(R));return matcher=new C(C===RegExp?R.source:R,flags),$global=!!~stringIndexOf(flags,"g"),fullUnicode=!!~stringIndexOf(flags,"u"),matcher.lastIndex=toLength(R.lastIndex),new $RegExpStringIterator(matcher,S,$global,fullUnicode)};$({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function matchAll(regexp){var flags,S,matcher,rx,O=requireObjectCoercible(this);if(isNullOrUndefined(regexp)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp)}else{if(isRegExp(regexp)&&(flags=toString(requireObjectCoercible(getRegExpFlags(regexp))),!~stringIndexOf(flags,"g")))throw $TypeError("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(O,regexp);if(void 0===(matcher=getMethod(regexp,MATCH_ALL))&&IS_PURE&&"RegExp"==classof(regexp)&&(matcher=$matchAll),matcher)return call(matcher,regexp,O)}return S=toString(O),rx=new RegExp(regexp,"g"),IS_PURE?call($matchAll,rx,S):rx[MATCH_ALL](S)}}),IS_PURE||MATCH_ALL in RegExpPrototype||defineBuiltIn(RegExpPrototype,MATCH_ALL,$matchAll)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVXRpbHMvRmllbGRzLmpzIiwid2VicGFjazovLy9zcmMvdXRpbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtcGF5bWVudC92ZXJkb2NzLWZpZWxkLXBheW1lbnQuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1maWVsZC1wYXltZW50L3ZlcmRvY3MtZmllbGQtcGF5bWVudC50c3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2gtYWxsLmpzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJyZXNjYWxlIiwiciIsIm4iLCJpbnRlZ2VyU2VxdWVuY2UiLCJzdGFydCIsImNvdW50IiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiXyIsImluZGV4IiwiZnVsbE5hbWVUb0luaXRpYWxzIiwibmFtZSIsInNwbGl0Iiwid29yZCIsImpvaW4iLCJzZXRDb250cm9sU3R5bGVzIiwiZWwiLCJmaWVsZCIsInhTY2FsZSIsInlTY2FsZSIsIm9wdGlvbiIsInNldHRpbmdzIiwic2V0dGluZyIsIngiLCJ5Iiwid2lkdGgiLCJkZWZhdWx0V2lkdGgiLCJ0eXBlIiwiaGVpZ2h0IiwiZGVmYXVsdEhlaWdodCIsIm9wdGlvblNldHRpbmdzIiwidW5kZWZpbmVkIiwib3B0aW9ucyIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwiYm90dG9tIiwidHJhbnNmb3JtIiwiZ2V0RmllbGRJZCIsImdldEZpZWxkT3B0aW9uSWQiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZG9jUGFnZSIsImZpZWxkT3B0aW9ucyIsImRpc2FibGVkIiwiZWRpdGFibGUiLCJkcmFnZ2FibGUiLCJjb250cm9sc0RpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250YWluZXJJZCIsImlkIiwiZXhpc3RpbmdGaWVsZCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJjaGVja2JveEluZGV4IiwiY2JFbCIsImJ1dHRvbkluZGV4IiwiY29uc29sZSIsImxvZyIsImdldFJvbGVJbmRleCIsInJvbGVzIiwicm9sZSIsImluZGV4T2YiLCJnZXRGaWVsZFNldHRpbmdzIiwicmVxdWlyZWQiLCJyZXN1bHQiLCJ2YWx1ZSIsInVwZGF0ZUNzc1RyYW5zZm9ybSIsImtleSIsImNvbXBvbmVudHMiLCJtYXRjaEFsbCIsImZpbHRlciIsImNvbXBvbmVudCIsIlZlcmRvY3NGaWVsZFBheW1lbnQiLCJfZmllbGRzIiwic2lnbmF0dXJlRmlsZSIsImluaXRpYWxGaWxlIiwiZm9jdXNPcmRlck51bWJlciIsImZvY3VzRmllbGROYW1lIiwiYWN0aXZlRWxlbWVudCIsInNob3dFcnJvciIsInBhZ2VOdW0iLCJmaWVsZEluZGV4IiwiZGlhbG9nT3BlbmVkIiwiY2xvc2VBbGxFcnJvcnMiLCJmaWVsZHNNYXAiLCJmaWVsZHNGb3JDdXJyZW50U2lnbmVyIiwiZm9udFNpemUiLCJhdmVyYWdlRm9udFdpZHRoIiwicmVxdWlyZWRGaWVsZHMiLCJjb21wb25lbnRXaWxsTG9hZCIsInRoaXMiLCJyZWNpcGllbnRzIiwibGVuZ3RoIiwicHJlcGFyZXIiLCJmaW5kIiwicHJlcGFyZWRNZXNzYWdlIiwicmVuZGVyIiwiYmFja2dyb3VuZENvbG9yIiwiaCIsIkhvc3QiLCJjbGFzcyIsImZvY3VzZWQiLCJoaWRlIiwic2lnbmVkIiwiZGlzcGxheSIsInNyYyIsInNpZ25hdHVyZVVybCIsIiQiLCJjYWxsIiwidW5jdXJyeVRoaXMiLCJjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yIiwiY3JlYXRlSXRlclJlc3VsdE9iamVjdCIsInJlcXVpcmVPYmplY3RDb2VyY2libGUiLCJ0b0xlbmd0aCIsInRvU3RyaW5nIiwiYW5PYmplY3QiLCJpc051bGxPclVuZGVmaW5lZCIsImNsYXNzb2YiLCJpc1JlZ0V4cCIsImdldFJlZ0V4cEZsYWdzIiwiZ2V0TWV0aG9kIiwiZGVmaW5lQnVpbHRJbiIsImZhaWxzIiwid2VsbEtub3duU3ltYm9sIiwic3BlY2llc0NvbnN0cnVjdG9yIiwiYWR2YW5jZVN0cmluZ0luZGV4IiwicmVnRXhwRXhlYyIsIkludGVybmFsU3RhdGVNb2R1bGUiLCJJU19QVVJFIiwiTUFUQ0hfQUxMIiwic2V0SW50ZXJuYWxTdGF0ZSIsInNldCIsImdldEludGVybmFsU3RhdGUiLCJnZXR0ZXJGb3IiLCJSRUdFWFBfU1RSSU5HIiwiUmVnRXhwUHJvdG90eXBlIiwiUmVnRXhwIiwicHJvdG90eXBlIiwiJFR5cGVFcnJvciIsIlR5cGVFcnJvciIsInN0cmluZ0luZGV4T2YiLCJuYXRpdmVNYXRjaEFsbCIsIldPUktTX1dJVEhfTk9OX0dMT0JBTF9SRUdFWCIsIiRSZWdFeHBTdHJpbmdJdGVyYXRvciIsIlJlZ0V4cFN0cmluZ0l0ZXJhdG9yIiwicmVnZXhwIiwic3RyaW5nIiwiJGdsb2JhbCIsImZ1bGxVbmljb2RlIiwiZ2xvYmFsIiwidW5pY29kZSIsImRvbmUiLCJuZXh0Iiwic3RhdGUiLCJSIiwiUyIsIm1hdGNoIiwibGFzdEluZGV4IiwiJG1hdGNoQWxsIiwibWF0Y2hlciIsIkMiLCJmbGFncyIsInNvdXJjZSIsInRhcmdldCIsInByb3RvIiwiZm9yY2VkIiwicngiLCJPIl0sIm1hcHBpbmdzIjoiZ0tBOEJPLFNBQVNBLFFBQVFDLFdBQ3BCLE9BQVFBLFVBQVksSUFDaEIsS0FBSyxFQUNELE9BQXFCLElBQWRBLFVBQWtCLHlCQUEyQiwyQkFDeEQsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8sMEJBQ1gs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QUFHUixRQUFTQyxZQUN4RCxFQUlBekMsRUFBRSxDQUFFd0QsT0FBUSxTQUFVQyxPQUFPLEVBQU1DLE9BQVF2Qiw2QkFBK0IsQ0FDeEV6RSxTQUFVLFNBQVNBLFNBQVM0RSxRQUMxQixJQUNJZ0IsTUFBT04sRUFBR0ksUUFBU08sR0FEbkJDLEVBQUl2RCx1QkFBdUJ0QixNQUUvQixHQUFLMEIsa0JBQWtCNkIsU0FTaEIsR0FBSUgsNEJBQTZCLE9BQU9ELGVBQWUwQixFQUFHdEIsWUFUakMsQ0FDOUIsR0FBSTNCLFNBQVMyQixVQUNYZ0IsTUFBUS9DLFNBQVNGLHVCQUF1Qk8sZUFBZTBCLFlBQ2pETCxjQUFjcUIsTUFBTyxNQUFNLE1BQU12QixXQUFXLGlEQUVwRCxHQUFJSSw0QkFBNkIsT0FBT0QsZUFBZTBCLEVBQUd0QixRQUcxRCxRQURnQnJILEtBRGhCbUksUUFBVXZDLFVBQVV5QixPQUFRaEIsYUFDQ0QsU0FBOEIsVUFBbkJYLFFBQVE0QixVQUFxQmMsUUFBVUQsV0FDM0VDLFFBQVMsT0FBT25ELEtBQUttRCxRQUFTZCxPQUFRc0IsRUFDNUMsQ0FHQSxPQUZBWixFQUFJekMsU0FBU3FELEdBQ2JELEdBQUssSUFBSTlCLE9BQU9TLE9BQVEsS0FDakJqQixRQUFVcEIsS0FBS2tELFVBQVdRLEdBQUlYLEdBQUtXLEdBQUdyQyxXQUFXMEIsRUFDMUQsSUFHRjNCLFNBQVdDLGFBQWFNLGlCQUFtQmQsY0FBY2MsZ0JBQWlCTixVQUFXNkIsVSIsImZpbGUiOiIyNC4wYjVhZjkxZS5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHaXZlbiBhIGByZ2JhKHIsZyxiLGEpYCBzdHJpbmcgdmFsdWUsIHJldHVybnMgdGhlIGhleCBlcXVpdmFsZW50LCBkcm9wcGluZyB0aGUgYWxwaGEgY2hhbm5lbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJHQihyZ2JhKSB7XG4gICAgdmFyIHJnYk51bWJlcnMgPSByZ2JhLnJlcGxhY2UoJ3JnYmEoJywgJycpLnJlcGxhY2UoJyknLCAnJykuc3BsaXQoJywnKTtcbiAgICB2YXIgcmdiT2JqZWN0ID0ge1xuICAgICAgICByZWQ6ICtyZ2JOdW1iZXJzWzBdLFxuICAgICAgICBncmVlbjogK3JnYk51bWJlcnNbMV0sXG4gICAgICAgIGJsdWU6ICtyZ2JOdW1iZXJzWzJdLFxuICAgICAgICBhbHBoYTogK3JnYk51bWJlcnNbM10sXG4gICAgfTtcbiAgICB2YXIgYWxwaGEgPSAxIC0gcmdiT2JqZWN0LmFscGhhO1xuICAgIHZhciByZWQgPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LnJlZCAvIDI1NSkgKyBhbHBoYSkgKiAyNTUpO1xuICAgIHZhciBncmVlbiA9IE1hdGgucm91bmQoKHJnYk9iamVjdC5hbHBoYSAqIChyZ2JPYmplY3QuZ3JlZW4gLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICB2YXIgYmx1ZSA9IE1hdGgucm91bmQoKHJnYk9iamVjdC5hbHBoYSAqIChyZ2JPYmplY3QuYmx1ZSAvIDI1NSkgKyBhbHBoYSkgKiAyNTUpO1xuICAgIHJldHVybiAnIycgKyByZ2JUb0hleChyZWQpICsgcmdiVG9IZXgoZ3JlZW4pICsgcmdiVG9IZXgoYmx1ZSk7XG59XG4vKipcbiAqIEdpdmVuIGFuIFJHQiBzdHJpbmcgdmFsdWUsIHJldHVybnMgdGhlIGhleCBlcXVpdmFsZW50LlxuICovXG5mdW5jdGlvbiByZ2JUb0hleChyZ2IpIHtcbiAgICB2YXIgaGV4ID0gcmdiLnRvU3RyaW5nKDE2KTtcbiAgICBpZiAoaGV4Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuICcwJyArIGhleDtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn1cbi8qKlxuICogR2l2ZW4gYSBzaWduZXIgcm9sZSBpbmRleCwgcmV0dXJuIHRoZSBjb2xvciBjb2RlIGZvciB0aGF0IHNpZ25lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJHQkEocm9sZUluZGV4KSB7XG4gICAgc3dpdGNoIChyb2xlSW5kZXggJSAxMCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gcm9sZUluZGV4ID09PSAwID8gJ3JnYmEoMjU1LCAxOTMsIDcsIDAuNCknIDogJ3JnYmEoMTM0LCAxMzQsIDEzNCwgMC4zKSc7IC8vICNGRkU2OUNcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDE1NiwgMzksIDE3NiwgLjQpJzsgLy8gJyNFM0MzRTknXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgzMywgMTUwLCAyNDMsIC40KSc7IC8vICcjQzFFMUZCJ1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjIwLCAyMzEsIDExNywgMC4zKSc7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxMjEsIDEzNCwgMjAzLCAwLjMpJztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDc3LCAxODIsIDE3MiwgMC4zKSc7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDIwMiwgMTY1LCAwLjMpJztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIsIDI0NywgMTkwLCAwLjMpJztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDI1NSwgMTM4LCAxMDEsIDAuMyknO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoODIsIDI1NSwgNzksIDAuMyknO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyOSwgMTE1LCAxNTUsIDAuMyknO1xuICAgIH1cbn1cbi8qKlxuICogR2l2ZW4gYSByb2xlIG5hbWUsIHJldHVybiBhIGNvbG9yIGNvZGUgZm9yIGl0LiBUaGlzIHdvcmtzIGJ5IGNvbXB1dGluZyBhIGhhc2ggY29kZSBzbyB0aGUgc3BlY2lmaWMgY29sb3IgcmV0dXJuZWRcbiAqIGlzIG5vdCBzcGVjaWZpZWQgZXhwbGljaXRseSwgYnV0IHdpbGwgYmUgdGhlIHNhbWUgZm9yIGV2ZXJ5IGNhbGwgd2l0aCB0aGUgc2FtZSBpbnB1dCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5hbWVUb1JHQkEoc3RyKSB7XG4gICAgaWYgKCEhc3RyKSB7XG4gICAgICAgIHZhciB2YWxpZE51bSA9IHBhcnNlSW50KHN0ci5zbGljZSgtMSksIDEwKTtcbiAgICAgICAgaWYgKCFpc05hTih2YWxpZE51bSkpIHtcbiAgICAgICAgICAgIHN0ciArPSAodmFsaWROdW0gKiA5OSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzaCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBoYXNoID0gc3RyLmNoYXJDb2RlQXQoaSkgKyAoKGhhc2ggPDwgNSkgLSBoYXNoKTtcbiAgICAgICAgfVxuICAgICAgICBoYXNoID0gTWF0aC5yb3VuZChoYXNoIC8gMS4zKTtcbiAgICAgICAgdmFyIGMgPSAoaGFzaCAmIDB4MDBmZmZmMDgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgaGV4ID0gJyMnICsgJzAwMDAwJy5zdWJzdHJpbmcoMCwgNiAtIGMubGVuZ3RoKSArIGM7XG4gICAgICAgIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgICAgICAgdmFyIGNvbG9yID0ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gXCJyZ2JhKFwiLmNvbmNhdChjb2xvci5yLCBcIiwgXCIpLmNvbmNhdChjb2xvci5nLCBcIiwgXCIpLmNvbmNhdChjb2xvci5iLCBcIiwgMC4yKVwiKTtcbiAgICB9XG59XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBvYnRhaW4gYSBjb2xvciBjb2RlIGdpdmVuIGEgcm9sZSBuYW1lIGdpdmVuIHZhcmlvdXMgcG9zc2libGUgaW5wdXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9sZUNvbG9yKG5hbWUsIHJvbGVzLCBpbmRleCkge1xuICAgIGlmIChpbmRleCkge1xuICAgICAgICByZXR1cm4gZ2V0UkdCQShpbmRleCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJvbGVzICYmIHJvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHJvbGVJbmRleCA9IHJvbGVzLmZpbmRJbmRleChmdW5jdGlvbiAocm9sZSkgeyByZXR1cm4gcm9sZS5uYW1lID09PSBuYW1lOyB9KTtcbiAgICAgICAgaWYgKHJvbGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcm9sZXNbcm9sZUluZGV4XS5yZ2JhIHx8IGdldFJHQkEocm9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lVG9SR0JBKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmFtZVRvUkdCQShuYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UlRvcCh5LCBmaWVsZEhlaWdodCwgaVRleHRIZWlnaHQsIHlSYXRpbykge1xuICAgIHJldHVybiBpVGV4dEhlaWdodCAtICh5ICsgZmllbGRIZWlnaHQpICogeVJhdGlvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJMZWZ0KHgsIHJhdGlvKSB7XG4gICAgcmV0dXJuIHggKiByYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSVmFsdWUoeSwgcmF0aW8pIHtcbiAgICByZXR1cm4geSAqIHJhdGlvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChpbWFnZSkge1xuICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignUHJvYmxlbSByZWFkaW5nIGJsb2IuJykpO1xuICAgICAgICB9O1xuICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZmlsZVJlYWRlci5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2UpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2NhbGUociwgbikge1xuICAgIHJldHVybiByICogbjtcbn1cbiIsIi8vIFRoZXNlIHNob3VsZCBwcm9iYWJseSBhbGwgbW92ZSB0byBKUy1TREtcbmltcG9ydCB7cmVzY2FsZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1V0aWxzL0ZpZWxkcyc7XG4vLyBpbXBvcnQge2dldFJHQkF9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMnO1xuaW1wb3J0IHtJVGVtcGxhdGVGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UeXBlcyc7XG5pbXBvcnQge0lEb2N1bWVudEZpZWxkfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1R5cGVzJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm99IGZyb20gJy4vVHlwZXMnO1xuXG5leHBvcnQgY29uc3QgaW50ZWdlclNlcXVlbmNlID0gKHN0YXJ0OiBudW1iZXIsIGNvdW50OiBudW1iZXIpOiBudW1iZXJbXSA9PlxuICBBcnJheShjb3VudClcbiAgICAuZmlsbCgxKVxuICAgIC5tYXAoKF8sIGluZGV4KSA9PiBpbmRleCArIHN0YXJ0KTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxOYW1lVG9Jbml0aWFscyA9IChuYW1lOiBzdHJpbmcpID0+XG4gIG5hbWVcbiAgICAuc3BsaXQoJyAnKVxuICAgIC5tYXAod29yZCA9PiB3b3JkWzBdKVxuICAgIC5qb2luKCcnKTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRXaWR0aCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICAgIHJldHVybiAyNDtcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICByZXR1cm4gMTQ7XG4gICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICAgIHJldHVybiA4MjtcbiAgfVxuXG4gIHJldHVybiAxNTA7XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdEhlaWdodCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICAgIHJldHVybiAyNDtcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICByZXR1cm4gMTQ7XG4gICAgY2FzZSAnc2lnbmF0dXJlJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICAgIHJldHVybiA0MTtcbiAgfVxuXG4gIHJldHVybiA1MDtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRDb250cm9sU3R5bGVzID0gKGVsOiBIVE1MRWxlbWVudCwgZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQsIHhTY2FsZTogbnVtYmVyLCB5U2NhbGU6IG51bWJlciwgb3B0aW9uPzogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHNldHRpbmdzID0gKGZpZWxkIGFzIElUZW1wbGF0ZUZpZWxkKS5zZXR0aW5nIHx8IChmaWVsZCBhcyBJRG9jdW1lbnRGaWVsZCkuc2V0dGluZ3M7XG4gIGxldCB7eCA9IDAsIHkgPSAwLCB3aWR0aCA9IGRlZmF1bHRXaWR0aChmaWVsZCksIGhlaWdodCA9IGRlZmF1bHRIZWlnaHQoZmllbGQpfSA9IHNldHRpbmdzO1xuXG4gIGNvbnN0IG9wdGlvblNldHRpbmdzID0gb3B0aW9uICE9PSB1bmRlZmluZWQgJiYgc2V0dGluZ3Mub3B0aW9uc1tvcHRpb25dID8gc2V0dGluZ3Mub3B0aW9uc1tvcHRpb25dIDogbnVsbDtcbiAgaWYgKG9wdGlvblNldHRpbmdzKSB7XG4gICAgeCA9IG9wdGlvblNldHRpbmdzLnggPz8geDtcbiAgICB5ID0gb3B0aW9uU2V0dGluZ3MueSA/PyB5O1xuICAgIHdpZHRoID0gb3B0aW9uU2V0dGluZ3Mud2lkdGggPz8gd2lkdGg7XG4gICAgaGVpZ2h0ID0gb3B0aW9uU2V0dGluZ3MuaGVpZ2h0ID8/IGhlaWdodDtcbiAgfVxuXG4gIGVsLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICBlbC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIGVsLnN0eWxlLmxlZnQgPSBgJHtyZXNjYWxlKHhTY2FsZSwgeCl9cHhgO1xuICBlbC5zdHlsZS5ib3R0b20gPSBgJHtyZXNjYWxlKHlTY2FsZSwgeSl9cHhgO1xuICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHt4U2NhbGV9LCAke3lTY2FsZX0pYDtcbiAgLy8gZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZmllbGRbJ3JnYmEnXSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRJZCA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICByZXR1cm4gYHZlcmRvY3MtZG9jLWZsZC0ke2ZpZWxkLm5hbWV9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZE9wdGlvbklkID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBgdmVyZG9jcy1kb2MtZmxkLSR7ZmllbGQubmFtZX0tJHtpbmRleH1gO1xufTtcblxuaW50ZXJmYWNlIElGaWVsZE9wdGlvbnMge1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGVkaXRhYmxlPzogYm9vbGVhbjtcbiAgZHJhZ2dhYmxlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IHJlbmRlckRvY3VtZW50RmllbGQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQsIGRvY1BhZ2U6IElEb2N1bWVudFBhZ2VJbmZvLCByb2xlSW5kZXg6IG51bWJlciwgZmllbGRPcHRpb25zOiBJRmllbGRPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtkaXNhYmxlZCA9IGZhbHNlLCBlZGl0YWJsZSA9IGZhbHNlLCBkcmFnZ2FibGUgPSBmYWxzZX0gPSBmaWVsZE9wdGlvbnM7XG4gIGNvbnN0IGNvbnRyb2xzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9jUGFnZS5jb250YWluZXJJZCArICctY29udHJvbHMnKTtcbiAgaWYgKCFjb250cm9sc0Rpdikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIGNhc2UgJ2RhdGUnOlxuICAgIGNhc2UgJ2Ryb3Bkb3duJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgIGNhc2UgJ3RleHRib3gnOiB7XG4gICAgICBjb25zdCBpZCA9IGdldEZpZWxkSWQoZmllbGQpO1xuICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIGlmIChleGlzdGluZ0ZpZWxkKSB7XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtJHtmaWVsZC50eXBlfWApO1xuICAgICAgZWwuZmllbGQgPSBmaWVsZDtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIHJvbGVJbmRleCk7XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkcmFnZ2FibGUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHNldENvbnRyb2xTdHlsZXMoZWwsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUpO1xuICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQoZWwpO1xuXG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgICAgKChmaWVsZCBhcyBhbnkpLnNldHRpbmdzIHx8IChmaWVsZCBhcyBhbnkpLnNldHRpbmcgfHwge30pLm9wdGlvbnMuZm9yRWFjaCgoXywgY2hlY2tib3hJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldEZpZWxkT3B0aW9uSWQoZmllbGQsIGNoZWNrYm94SW5kZXgpO1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2JFbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC1jaGVja2JveGApO1xuICAgICAgICBjYkVsLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIHJvbGVJbmRleCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdvcHRpb24nLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhjYkVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQoY2JFbCk7XG5cbiAgICAgICAgcmV0dXJuIGNiRWw7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgKChmaWVsZCBhcyBhbnkpLnNldHRpbmdzIHx8IChmaWVsZCBhcyBhbnkpLnNldHRpbmcgfHwge30pLm9wdGlvbnMuZm9yRWFjaCgoXywgYnV0dG9uSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZE9wdGlvbklkKGZpZWxkLCBidXR0b25JbmRleCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0ZpZWxkKSB7XG4gICAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhleGlzdGluZ0ZpZWxkLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYkVsOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB2ZXJkb2NzLWZpZWxkLXJhZGlvLWJ1dHRvbmApO1xuICAgICAgICBjYkVsLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIHJvbGVJbmRleCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdvcHRpb24nLCBidXR0b25JbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoY2JFbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSwgYnV0dG9uSW5kZXgpO1xuICAgICAgICBjb250cm9sc0Rpdi5hcHBlbmRDaGlsZChjYkVsKTtcblxuICAgICAgICByZXR1cm4gY2JFbDtcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcblxuICAgIC8vIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIC8vICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLWZpZWxkLWF0dGFjaG1lbnQnKTtcbiAgICAvLyAgIGVsLnNldEF0dHJpYnV0ZSgndmFsdWUnLCByZXN1bHQgfHwgJycpO1xuICAgIC8vICAgYnJlYWs7XG4gICAgLy8gY2FzZSAncGF5bWVudCc6XG4gICAgLy8gICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZlcmRvY3MtZmllbGQtcGF5bWVudCcpO1xuICAgIC8vICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUubG9nKCdbUFJFVklFV10gU2tpcHBpbmcgdW5zdXBwb3J0ZWQgZmllbGQgdHlwZScsIGZpZWxkKTtcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Um9sZUluZGV4ID0gKHJvbGVzOiBzdHJpbmdbXSwgcm9sZTogc3RyaW5nKSA9PiByb2xlcy5pbmRleE9mKHJvbGUpIHx8IDA7XG5cbi8vIFRPRE86IFdlIGNhbiBjbGVhbiB0aGlzIHVwIGEgbG90IGlmIHdlIGFsdGVyIHRoZSBBUEkgdG8gZW1pdCBib3RoIHNldHRpbmcgYW5kIHNldHRpbmdzIHJlZ2FyZGxlc3Mgb2YgdGhlIHNvdXJjZSB0eXBlLFxuLy8gICBidXQgdGhlbiBtZXJnZSB0aGUgU0RLIHR5cGVzIHRvIGVuY291cmFnZSBkZXZlbG9wZXJzIHRvIHVzZSBqdXN0IGBzZXR0aW5nc2AuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRTZXR0aW5ncyA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICBpZiAoKGZpZWxkIGFzIElUZW1wbGF0ZUZpZWxkKS5zZXR0aW5nKSB7XG4gICAgcmV0dXJuIChmaWVsZCBhcyBJVGVtcGxhdGVGaWVsZCkuc2V0dGluZztcbiAgfVxuXG4gIGlmICgoZmllbGQgYXMgSURvY3VtZW50RmllbGQpLnNldHRpbmdzKSB7XG4gICAgcmV0dXJuIChmaWVsZCBhcyBJRG9jdW1lbnRGaWVsZCkuc2V0dGluZ3M7XG4gIH1cblxuICByZXR1cm4ge3g6IDAsIHk6IDAsIHJlcXVpcmVkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlLCByZXN1bHQ6ICcnLCB2YWx1ZTogJyd9O1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2FmZWx5IHNldC91cGRhdGUgY29tcG9uZW50cyBpbiBhIENTUyB0cmFuc2Zvcm0gYXR0cmlidXRlLiBUcmFuc2Zvcm0gaXMgbm9ybWFsbHkgc2V0IGFzIGEgc3RyaW5nIG9mXG4gKiBgb3BlcmF0aW9uMShwYXJhbSkgb3BlcmF0aW9uMihwYXJhbSkgLi4uYCBjb21wb25lbnRzLCB3aGljaCBtYWtlcyB1cGRhdGluZyB0aGVtIGEgYml0IG9mIGEgcGFpbi4gVGhpcyB3aWxsIHJlbW92ZSB0aGVcbiAqIHNwZWNpZmllZCBjb21wb25lbnQgaWYgaXQncyBhbHJlYWR5IHNldCBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoZSBuZXcgdmFsdWUsIHdpdGhvdXQgdG91Y2hpbmcgdGhlIG90aGVyIGNvbXBvbmVudHMgdGhhdFxuICogbWF5IGFscmVhZHkgYmUgc2V0LiBOb3RlIHRoYXQgdGhpcyBvcGVyYXRpb24gbW92ZXMgdGhlIGNvbXBvbmVudCB0byB0aGUgZW5kIG9mIHRoZSB0cmFuc2Zvcm0gY2hhaW4gc28gaXQncyBub3QgbWVhbnRcbiAqIHRvIGJlIHVzZWQgZm9yIG9yZGVyLXNlbnNpdGl2ZSBjb21wb25lbnRzIGUuZy4gdHJhbnNsYXRlLXRoZW4tcm90YXRlLlxuICovXG5leHBvcnQgY29uc3QgdXBkYXRlQ3NzVHJhbnNmb3JtID0gKGVsOiBIVE1MRWxlbWVudCwga2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgLy8gZS5nLiAnc2NhbGUoMS44NzkwOCwgMS44NzkwOCkgdHJhbnNsYXRlKDBweCwgMHB4KTsnXG4gIGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm0gPSBlbC5zdHlsZS50cmFuc2Zvcm07XG4gIC8vIGUuZy4gWydzY2FsZSgxLjg3OTA4LCAxLjg3OTA4KScsICdzY2FsZScsICcxLjg3OTA4LCAxLjg3OTA4JywgLi4uXSwgWyAndHJhbnNsYXRlKDBweCwgMHB4KScsICd0cmFuc2xhdGUnLCAnMHB4LCAwcHgnXV1cbiAgY29uc3QgY29tcG9uZW50cyA9IFsuLi5jdXJyZW50VHJhbnNmb3JtLm1hdGNoQWxsKC8oXFx3KylcXCgoW14pXSopXFwpL2dpKV07XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IFtcbiAgICBjb21wb25lbnRzIC8vXG4gICAgICAuZmlsdGVyKGNvbXBvbmVudCA9PiBjb21wb25lbnRbMV0gIT09IGtleSkgLy8gUmVtb3ZlIHRoZSBlbnRyeSBpZiBpdCdzIGFscmVhZHkgc2V0XG4gICAgICAubWFwKGNvbXBvbmVudCA9PiBjb21wb25lbnRbMF0pLCAvLyBDb252ZXJ0IGJhY2sgdGhlIHJlbWFpbmluZyBlbnRyaWVzXG4gICAgYCR7a2V5fSgke3ZhbHVlfSlgLFxuICBdLmpvaW4oJyAnKTtcbn07XG4iLCJAaW1wb3J0ICcuLi8uLi8uLi90aGVtZS5zY3NzJztcblxudmVyZG9jcy1maWVsZC1wYXltZW50IHtcbiAgZm9udC1mYW1pbHk6ICR2ZXJkb2NzLXByaW1hcnktZm9udDtcbiAgd2lkdGg6IDI0cHg7XG4gIGhlaWdodDogMjRweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2ZhO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgdHJhbnNmb3JtLW9yaWdpbjogYm90dG9tIGxlZnQ7XG5cbiAgJi5kaXNhYmxlZCB7XG4gICAgb3BhY2l0eTogMC41O1xuICB9XG5cbiAgYnV0dG9uLFxuICBkaXYge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cblxuICBidXR0b24ge1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xuICAgIC8vYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjUsIDI1NSwgMjU1LCAwLjUpO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcblxuICAgICYuaGlkZSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxuXG4gIGlucHV0IHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG4gIH1cblxuICBzZWxlY3Qge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDU1ZGVnLCB0cmFuc3BhcmVudCA1MCUsICMzMzMgNTAlKSwgbGluZWFyLWdyYWRpZW50KDEyNWRlZywgIzMzMyA1MCUsIHRyYW5zcGFyZW50IDUwJSksIGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgdHJhbnNwYXJlbnQsIHRyYW5zcGFyZW50KTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjYWxjKDEwMCUgLSA3cHgpIDRweCwgY2FsYygxMDAlIC0gM3B4KSA0cHgsIDEwMCUgMDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDVweCA1cHgsIDVweCA1cHgsIDIuNWVtIDIuNWVtO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgfVxuXG4gIC5mcmFtZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuXG4gICAgaW1nIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgfVxuXG4gICYuZm9jdXNlZCB7XG4gICAgYW5pbWF0aW9uOiB2ZXJkb2NzLWZpZWxkLXB1bHNlIDAuNzVzIDI7XG4gIH1cbn1cbiIsImltcG9ydCB7Z2V0UkdCQX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1V0aWxzL0NvbG9ycyc7XG5pbXBvcnQge0lUZW1wbGF0ZUZpZWxkfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1R5cGVzJztcbmltcG9ydCB7SURvY3VtZW50RmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvVHlwZXMnO1xuaW1wb3J0IHtDb21wb25lbnQsIGgsIEhvc3QsIFByb3AsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIFN0YXRlfSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7Z2V0RmllbGRTZXR0aW5nc30gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG4vKipcbiAqIERpc3BsYXlzIGEgc2lnbmF0dXJlIGZpZWxkLiBWYXJpb3VzIGZpZWxkIHR5cGVzIGFyZSBzdXBwb3J0ZWQsIGluY2x1ZGluZyB0cmFkaXRpb25hbCBTaWduYXR1cmUgYW5kIEluaXRpYWxzIHR5cGVzIGFzIHdlbGwgYXNcbiAqIGlucHV0IHR5cGVzIGxpa2UgdGV4dCBhbmQgY2hlY2tib3guXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLWZpZWxkLXBheW1lbnQnLFxuICBzdHlsZVVybDogJ3ZlcmRvY3MtZmllbGQtcGF5bWVudC5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc0ZpZWxkUGF5bWVudCB7XG4gIC8qKlxuICAgKiBUaGUgZG9jdW1lbnQgb3IgdGVtcGxhdGUgZmllbGQgdG8gZGlzcGxheS5cbiAgICovXG4gIEBQcm9wKCkgZmllbGQ6IElEb2N1bWVudEZpZWxkIHwgSVRlbXBsYXRlRmllbGQgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogSWYgc2V0LCBvdmVycmlkZXMgdGhlIGZpZWxkJ3Mgc2V0dGluZ3Mgb2JqZWN0LiBQcmltYXJpbHkgdXNlZCB0byBzdXBwb3J0IFwicHJldmlld1wiIG1vZGVzIHdoZXJlIGFsbCBmaWVsZHMgYXJlIGRpc2FibGVkLlxuICAgKi9cbiAgQFByb3AoKSBkaXNhYmxlZD86IGJvb2xlYW4gPSBmYWxzZTtcblxuICBAUHJvcCgpIGZpZWxkczogYW55W107XG4gIEBQcm9wKCkgcGFnZU51bTogbnVtYmVyO1xuICBAUHJvcCgpIHJvbGVOYW1lOiBzdHJpbmc7XG4gIEBQcm9wKCkgZmllbGRJZDogc3RyaW5nO1xuICBAUHJvcCgpIHJlY2lwaWVudHM6IGFueTtcbiAgQFByb3AoKSBzZWxlY3RlZFJvbGVOYW1lOiBzdHJpbmc7XG4gIEBQcm9wKCkgcGRmUGFnZXM6IGFueVtdO1xuICBAUHJvcCgpIGN1cnJlbnRTaWduYXR1cmU6IHN0cmluZztcbiAgQFByb3AoKSBjdXJyZW50U2lnbmF0dXJlSWQ6IHN0cmluZztcbiAgQFByb3AoKSBjdXJyZW50SW5pdGlhbDogc3RyaW5nO1xuICBAUHJvcCgpIGN1cnJlbnRJbml0aWFsSWQ6IHN0cmluZztcbiAgQFByb3AoKSBmb2N1c2VkOiBib29sZWFuID0gZmFsc2U7XG4gIEBQcm9wKCkgc2lnbmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIHNpZ25hdHVyZUNvbXBsZXRlOiBFdmVudEVtaXR0ZXI8c3RyaW5nPjtcblxuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgaW5pdGlhbENvbXBsZXRlOiBFdmVudEVtaXR0ZXI8c3RyaW5nPjtcblxuICBAU3RhdGUoKSBwcmVwYXJlZE1lc3NhZ2U6IHN0cmluZztcbiAgQFN0YXRlKCkgc2lnbmF0dXJlVXJsOiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgZmllbGQgd2lsbCBiZSBjb2xvcmVkIHVzaW5nIHRoaXMgaW5kZXggdmFsdWUgdG8gc2VsZWN0IHRoZSBiYWNrZ3JvdW5kIGNvbG9yLlxuICAgKi9cbiAgQFByb3AoKSByb2xlSW5kZXg/OiBudW1iZXIgPSAwO1xuXG4gIF9maWVsZHM6IGFueVtdID0gW107XG4gIC8vIGVudmVsb3BlRmllbGRzRm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gIHNpZ25hdHVyZUZpbGU6IGFueSA9IG51bGw7XG4gIGluaXRpYWxGaWxlOiBhbnkgPSBudWxsO1xuICB0b2RheTogc3RyaW5nO1xuICBmb2N1c09yZGVyTnVtYmVyID0gLTE7XG4gIGZvY3VzRmllbGROYW1lOiBzdHJpbmcgPSAnJztcbiAgdGltZXI6IGFueTtcbiAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gIHNob3dFcnJvciA9IHtcbiAgICBwYWdlTnVtOiAtMSxcbiAgICBmaWVsZEluZGV4OiAtMSxcbiAgICB0eXBlOiBudWxsLFxuICB9O1xuICBkaWFsb2dPcGVuZWQgPSBmYWxzZTtcbiAgY2xvc2VBbGxFcnJvcnMgPSBmYWxzZTtcbiAgZmllbGRzTWFwOiBhbnkgPSB7fTtcbiAgbW9kZTogc3RyaW5nO1xuXG4gIGZpZWxkc0ZvckN1cnJlbnRTaWduZXI6IGFueVtdID0gW107XG5cbiAgdmFsaWRhdG9ycztcbiAgZm9udFNpemUgPSAxMTtcbiAgYXZlcmFnZUZvbnRXaWR0aCA9IDU7XG4gIHJlcXVpcmVkRmllbGRzOiBhbnlbXSA9IFtdO1xuXG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIC8vIExvYWQgdmFsaWRhdG9yc1xuICAgIC8vIExvYWQgZmllbGRzXG4gICAgLy8gR2V0IHJvbGUgbmFtZXNcbiAgICBjb25zb2xlLmxvZygnc2lnbiBmaWVsZCcsIHRoaXMuZmllbGQpO1xuXG4gICAgaWYgKHRoaXMucmVjaXBpZW50cyAmJiB0aGlzLnJlY2lwaWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcHJlcGFyZXIgPSB0aGlzLnJlY2lwaWVudHMuZmluZChyID0+IHIudHlwZSA9PT0gJ3ByZXBhcmVyJyk7XG4gICAgICBjb25zb2xlLmxvZygnRm91bmQgcHJlcGFyZXInLCBwcmVwYXJlcik7XG4gICAgICBpZiAocHJlcGFyZXIpIHtcbiAgICAgICAgdGhpcy5wcmVwYXJlZE1lc3NhZ2UgPSBgUHJlcGFyZWQgYnkgJHtwcmVwYXJlclsnZnVsbF9uYW1lJ119YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBbdGFiSW5kZXhdPVwiZmllbGQucm9sZSAhPT0gcm9sZU5hbWUgPyAtMSA6IDFcIlxuICAvLyBbbmdTdHlsZV09XCJmaWVsZC5lbGVtZW50X3N0eWxlXCJcbiAgLy8gW3ZhbHVlXT1cImZpZWxkLnZhbHVlXCJcbiAgLy8gKGNsaWNrKT1cImluaXRpYXRlU2lnbihmaWVsZClcIlxuICAvLyAoYmx1cik9XCJ2YWxpZGF0ZUNoYW5nZXMoZmllbGQpXCJcbiAgLy8gW2Rpc2FibGVkXT1cImZpZWxkLnJvbGUhPT1yb2xlTmFtZVwiXG4gIC8vIFtpZF09XCJmaWVsZC5rZXlcIlxuXG4gIC8vIDxidXR0b24gX25nY29udGVudC1hcHAtcm9vdC1jMzQyPVwiXCIgY2xhc3M9XCJlbnZlbG9wZV9fZmllbGRcIiB0YWJpbmRleD1cIjFcIiBuZy1yZWZsZWN0LW5nLXN0eWxlPVwiW29iamVjdCBPYmplY3RdXCJcbiAgLy8gbmctcmVmbGVjdC1uZy1jbGFzcz1cIltvYmplY3QgT2JqZWN0XVwiIHZhbHVlPVwiXCIgaWQ9XCJzaWduYXR1cmVQNS0xXCJcbiAgLy8gc3R5bGU9XCJoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kOiBub25lOyBmb250LXNpemU6IDExcHg7IGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDQsIDAsIDApO1wiPiBTaWduYXR1cmUgPC9idXR0b24+XG5cbiAgLy8gICAgIGJvdHRvbTogMjI5LjMzM1xuICAvLyBweFxuICAvLyA7XG4gIC8vICAgICBsZWZ0OiAxNjkuMzMzXG4gIC8vIHB4XG4gIC8vIDtcbiAgLy8gICAgIGhlaWdodDogNDFcbiAgLy8gcHhcbiAgLy8gO1xuICAvLyAgICAgd2lkdGg6IDgyXG4gIC8vIHB4XG4gIC8vIDtcbiAgLy8gICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTU2LCAzOSwgMTc2LCAwLjQpO1xuICAvLyAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjMzMzMzLCAxLjMzMzMzKTtcbiAgLy8gfVxuICAvLyA8c3R5bGU+XG4gIC8vIC5lbnZlbG9wZV9faXRlbVtfbmdjb250ZW50LWFwcC1yb290LWMzNDJdIHtcbiAgLy8gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgLy8gICAgIHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSBsZWZ0O1xuICAvLyAgICAgb3BhY2l0eTogMTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRGaWVsZFNldHRpbmdzKHRoaXMuZmllbGQpO1xuICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZCA/PyBzZXR0aW5ncy5kaXNhYmxlZCA/PyBmYWxzZTtcbiAgICBjb25zb2xlLmxvZygnUGF5bWVudCBmaWVsZCcsIHNldHRpbmdzKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmZpZWxkWydyZ2JhJ10gfHwgZ2V0UkdCQSh0aGlzLnJvbGVJbmRleCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3QgY2xhc3M9e3tmb2N1c2VkOiB0aGlzLmZvY3VzZWQsIGRpc2FibGVkfX0gc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3J9fT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz17e2hpZGU6IHRoaXMuc2lnbmVkfX0+JDwvYnV0dG9uPlxuICAgICAgICB7dGhpcy5zaWduZWQgPyA8ZGl2IGNsYXNzPVwiZnJhbWVcIiAvPiA6IDxkaXYgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPn1cbiAgICAgICAgPGltZyB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgc3JjPXt0aGlzLnNpZ25hdHVyZVVybH0gLz5cbiAgICAgIDwvSG9zdD5cbiAgICApO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zdHJpbmctcHJvdG90eXBlLW1hdGNoYWxsIC0tIHNhZmUgKi9cbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcy1jbGF1c2UnKTtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9yLWNyZWF0ZS1jb25zdHJ1Y3RvcicpO1xudmFyIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLWl0ZXItcmVzdWx0LW9iamVjdCcpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgaXNSZWdFeHAgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcmVnZXhwJyk7XG52YXIgZ2V0UmVnRXhwRmxhZ3MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWdldC1mbGFncycpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgYWR2YW5jZVN0cmluZ0luZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgcmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcblxudmFyIE1BVENIX0FMTCA9IHdlbGxLbm93blN5bWJvbCgnbWF0Y2hBbGwnKTtcbnZhciBSRUdFWFBfU1RSSU5HID0gJ1JlZ0V4cCBTdHJpbmcnO1xudmFyIFJFR0VYUF9TVFJJTkdfSVRFUkFUT1IgPSBSRUdFWFBfU1RSSU5HICsgJyBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihSRUdFWFBfU1RSSU5HX0lURVJBVE9SKTtcbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG52YXIgc3RyaW5nSW5kZXhPZiA9IHVuY3VycnlUaGlzKCcnLmluZGV4T2YpO1xudmFyIG5hdGl2ZU1hdGNoQWxsID0gdW5jdXJyeVRoaXMoJycubWF0Y2hBbGwpO1xuXG52YXIgV09SS1NfV0lUSF9OT05fR0xPQkFMX1JFR0VYID0gISFuYXRpdmVNYXRjaEFsbCAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICBuYXRpdmVNYXRjaEFsbCgnYScsIC8uLyk7XG59KTtcblxudmFyICRSZWdFeHBTdHJpbmdJdGVyYXRvciA9IGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IoZnVuY3Rpb24gUmVnRXhwU3RyaW5nSXRlcmF0b3IocmVnZXhwLCBzdHJpbmcsICRnbG9iYWwsIGZ1bGxVbmljb2RlKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IFJFR0VYUF9TVFJJTkdfSVRFUkFUT1IsXG4gICAgcmVnZXhwOiByZWdleHAsXG4gICAgc3RyaW5nOiBzdHJpbmcsXG4gICAgZ2xvYmFsOiAkZ2xvYmFsLFxuICAgIHVuaWNvZGU6IGZ1bGxVbmljb2RlLFxuICAgIGRvbmU6IGZhbHNlXG4gIH0pO1xufSwgUkVHRVhQX1NUUklORywgZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgaWYgKHN0YXRlLmRvbmUpIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIHZhciBSID0gc3RhdGUucmVnZXhwO1xuICB2YXIgUyA9IHN0YXRlLnN0cmluZztcbiAgdmFyIG1hdGNoID0gcmVnRXhwRXhlYyhSLCBTKTtcbiAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgc3RhdGUuZG9uZSA9IHRydWU7XG4gICAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QodW5kZWZpbmVkLCB0cnVlKTtcbiAgfVxuICBpZiAoc3RhdGUuZ2xvYmFsKSB7XG4gICAgaWYgKHRvU3RyaW5nKG1hdGNoWzBdKSA9PT0gJycpIFIubGFzdEluZGV4ID0gYWR2YW5jZVN0cmluZ0luZGV4KFMsIHRvTGVuZ3RoKFIubGFzdEluZGV4KSwgc3RhdGUudW5pY29kZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QobWF0Y2gsIGZhbHNlKTtcbiAgfVxuICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QobWF0Y2gsIGZhbHNlKTtcbn0pO1xuXG52YXIgJG1hdGNoQWxsID0gZnVuY3Rpb24gKHN0cmluZykge1xuICB2YXIgUiA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgUyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKFIsIFJlZ0V4cCk7XG4gIHZhciBmbGFncyA9IHRvU3RyaW5nKGdldFJlZ0V4cEZsYWdzKFIpKTtcbiAgdmFyIG1hdGNoZXIsICRnbG9iYWwsIGZ1bGxVbmljb2RlO1xuICBtYXRjaGVyID0gbmV3IEMoQyA9PT0gUmVnRXhwID8gUi5zb3VyY2UgOiBSLCBmbGFncyk7XG4gICRnbG9iYWwgPSAhIX5zdHJpbmdJbmRleE9mKGZsYWdzLCAnZycpO1xuICBmdWxsVW5pY29kZSA9ICEhfnN0cmluZ0luZGV4T2YoZmxhZ3MsICd1Jyk7XG4gIG1hdGNoZXIubGFzdEluZGV4ID0gdG9MZW5ndGgoUi5sYXN0SW5kZXgpO1xuICByZXR1cm4gbmV3ICRSZWdFeHBTdHJpbmdJdGVyYXRvcihtYXRjaGVyLCBTLCAkZ2xvYmFsLCBmdWxsVW5pY29kZSk7XG59O1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaEFsbGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUubWF0Y2hhbGxcbiQoeyB0YXJnZXQ6ICdTdHJpbmcnLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVggfSwge1xuICBtYXRjaEFsbDogZnVuY3Rpb24gbWF0Y2hBbGwocmVnZXhwKSB7XG4gICAgdmFyIE8gPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlKHRoaXMpO1xuICAgIHZhciBmbGFncywgUywgbWF0Y2hlciwgcng7XG4gICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChyZWdleHApKSB7XG4gICAgICBpZiAoaXNSZWdFeHAocmVnZXhwKSkge1xuICAgICAgICBmbGFncyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoZ2V0UmVnRXhwRmxhZ3MocmVnZXhwKSkpO1xuICAgICAgICBpZiAoIX5zdHJpbmdJbmRleE9mKGZsYWdzLCAnZycpKSB0aHJvdyAkVHlwZUVycm9yKCdgLm1hdGNoQWxsYCBkb2VzIG5vdCBhbGxvdyBub24tZ2xvYmFsIHJlZ2V4ZXMnKTtcbiAgICAgIH1cbiAgICAgIGlmIChXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVgpIHJldHVybiBuYXRpdmVNYXRjaEFsbChPLCByZWdleHApO1xuICAgICAgbWF0Y2hlciA9IGdldE1ldGhvZChyZWdleHAsIE1BVENIX0FMTCk7XG4gICAgICBpZiAobWF0Y2hlciA9PT0gdW5kZWZpbmVkICYmIElTX1BVUkUgJiYgY2xhc3NvZihyZWdleHApID09ICdSZWdFeHAnKSBtYXRjaGVyID0gJG1hdGNoQWxsO1xuICAgICAgaWYgKG1hdGNoZXIpIHJldHVybiBjYWxsKG1hdGNoZXIsIHJlZ2V4cCwgTyk7XG4gICAgfSBlbHNlIGlmIChXT1JLU19XSVRIX05PTl9HTE9CQUxfUkVHRVgpIHJldHVybiBuYXRpdmVNYXRjaEFsbChPLCByZWdleHApO1xuICAgIFMgPSB0b1N0cmluZyhPKTtcbiAgICByeCA9IG5ldyBSZWdFeHAocmVnZXhwLCAnZycpO1xuICAgIHJldHVybiBJU19QVVJFID8gY2FsbCgkbWF0Y2hBbGwsIHJ4LCBTKSA6IHJ4W01BVENIX0FMTF0oUyk7XG4gIH1cbn0pO1xuXG5JU19QVVJFIHx8IE1BVENIX0FMTCBpbiBSZWdFeHBQcm90b3R5cGUgfHwgZGVmaW5lQnVpbHRJbihSZWdFeHBQcm90b3R5cGUsIE1BVENIX0FMTCwgJG1hdGNoQWxsKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=