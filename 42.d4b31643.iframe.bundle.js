(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"./dist/esm/verdocs-document-page.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_document_page",(function(){return VerdocsDocumentPage}));__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./dist/esm/index-f78d163d.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var VerdocsDocumentPage=function(){function VerdocsDocumentPage(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsDocumentPage),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.j)(this,hostRef),this.pageRendered=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.e)(this,"pageRendered",7),this.pageImageUri="",this.pageNumber=1,this.virtualWidth=612,this.virtualHeight=792,this.layers=[{name:"page",type:"canvas"}],this.containerId="verdocs-document-page-"+Math.random().toString(36).substring(2,11),this.renderedWidth=this.virtualWidth,this.renderedHeight=this.virtualHeight,this.naturalWidth=this.virtualWidth,this.naturalHeight=this.virtualHeight,this.aspectRatio=this.virtualWidth/this.virtualHeight,this.skipFirstNotification=!0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsDocumentPage,[{key:"componentDidLoad",value:function componentDidLoad(){var _this=this;this.resizeObserver=new ResizeObserver((function(entries){var _step,_iterator=_createForOfIteratorHelper(entries);try{for(_iterator.s();!(_step=_iterator.n()).done;){var renderedWidth=_step.value.contentRect.width;_this.renderedWidth=renderedWidth,_this.renderedHeight=_this.virtualHeight*(renderedWidth/_this.virtualWidth)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.notifyRenderedSize()})),this.resizeObserver.observe(this.container)}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _a;null===(_a=this.resizeObserver)||void 0===_a||_a.disconnect()}},{key:"notifyRenderedSize",value:function notifyRenderedSize(){this.skipFirstNotification?this.skipFirstNotification=!1:this.pageRendered.emit({container:this.container,containerId:this.containerId,pageNumber:this.pageNumber,virtualWidth:this.virtualWidth,virtualHeight:this.virtualHeight,renderedWidth:this.renderedWidth,renderedHeight:this.renderedHeight,naturalWidth:this.naturalWidth,naturalHeight:this.naturalHeight,xScale:this.renderedWidth/this.naturalWidth,yScale:this.renderedHeight/this.naturalHeight})}},{key:"render",value:function render(){var _this2=this,height=this.renderedHeight+"px";return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.b,{id:""+this.containerId,style:{height:height}},this.layers.map((function(layer){return"div"===layer.type?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.h)("div",{class:"verdocs-document-page-layer",id:_this2.containerId+"-"+layer.name,style:{height:height}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.h)("img",{class:"verdocs-document-page-layer img",id:_this2.containerId+"-"+layer.name,src:_this2.pageImageUri,alt:"Page "+_this2.pageNumber,"aria-hidden":!0,onLoad:function onLoad(e){_this2.naturalWidth=e.target.naturalWidth,_this2.naturalHeight=e.target.naturalHeight,_this2.aspectRatio=_this2.naturalWidth/_this2.naturalHeight,console.log("[DOCPAGE] Loaded dimensions",{width:_this2.naturalWidth,height:_this2.naturalHeight,aspectRatio:_this2.aspectRatio})}})})))}},{key:"container",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_18__.c)(this)}}]),VerdocsDocumentPage}();VerdocsDocumentPage.style="verdocs-document-page{width:100%;position:relative}verdocs-document-page .verdocs-document-page-layer{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-box-shadow:0 0 10px 5px #0000000f;box-shadow:0 0 10px 5px #0000000f}verdocs-document-page .verdocs-document-page-layer.img{max-width:100%}"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1kb2N1bWVudC1wYWdlL3ZlcmRvY3MtZG9jdW1lbnQtcGFnZS5zY3NzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy92ZXJkb2NzLWRvY3VtZW50LXBhZ2UvdmVyZG9jcy1kb2N1bWVudC1wYWdlLnRzeCJdLCJuYW1lcyI6WyJWZXJkb2NzRG9jdW1lbnRQYWdlIiwibmFtZSIsInR5cGUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ0aGlzIiwidmlydHVhbFdpZHRoIiwidmlydHVhbEhlaWdodCIsImNvbXBvbmVudERpZExvYWQiLCJyZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwiZW50cmllcyIsInJlbmRlcmVkV2lkdGgiLCJjb250ZW50UmVjdCIsIndpZHRoIiwicmVuZGVyZWRIZWlnaHQiLCJub3RpZnlSZW5kZXJlZFNpemUiLCJvYnNlcnZlIiwiY29udGFpbmVyIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0Iiwic2tpcEZpcnN0Tm90aWZpY2F0aW9uIiwicGFnZVJlbmRlcmVkIiwiZW1pdCIsImNvbnRhaW5lcklkIiwicGFnZU51bWJlciIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJyZW5kZXIiLCJoZWlnaHQiLCJoIiwiSG9zdCIsImlkIiwic3R5bGUiLCJsYXllcnMiLCJtYXAiLCJsYXllciIsImNsYXNzIiwic3JjIiwicGFnZUltYWdlVXJpIiwiYWx0Iiwib25Mb2FkIiwiZSIsInRhcmdldCIsImFzcGVjdFJhdGlvIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IjR0SEFBQSxJQ2VhQSxvQkFBbUIsVywrWUFPQyxHLGdCQU1GLEUsa0JBTUUsSSxtQkFNQyxJLFlBY0QsQ0FBQyxDQUFDQyxLQUFNLE9BQVFDLEtBQU0sVywwQ0FPTEMsS0FBS0MsU0FBU0MsU0FBUyxJQUFJQyxVQUFVLEVBQUcsSSxtQkFFdkRDLEtBQUtDLGEsb0JBQ0pELEtBQUtFLGMsa0JBQ1BGLEtBQUtDLGEsbUJBQ0pELEtBQUtFLGMsaUJBQ1BGLEtBQUtDLGFBQWVELEtBQUtFLGMsNEJBRXZCLEMsOFRBRWpDLFNBQUFDLG1CQUFnQixlQUNkSCxLQUFLSSxlQUFpQixJQUFJQyxnQkFBZSxTQUFBQyxTQUFPLElBQ25CLE1BRG1CLHFDQUMxQkEsU0FBTyxJQUEzQixJQUFLLFVBQUwsaUNBQTZCLEtBQ3JCQyxjQURRLFlBQ2NDLFlBQVlDLE1BQ3hDLE1BQUtGLGNBQWdCQSxjQUNyQixNQUFLRyxlQUFpQixNQUFLUixlQUFpQkssY0FBZ0IsTUFBS04sYSxDQUNsRSxtREFFRCxNQUFLVSxvQixJQUdQWCxLQUFLSSxlQUFlUSxRQUFRWixLQUFLYSxVLEdBQ2xDLGtDQUVELFNBQUFDLHVCLE9BQ3FCLFFBQW5CLEdBQUFkLEtBQUtJLHNCQUFjLFdBQUVXLFksbUNBU3ZCLFNBQUFKLHFCQUdNWCxLQUFLZ0Isc0JBQ1BoQixLQUFLZ0IsdUJBQXdCLEVBSS9CaEIsS0FBS2lCLGFBQWFDLEtBQUssQ0FDckJMLFVBQVdiLEtBQUthLFVBQ2hCTSxZQUFhbkIsS0FBS21CLFlBQ2xCQyxXQUFZcEIsS0FBS29CLFdBQ2pCbkIsYUFBY0QsS0FBS0MsYUFDbkJDLGNBQWVGLEtBQUtFLGNBQ3BCSyxjQUFlUCxLQUFLTyxjQUNwQkcsZUFBZ0JWLEtBQUtVLGVBQ3JCVyxhQUFjckIsS0FBS3FCLGFBQ25CQyxjQUFldEIsS0FBS3NCLGNBQ3BCQyxPQUFRdkIsS0FBS08sY0FBZ0JQLEtBQUtxQixhQUNsQ0csT0FBUXhCLEtBQUtVLGVBQWlCVixLQUFLc0IsZSxHQUV0QyxvQkFFRCxTQUFBRyxTQUFNLGdCQUNFQyxPQUFZMUIsS0FBS1UsZUFBYyxLQUVyQyxPQUNFaUIsMkRBQUNDLG1EQUFJLENBQUNDLEdBQUUsR0FBSzdCLEtBQUttQixZQUFlVyxNQUFPLENBQUNKLGdCQUN0QzFCLEtBQUsrQixPQUFPQyxLQUFJLFNBQUFDLE9BQUssTUFDTCxRQUFmQSxNQUFNdEMsS0FDSmdDLGtFQUFLTyxNQUFNLDhCQUE4QkwsR0FBTyxPQUFLVixZQUFXLElBQUljLE1BQU12QyxLQUFRb0MsTUFBTyxDQUFDSixpQkFFMUZDLGtFQUNFTyxNQUFNLGtDQUNOTCxHQUFPLE9BQUtWLFlBQVcsSUFBSWMsTUFBTXZDLEtBRWpDeUMsSUFBSyxPQUFLQyxhQUNWQyxJQUFHLFFBQVUsT0FBS2pCLFdBQVksZUFDakIsRUFDYmtCLE9BQVEsZ0JBQUNDLEdBQ1AsT0FBS2xCLGFBQWVrQixFQUFFQyxPQUFPbkIsYUFDN0IsT0FBS0MsY0FBZ0JpQixFQUFFQyxPQUFPbEIsY0FDOUIsT0FBS21CLFlBQWMsT0FBS3BCLGFBQWUsT0FBS0MsY0FDNUNvQixRQUFRQyxJQUFJLDhCQUErQixDQUFDbEMsTUFBTyxPQUFLWSxhQUFjSyxPQUFRLE9BQUtKLGNBQWVtQixZQUFhLE9BQUtBLGEsR0FHekgsSSxHQUlSLG9DLGdHQWxJNkIsRywwQkRmRCwwUyIsImZpbGUiOiI0Mi5kNGIzMTY0My5pZnJhbWUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtZG9jdW1lbnQtcGFnZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgLnZlcmRvY3MtZG9jdW1lbnQtcGFnZS1sYXllciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCA1cHggIzAwMDAwMDBmO1xuXG4gICAgJi5pbWcge1xuICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gTk9URTogVGhpcyBjb21wb25lbnQgZG9lcyBub3QgaGF2ZSBhIHN0b3J5IGJlY2F1c2UgaXQncyBub3QgaW50ZW5kZWQgZm9yIGV4dGVybmFsIHVzZS5cblxuaW1wb3J0IHtDb21wb25lbnQsIGgsIEhvc3QsIFByb3AsIEV2ZW50LCBFdmVudEVtaXR0ZXIsIFN0YXRlLCBFbGVtZW50fSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm8sIElQYWdlTGF5ZXJ9IGZyb20gJy4uLy4uLy4uL3V0aWxzL1R5cGVzJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIG9uZSBkb2N1bWVudCBwYWdlLiBUaGlzIGlzIHByaW1hcmlseSBhIGxheW91dCBjb250YWluZXIgdXNlZCB0byBjb29yZGluYXRlIHBvc2l0aW9ucyBvZlxuICogcGFnZS1yZWxhdGVkIGxheWVycyBzdWNoIGFzIHRoZSBwYWdlIGl0c2VsZiwgc2lnbmF0dXJlIGZpZWxkcywgZXRjLiBJdCBpcyBub3QgaW50ZW5kZWQgdG8gYmUgdXNlZFxuICogb24gaXRzIG93biBhcyBhbiBpbmRpdmlkdWFsIGNvbXBvbmVudC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3MtZG9jdW1lbnQtcGFnZScsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1kb2N1bWVudC1wYWdlLnNjc3MnLFxuICBzaGFkb3c6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBWZXJkb2NzRG9jdW1lbnRQYWdlIHtcbiAgQEVsZW1lbnQoKSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHJlc2l6ZU9ic2VydmVyOiBSZXNpemVPYnNlcnZlcjtcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgaW1hZ2UgdG8gcmVuZGVyIGFzIHRoZSBwYWdlIGJhY2tncm91bmQuXG4gICAqL1xuICBAUHJvcCgpIHBhZ2VJbWFnZVVyaTogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYWdlIG51bWJlciBiZWluZyByZW5kZXJlZC4gTm90IHVzZWQgaW50ZXJuYWxseSwgYnV0IGluY2x1ZGVkIGluIGNhbGxiYWNrcy9ldmVudHMgYmVhY3VzZSBwYWdlIG51bWJlcnNcbiAgICogYXJlIHVzZWQgZXZlcnl3aGVyZSBpbiBkb2N1bWVudCBoYW5kbGluZy4gKFJlbWluZGVyOiBwYWdlIG51bWJlcnMgYXJlIDEtYmFzZWQuKVxuICAgKi9cbiAgQFByb3AoKSBwYWdlTnVtYmVyOiBudW1iZXIgPSAxO1xuXG4gIC8qKlxuICAgKiBUaGUgXCJ2aXJ0dWFsXCIgd2lkdGggb2YgdGhlIHBhZ2UgY2FudmFzLiBEZWZhdWx0cyB0byA2MTIgd2hpY2ggYXQgNzJkcGkgaXMgOC41XCIgd2lkZS4gVGhpcyBpcyB1c2VkIHRvIGNvbXB1dGVcbiAgICogdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgZmluYWwgcmVuZGVyZWQgZWxlbWVudCB3aGVuIHNjYWxpbmcgdXAvZG93bi5cbiAgICovXG4gIEBQcm9wKCkgdmlydHVhbFdpZHRoOiBudW1iZXIgPSA2MTI7XG5cbiAgLyoqXG4gICAqIFRoZSBcInZpcnR1YWxcIiBoZWlnaHQgb2YgdGhlIHBhZ2UgY2FudmFzLiAgRGVmYXVsdHMgdG8gNzkyIHdoaWNoIGF0IDcyZHBpIGlzIDExXCIgdGFsbC4gVGhpcyBpcyB1c2VkIHRvIGNvbXB1dGVcbiAgICogdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgZmluYWwgcmVuZGVyZWQgZWxlbWVudCB3aGVuIHNjYWxpbmcgdXAvZG93bi5cbiAgICovXG4gIEBQcm9wKCkgdmlydHVhbEhlaWdodDogbnVtYmVyID0gNzkyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGF5ZXJzIHRoYXQgd2lsbCBiZSByZW5kZXJlZC4gVGhlIERPTSBzdHJ1Y3R1cmUgd2lsbCBiZSBhIERJViBjb250YWluZXIgd2l0aCBvbmUgY2hpbGQgRElWIGZvciBlYWNoIGxheWVyLlxuICAgKiBUaGUgcGFyZW50IERJViB3aWxsIGhhdmUgYSB1bmlxdWUgSUQsIGFuZCBlYWNoIGNoaWxkIERJViB3aWxsIGhhdmUgdGhhdCBJRCB3aXRoIHRoZSBsYXllciBuYW1lIGFwcGVuZGVkLCBlLmcuXG4gICAqIGlmIGBwYWdlc2Agd2FzIFsncGFnZScsICdmaWVsZHMnXSB0aGUgc3RydWN0dXJlIHdpbGwgYmU6XG4gICAqXG4gICAqIGBgYFxuICAgKiAgICAgPGRpdiBpZD1cInZlcmRvY3MtZG9jdW1lbnQtcGFnZS1rZXIyZnIxcDlcIj5cbiAgICogICAgICAgPGRpdiBpZD1cInZlcmRvY3MtZG9jdW1lbnQtcGFnZS1rZXIyZnIxcDktcGFnZVwiPjwvZGl2PlxuICAgKiAgICAgICA8ZGl2IGlkPVwidmVyZG9jcy1kb2N1bWVudC1wYWdlLWtlcjJmcjFwOS1maWVsZHNcIj48L2Rpdj5cbiAgICogICAgIDwvZGl2PlxuICAgKiBgYGBcbiAgICovXG4gIEBQcm9wKCkgbGF5ZXJzOiBJUGFnZUxheWVyW10gPSBbe25hbWU6ICdwYWdlJywgdHlwZTogJ2NhbnZhcyd9XTtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gcmVuZGVyZWQuIFRoaXMgaXMgYWxzbyBmaXJlZCB3aGVuIHRoZSBwYWdlIGlzIHJlc2l6ZWQuXG4gICAqL1xuICBARXZlbnQoKSBwYWdlUmVuZGVyZWQ6IEV2ZW50RW1pdHRlcjxJRG9jdW1lbnRQYWdlSW5mbz47XG5cbiAgQFN0YXRlKCkgY29udGFpbmVySWQgPSBgdmVyZG9jcy1kb2N1bWVudC1wYWdlLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKX1gO1xuXG4gIEBTdGF0ZSgpIHJlbmRlcmVkV2lkdGg6IG51bWJlciA9IHRoaXMudmlydHVhbFdpZHRoO1xuICBAU3RhdGUoKSByZW5kZXJlZEhlaWdodDogbnVtYmVyID0gdGhpcy52aXJ0dWFsSGVpZ2h0O1xuICBAU3RhdGUoKSBuYXR1cmFsV2lkdGg6IG51bWJlciA9IHRoaXMudmlydHVhbFdpZHRoO1xuICBAU3RhdGUoKSBuYXR1cmFsSGVpZ2h0OiBudW1iZXIgPSB0aGlzLnZpcnR1YWxIZWlnaHQ7XG4gIEBTdGF0ZSgpIGFzcGVjdFJhdGlvOiBudW1iZXIgPSB0aGlzLnZpcnR1YWxXaWR0aCAvIHRoaXMudmlydHVhbEhlaWdodDtcblxuICBAU3RhdGUoKSBza2lwRmlyc3ROb3RpZmljYXRpb24gPSB0cnVlO1xuXG4gIGNvbXBvbmVudERpZExvYWQoKTogdm9pZCB7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBjb25zdCByZW5kZXJlZFdpZHRoID0gZW50cnkuY29udGVudFJlY3Qud2lkdGg7XG4gICAgICAgIHRoaXMucmVuZGVyZWRXaWR0aCA9IHJlbmRlcmVkV2lkdGg7XG4gICAgICAgIHRoaXMucmVuZGVyZWRIZWlnaHQgPSB0aGlzLnZpcnR1YWxIZWlnaHQgKiAocmVuZGVyZWRXaWR0aCAvIHRoaXMudmlydHVhbFdpZHRoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ub3RpZnlSZW5kZXJlZFNpemUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lcik7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gIH1cblxuICAvLyBMZWZ0IGhlcmUgZm9yIGRvY3VtZW50YXRpb24gcHVycG9zZXMgaW4gY2FzZSB3ZSBmaW5kIGFuIGVkZ2UgY2FzZSB3aGVyZSB0aGlzIGlzbid0IHRydWUuIEJ1dCB3ZSBhcHBhcmVudGx5IGRvbid0IG5lZWQgdGhpcy5cbiAgLy8gV2hlbiB3ZSBhZGQgdGhlIHJlc2l6ZSBvYnNlcnZlciBpdCB3aWxsIGFsd2F5cyBiZSB0cmlnZ2VyZWQgYXQgbGVhc3Qgb25jZSBzbyBub3RpZnlpbmcgaGVyZSBhcyB3ZWxsIGlzIGp1c3QgYSBkdXBlLlxuICAvLyBjb21wb25lbnREaWRSZW5kZXIoKSB7XG4gIC8vICAgdGhpcy5ub3RpZnlSZW5kZXJlZFNpemUoKTtcbiAgLy8gfVxuXG4gIG5vdGlmeVJlbmRlcmVkU2l6ZSgpIHtcbiAgICAvLyBXZSBza2lwIG9uZSBub3RpZmljYXRpb24gYmVjYXVzZSBieSBkZWZhdWx0IHdlIHdpbGwgYWx3YXlzIGdldCBhdCBsZWFzdCB0d28sIG9uZSB3aGVuIHJlbmRlcmluZyB0aGUgaW5pdGlhbCBzaXplXG4gICAgLy8gYW5kIGEgc2Vjb25kIG9uY2Ugd2UncmUgYWJsZSB0byBjb21wdXRlIHRoZSBzY2FsZSBzaXplLCB3aGVuIHRoZSByZXNpemVPYnNlcnZlciBzZXRzIHJlbmRlcmVkV2lkdGgvcmVuZGVyZWRIZWlnaHQuXG4gICAgaWYgKHRoaXMuc2tpcEZpcnN0Tm90aWZpY2F0aW9uKSB7XG4gICAgICB0aGlzLnNraXBGaXJzdE5vdGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucGFnZVJlbmRlcmVkLmVtaXQoe1xuICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgIGNvbnRhaW5lcklkOiB0aGlzLmNvbnRhaW5lcklkLFxuICAgICAgcGFnZU51bWJlcjogdGhpcy5wYWdlTnVtYmVyLFxuICAgICAgdmlydHVhbFdpZHRoOiB0aGlzLnZpcnR1YWxXaWR0aCxcbiAgICAgIHZpcnR1YWxIZWlnaHQ6IHRoaXMudmlydHVhbEhlaWdodCxcbiAgICAgIHJlbmRlcmVkV2lkdGg6IHRoaXMucmVuZGVyZWRXaWR0aCxcbiAgICAgIHJlbmRlcmVkSGVpZ2h0OiB0aGlzLnJlbmRlcmVkSGVpZ2h0LFxuICAgICAgbmF0dXJhbFdpZHRoOiB0aGlzLm5hdHVyYWxXaWR0aCxcbiAgICAgIG5hdHVyYWxIZWlnaHQ6IHRoaXMubmF0dXJhbEhlaWdodCxcbiAgICAgIHhTY2FsZTogdGhpcy5yZW5kZXJlZFdpZHRoIC8gdGhpcy5uYXR1cmFsV2lkdGgsXG4gICAgICB5U2NhbGU6IHRoaXMucmVuZGVyZWRIZWlnaHQgLyB0aGlzLm5hdHVyYWxIZWlnaHQsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaGVpZ2h0ID0gYCR7dGhpcy5yZW5kZXJlZEhlaWdodH1weGA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3QgaWQ9e2Ake3RoaXMuY29udGFpbmVySWR9YH0gc3R5bGU9e3toZWlnaHR9fT5cbiAgICAgICAge3RoaXMubGF5ZXJzLm1hcChsYXllciA9PlxuICAgICAgICAgIGxheWVyLnR5cGUgPT09ICdkaXYnID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZlcmRvY3MtZG9jdW1lbnQtcGFnZS1sYXllclwiIGlkPXtgJHt0aGlzLmNvbnRhaW5lcklkfS0ke2xheWVyLm5hbWV9YH0gc3R5bGU9e3toZWlnaHR9fSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIGNsYXNzPVwidmVyZG9jcy1kb2N1bWVudC1wYWdlLWxheWVyIGltZ1wiXG4gICAgICAgICAgICAgIGlkPXtgJHt0aGlzLmNvbnRhaW5lcklkfS0ke2xheWVyLm5hbWV9YH1cbiAgICAgICAgICAgICAgLy8gc3R5bGU9e3toZWlnaHR9fVxuICAgICAgICAgICAgICBzcmM9e3RoaXMucGFnZUltYWdlVXJpfVxuICAgICAgICAgICAgICBhbHQ9e2BQYWdlICR7dGhpcy5wYWdlTnVtYmVyfWB9XG4gICAgICAgICAgICAgIGFyaWEtaGlkZGVuPXt0cnVlfVxuICAgICAgICAgICAgICBvbkxvYWQ9eyhlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdHVyYWxXaWR0aCA9IGUudGFyZ2V0Lm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdHVyYWxIZWlnaHQgPSBlLnRhcmdldC5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuYXNwZWN0UmF0aW8gPSB0aGlzLm5hdHVyYWxXaWR0aCAvIHRoaXMubmF0dXJhbEhlaWdodDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0RPQ1BBR0VdIExvYWRlZCBkaW1lbnNpb25zJywge3dpZHRoOiB0aGlzLm5hdHVyYWxXaWR0aCwgaGVpZ2h0OiB0aGlzLm5hdHVyYWxIZWlnaHQsIGFzcGVjdFJhdGlvOiB0aGlzLmFzcGVjdFJhdGlvfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICksXG4gICAgICAgICl9XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==