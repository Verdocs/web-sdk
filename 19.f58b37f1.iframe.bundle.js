/*! For license information please see 19.f58b37f1.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"./dist/esm/Envelopes-df05b3c7.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",(function(){return getEnvelope})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getEnvelopeFile})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getEnvelopeDocument})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getSigningSession})),__webpack_require__.d(__webpack_exports__,"e",(function(){return updateEnvelopeField}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./dist/esm/VerdocsEndpoint-82f4600d.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},getSigningSession=function getSigningSession(endpoint,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(params.envelopeId,"/recipients/").concat(encodeURIComponent(params.roleId),"/invitation/").concat(params.inviteCode)).then((function(r){var _a,_b,signerToken=(null===(_a=r.headers)||void 0===_a?void 0:_a.signer_token)||"",session=Object(_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_11__.b)(signerToken);return endpoint.setToken(null===(_b=r.headers)||void 0===_b?void 0:_b.signer_token),{recipient:r.data,session:session,signerToken:signerToken}}))]}))}))},getEnvelope=function getEnvelope(endpoint,envelopeId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId)).then((function(r){return r.data}))]}))}))},getEnvelopeDocument=function getEnvelopeDocument(endpoint,envelopeId,documentId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId,"/envelope_documents/").concat(documentId)).then((function(r){return r.data}))]}))}))},getEnvelopeFile=function getEnvelopeFile(endpoint,envelopeId,documentId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId,"/envelope_documents/").concat(documentId,"?file=true"),{responseType:"arraybuffer"}).then((function(r){return Buffer.from(r.data,"binary").toString("base64")}))]}))}))},updateEnvelopeField=function updateEnvelopeField(endpoint,envelopeId,fieldName,value){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/fields/").concat(fieldName),value).then((function(r){return r.data}))]}))}))}}).call(this,__webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./dist/esm/TemplateDocuments-89ba2276.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createTemplateDocument})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getTemplateDocument}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var getTemplateDocument=function getTemplateDocument(endpoint,templateId,documentId){return endpoint.api.get("/templates/".concat(templateId,"/documents/").concat(documentId)).then((function(r){return r.data}))},createTemplateDocument=function createTemplateDocument(endpoint,templateId,file,_onUploadProgress){var formData=new FormData;return formData.append("document",file,file.name),endpoint.api.post("/templates/".concat(templateId,"/documents"),formData,{timeout:1e4,onUploadProgress:function onUploadProgress(event){return null==_onUploadProgress?void 0:_onUploadProgress(Math.floor(100*event.loaded/event.total),event.loaded,event.total)}}).then((function(r){return r.data}))}},"./dist/esm/Templates-f7c590c0.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTemplates})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createTemplate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTemplate}));var getTemplates=function getTemplates(endpoint,params){return endpoint.api.post("/templates",{params:params}).then((function(r){return r.data}))},getTemplate=function getTemplate(endpoint,templateId){return endpoint.api.get("/templates/".concat(templateId)).then((function(r){return r.data}))},createTemplate=function createTemplate(endpoint,params){return endpoint.api.post("/templates/",params).then((function(r){return r.data}))}},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/verdocs-loader_4.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_loader",(function(){return VerdocsLoader})),__webpack_require__.d(__webpack_exports__,"verdocs_view",(function(){return VerdocsView})),__webpack_require__.d(__webpack_exports__,"verdocs_view_envelope_document",(function(){return VerdocsViewEnvelopeDocument})),__webpack_require__.d(__webpack_exports__,"verdocs_view_template_document",(function(){return VerdocsViewTemplateDocument}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/Envelopes-df05b3c7.js"),_Templates_f7c590c0_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./dist/esm/Templates-f7c590c0.js"),_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_32__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/VerdocsEndpoint-82f4600d.js")),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/errors-9b5498c8.js"),_TemplateDocuments_89ba2276_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./dist/esm/TemplateDocuments-89ba2276.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var VerdocsLoader=function(){function VerdocsLoader(hostRef){_classCallCheck(this,VerdocsLoader),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.j)(this,hostRef)}return _createClass(VerdocsLoader,[{key:"render",value:function render(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.b,null)}}]),VerdocsLoader}();VerdocsLoader.style="verdocs-loader{display:block;position:absolute;top:50%;left:50%;margin-left:-20px;margin-top:-20px;font-size:24px;width:24px;height:24px;border-radius:50%;text-indent:-9999em;-webkit-animation:load5 1.1s infinite ease;animation:verdocs-loader-kf 1.1s infinite ease;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}@-webkit-keyframes verdocs-loader-kf{0%,100%{-webkit-box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4);box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4)}12.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3)}25%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}37.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}50%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}62.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}75%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}87.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa;box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa}}@keyframes verdocs-loader-kf{0%,100%{-webkit-box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4);box-shadow:0em -2.6em 0em 0em #aaaaaa, 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.3), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4)}12.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.4), 1.8em -1.8em 0 0em #aaaaaa, 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3)}25%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.3), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.4), 2.5em 0em 0 0em #aaaaaa, 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}37.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.3), 2.5em 0em 0 0em rgba(0, 0, 0, 0.4), 1.75em 1.75em 0 0em #aaaaaa, 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}50%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.3), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.4), 0em 2.5em 0 0em #aaaaaa, -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.2), -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}62.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.3), 0em 2.5em 0 0em rgba(0, 0, 0, 0.4), -1.8em 1.8em 0 0em #aaaaaa, -2.6em 0em 0 0em rgba(0, 0, 0, 0.2), -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}75%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2);box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.3), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.4), -2.6em 0em 0 0em #aaaaaa, -1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2)}87.5%{-webkit-box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa;box-shadow:0em -2.6em 0em 0em rgba(0, 0, 0, 0.2), 1.8em -1.8em 0 0em rgba(0, 0, 0, 0.2), 2.5em 0em 0 0em rgba(0, 0, 0, 0.2), 1.75em 1.75em 0 0em rgba(0, 0, 0, 0.2), 0em 2.5em 0 0em rgba(0, 0, 0, 0.2), -1.8em 1.8em 0 0em rgba(0, 0, 0, 0.3), -2.6em 0em 0 0em rgba(0, 0, 0, 0.4), -1.8em -1.8em 0 0em #aaaaaa}}";var VerdocsView=function(){function VerdocsView(hostRef){_classCallCheck(this,VerdocsView),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.j)(this,hostRef),this.pageRendered=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageRendered",7),this.pageLoaded=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageLoaded",7),this.pageChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageChange",7),this.pageInit=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageInit",7),this.scaleChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"scaleChange",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"sdkError",7),this.endpoint=_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_32__.a.getDefault(),this.templateId="",this.envelopeId="",this.rotation=0,this.pageLayers=[{name:"page",type:"canvas"},{name:"controls",type:"div"}],this.template=null,this.envelope=null}var _componentDidLoad;return _createClass(VerdocsView,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint.loadSession()}},{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.templateId||this.envelopeId){_context.next=3;break}return console.error("[VIEW] Must specify one of templateId or envelopeId"),_context.abrupt("return");case 3:if(this.templateId&&this.envelopeId&&console.warn("[VIEW] Both templateId and envelopeId specified, using templateId"),_context.prev=4,!this.templateId){_context.next=13;break}return console.log("[VIEW] Loading template",this.templateId),_context.next=9,Object(_Templates_f7c590c0_js__WEBPACK_IMPORTED_MODULE_30__.c)(this.endpoint,this.templateId);case 9:this.template=_context.sent,console.log("[VIEW] Loaded template",this.template),_context.next=19;break;case 13:if(!this.envelopeId){_context.next=19;break}return console.log("[VIEW] Loading envelope",this.envelopeId),_context.next=17,Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_29__.a)(this.endpoint,this.envelopeId);case 17:this.envelope=_context.sent,console.log("[VIEW] Loaded envelope",this.envelope);case 19:_context.next=25;break;case 21:_context.prev=21,_context.t0=_context.catch(4),console.log("[VIEW] Error loading data",_context.t0),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_33__.a(_context.t0.message,null===(_b=_context.t0.response)||void 0===_b?void 0:_b.status,null===(_c=_context.t0.response)||void 0===_c?void 0:_c.data));case 25:case"end":return _context.stop()}}),_callee,this,[[4,21]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"render",value:function render(){var _a,_this=this;return console.log("[VIEW] Rendering",this.templateId,this.envelopeId),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.b,null,this.template&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)("verdocs-view-template-document",{endpoint:this.endpoint,templateId:this.templateId,documentId:null===(_a=this.template.template_document)||void 0===_a?void 0:_a.id,onPageRendered:function onPageRendered(p){var _a;return null===(_a=_this.pageRendered)||void 0===_a?void 0:_a.emit(p.detail)}}),this.envelope&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)("verdocs-view-envelope-document",{endpoint:this.endpoint,envelopeId:this.envelopeId,documentId:this.envelope.envelope_document_id,onPageRendered:function onPageRendered(p){var _a;return null===(_a=_this.pageRendered)||void 0===_a?void 0:_a.emit(p.detail)}}))}},{key:"component",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.c)(this)}}]),VerdocsView}();VerdocsView.style='verdocs-view{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column}verdocs-view div,verdocs-view canvas{-webkit-box-sizing:border-box;box-sizing:border-box}';var VerdocsViewEnvelopeDocument=function(){function VerdocsViewEnvelopeDocument(hostRef){_classCallCheck(this,VerdocsViewEnvelopeDocument),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.j)(this,hostRef),this.pageRendered=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageRendered",7),this.pageLoaded=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageLoaded",7),this.pageChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageChange",7),this.pageInit=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageInit",7),this.scaleChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"scaleChange",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"sdkError",7),this.domPages={},this.sourcePageMetrics={},this.endpoint=_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_32__.a.getDefault(),this.envelopeId="",this.documentId="",this.rotation=0,this.pageLayers=[{name:"page",type:"canvas"},{name:"controls",type:"div"}],this.envelopeDocument=null}var _handlePageRendered,_renderPage,_componentDidLoad2;return _createClass(VerdocsViewEnvelopeDocument,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint.loadSession()}},{key:"componentDidLoad",value:(_componentDidLoad2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var _a,_b,_c;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.envelopeId&&this.documentId){_context2.next=3;break}return console.log("[VIEW-ENVELOPE] Missing required envelope ID "+this.envelopeId),_context2.abrupt("return");case 3:return _context2.prev=3,console.log("[VIEW-ENVELOPE] Loading envelope "+this.envelopeId),_context2.next=7,Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_29__.c)(this.endpoint,this.envelopeId,this.documentId);case 7:this.envelopeDocument=_context2.sent,this.envelopeDocument||console.error("[VIEW-ENVELOPE] Unable to load envelope document",this.envelopeId,this.documentId),console.log("[VIEW-ENVELOPE] Got envelope document",this.envelopeDocument),_context2.next=16;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(3),console.log("[VIEW-ENVELOPE] Error loading envelope",_context2.t0),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_33__.a(_context2.t0.message,null===(_b=_context2.t0.response)||void 0===_b?void 0:_b.status,null===(_c=_context2.t0.response)||void 0===_c?void 0:_c.data));case 16:case"end":return _context2.stop()}}),_callee2,this,[[3,12]])}))),function componentDidLoad(){return _componentDidLoad2.apply(this,arguments)})},{key:"renderPage",value:(_renderPage=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(pageNumber){var _a,_b,_c,domPage,pageMetrics;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(domPage=this.domPages[pageNumber]){_context3.next=4;break}return console.log("[VIEW-ENVELOPE] Skipping rendering page not yet in DOM",{pageNumber:pageNumber}),_context3.abrupt("return");case 4:pageMetrics=this.sourcePageMetrics[pageNumber],console.log("[VIEW-ENVELOPE] Rendering page",{pageNumber:pageNumber,pageMetrics:pageMetrics,domPage:domPage});try{this.pageRendered.emit({renderedPage:domPage,sourcePageMetrics:pageMetrics,pages:this.domPages})}catch(e){null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_33__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.warn("[VIEW-ENVELOPE] Error rendering page",e)}case 7:case"end":return _context3.stop()}}),_callee3,this)}))),function renderPage(_x){return _renderPage.apply(this,arguments)})},{key:"handlePageRendered",value:(_handlePageRendered=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(e){var domPage;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return e.stopPropagation(),domPage=e.detail,this.domPages[domPage.pageNumber]=domPage,_context4.next=5,this.renderPage(domPage.pageNumber);case 5:case"end":return _context4.stop()}}),_callee4,this)}))),function handlePageRendered(_x2){return _handlePageRendered.apply(this,arguments)})},{key:"render",value:function render(){var _a,_b,_this2=this;console.log("[VIEW-ENVELOPE] Rendering pages",null===(_a=this.envelopeDocument)||void 0===_a?void 0:_a.pages);var pages=_toConsumableArray((null===(_b=this.envelopeDocument)||void 0===_b?void 0:_b.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.b,null,pages.map((function(page){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)("verdocs-document-page",{pageImageUri:page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,layers:_this2.pageLayers,onPageRendered:function onPageRendered(p){return _this2.handlePageRendered(p)}})})))}},{key:"component",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.c)(this)}}]),VerdocsViewEnvelopeDocument}();VerdocsViewEnvelopeDocument.style='verdocs-view-envelope-document{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;width:100%}verdocs-view-envelope-document div,verdocs-view-envelope-document canvas{-webkit-box-sizing:border-box;box-sizing:border-box}';var VerdocsViewTemplateDocument=function(){function VerdocsViewTemplateDocument(hostRef){_classCallCheck(this,VerdocsViewTemplateDocument),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.j)(this,hostRef),this.pageRendered=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageRendered",7),this.pageLoaded=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageLoaded",7),this.pageChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageChange",7),this.pageInit=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"pageInit",7),this.scaleChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"scaleChange",7),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.e)(this,"sdkError",7),this.domPages={},this.sourcePageMetrics={},this.endpoint=_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_32__.a.getDefault(),this.templateId="",this.documentId="",this.rotation=0,this.pageLayers=[{name:"page",type:"canvas"},{name:"controls",type:"div"}],this.templateDocument=null}var _handlePageRendered2,_renderPage2,_componentDidLoad3;return _createClass(VerdocsViewTemplateDocument,[{key:"componentWillLoad",value:function componentWillLoad(){this.endpoint.loadSession()}},{key:"componentDidLoad",value:(_componentDidLoad3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){var _a,_b,_c;return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(this.templateId&&this.documentId){_context5.next=3;break}return console.log("[VIEW-TEMPLATE] Missing required template ID "+this.templateId),_context5.abrupt("return");case 3:return _context5.prev=3,console.log("[VIEW-TEMPLATE] Loading template "+this.templateId),_context5.next=7,Object(_TemplateDocuments_89ba2276_js__WEBPACK_IMPORTED_MODULE_34__.b)(this.endpoint,this.templateId,this.documentId);case 7:this.templateDocument=_context5.sent,this.templateDocument||console.error("[VIEW-TEMPLATE] Unable to load template document",this.templateId,this.documentId),console.log("[VIEW-TEMPLATE] Got template",this.templateDocument),_context5.next=16;break;case 12:_context5.prev=12,_context5.t0=_context5.catch(3),console.log("[VIEW-TEMPLATE] Error loading template",_context5.t0),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_33__.a(_context5.t0.message,null===(_b=_context5.t0.response)||void 0===_b?void 0:_b.status,null===(_c=_context5.t0.response)||void 0===_c?void 0:_c.data));case 16:case"end":return _context5.stop()}}),_callee5,this,[[3,12]])}))),function componentDidLoad(){return _componentDidLoad3.apply(this,arguments)})},{key:"renderPage",value:(_renderPage2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(pageNumber){var _a,_b,_c,domPage,pageMetrics;return _regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(domPage=this.domPages[pageNumber]){_context6.next=4;break}return console.log("[VIEW-TEMPLATE] Skipping rendering page not yet in DOM",{pageNumber:pageNumber}),_context6.abrupt("return");case 4:pageMetrics=this.sourcePageMetrics[pageNumber];try{this.pageRendered.emit({renderedPage:domPage,sourcePageMetrics:pageMetrics,pages:this.domPages})}catch(e){null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_33__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.warn("[VIEW-TEMPLATE] Error rendering page",e)}case 6:case"end":return _context6.stop()}}),_callee6,this)}))),function renderPage(_x3){return _renderPage2.apply(this,arguments)})},{key:"handlePageRendered",value:(_handlePageRendered2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(e){var domPage;return _regeneratorRuntime().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return e.stopPropagation(),domPage=e.detail,this.domPages[domPage.pageNumber]=domPage,_context7.next=5,this.renderPage(domPage.pageNumber);case 5:case"end":return _context7.stop()}}),_callee7,this)}))),function handlePageRendered(_x4){return _handlePageRendered2.apply(this,arguments)})},{key:"render",value:function render(){var _a,_b,_this3=this;console.log("[VIEW-TEMPLATE] Rendering pages",null===(_a=this.templateDocument)||void 0===_a?void 0:_a.pages);var pages=_toConsumableArray((null===(_b=this.templateDocument)||void 0===_b?void 0:_b.pages)||[]);return pages.sort((function(a,b){return a.sequence-b.sequence})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.b,null,pages.map((function(page){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.h)("verdocs-document-page",{pageImageUri:page.display_uri,virtualWidth:612,virtualHeight:792,pageNumber:page.sequence,layers:_this3.pageLayers,onPageRendered:function onPageRendered(p){return _this3.handlePageRendered(p)}})})))}},{key:"component",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_28__.c)(this)}}]),VerdocsViewTemplateDocument}();VerdocsViewTemplateDocument.style='verdocs-view-template-document{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:-ms-flexbox;display:flex;padding:15px;row-gap:15px;min-height:200px;position:relative;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-direction:column;flex-direction:column;width:100%}verdocs-view-template-document div,verdocs-view-template-document canvas{-webkit-box-sizing:border-box;box-sizing:border-box}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvRW52ZWxvcGVzLmpzIiwid2VicGFjazovLy9ub2RlX21vZHVsZXMvQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UZW1wbGF0ZURvY3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVGVtcGxhdGVzLmpzIiwid2VicGFjazovLy9zcmMvdXRpbHMvZXJyb3JzLnRzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9jb250cm9scy92ZXJkb2NzLWxvYWRlci92ZXJkb2NzLWxvYWRlci5zY3NzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9jb250cm9scy92ZXJkb2NzLWxvYWRlci92ZXJkb2NzLWxvYWRlci50c3giLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VtYmVkcy92ZXJkb2NzLXZpZXcvdmVyZG9jcy12aWV3LnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VtYmVkcy92ZXJkb2NzLXZpZXcvdmVyZG9jcy12aWV3LnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy12aWV3LWVudmVsb3BlLWRvY3VtZW50L3ZlcmRvY3Mtdmlldy1lbnZlbG9wZS1kb2N1bWVudC5zY3NzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy92ZXJkb2NzLXZpZXctZW52ZWxvcGUtZG9jdW1lbnQvdmVyZG9jcy12aWV3LWVudmVsb3BlLWRvY3VtZW50LnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy12aWV3LXRlbXBsYXRlLWRvY3VtZW50L3ZlcmRvY3Mtdmlldy10ZW1wbGF0ZS1kb2N1bWVudC5zY3NzIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy92ZXJkb2NzLXZpZXctdGVtcGxhdGUtZG9jdW1lbnQvdmVyZG9jcy12aWV3LXRlbXBsYXRlLWRvY3VtZW50LnRzeCJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiYWRvcHQiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiZ2V0U2lnbmluZ1Nlc3Npb24iLCJlbmRwb2ludCIsInBhcmFtcyIsIl9hIiwiYXBpIiwiZ2V0IiwiY29uY2F0IiwiZW52ZWxvcGVJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJvbGVJZCIsImludml0ZUNvZGUiLCJyIiwiX2IiLCJzaWduZXJUb2tlbiIsImhlYWRlcnMiLCJzaWduZXJfdG9rZW4iLCJzZXNzaW9uIiwiZGVjb2RlQWNjZXNzVG9rZW5Cb2R5Iiwic2V0VG9rZW4iLCJyZWNpcGllbnQiLCJkYXRhIiwiZ2V0RW52ZWxvcGUiLCJnZXRFbnZlbG9wZURvY3VtZW50IiwiZG9jdW1lbnRJZCIsImdldEVudmVsb3BlRmlsZSIsInJlc3BvbnNlVHlwZSIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInVwZGF0ZUVudmVsb3BlRmllbGQiLCJmaWVsZE5hbWUiLCJwdXQiLCJnZXRUZW1wbGF0ZURvY3VtZW50IiwidGVtcGxhdGVJZCIsImNyZWF0ZVRlbXBsYXRlRG9jdW1lbnQiLCJmaWxlIiwib25VcGxvYWRQcm9ncmVzcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJuYW1lIiwicG9zdCIsInRpbWVvdXQiLCJldmVudCIsIk1hdGgiLCJmbG9vciIsImxvYWRlZCIsInRvdGFsIiwiZ2V0VGVtcGxhdGVzIiwiZ2V0VGVtcGxhdGUiLCJjcmVhdGVUZW1wbGF0ZSIsIlNES0Vycm9yIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJyZXNwb25zZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiRXJyb3IiLCJWZXJkb2NzTG9hZGVyIiwicmVuZGVyIiwiaCIsIkhvc3QiLCJWZXJkb2NzVmlldyIsIlZlcmRvY3NFbmRwb2ludCIsImdldERlZmF1bHQiLCJ0eXBlIiwiY29tcG9uZW50V2lsbExvYWQiLCJsb2FkU2Vzc2lvbiIsImNvbnNvbGUiLCJlcnJvciIsIndhcm4iLCJsb2ciLCJ0ZW1wbGF0ZSIsImVudmVsb3BlIiwic2RrRXJyb3IiLCJlbWl0Iiwic3RhdHVzIiwidGVtcGxhdGVfZG9jdW1lbnQiLCJpZCIsIm9uUGFnZVJlbmRlcmVkIiwicCIsInBhZ2VSZW5kZXJlZCIsImRldGFpbCIsImVudmVsb3BlX2RvY3VtZW50X2lkIiwiVmVyZG9jc1ZpZXdFbnZlbG9wZURvY3VtZW50IiwiZG9tUGFnZXMiLCJzb3VyY2VQYWdlTWV0cmljcyIsImVudmVsb3BlRG9jdW1lbnQiLCJwYWdlTnVtYmVyIiwiZG9tUGFnZSIsInBhZ2VNZXRyaWNzIiwicmVuZGVyZWRQYWdlIiwicGFnZXMiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW5kZXJQYWdlIiwic29ydCIsImEiLCJiIiwic2VxdWVuY2UiLCJtYXAiLCJwYWdlIiwicGFnZUltYWdlVXJpIiwiZGlzcGxheV91cmkiLCJ2aXJ0dWFsV2lkdGgiLCJ2aXJ0dWFsSGVpZ2h0IiwibGF5ZXJzIiwicGFnZUxheWVycyIsImhhbmRsZVBhZ2VSZW5kZXJlZCIsIlZlcmRvY3NWaWV3VGVtcGxhdGVEb2N1bWVudCIsInRlbXBsYXRlRG9jdW1lbnQiXSwibWFwcGluZ3MiOiI7eWhEQUFJQSxVQUF3QyxTQUFVQyxRQUFTQyxXQUFZQyxFQUFHQyxXQUUxRSxP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RSxvR0F1RUQsa0JBQXlCQSxHQUFNLGlJQUllLE9BSDVDQSxFQUFFNEgsa0JBRUlKLFFBQVV4SCxFQUFFaUgsT0FDbEI1RixLQUFLK0YsU0FBU0ksUUFBUUQsWUFBY0MsUUFBUSxpQkFDdENuRyxLQUFLd0csV0FBV0wsUUFBUUQsWUFBVywrREFDMUMsMEdBRUQsU0FBQTdCLFNBQU0sSSxNQUFBLFlBQ0pTLFFBQVFHLElBQUksa0NBQXdELFFBQXJCLEdBQUFqRixLQUFLdUgsd0JBQWdCLGlCQUFFakIsT0FHdEUsSUFBTUEsTUFBUSxvQkFBMEIsUUFBckIsR0FBQXRHLEtBQUt1SCx3QkFBZ0IsaUJBQUVqQixRQUFTLElBSW5ELE9BSEFBLE1BQU1HLE1BQUssU0FBQ0MsRUFBR0MsR0FBQyxPQUFLRCxFQUFFRSxTQUFXRCxFQUFFQyxRQUFRLElBSTFDdEMsMkRBQUNDLG1EQUFJLEtBQ0YrQixNQUFNTyxLQUFJLFNBQUFDLE1BQUksT0FDYnhDLG9GQUNFeUMsYUFBY0QsS0FBS0UsWUFDbkJDLGFBQWMsSUFDZEMsY0FBZSxJQUlmaEIsV0FBWVksS0FBS0YsU0FDakJPLE9BQVEsT0FBS0MsV0FDYjNCLGVBQWdCLHdCQUFBQyxHQUFDLE9BQUksT0FBSzJCLG1CQUFtQjNCLEVBQUUsR0FDL0MsSSxHQUlULG9DLHdHQTdPcUMsRyxrQ0QzQkQsMmUiLCJmaWxlIjoiMTkuZjU4YjM3ZjEuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgeyBkZWNvZGVBY2Nlc3NUb2tlbkJvZHkgfSBmcm9tICcuLi9VdGlscy9Ub2tlbic7XG4vKipcbiAqIENyZWF0ZSBhbiBlbnZlbG9wZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7RW52ZWxvcGVzLCBJQ3JlYXRlRW52ZWxvcGVSb2xlLCBJQ3JlYXRlRW52ZWxvcGVSZXF1ZXN0fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzJztcbiAqXG4gKiBjb25zdCByb2xlMTogSUNyZWF0ZUVudmVsb3BlUm9sZSA9IHtcbiAqICAgdHlwZTogJ3NpZ25lcicsXG4gKiAgIG5hbWU6ICdTZWxsZXInLFxuICogICBmdWxsX25hbWU6ICdQYWlnZSBUdXJuZXInLFxuICogICBlbWFpbDogJ3BhaWdlLnR1cm5lckBub21haWwuY29tJyxcbiAqICAgcGhvbmU6ICcnLFxuICogICBzZXF1ZW5jZTogMSxcbiAqICAgZGVsZWdhdG9yOiBmYWxzZSxcbiAqICAgbWVzc2FnZTogJycsXG4gKiB9O1xuICpcbiAqIGNvbnN0IHJvbGUyOiBJQ3JlYXRlRW52ZWxvcGVSb2xlID0ge1xuICogICB0eXBlOiAnc2lnbmVyJyxcbiAqICAgbmFtZTogJ0J1eWVyJyxcbiAqICAgZnVsbF9uYW1lOiAnV2lsbCBQb3dlcicsXG4gKiAgIGVtYWlsOiAnd2lsbC5wb3dlckBub21haWwuY29tJyxcbiAqICAgcGhvbmU6ICcnLFxuICogICBzZXF1ZW5jZTogMixcbiAqICAgZGVsZWdhdG9yOiBmYWxzZSxcbiAqICAgbWVzc2FnZTogJycsXG4gKiB9O1xuICpcbiAqIGNvbnN0IHJlcXVlc3Q6IElDcmVhdGVFbnZlbG9wZVJlcXVlc3QgPSB7dGVtcGxhdGVfaWQ6ICdkMjMzODc0Mi1mM2ExLTQ2NWItODU5Mi04MDY1ODc0MTNjYzEnLCBuYW1lOiAnQmlsbCBvZiBTYWxlJywgcm9sZXM6IFtyb2xlMSwgcm9sZTJdfTtcbiAqIGNvbnN0IHtpZCwgcmVjaXBpZW50c30gPSBhd2FpdCBFbnZlbG9wZXMuY3JlYXRlRW52ZWxvcGUoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgcmVxdWVzdCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVFbnZlbG9wZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcmVxdWVzdCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucG9zdCgnL2VudmVsb3BlcycsIHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCBhIHN1bW1hcnkgb2YgY3VycmVudGx5IGFjdGl2ZSBlbnZlbG9wZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtFbnZlbG9wZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMnO1xuICpcbiAqIGNvbnN0IHthY3Rpb25fcmVxdWlyZWQsIGNvbXBsZXRlZCwgd2FpdGluZ19vbl9vdGhlcnN9ID0gYXdhaXQgRW52ZWxvcGVzLmdldFN1bW1hcnkoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRTdW1tYXJ5ID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYWdlKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wb3N0KCcvZW52ZWxvcGVzL3N1bW1hcnknLCB7IHBhZ2U6IHBhZ2UgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogU2VhcmNoIGZvciBlbnZlbG9wZXMgbWF0Y2hpbmcgdmFyaW91cyBjcml0ZXJpYS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0VudmVsb3Blc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcyc7XG4gKlxuICogY29uc3Qge3Jlc3VsdCwgcGFnZSwgdG90YWx9ID0gYXdhaXQgRW52ZWxvcGVzLnNlYXJjaChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IC4uLiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIHNlYXJjaEVudmVsb3BlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wb3N0KCcvZW52ZWxvcGVzL3NlYXJjaCcsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogR2V0IGEgc2lnbmluZyBzZXNzaW9uIGZvciBhbiBFbnZlbG9wZS5cbiAqL1xuZXhwb3J0IHZhciBnZXRTaWduaW5nU2Vzc2lvbiA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChwYXJhbXMuZW52ZWxvcGVJZCwgXCIvcmVjaXBpZW50cy9cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMucm9sZUlkKSwgXCIvaW52aXRhdGlvbi9cIikuY29uY2F0KHBhcmFtcy5pbnZpdGVDb2RlKSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWRpbmcgYSBqc29ud2VidG9rZW4gZGVwZW5kZW5jeSBoZXJlIC0gd2UgZG9uJ3QgYWN0dWFsbHkgbmVlZCB0aGUgd2hvbGUgbGlicmFyeVxuICAgICAgICAgICAgICAgIHZhciBzaWduZXJUb2tlbiA9ICgoX2EgPSByLmhlYWRlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaWduZXJfdG9rZW4pIHx8ICcnO1xuICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uID0gZGVjb2RlQWNjZXNzVG9rZW5Cb2R5KHNpZ25lclRva2VuKTtcbiAgICAgICAgICAgICAgICBlbmRwb2ludC5zZXRUb2tlbigoX2IgPSByLmhlYWRlcnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zaWduZXJfdG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlY2lwaWVudDogci5kYXRhLCBzZXNzaW9uOiBzZXNzaW9uLCBzaWduZXJUb2tlbjogc2lnbmVyVG9rZW4gfTtcbiAgICAgICAgICAgIH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBHZXQgdGhlIGxpc3Qgb2YgcmVjaXBpZW50cyBmb3IgYW4gRW52ZWxvcGUuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0RW52ZWxvcGVSZWNpcGllbnRzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzXCIpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBHZXQgYWxsIG1ldGFkYXRhIGZvciBhbiBFbnZlbG9wZS5cbiAqL1xuZXhwb3J0IHZhciBnZXRFbnZlbG9wZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCBhbGwgbWV0YWRhdGEgZm9yIGFuIEVudmVsb3BlLlxuICovXG5leHBvcnQgdmFyIGdldEVudmVsb3BlRG9jdW1lbnQgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIGRvY3VtZW50SWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL2VudmVsb3BlX2RvY3VtZW50cy9cIikuY29uY2F0KGRvY3VtZW50SWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBDYW5jZWwgYW4gRW52ZWxvcGUuXG4gKi9cbmV4cG9ydCB2YXIgY2FuY2VsRW52ZWxvcGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQpLCB7IGFjdGlvbjogJ2NhbmNlbCcgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSByZWNpcGllbnQgaGFzIGEgcGVuZGluZyBhY3Rpb24uIE5vdGUgdGhhdCB0aGlzIGRvZXMgbm90IG5lY2Vzc2FyaWx5IG1lYW4gdGhlIHJlY2lwaWVudCBjYW4gYWN0ICh5ZXQpLlxuICovXG5leHBvcnQgdmFyIHJlY2lwaWVudEhhc0FjdGlvbiA9IGZ1bmN0aW9uIChyZWNpcGllbnQpIHsgcmV0dXJuICFbJ3N1Ym1pdHRlZCcsICdjYW5jZWxlZCcsICdkZWNsaW5lZCddLmluY2x1ZGVzKHJlY2lwaWVudC5zdGF0dXMpOyB9O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWNpcGllbnRzIHdobyBzdGlsbCBoYXZlIGEgcGVuZGluZyBhY3Rpb24uIE5vdGUgdGhhdCBub3QgYWxsIG9mIHRoZXNlIHJlY2lwaWVudHMgbWF5IGJlIGFibGUgdG8gYWN0ICh5ZXQpLlxuICovXG5leHBvcnQgdmFyIGdldFJlY2lwaWVudHNXaXRoQWN0aW9ucyA9IGZ1bmN0aW9uIChlbnZlbG9wZSkgeyByZXR1cm4gKChlbnZlbG9wZSA9PT0gbnVsbCB8fCBlbnZlbG9wZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZW52ZWxvcGUucmVjaXBpZW50cykgfHwgW10pLmZpbHRlcihyZWNpcGllbnRIYXNBY3Rpb24pOyB9O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJlY2lwaWVudCBjYW4gYWN0LlxuICovXG5leHBvcnQgdmFyIHJlY2lwaWVudENhbkFjdCA9IGZ1bmN0aW9uIChyZWNpcGllbnQsIHJlY2lwaWVudHNXaXRoQWN0aW9ucykgeyB2YXIgX2E7IHJldHVybiByZWNpcGllbnQuc2VxdWVuY2UgPT09ICgoX2EgPSByZWNpcGllbnRzV2l0aEFjdGlvbnMgPT09IG51bGwgfHwgcmVjaXBpZW50c1dpdGhBY3Rpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWNpcGllbnRzV2l0aEFjdGlvbnNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXF1ZW5jZSk7IH07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdXNlciBjYW4gYWN0LlxuICovXG5leHBvcnQgdmFyIHVzZXJDYW5BY3QgPSBmdW5jdGlvbiAoZW1haWwsIHJlY2lwaWVudHNXaXRoQWN0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgcmVjaXBpZW50ID0gcmVjaXBpZW50c1dpdGhBY3Rpb25zLmZpbmQoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZW1haWwgPT09IGVtYWlsOyB9KTtcbiAgICByZXR1cm4gcmVjaXBpZW50ICYmIHJlY2lwaWVudC5zZXF1ZW5jZSA9PT0gKChfYSA9IHJlY2lwaWVudHNXaXRoQWN0aW9ucyA9PT0gbnVsbCB8fCByZWNpcGllbnRzV2l0aEFjdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlY2lwaWVudHNXaXRoQWN0aW9uc1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlcXVlbmNlKTtcbn07XG4vKipcbiAqIEdldCAoYmluYXJ5IGRvd25sb2FkKSBhIGZpbGUgYXR0YWNoZWQgdG8gYW4gRW52ZWxvcGUuIEl0IGlzIGltcG9ydGFudCB0byB1c2UgdGhpcyBtZXRob2RcbiAqIHJhdGhlciB0aGFuIGEgZGlyZWN0IEEgSFJFRiBvciBzaW1pbGFyIGxpbmsgdG8gc2V0IHRoZSBhdXRob3JpemF0aW9uIGhlYWRlcnMgZm9yIHRoZVxuICogcmVxdWVzdC5cbiAqL1xuZXhwb3J0IHZhciBnZXRFbnZlbG9wZUZpbGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIGRvY3VtZW50SWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL2VudmVsb3BlX2RvY3VtZW50cy9cIikuY29uY2F0KGRvY3VtZW50SWQsIFwiP2ZpbGU9dHJ1ZVwiKSwge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIEJ1ZmZlci5mcm9tKHIuZGF0YSwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIFVwZGF0ZSBhIERvY3VtZW50IGZpZWxkLiBUeXBpY2FsbHkgY2FsbGVkIGR1cmluZyB0aGUgc2lnbmluZyBwcm9jZXNzIGFzIGEgUmVjaXBpZW50IGZpbGxzIGluIGZpZWxkcy5cbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVFbnZlbG9wZUZpZWxkID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCBmaWVsZE5hbWUsIHZhbHVlKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wdXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9maWVsZHMvXCIpLmNvbmNhdChmaWVsZE5hbWUpLCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogVXBkYXRlIGEgRG9jdW1lbnQgc2lnbmF0dXJlIGZpZWxkLiBTaWduYXR1cmUgZmllbGRzIGFyZSBJRC1kcml2ZW4uIENhbGwgYERvY3VtZW50LmNyZWF0ZVNpZ25hdHVyZSgpYCBmaXJzdCB0byBjcmVhdGUgYVxuICogc2lnbmF0dXJlIGZvciBhIFJlY2lwaWVudCwgdGhlbiBjYWxsIGBEb2N1bWVudHMudXBkYXRlRG9jdW1lbnRGaWVsZFNpZ25hdHVyZSgpYCB0byBhdHRhY2ggaXQgdG8gYSBmaWVsZC5cbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVFbnZlbG9wZUZpZWxkU2lnbmF0dXJlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCBmaWVsZE5hbWUsIHNpZ25hdHVyZUlkKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wdXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9maWVsZHMvXCIpLmNvbmNhdChmaWVsZE5hbWUsIFwiL3NpZ25hdHVyZS9cIikuY29uY2F0KHNpZ25hdHVyZUlkKSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbiIsIi8qKlxuICogQSBUZW1wbGF0ZURvY3VtZW50IHJlcHJlc2VudHMgYSBQREYgb3Igb3RoZXIgYXR0YWNobWVudCBpbiBhIFRlbXBsYXRlLlxuICpcbiAqIEBtb2R1bGVcbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogR2V0IGFsbCB0aGUgVGVtcGxhdGUgRG9jdW1lbnRzIGFzc29jaWF0ZWQgdG8gYSBwYXJ0aWN1bGFyIFRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVEb2N1bWVudH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgVGVtcGxhdGVEb2N1bWVudC5nZVRlbXBsYXRlRG9jdW1lbnRzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB0ZW1wbGF0ZUlkKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFRlbXBsYXRlRG9jdW1lbnRzID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCwgXCIvZG9jdW1lbnRzL1wiKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgYSBzcGVjaWZpYyBEb2N1bWVudC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlRG9jdW1lbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IFRlbXBsYXRlRG9jdW1lbnQuZ2VUZW1wbGF0ZURvY3VtZW50KChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB0ZW1wbGF0ZUlkLGRvY3VtZW50SWQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGVEb2N1bWVudCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgZG9jdW1lbnRJZCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQsIFwiL2RvY3VtZW50cy9cIikuY29uY2F0KGRvY3VtZW50SWQpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIENyZWF0ZSBhIERvY3VtZW50IGZvciBhIHBhcnRpY3VsYXIgVGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZURvY3VtZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBUZW1wbGF0ZURvY3VtZW50LmNyZWF0ZURvY3VtZW50KChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB0ZW1wbGF0ZUlELCBwYXJhbXMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlVGVtcGxhdGVEb2N1bWVudCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdGVtcGxhdGVJZCwgZmlsZSwgb25VcGxvYWRQcm9ncmVzcykge1xuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZCgnZG9jdW1lbnQnLCBmaWxlLCBmaWxlLm5hbWUpO1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnBvc3QoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkLCBcIi9kb2N1bWVudHNcIiksIGZvcm1EYXRhLCB7XG4gICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIG9uVXBsb2FkUHJvZ3Jlc3MgPT09IG51bGwgfHwgb25VcGxvYWRQcm9ncmVzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25VcGxvYWRQcm9ncmVzcyhNYXRoLmZsb29yKChldmVudC5sb2FkZWQgKiAxMDApIC8gZXZlbnQudG90YWwpLCBldmVudC5sb2FkZWQsIGV2ZW50LnRvdGFsKTsgfSxcbiAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG4vKipcbiAqIERlbGV0ZSBhIHNwZWNpZmljIERvY3VtZW50LlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVEb2N1bWVudH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgVGVtcGxhdGVEb2N1bWVudC5kZWxldGVEb2N1bWVudCgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgdGVtcGxhdGVJRCwgZG9jdW1lbnRJRCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBkZWxldGVUZW1wbGF0ZURvY3VtZW50ID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkLCBkb2N1bWVudElkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZGVsZXRlKFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCwgXCIvZG9jdW1lbnRzL1wiKS5jb25jYXQoZG9jdW1lbnRJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogR2V0IChiaW5hcnkgZG93bmxvYWQpIGEgZmlsZSBhdHRhY2hlZCB0byBhIFRlbXBsYXRlLiBJdCBpcyBpbXBvcnRhbnQgdG8gdXNlIHRoaXMgbWV0aG9kXG4gKiByYXRoZXIgdGhhbiBhIGRpcmVjdCBBIEhSRUYgb3Igc2ltaWxhciBsaW5rIHRvIHNldCB0aGUgYXV0aG9yaXphdGlvbiBoZWFkZXJzIGZvciB0aGVcbiAqIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGVEb2N1bWVudEZpbGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIGRvY3VtZW50SWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQsIFwiL2RvY3VtZW50cy9cIikuY29uY2F0KGRvY3VtZW50SWQsIFwiP2ZpbGU9dHJ1ZVwiKSwge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIEJ1ZmZlci5mcm9tKHIuZGF0YSwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCAoYmluYXJ5IGRvd25sb2FkKSBhIGZpbGUgYXR0YWNoZWQgdG8gYSBUZW1wbGF0ZS4gSXQgaXMgaW1wb3J0YW50IHRvIHVzZSB0aGlzIG1ldGhvZFxuICogcmF0aGVyIHRoYW4gYSBkaXJlY3QgQSBIUkVGIG9yIHNpbWlsYXIgbGluayB0byBzZXQgdGhlIGF1dGhvcml6YXRpb24gaGVhZGVycyBmb3IgdGhlXG4gKiByZXF1ZXN0LlxuICovXG5leHBvcnQgdmFyIGdldFRlbXBsYXRlRG9jdW1lbnRUaHVtYm5haWwgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIGRvY3VtZW50SWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQsIFwiL2RvY3VtZW50cy9cIikuY29uY2F0KGRvY3VtZW50SWQsIFwiP3RodW1ibmFpbD10cnVlXCIpLCB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gQnVmZmVyLmZyb20oci5kYXRhLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbiIsIi8qKlxuICogQSBUZW1wbGF0ZSBkZWZpbmVzIGhvdyBhIFZlcmRvY3Mgc2lnbmluZyBmbG93IHdpbGwgYmUgcGVyZm9ybWVkLCBpbmNsdWRpbmcgYXR0YWNobWVudHMsIHNpZ25pbmcgZmllbGRzLCBhbmRcbiAqIHJlY2lwaWVudHMuXG4gKlxuICogQG1vZHVsZVxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBHZXQgYWxsIHRlbXBsYXRlcyBhY2Nlc3NpYmxlIGJ5IHRoZSBjYWxsZXIsIHdpdGggb3B0aW9uYWwgZmlsdGVycy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogYXdhaXQgVGVtcGxhdGVzLmdldFRlbXBsYXRlcygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IGlzX3N0YXJyZWQ6IHRydWUgfSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IGlzX2NyZWF0b3I6IHRydWUgfSk7XG4gKiBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGVzKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IGlzX29yZ2FuaXphdGlvbjogdHJ1ZSB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFRlbXBsYXRlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAucG9zdCgnL3RlbXBsYXRlcycsIHsgcGFyYW1zOiBwYXJhbXMgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBHZXQgb25lIHRlbXBsYXRlIGJ5IGl0cyBJRC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0VGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksICc4M2RhM2Q3MC03ODU3LTQzOTItYjg3Ni1jNDU5MmEzMDRiYzknKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFRlbXBsYXRlID0gZnVuY3Rpb24gKGVuZHBvaW50LCB0ZW1wbGF0ZUlkKSB7XG4gICAgcmV0dXJuIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAuZ2V0KFwiL3RlbXBsYXRlcy9cIi5jb25jYXQodGVtcGxhdGVJZCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogR2V0IG93bmVyIGluZm9ybWF0aW9uIGZvciBhIHRlbXBsYXRlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IFRlbXBsYXRlcy5nZXRUZW1wbGF0ZU93bmVySW5mbygoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VGVtcGxhdGVPd25lckluZm8gPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBDcmVhdGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgbmV3VGVtcGxhdGUgPSBhd2FpdCBUZW1wbGF0ZXMuY3JlYXRlVGVtcGxhdGUoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsuLi59KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzLycsIHBhcmFtcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBVcGRhdGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1RlbXBsYXRlc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcyc7XG4gKlxuICogY29uc3QgdXBkYXRlZFRlbXBsYXRlID0gYXdhaXQgVGVtcGxhdGVzLnVwZGF0ZVRlbXBsYXRlKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCAnODNkYTNkNzAtNzg1Ny00MzkyLWI4NzYtYzQ1OTJhMzA0YmM5JywgeyBuYW1lOiAnTmV3IE5hbWUnIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlVGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQsIHBhcmFtcykge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLnB1dChcIi90ZW1wbGF0ZXMvXCIuY29uY2F0KHRlbXBsYXRlSWQpLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pO1xufTtcbi8qKlxuICogRGVsZXRlIGEgdGVtcGxhdGUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGF3YWl0IFRlbXBsYXRlcy5kZWxldGVUZW1wbGF0ZSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgJzgzZGEzZDcwLTc4NTctNDM5Mi1iODc2LWM0NTkyYTMwNGJjOScpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZGVsZXRlVGVtcGxhdGUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHRlbXBsYXRlSWQpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5kZWxldGUoXCIvdGVtcGxhdGVzL1wiLmNvbmNhdCh0ZW1wbGF0ZUlkKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuLyoqXG4gKiBTZWFyY2ggZm9yIHRlbXBsYXRlcyBtYXRjaGluZyB2YXJpb3VzIGNyaXRlcmlhLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7VGVtcGxhdGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBjb25zdCB7cmVzdWx0LCBwYWdlLCB0b3RhbH0gPSBhd2FpdCBUZW1wbGF0ZXMuc2VhcmNoKChWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCB7IC4uLiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIHNlYXJjaFRlbXBsYXRlcyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgcGFyYW1zKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wb3N0KCcvdGVtcGxhdGVzL3NlYXJjaCcsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogR2V0IGEgc3VtbWFyeSBvZiB0ZW1wbGF0ZSBkYXRhLCB0eXBpY2FsbHkgdXNlZCB0byBwb3B1bGF0ZSBhZG1pbiBwYW5lbCBkYXNoYm9hcmQgcGFnZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMnO1xuICpcbiAqIGNvbnN0IHN1bW1hcnkgPSBhd2FpdCBUZW1wbGF0ZXMuZ2V0U3VtbWFyeSgoVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKSwgMCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBnZXRTdW1tYXJ5ID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0ge307IH1cbiAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgICAgICAucG9zdCgnL3RlbXBsYXRlcy9zdW1tYXJ5JywgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbiIsIi8qKlxuICogUGFzc2VkIHRvIHBhcmVudCBjb21wb25lbnRzIGluIGNlcnRhaW4gY2FsbGJhY2tzIHdpdGggdGhlIGxvd2VyLWxldmVsIEpTLVNESyBlbWl0cyBhbiBlcnJvclxuICovXG5leHBvcnQgY2xhc3MgU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvZGU7XG4gIHN0YXR1c0NvZGU7XG4gIHJlc3BvbnNlO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgc3RhdHVzQ29kZTogbnVtYmVyLCByZXNwb25zZTogYW55KSB7XG4gICAgc3VwZXIobWVzc2FnZSB8fCAnU0RLIEVycm9yJyk7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcbiAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtbG9hZGVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgbWFyZ2luLWxlZnQ6IC0yMHB4O1xuICBtYXJnaW4tdG9wOiAtMjBweDtcbiAgZm9udC1zaXplOiAyNHB4O1xuICB3aWR0aDogMjRweDtcbiAgaGVpZ2h0OiAyNHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHRleHQtaW5kZW50OiAtOTk5OWVtO1xuICAtd2Via2l0LWFuaW1hdGlvbjogbG9hZDUgMS4xcyBpbmZpbml0ZSBlYXNlO1xuICBhbmltYXRpb246IHZlcmRvY3MtbG9hZGVyLWtmIDEuMXMgaW5maW5pdGUgZWFzZTtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbn1cblxuQGtleWZyYW1lcyB2ZXJkb2NzLWxvYWRlci1rZiB7XG4gIDAlLFxuICAxMDAlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gJHZlcmRvY3MtYmctMiwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksXG4gICAgICAwZW0gMi41ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4zKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gIH1cbiAgMTIuNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksIDEuOGVtIC0xLjhlbSAwIDBlbSAkdmVyZG9jcy1iZy0yLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSxcbiAgICAgIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgfVxuICAyNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksIDIuNWVtIDBlbSAwIDBlbSAkdmVyZG9jcy1iZy0yLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSxcbiAgICAgIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgfVxuICAzNy41JSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4zKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC40KSwgMS43NWVtIDEuNzVlbSAwIDBlbSAkdmVyZG9jcy1iZy0yLFxuICAgICAgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB9XG4gIDUwJSB7XG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4zKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksXG4gICAgICAwZW0gMi41ZW0gMCAwZW0gJHZlcmRvY3MtYmctMiwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB9XG4gIDYyLjUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4zKSxcbiAgICAgIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksIC0xLjhlbSAxLjhlbSAwIDBlbSAkdmVyZG9jcy1iZy0yLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbiAgNzUlIHtcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSxcbiAgICAgIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMyksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksIC0yLjZlbSAwZW0gMCAwZW0gJHZlcmRvY3MtYmctMiwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbiAgODcuNSUge1xuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuMiksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gcmdiYSgwLCAwLCAwLCAwLjIpLFxuICAgICAgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4yKSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMCwgMCwgMCwgMC4zKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDAsIDAsIDAsIDAuNCksIC0xLjhlbSAtMS44ZW0gMCAwZW0gJHZlcmRvY3MtYmctMjtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIGgsIEhvc3R9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuXG4vKipcbiAqIEFuaW1hdGVkIGxvYWRlciBwbGFjZWhvbGRlci4gVGhlcmUgYXJlIGN1cnJlbnRseSBubyBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoaXMgY29udHJvbC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3MtbG9hZGVyJyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLWxvYWRlci5zY3NzJyxcbiAgc2hhZG93OiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVmVyZG9jc0xvYWRlciB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPEhvc3QgLz47XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXZpZXcge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAxNXB4O1xuICByb3ctZ2FwOiAxNXB4O1xuICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gIGRpdixcbiAgY2FudmFzIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG59XG4iLCJpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrJztcbmltcG9ydCB7SUVudmVsb3BlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1R5cGVzJztcbmltcG9ydCB7SVRlbXBsYXRlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1R5cGVzJztcbmltcG9ydCB7Z2V0VGVtcGxhdGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVGVtcGxhdGVzJztcbmltcG9ydCB7Z2V0RW52ZWxvcGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvRW52ZWxvcGVzJztcbmltcG9ydCB7Q29tcG9uZW50LCBoLCBFbGVtZW50LCBFdmVudCwgSG9zdCwgUHJvcCwgRXZlbnRFbWl0dGVyLCBTdGF0ZX0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5pbXBvcnQge0lEb2N1bWVudFBhZ2VJbmZvLCBJUGFnZUxheWVyfSBmcm9tICcuLi8uLi8uLi91dGlscy9UeXBlcyc7XG5pbXBvcnQge1NES0Vycm9yfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTb3VyY2VQYWdlTWV0cmljcyB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYWdlUmVuZGVyRXZlbnQge1xuICByZW5kZXJlZFBhZ2U6IElEb2N1bWVudFBhZ2VJbmZvO1xuICBzb3VyY2VQYWdlTWV0cmljczogSVNvdXJjZVBhZ2VNZXRyaWNzO1xuICBwYWdlczogUmVjb3JkPG51bWJlciwgSURvY3VtZW50UGFnZUluZm8+O1xufVxuXG4vKipcbiAqIFZpZXcgYWxsIG9mIHRoZSBkb2N1bWVudHMgYXR0YWNoZWQgdG8gYSB0ZW1wbGF0ZSBvciBlbnZlbG9wZS4gQWxsIGRvY3VtZW50cyBhcmUgZGlzcGxheWVkLCBpbiBvcmRlci4gVGhpcyBlbWJlZCB3cmFwc1xuICogdmVyZG9jcy12aWV3LWVudmVsb3BlLWRvY3VtZW50IG9yIHZlcmRvY3Mtdmlldy10ZW1wbGF0ZS1kb2N1bWVudCwgYXMgYXBwcm9wcmlhdGUsIGFuZCB0aG9zZSBjb250cm9scyBtYXkgYmUgdXNlZCBpZlxuICogZmluZS1ncmFpbmVkIGNvbnRyb2wgb3ZlciB3aGljaCBkb2N1bWVudHMgYXJlIGRpc3BsYXllZCAob3IgdGhlaXIgb3JkZXIpIGlzIHJlcXVpcmVkLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy12aWV3JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXZpZXcuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NWaWV3IHtcbiAgQEVsZW1lbnQoKSBjb21wb25lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBUaGUgZW5kcG9pbnQgdG8gdXNlIHRvIGNvbW11bmljYXRlIHdpdGggVmVyZG9jcy4gSWYgbm90IHNldCwgdGhlIGRlZmF1bHQgZW5kcG9pbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgQFByb3AoKSBlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcblxuICAvKipcbiAgICogVGhlIHRlbXBsYXRlIElEIHRvIHJlbmRlci4gU2V0IE9ORSBPRiB0ZW1wbGF0ZUlkIG9yIGVudmVsb3BlSWQuXG4gICAqL1xuICBAUHJvcCgpIHRlbXBsYXRlSWQ6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBUaGUgZW52ZWxvcGUgSUQgdG8gcmVuZGVyLiBTZXQgT05FIE9GIHRlbXBsYXRlSWQgb3IgZW52ZWxvcGVJZC4gSWYgYm90aCBhcmUgc2V0LCBlbnZlbG9wZUlkIHdpbGwgYmUgaWdub3JlZC5cbiAgICovXG4gIEBQcm9wKCkgZW52ZWxvcGVJZDogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGUgUERGIGluIGRlZ3JlZXNcbiAgICovXG4gIEBQcm9wKCkgcm90YXRpb246IDAgfCA5MCB8IDE4MCB8IDI3MCA9IDA7XG5cbiAgLyoqXG4gICAqIExheWVycyB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBpbmRpdmlkdWFsIHBhZ2VzIGluc2lkZSB0aGlzIGNvbXBvbmVudC5cbiAgICovXG4gIEBQcm9wKCkgcGFnZUxheWVyczogSVBhZ2VMYXllcltdID0gW1xuICAgIHtuYW1lOiAncGFnZScsIHR5cGU6ICdjYW52YXMnfSxcbiAgICB7bmFtZTogJ2NvbnRyb2xzJywgdHlwZTogJ2Rpdid9LFxuICBdO1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiByZW5kZXJlZFxuICAgKi9cbiAgQEV2ZW50KCkgcGFnZVJlbmRlcmVkOiBFdmVudEVtaXR0ZXI8SVBhZ2VSZW5kZXJFdmVudD47XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYSBwYWdlIGhhcyBiZWVuIGNoYW5nZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VMb2FkZWQ6IEV2ZW50RW1pdHRlcjxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiBjaGFuZ2VkXG4gICAqL1xuICBARXZlbnQoKSBwYWdlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VJbml0OiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gc2NhbGVkXG4gICAqL1xuICBARXZlbnQoKSBzY2FsZUNoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIGlmIGFuIGVycm9yIG9jY3Vycy4gVGhlIGV2ZW50IGRldGFpbHMgd2lsbCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gTW9zdCBlcnJvcnMgd2lsbFxuICAgKiB0ZXJtaW5hdGUgdGhlIHByb2Nlc3MsIGFuZCB0aGUgY2FsbGluZyBhcHBsaWNhdGlvbiBzaG91bGQgY29ycmVjdCB0aGUgY29uZGl0aW9uIGFuZCByZS1yZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBzZGtFcnJvcjogRXZlbnRFbWl0dGVyPFNES0Vycm9yPjtcblxuICBAU3RhdGUoKSB0ZW1wbGF0ZT86IElUZW1wbGF0ZSA9IG51bGw7XG4gIEBTdGF0ZSgpIGVudmVsb3BlPzogSUVudmVsb3BlID0gbnVsbDtcblxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmVuZHBvaW50LmxvYWRTZXNzaW9uKCk7XG4gIH1cblxuICAvLyBUT0RPOiBIYW5kbGluZyBzaWduaW5nIHZzIHByZXZpZXctYXMtdXNlciBjYXNlc1xuICAvLyBUT0RPOiBIYW5kbGUgYW5vbnltb3VzIGNhc2UgYW5kIGZhaWx1cmUgdG8gbG9hZCBkdWUgdG8gbm90IGJlaW5nIGxvZ2dlZCBpblxuICBhc3luYyBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIGlmICghdGhpcy50ZW1wbGF0ZUlkICYmICF0aGlzLmVudmVsb3BlSWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtWSUVXXSBNdXN0IHNwZWNpZnkgb25lIG9mIHRlbXBsYXRlSWQgb3IgZW52ZWxvcGVJZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlbXBsYXRlSWQgJiYgdGhpcy5lbnZlbG9wZUlkKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtWSUVXXSBCb3RoIHRlbXBsYXRlSWQgYW5kIGVudmVsb3BlSWQgc3BlY2lmaWVkLCB1c2luZyB0ZW1wbGF0ZUlkYCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLnRlbXBsYXRlSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nIHRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZUlkKTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IGF3YWl0IGdldFRlbXBsYXRlKHRoaXMuZW5kcG9pbnQsIHRoaXMudGVtcGxhdGVJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbVklFV10gTG9hZGVkIHRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZW52ZWxvcGVJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnW1ZJRVddIExvYWRpbmcgZW52ZWxvcGUnLCB0aGlzLmVudmVsb3BlSWQpO1xuICAgICAgICB0aGlzLmVudmVsb3BlID0gYXdhaXQgZ2V0RW52ZWxvcGUodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkZWQgZW52ZWxvcGUnLCB0aGlzLmVudmVsb3BlKTtcbiAgICAgIH1cblxuICAgICAgLy8gY29uc29sZS5sb2coYFtWSUVXXSBMb2FkaW5nIHRlbXBsYXRlICR7dGhpcy50ZW1wbGF0ZUlkfWApO1xuICAgICAgLy8gY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBnZXRUZW1wbGF0ZSh0aGlzLmVuZHBvaW50LCB0aGlzLnRlbXBsYXRlSWQpO1xuICAgICAgLy9cbiAgICAgIC8vIGNvbnNvbGUubG9nKCdbVklFV10gR290IHRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSk7XG4gICAgICAvLyB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAvLyB0aGlzLnBhZ2VOdW1iZXJzID0gaW50ZWdlclNlcXVlbmNlKDEsIHRlbXBsYXRlLnBhZ2VzLmxlbmd0aCk7XG4gICAgICAvL1xuICAgICAgLy8gY29uc3QgcGFnZVVyaXM6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7fTtcbiAgICAgIC8vIGZvciBhd2FpdCAobGV0IHBhZ2Ugb2YgdGVtcGxhdGUucGFnZXMpIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ1tWSUVXXSBMb2FkaW5nIHBhZ2UnLCBwYWdlKTtcbiAgICAgIC8vICAgLy8gVE9ETzogTWFrZSBhbiBlbmRwb2ludCB0byBnZXQgYWxsIG9mIHRoZSBwYWdlcyBmb3IgYSB0ZW1wbGF0ZVxuICAgICAgLy8gICAvLyBUT0RPOiBXaGVuIHVwbG9hZGluZyBhIG5ldyB0ZW1wbGF0ZSwgcHJlLXByb2Nlc3MgaXRzIHBhZ2VzIGludG8gaW1hZ2VzIGFuZCBjb21tZW50IHRoYXQgdGhlIGluZGl2aWR1YWwgcGFnZS1sb2FkZXIgaXMgYSB1dGlsaXR5LFxuICAgICAgLy8gICAvLyAgbm90IHRoZSBwcmltYXJ5IG1lY2hhbmlzbS5cbiAgICAgIC8vICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBnZXRQYWdlSW1hZ2UodGhpcy5lbmRwb2ludCwgdGhpcy50ZW1wbGF0ZUlkLCBwYWdlLnNlcXVlbmNlKTtcbiAgICAgIC8vICAgLy8gVE9ETzogTWFrZSB0aGlzIHVyaSB0byBtYXRjaCB0aGUgcmVzdCBvZiB0aGUgdGVybWlub2xvZ3k/XG4gICAgICAvLyAgIHBhZ2VVcmlzW3BhZ2Uuc2VxdWVuY2VdID0gaW1hZ2UudXJsO1xuICAgICAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIEdvdCBpbWFnZSBVcmknLCBpbWFnZS51cmwpO1xuICAgICAgLy8gICB0aGlzLmxvYWRQcm9ncmVzcyA9IHBhZ2Uuc2VxdWVuY2UgLyB0ZW1wbGF0ZS5wYWdlcy5sZW5ndGg7XG4gICAgICAvLyB9XG4gICAgICAvL1xuICAgICAgLy8gdGhpcy5wYWdlVXJpcyA9IHBhZ2VVcmlzO1xuICAgICAgLy8gdGhpcy5sb2FkUHJvZ3Jlc3MgPSAxMDA7XG4gICAgICAvL1xuICAgICAgLy8gLy8gdGhpcy5wZGZVcmwgPSBgJHt0aGlzLmVuZHBvaW50LmdldEJhc2VVUkwoKX0vdGVtcGxhdGVzLyR7dGhpcy50ZW1wbGF0ZUlkfS9kb2N1bWVudHMvJHt0ZW1wbGF0ZS50ZW1wbGF0ZV9kb2N1bWVudD8uaWR9P2ZpbGU9dHJ1ZWA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tWSUVXXSBFcnJvciBsb2FkaW5nIGRhdGEnLCBlKTtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWdlIGlzIFwicm90YXRlZFwiIChpbiBlaXRoZXIgZGlyZWN0aW9uKVxuICAvLyBpc1JvdGF0ZWQocm90YXRpb24pIHtcbiAgLy8gICByZXR1cm4gcm90YXRpb24gIT09IDAgJiYgcm90YXRpb24gJSAxODAgIT09IDA7XG4gIC8vIH1cblxuICAvLyBSZW5kZXIgb25lIGRvY3VtZW50IHBhZ2UuIE5vdGUgdGhhdCBwYWdlTnVtYmVyIGlzIDEtYmFzZWQuXG4gIC8vIGFzeW5jIHJlbmRlclBhZ2UocGFnZU51bWJlcjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vICAgY29uc3QgZG9tUGFnZSA9IHRoaXMuZG9tUGFnZXNbcGFnZU51bWJlcl07XG4gIC8vXG4gIC8vICAgLy8gVHdvIGFzeW5jIG9wZXJhdGlvbnMgaGFwcGVuIGhlcmUsIGxvYWRpbmcgdGhlIFBERiBhbmQgcmVuZGVyaW5nIHRoZSBET00gZGl2L2NhbnZhcyBwbGFjZWhvbGRlcnMgdG8gZHJhdyB0aGUgcGFnZXMgb24uXG4gIC8vICAgaWYgKCFkb21QYWdlKSB7XG4gIC8vICAgICBjb25zb2xlLmxvZygnW1ZJRVddIFNraXBwaW5nIHJlbmRlcmluZyBwYWdlIG5vdCB5ZXQgaW4gRE9NJywge3BhZ2VOdW1iZXJ9KTtcbiAgLy8gICAgIHJldHVybjtcbiAgLy8gICB9XG4gIC8vXG4gIC8vICAgY29uc3QgcGFnZU1ldHJpY3MgPSB0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdO1xuICAvL1xuICAvLyAgIGNvbnNvbGUubG9nKCdbVklFV10gUmVuZGVyaW5nIHBhZ2UnLCB7cGFnZU51bWJlciwgcGFnZU1ldHJpY3MsIGRvbVBhZ2V9KTtcbiAgLy8gICB0cnkge1xuICAvLyAgICAgLy8gY29uc3QgcGRmUGFnZSA9IGF3YWl0IHRoaXMucGRmRG9jdW1lbnQuZ2V0UGFnZShwYWdlTnVtYmVyKTtcbiAgLy8gICAgIC8vIGNvbnN0IHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7c2NhbGU6IGRvbVBhZ2UueFNjYWxlfSk7XG4gIC8vICAgICAvLyBjb25zb2xlLmxvZygnW1ZJRVddIFBhZ2Ugdmlld3BvcnQnLCBkb21QYWdlLnhTY2FsZSwgdmlld3BvcnQpO1xuICAvL1xuICAvLyAgICAgLy8gY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZG9tUGFnZS5jb250YWluZXJJZH0tcGFnZWApIGFzIEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgLy8gICAgIC8vIGlmICghY2FudmFzKSB7XG4gIC8vICAgICAvLyAgIGNvbnNvbGUubG9nKCdbVklFV10gVW5hYmxlIHRvIGZpbmQgY2FudmFzIGVsZW1lbnQnKTtcbiAgLy8gICAgIC8vICAgcmV0dXJuO1xuICAvLyAgICAgLy8gfVxuICAvLyAgICAgLy9cbiAgLy8gICAgIC8vIGNhbnZhcy53aWR0aCA9IGRvbVBhZ2UucmVuZGVyZWRXaWR0aDtcbiAgLy8gICAgIC8vIGNhbnZhcy5oZWlnaHQgPSBkb21QYWdlLnJlbmRlcmVkSGVpZ2h0O1xuICAvLyAgICAgLy8gY29uc3QgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAvLyAgICAgLy8gY2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgZG9tUGFnZS5yZW5kZXJlZFdpZHRoLCBkb21QYWdlLnJlbmRlcmVkSGVpZ2h0KTtcbiAgLy8gICAgIC8vIGF3YWl0IHBkZlBhZ2UucmVuZGVyKHtjYW52YXNDb250ZXh0LCB2aWV3cG9ydH0pO1xuICAvL1xuICAvLyAgICAgdGhpcy5wYWdlUmVuZGVyZWQuZW1pdCh7XG4gIC8vICAgICAgIHJlbmRlcmVkUGFnZTogZG9tUGFnZSxcbiAgLy8gICAgICAgc291cmNlUGFnZU1ldHJpY3M6IHBhZ2VNZXRyaWNzLFxuICAvLyAgICAgICBwYWdlczogdGhpcy5kb21QYWdlcyxcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0gY2F0Y2ggKGUpIHtcbiAgLy8gICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gIC8vICAgICBjb25zb2xlLndhcm4oJ1tWSUVXXSBFcnJvciByZW5kZXJpbmcgcGFnZScsIGUpO1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8vIGFzeW5jIHJlbmRlclBhZ2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAvLyAgIGNvbnN0IHBhZ2VOdW1iZXJzVG9SZW5kZXIgPSBpbnRlZ2VyU2VxdWVuY2UoMSwgdGhpcy5udW1QYWdlcyk7XG4gIC8vICAgZm9yIGF3YWl0IChsZXQgcGFnZU51bWJlciBvZiBwYWdlTnVtYmVyc1RvUmVuZGVyKSB7XG4gIC8vICAgICB0cnkge1xuICAvLyAgICAgICBhd2FpdCB0aGlzLnJlbmRlclBhZ2UocGFnZU51bWJlcik7XG4gIC8vICAgICB9IGNhdGNoIChlKSB7XG4gIC8vICAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gIC8vICAgICAgIGNvbnNvbGUud2FybignW1ZJRVddIEVycm9yIHJlbmRlcmluZyBwYWdlcycsIGUpO1xuICAvLyAgICAgfVxuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8vIG9uUHJvZ3Jlc3MocHJvZ3Jlc3M6IE9uUHJvZ3Jlc3NQYXJhbWV0ZXJzKSB7XG4gIC8vICAgY29uc29sZS5sb2coYFtWSUVXXSBQcm9ncmVzcyAke01hdGguZmxvb3IoKHByb2dyZXNzLmxvYWRlZCAvIHByb2dyZXNzLnRvdGFsKSAqIDEwMCl9ICgke3Byb2dyZXNzLmxvYWRlZH0gLyAke3Byb2dyZXNzLnRvdGFsfSlgKTtcbiAgLy8gICB0aGlzLmxvYWRQcm9ncmVzcyA9IE1hdGguZmxvb3IoKDEwMCAqIHByb2dyZXNzLmxvYWRlZCkgLyBwcm9ncmVzcy50b3RhbCk7XG4gIC8vIH1cblxuICAvLyBBZnRlciBhIGRvY3VtZW50IGlzIGRvbmUgbG9hZGluZywgZ28gdGhyb3VnaCBpdHMgcGFnZXMgdG8gZ2V0IHRoZWlyIGRpbWVuc2lvbnNcbiAgLy8gYXN5bmMgcGFyc2VQYWdlTWV0cmljcyhwZGZEb2N1bWVudDogcGRmanNMaWIuUERGRG9jdW1lbnRQcm94eSkge1xuICAvLyAgIGNvbnN0IHBhZ2VOdW1iZXJzVG9SZW5kZXIgPSBpbnRlZ2VyU2VxdWVuY2UoMSwgcGRmRG9jdW1lbnQubnVtUGFnZXMpO1xuICAvL1xuICAvLyAgIGZvciBhd2FpdCAobGV0IHBhZ2VOdW1iZXIgb2YgcGFnZU51bWJlcnNUb1JlbmRlcikge1xuICAvLyAgICAgY29uc3QgcGRmUGFnZSA9IGF3YWl0IHBkZkRvY3VtZW50LmdldFBhZ2UoMSk7XG4gIC8vICAgICBjb25zdCBbcGFnZVgwLCBwYWdlWTAsIHBhZ2VYMSwgcGFnZVkxXSA9IHBkZlBhZ2UudmlldztcbiAgLy8gICAgIHRoaXMuc291cmNlUGFnZU1ldHJpY3NbcGFnZU51bWJlcl0gPSB7d2lkdGg6IHBhZ2VYMSAtIHBhZ2VYMCwgaGVpZ2h0OiBwYWdlWTEgLSBwYWdlWTB9O1xuICAvLyAgIH1cbiAgLy9cbiAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIFBhcnNlZCBwYWdlIG1ldHJpY3MnLCB0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzKTtcbiAgLy8gfVxuXG4gIC8vIGxvYWRBbmRSZW5kZXIoc3JjOiBzdHJpbmcpOiB2b2lkIHtcbiAgLy8gICBjb25zb2xlLmxvZygnW1ZJRVddIExvYWRpbmcnLCBzcmMpO1xuICAvL1xuICAvLyAgIGNvbnN0IHRva2VuID0gdGhpcy5lbmRwb2ludC5nZXRUb2tlbigpO1xuICAvLyAgIGNvbnN0IGh0dHBIZWFkZXJzID0gdG9rZW4gPyB7QXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWB9IDoge307XG4gIC8vXG4gIC8vICAgY29uc3Qgc291cmNlID0ge1xuICAvLyAgICAgdXJsOiBzcmMsXG4gIC8vICAgICBjTWFwVXJsOiBDTUFQU19VUkwsXG4gIC8vICAgICBjTWFwUGFja2VkOiB0cnVlLFxuICAvLyAgICAgaHR0cEhlYWRlcnMsXG4gIC8vICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gIC8vICAgICBzdG9wQXRFcnJvcnM6IHRydWUsXG4gIC8vICAgICB2ZXJib3NpdHk6IHBkZmpzTGliLlZlcmJvc2l0eUxldmVsLldBUk5JTkdTLFxuICAvLyAgICAgLy8gdmVyYm9zaXR5OiBwZGZqc0xpYi5WZXJib3NpdHlMZXZlbC5JTkZPUyxcbiAgLy8gICB9IGFzIERvY3VtZW50SW5pdFBhcmFtZXRlcnM7XG4gIC8vXG4gIC8vICAgLy8gQHRzLWlnbm9yZVxuICAvLyAgIGNvbnN0IGxvYWRpbmdUYXNrID0gcGRmLmdldERvY3VtZW50KHNvdXJjZSwgbnVsbCwgbnVsbCwgdGhpcy5vblByb2dyZXNzKTtcbiAgLy8gICBsb2FkaW5nVGFzay5vblByb2dyZXNzID0gdGhpcy5vblByb2dyZXNzO1xuICAvLyAgIGxvYWRpbmdUYXNrLnByb21pc2VcbiAgLy8gICAgIC50aGVuKGFzeW5jIChwZGZEb2N1bWVudDogcGRmanNMaWIuUERGRG9jdW1lbnRQcm94eSkgPT4ge1xuICAvLyAgICAgICBhd2FpdCB0aGlzLnBhcnNlUGFnZU1ldHJpY3MocGRmRG9jdW1lbnQpO1xuICAvL1xuICAvLyAgICAgICB0aGlzLnBkZkRvY3VtZW50ID0gcGRmRG9jdW1lbnQ7XG4gIC8vICAgICAgIHRoaXMubnVtUGFnZXMgPSBwZGZEb2N1bWVudC5udW1QYWdlcztcbiAgLy8gICAgICAgdGhpcy5maW5nZXJwcmludHMgPSBwZGZEb2N1bWVudC5maW5nZXJwcmludHM7XG4gIC8vICAgICAgIGNvbnNvbGUubG9nKGBbVklFV10gR290IFBERiBkb2N1bWVudCBmaW5nZXJwcmludHMgXCIke3RoaXMuZmluZ2VycHJpbnRzLmpvaW4oJywgJyl9XCIsICR7dGhpcy5udW1QYWdlc30gcGFnZShzKWApO1xuICAvL1xuICAvLyAgICAgICAvLyBXZSBkb24ndCB0cnkgdG8gcmVuZGVyIHRoZSBwYWdlcyBoZXJlLCBzZXR0aW5nIGxvYWRQcm90cmVzcyB0cmlnZ2VycyB0aGF0IGJ5IGFkZGluZyB0aGUgaW5kaXZpZHVhbCBwYWdlIGVudHJpZXMgaW5cbiAgLy8gICAgICAgLy8gRE9NIGluIHJlbmRlcigpIGJlbG93LiBFYWNoIHBhZ2UgdGhlbiBmaXJlcyBvblBhZ2VSZW5kZXJlZCB3aGVuIGl0IGlzIHJlYWR5IHRvIHJlY2VpdmUgY29udGVudC5cbiAgLy8gICAgICAgdGhpcy5sb2FkUHJvZ3Jlc3MgPSAxMDA7XG4gIC8vICAgICB9KVxuICAvLyAgICAgLmNhdGNoKGUgPT4ge1xuICAvLyAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgICBjb25zb2xlLmxvZygnW1ZJRVddIExvYWRpbmcgZXJyb3InLCBlKTtcbiAgLy8gICAgIH0pO1xuICAvLyB9XG5cbiAgLy8gYXN5bmMgaGFuZGxlUGFnZVJlbmRlcmVkKGU6IGFueSkge1xuICAvLyAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIC8vXG4gIC8vICAgY29uc3QgZG9tUGFnZSA9IGUuZGV0YWlsIGFzIElEb2N1bWVudFBhZ2VJbmZvO1xuICAvLyAgIHRoaXMuZG9tUGFnZXNbZG9tUGFnZS5wYWdlTnVtYmVyXSA9IGRvbVBhZ2U7XG4gIC8vICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKGRvbVBhZ2UucGFnZU51bWJlcik7XG4gIC8vIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc29sZS5sb2coJ1tWSUVXXSBSZW5kZXJpbmcnLCB0aGlzLnRlbXBsYXRlSWQsIHRoaXMuZW52ZWxvcGVJZCk7XG5cbiAgICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZyBmb3IgbWlzc2luZyBwYWdlcy4gSXMgaXQgYmV0dGVyIHRvIHNraXAgdGhlIHBhZ2Ugb3Igc2hvdyBhIHBsYWNlaG9sZGVyP1xuICAgIHJldHVybiAoXG4gICAgICA8SG9zdD5cbiAgICAgICAge3RoaXMudGVtcGxhdGUgJiYgKFxuICAgICAgICAgIDx2ZXJkb2NzLXZpZXctdGVtcGxhdGUtZG9jdW1lbnRcbiAgICAgICAgICAgIGVuZHBvaW50PXt0aGlzLmVuZHBvaW50fVxuICAgICAgICAgICAgdGVtcGxhdGVJZD17dGhpcy50ZW1wbGF0ZUlkfVxuICAgICAgICAgICAgZG9jdW1lbnRJZD17dGhpcy50ZW1wbGF0ZS50ZW1wbGF0ZV9kb2N1bWVudD8uaWR9XG4gICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17cCA9PiB0aGlzLnBhZ2VSZW5kZXJlZD8uZW1pdChwLmRldGFpbCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge3RoaXMuZW52ZWxvcGUgJiYgKFxuICAgICAgICAgIDx2ZXJkb2NzLXZpZXctZW52ZWxvcGUtZG9jdW1lbnRcbiAgICAgICAgICAgIGVuZHBvaW50PXt0aGlzLmVuZHBvaW50fVxuICAgICAgICAgICAgZW52ZWxvcGVJZD17dGhpcy5lbnZlbG9wZUlkfVxuICAgICAgICAgICAgZG9jdW1lbnRJZD17dGhpcy5lbnZlbG9wZS5lbnZlbG9wZV9kb2N1bWVudF9pZH1cbiAgICAgICAgICAgIG9uUGFnZVJlbmRlcmVkPXtwID0+IHRoaXMucGFnZVJlbmRlcmVkPy5lbWl0KHAuZGV0YWlsKX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLXZpZXctZW52ZWxvcGUtZG9jdW1lbnQge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAxNXB4O1xuICByb3ctZ2FwOiAxNXB4O1xuICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB3aWR0aDogMTAwJTtcblxuICBkaXYsXG4gIGNhbnZhcyB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxufVxuIiwiaW1wb3J0IHtWZXJkb2NzRW5kcG9pbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkayc7XG5pbXBvcnQge0lFbnZlbG9wZURvY3VtZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1R5cGVzJztcbmltcG9ydCB7Z2V0RW52ZWxvcGVEb2N1bWVudH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9FbnZlbG9wZXMnO1xuaW1wb3J0IHtDb21wb25lbnQsIGgsIEVsZW1lbnQsIEV2ZW50LCBIb3N0LCBQcm9wLCBFdmVudEVtaXR0ZXIsIFN0YXRlfSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm8sIElQYWdlTGF5ZXJ9IGZyb20gJy4uLy4uLy4uL3V0aWxzL1R5cGVzJztcbmltcG9ydCB7U0RLRXJyb3J9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9ycyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNvdXJjZVBhZ2VNZXRyaWNzIHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhZ2VSZW5kZXJFdmVudCB7XG4gIHJlbmRlcmVkUGFnZTogSURvY3VtZW50UGFnZUluZm87XG4gIHNvdXJjZVBhZ2VNZXRyaWNzOiBJU291cmNlUGFnZU1ldHJpY3M7XG4gIHBhZ2VzOiBSZWNvcmQ8bnVtYmVyLCBJRG9jdW1lbnRQYWdlSW5mbz47XG59XG5cbi8qKlxuICogVmlldyBhIHNpbmdsZSBkb2N1bWVudCBhdHRhY2hlZCB0byBhbiBlbnZlbG9wZS4gTm90ZSB0aGF0IGVudmVsb3BlcyBhbHdheXMgcmVxdWlyZSBhdXRoZW50aWNhdGlvbiB0byBhY2Nlc3MgdGhlbS4gSWYgeW91IGFyZSB2aWV3aW5nXG4gKiB0aGlzIGNvbXBvbmVudCBpbiBTdG9yeWJvb2ssIHZpc2l0IEVtYmVkcyA+IEF1dGggZmlyc3QgdG8gbG9nIGluLCB0aGVuIHBhc3RlIGEgdmFsaWQgZW52ZWxvcGVJZCBhbmQgZG9jdW1lbnRJZCBpbiB0aGUgcHJvcGVydGllc1xuICogYmVsb3cgZnJvbSB5b3VyIGFjY291bnQgdG8gdmlldyB0aGF0IGVudmVsb3BlLiBJZiB5b3Ugd2FudCB0byBzZWUgYW4gYW5vbnltb3VzLWFjY2VzcyB1c2UgY2FzZSwgdGhpcyBjb21wb25lbnQgaXMgZnVuY3Rpb25hbGx5IHNpbWlsYXJcbiAqIHRvIFZpZXdUZW1wbGF0ZURvY3VtZW50LCB3aGljaCBpcyBwcmUtY29uZmlndXJlZCB0byBkaXNwbGF5IGEgcHVibGljIHRlbXBsYXRlLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy12aWV3LWVudmVsb3BlLWRvY3VtZW50JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXZpZXctZW52ZWxvcGUtZG9jdW1lbnQuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NWaWV3RW52ZWxvcGVEb2N1bWVudCB7XG4gIEBFbGVtZW50KCkgY29tcG9uZW50OiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogVGhlIGVuZHBvaW50IHRvIHVzZSB0byBjb21tdW5pY2F0ZSB3aXRoIFZlcmRvY3MuIElmIG5vdCBzZXQsIHRoZSBkZWZhdWx0IGVuZHBvaW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIEBQcm9wKCkgZW5kcG9pbnQ6IFZlcmRvY3NFbmRwb2ludCA9IFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCk7XG5cbiAgLyoqXG4gICAqIFRoZSBlbnZlbG9wZSBJRCB0byByZW5kZXJcbiAgICovXG4gIEBQcm9wKCkgZW52ZWxvcGVJZDogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFRoZSBkb2N1bWVudCBJRCB0byByZW5kZXJcbiAgICovXG4gIEBQcm9wKCkgZG9jdW1lbnRJZDogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGUgUERGIGluIGRlZ3JlZXNcbiAgICovXG4gIEBQcm9wKCkgcm90YXRpb246IDAgfCA5MCB8IDE4MCB8IDI3MCA9IDA7XG5cbiAgLyoqXG4gICAqIExheWVycyB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBpbmRpdmlkdWFsIHBhZ2VzIGluc2lkZSB0aGlzIGNvbXBvbmVudC5cbiAgICovXG4gIEBQcm9wKCkgcGFnZUxheWVyczogSVBhZ2VMYXllcltdID0gW1xuICAgIHtuYW1lOiAncGFnZScsIHR5cGU6ICdjYW52YXMnfSxcbiAgICB7bmFtZTogJ2NvbnRyb2xzJywgdHlwZTogJ2Rpdid9LFxuICBdO1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiByZW5kZXJlZFxuICAgKi9cbiAgQEV2ZW50KCkgcGFnZVJlbmRlcmVkOiBFdmVudEVtaXR0ZXI8SVBhZ2VSZW5kZXJFdmVudD47XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYSBwYWdlIGhhcyBiZWVuIGNoYW5nZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VMb2FkZWQ6IEV2ZW50RW1pdHRlcjxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiBjaGFuZ2VkXG4gICAqL1xuICBARXZlbnQoKSBwYWdlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VJbml0OiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gc2NhbGVkXG4gICAqL1xuICBARXZlbnQoKSBzY2FsZUNoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIGlmIGFuIGVycm9yIG9jY3Vycy4gVGhlIGV2ZW50IGRldGFpbHMgd2lsbCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gTW9zdCBlcnJvcnMgd2lsbFxuICAgKiB0ZXJtaW5hdGUgdGhlIHByb2Nlc3MsIGFuZCB0aGUgY2FsbGluZyBhcHBsaWNhdGlvbiBzaG91bGQgY29ycmVjdCB0aGUgY29uZGl0aW9uIGFuZCByZS1yZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBzZGtFcnJvcjogRXZlbnRFbWl0dGVyPFNES0Vycm9yPjtcblxuICBAU3RhdGUoKSBlbnZlbG9wZURvY3VtZW50OiBJRW52ZWxvcGVEb2N1bWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGRvbVBhZ2VzOiBSZWNvcmQ8bnVtYmVyLCBJRG9jdW1lbnRQYWdlSW5mbz4gPSB7fTtcblxuICBzb3VyY2VQYWdlTWV0cmljczogUmVjb3JkPG51bWJlciwge3dpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyfT4gPSB7fTtcblxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmVuZHBvaW50LmxvYWRTZXNzaW9uKCk7XG4gIH1cblxuICAvLyBUT0RPOiBIYW5kbGluZyBzaWduaW5nIHZzIHByZXZpZXctYXMtdXNlciBjYXNlc1xuICAvLyBUT0RPOiBIYW5kbGUgYW5vbnltb3VzIGNhc2UgYW5kIGZhaWx1cmUgdG8gbG9hZCBkdWUgdG8gbm90IGJlaW5nIGxvZ2dlZCBpblxuICBhc3luYyBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIGlmICghdGhpcy5lbnZlbG9wZUlkIHx8ICF0aGlzLmRvY3VtZW50SWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbVklFVy1FTlZFTE9QRV0gTWlzc2luZyByZXF1aXJlZCBlbnZlbG9wZSBJRCAke3RoaXMuZW52ZWxvcGVJZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFtWSUVXLUVOVkVMT1BFXSBMb2FkaW5nIGVudmVsb3BlICR7dGhpcy5lbnZlbG9wZUlkfWApO1xuICAgICAgdGhpcy5lbnZlbG9wZURvY3VtZW50ID0gYXdhaXQgZ2V0RW52ZWxvcGVEb2N1bWVudCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIHRoaXMuZG9jdW1lbnRJZCk7XG4gICAgICBpZiAoIXRoaXMuZW52ZWxvcGVEb2N1bWVudCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbVklFVy1FTlZFTE9QRV0gVW5hYmxlIHRvIGxvYWQgZW52ZWxvcGUgZG9jdW1lbnQnLCB0aGlzLmVudmVsb3BlSWQsIHRoaXMuZG9jdW1lbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbVklFVy1FTlZFTE9QRV0gR290IGVudmVsb3BlIGRvY3VtZW50JywgdGhpcy5lbnZlbG9wZURvY3VtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW1ZJRVctRU5WRUxPUEVdIEVycm9yIGxvYWRpbmcgZW52ZWxvcGUnLCBlKTtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVuZGVyIG9uZSBkb2N1bWVudCBwYWdlLiBOb3RlIHRoYXQgcGFnZU51bWJlciBpcyAxLWJhc2VkLlxuICBhc3luYyByZW5kZXJQYWdlKHBhZ2VOdW1iZXI6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRvbVBhZ2UgPSB0aGlzLmRvbVBhZ2VzW3BhZ2VOdW1iZXJdO1xuXG4gICAgLy8gVHdvIGFzeW5jIG9wZXJhdGlvbnMgaGFwcGVuIGhlcmUsIGxvYWRpbmcgdGhlIFBERiBhbmQgcmVuZGVyaW5nIHRoZSBET00gZGl2L2NhbnZhcyBwbGFjZWhvbGRlcnMgdG8gZHJhdyB0aGUgcGFnZXMgb24uXG4gICAgaWYgKCFkb21QYWdlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW1ZJRVctRU5WRUxPUEVdIFNraXBwaW5nIHJlbmRlcmluZyBwYWdlIG5vdCB5ZXQgaW4gRE9NJywge3BhZ2VOdW1iZXJ9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlTWV0cmljcyA9IHRoaXMuc291cmNlUGFnZU1ldHJpY3NbcGFnZU51bWJlcl07XG5cbiAgICBjb25zb2xlLmxvZygnW1ZJRVctRU5WRUxPUEVdIFJlbmRlcmluZyBwYWdlJywge3BhZ2VOdW1iZXIsIHBhZ2VNZXRyaWNzLCBkb21QYWdlfSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCB0aGlzLnBkZkRvY3VtZW50LmdldFBhZ2UocGFnZU51bWJlcik7XG4gICAgICAvLyBjb25zdCB2aWV3cG9ydCA9IHBkZlBhZ2UuZ2V0Vmlld3BvcnQoe3NjYWxlOiBkb21QYWdlLnhTY2FsZX0pO1xuICAgICAgLy8gY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBQYWdlIHZpZXdwb3J0JywgZG9tUGFnZS54U2NhbGUsIHZpZXdwb3J0KTtcblxuICAgICAgLy8gY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZG9tUGFnZS5jb250YWluZXJJZH0tcGFnZWApIGFzIEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgICAgIC8vIGlmICghY2FudmFzKSB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gVW5hYmxlIHRvIGZpbmQgY2FudmFzIGVsZW1lbnQnKTtcbiAgICAgIC8vICAgcmV0dXJuO1xuICAgICAgLy8gfVxuICAgICAgLy9cbiAgICAgIC8vIGNhbnZhcy53aWR0aCA9IGRvbVBhZ2UucmVuZGVyZWRXaWR0aDtcbiAgICAgIC8vIGNhbnZhcy5oZWlnaHQgPSBkb21QYWdlLnJlbmRlcmVkSGVpZ2h0O1xuICAgICAgLy8gY29uc3QgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgLy8gY2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgZG9tUGFnZS5yZW5kZXJlZFdpZHRoLCBkb21QYWdlLnJlbmRlcmVkSGVpZ2h0KTtcbiAgICAgIC8vIGF3YWl0IHBkZlBhZ2UucmVuZGVyKHtjYW52YXNDb250ZXh0LCB2aWV3cG9ydH0pO1xuXG4gICAgICB0aGlzLnBhZ2VSZW5kZXJlZC5lbWl0KHtcbiAgICAgICAgcmVuZGVyZWRQYWdlOiBkb21QYWdlLFxuICAgICAgICBzb3VyY2VQYWdlTWV0cmljczogcGFnZU1ldHJpY3MsXG4gICAgICAgIHBhZ2VzOiB0aGlzLmRvbVBhZ2VzLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgIGNvbnNvbGUud2FybignW1ZJRVctRU5WRUxPUEVdIEVycm9yIHJlbmRlcmluZyBwYWdlJywgZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gYXN5bmMgcmVuZGVyUGFnZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vICAgY29uc3QgcGFnZU51bWJlcnNUb1JlbmRlciA9IGludGVnZXJTZXF1ZW5jZSgxLCB0aGlzLm51bVBhZ2VzKTtcbiAgLy8gICBmb3IgYXdhaXQgKGxldCBwYWdlTnVtYmVyIG9mIHBhZ2VOdW1iZXJzVG9SZW5kZXIpIHtcbiAgLy8gICAgIHRyeSB7XG4gIC8vICAgICAgIGF3YWl0IHRoaXMucmVuZGVyUGFnZShwYWdlTnVtYmVyKTtcbiAgLy8gICAgIH0gY2F0Y2ggKGUpIHtcbiAgLy8gICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgLy8gICAgICAgY29uc29sZS53YXJuKCdbVklFVy1URU1QTEFURV0gRXJyb3IgcmVuZGVyaW5nIHBhZ2VzJywgZSk7XG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gb25Qcm9ncmVzcyhwcm9ncmVzczogT25Qcm9ncmVzc1BhcmFtZXRlcnMpIHtcbiAgLy8gICBjb25zb2xlLmxvZyhgW1ZJRVctVEVNUExBVEVdIFByb2dyZXNzICR7TWF0aC5mbG9vcigocHJvZ3Jlc3MubG9hZGVkIC8gcHJvZ3Jlc3MudG90YWwpICogMTAwKX0gKCR7cHJvZ3Jlc3MubG9hZGVkfSAvICR7cHJvZ3Jlc3MudG90YWx9KWApO1xuICAvLyAgIHRoaXMubG9hZFByb2dyZXNzID0gTWF0aC5mbG9vcigoMTAwICogcHJvZ3Jlc3MubG9hZGVkKSAvIHByb2dyZXNzLnRvdGFsKTtcbiAgLy8gfVxuXG4gIC8vIEFmdGVyIGEgZG9jdW1lbnQgaXMgZG9uZSBsb2FkaW5nLCBnbyB0aHJvdWdoIGl0cyBwYWdlcyB0byBnZXQgdGhlaXIgZGltZW5zaW9uc1xuICAvLyBhc3luYyBwYXJzZVBhZ2VNZXRyaWNzKHBkZkRvY3VtZW50OiBwZGZqc0xpYi5QREZEb2N1bWVudFByb3h5KSB7XG4gIC8vICAgY29uc3QgcGFnZU51bWJlcnNUb1JlbmRlciA9IGludGVnZXJTZXF1ZW5jZSgxLCBwZGZEb2N1bWVudC5udW1QYWdlcyk7XG4gIC8vXG4gIC8vICAgZm9yIGF3YWl0IChsZXQgcGFnZU51bWJlciBvZiBwYWdlTnVtYmVyc1RvUmVuZGVyKSB7XG4gIC8vICAgICBjb25zdCBwZGZQYWdlID0gYXdhaXQgcGRmRG9jdW1lbnQuZ2V0UGFnZSgxKTtcbiAgLy8gICAgIGNvbnN0IFtwYWdlWDAsIHBhZ2VZMCwgcGFnZVgxLCBwYWdlWTFdID0gcGRmUGFnZS52aWV3O1xuICAvLyAgICAgdGhpcy5zb3VyY2VQYWdlTWV0cmljc1twYWdlTnVtYmVyXSA9IHt3aWR0aDogcGFnZVgxIC0gcGFnZVgwLCBoZWlnaHQ6IHBhZ2VZMSAtIHBhZ2VZMH07XG4gIC8vICAgfVxuICAvL1xuICAvLyAgIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gUGFyc2VkIHBhZ2UgbWV0cmljcycsIHRoaXMuc291cmNlUGFnZU1ldHJpY3MpO1xuICAvLyB9XG5cbiAgLy8gbG9hZEFuZFJlbmRlcihzcmM6IHN0cmluZyk6IHZvaWQge1xuICAvLyAgIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gTG9hZGluZycsIHNyYyk7XG4gIC8vXG4gIC8vICAgY29uc3QgdG9rZW4gPSB0aGlzLmVuZHBvaW50LmdldFRva2VuKCk7XG4gIC8vICAgY29uc3QgaHR0cEhlYWRlcnMgPSB0b2tlbiA/IHtBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YH0gOiB7fTtcbiAgLy9cbiAgLy8gICBjb25zdCBzb3VyY2UgPSB7XG4gIC8vICAgICB1cmw6IHNyYyxcbiAgLy8gICAgIGNNYXBVcmw6IENNQVBTX1VSTCxcbiAgLy8gICAgIGNNYXBQYWNrZWQ6IHRydWUsXG4gIC8vICAgICBodHRwSGVhZGVycyxcbiAgLy8gICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgLy8gICAgIHN0b3BBdEVycm9yczogdHJ1ZSxcbiAgLy8gICAgIHZlcmJvc2l0eTogcGRmanNMaWIuVmVyYm9zaXR5TGV2ZWwuV0FSTklOR1MsXG4gIC8vICAgICAvLyB2ZXJib3NpdHk6IHBkZmpzTGliLlZlcmJvc2l0eUxldmVsLklORk9TLFxuICAvLyAgIH0gYXMgRG9jdW1lbnRJbml0UGFyYW1ldGVycztcbiAgLy9cbiAgLy8gICAvLyBAdHMtaWdub3JlXG4gIC8vICAgY29uc3QgbG9hZGluZ1Rhc2sgPSBwZGYuZ2V0RG9jdW1lbnQoc291cmNlLCBudWxsLCBudWxsLCB0aGlzLm9uUHJvZ3Jlc3MpO1xuICAvLyAgIGxvYWRpbmdUYXNrLm9uUHJvZ3Jlc3MgPSB0aGlzLm9uUHJvZ3Jlc3M7XG4gIC8vICAgbG9hZGluZ1Rhc2sucHJvbWlzZVxuICAvLyAgICAgLnRoZW4oYXN5bmMgKHBkZkRvY3VtZW50OiBwZGZqc0xpYi5QREZEb2N1bWVudFByb3h5KSA9PiB7XG4gIC8vICAgICAgIGF3YWl0IHRoaXMucGFyc2VQYWdlTWV0cmljcyhwZGZEb2N1bWVudCk7XG4gIC8vXG4gIC8vICAgICAgIHRoaXMucGRmRG9jdW1lbnQgPSBwZGZEb2N1bWVudDtcbiAgLy8gICAgICAgdGhpcy5udW1QYWdlcyA9IHBkZkRvY3VtZW50Lm51bVBhZ2VzO1xuICAvLyAgICAgICB0aGlzLmZpbmdlcnByaW50cyA9IHBkZkRvY3VtZW50LmZpbmdlcnByaW50cztcbiAgLy8gICAgICAgY29uc29sZS5sb2coYFtWSUVXLVRFTVBMQVRFXSBHb3QgUERGIGRvY3VtZW50IGZpbmdlcnByaW50cyBcIiR7dGhpcy5maW5nZXJwcmludHMuam9pbignLCAnKX1cIiwgJHt0aGlzLm51bVBhZ2VzfSBwYWdlKHMpYCk7XG4gIC8vXG4gIC8vICAgICAgIC8vIFdlIGRvbid0IHRyeSB0byByZW5kZXIgdGhlIHBhZ2VzIGhlcmUsIHNldHRpbmcgbG9hZFByb3RyZXNzIHRyaWdnZXJzIHRoYXQgYnkgYWRkaW5nIHRoZSBpbmRpdmlkdWFsIHBhZ2UgZW50cmllcyBpblxuICAvLyAgICAgICAvLyBET00gaW4gcmVuZGVyKCkgYmVsb3cuIEVhY2ggcGFnZSB0aGVuIGZpcmVzIG9uUGFnZVJlbmRlcmVkIHdoZW4gaXQgaXMgcmVhZHkgdG8gcmVjZWl2ZSBjb250ZW50LlxuICAvLyAgICAgICB0aGlzLmxvYWRQcm9ncmVzcyA9IDEwMDtcbiAgLy8gICAgIH0pXG4gIC8vICAgICAuY2F0Y2goZSA9PiB7XG4gIC8vICAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gIC8vICAgICAgIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gTG9hZGluZyBlcnJvcicsIGUpO1xuICAvLyAgICAgfSk7XG4gIC8vIH1cblxuICBhc3luYyBoYW5kbGVQYWdlUmVuZGVyZWQoZTogYW55KSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGNvbnN0IGRvbVBhZ2UgPSBlLmRldGFpbCBhcyBJRG9jdW1lbnRQYWdlSW5mbztcbiAgICB0aGlzLmRvbVBhZ2VzW2RvbVBhZ2UucGFnZU51bWJlcl0gPSBkb21QYWdlO1xuICAgIGF3YWl0IHRoaXMucmVuZGVyUGFnZShkb21QYWdlLnBhZ2VOdW1iZXIpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnNvbGUubG9nKCdbVklFVy1FTlZFTE9QRV0gUmVuZGVyaW5nIHBhZ2VzJywgdGhpcy5lbnZlbG9wZURvY3VtZW50Py5wYWdlcyk7XG5cbiAgICAvLyBUT0RPOiBUaGUgQVBJIGlzIHN1cHBvc2VkIHRvIGFsd2F5cyByZXR1cm4gdGhlc2Ugc29ydGVkLi4uXG4gICAgY29uc3QgcGFnZXMgPSBbLi4uKHRoaXMuZW52ZWxvcGVEb2N1bWVudD8ucGFnZXMgfHwgW10pXTtcbiAgICBwYWdlcy5zb3J0KChhLCBiKSA9PiBhLnNlcXVlbmNlIC0gYi5zZXF1ZW5jZSk7XG5cbiAgICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZyBmb3IgbWlzc2luZyBwYWdlcy4gSXMgaXQgYmV0dGVyIHRvIHNraXAgdGhlIHBhZ2Ugb3Igc2hvdyBhIHBsYWNlaG9sZGVyP1xuICAgIHJldHVybiAoXG4gICAgICA8SG9zdD5cbiAgICAgICAge3BhZ2VzLm1hcChwYWdlID0+IChcbiAgICAgICAgICA8dmVyZG9jcy1kb2N1bWVudC1wYWdlXG4gICAgICAgICAgICBwYWdlSW1hZ2VVcmk9e3BhZ2UuZGlzcGxheV91cml9XG4gICAgICAgICAgICB2aXJ0dWFsV2lkdGg9ezYxMn1cbiAgICAgICAgICAgIHZpcnR1YWxIZWlnaHQ9ezc5Mn1cbiAgICAgICAgICAgIC8vIFRPRE86IFN0b3JlIGltYWdlIGRpbWVuc2lvbnMgaW4gdGhlIERCIHJvd3MgYW5kIHBhc3MgdGhlbSB0byBjbGllbnRzIHdpdGggdGhlIHBhZ2UgZGF0YVxuICAgICAgICAgICAgLy8gdmlydHVhbFdpZHRoPXt0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdPy53aWR0aCB8fCA2MTJ9XG4gICAgICAgICAgICAvLyB2aXJ0dWFsSGVpZ2h0PXt0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdPy5oZWlnaHQgfHwgNzkyfVxuICAgICAgICAgICAgcGFnZU51bWJlcj17cGFnZS5zZXF1ZW5jZX1cbiAgICAgICAgICAgIGxheWVycz17dGhpcy5wYWdlTGF5ZXJzfVxuICAgICAgICAgICAgb25QYWdlUmVuZGVyZWQ9e3AgPT4gdGhpcy5oYW5kbGVQYWdlUmVuZGVyZWQocCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3Mtdmlldy10ZW1wbGF0ZS1kb2N1bWVudCB7XG4gIGZvbnQtZmFtaWx5OiAkdmVyZG9jcy1wcmltYXJ5LWZvbnQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIHJvdy1nYXA6IDE1cHg7XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xuXG4gIGRpdixcbiAgY2FudmFzIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG59XG4iLCJpbXBvcnQge1ZlcmRvY3NFbmRwb2ludH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrJztcbmltcG9ydCB7Q29tcG9uZW50LCBoLCBFbGVtZW50LCBFdmVudCwgSG9zdCwgUHJvcCwgRXZlbnRFbWl0dGVyLCBTdGF0ZX0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5pbXBvcnQge2dldFRlbXBsYXRlRG9jdW1lbnR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVGVtcGxhdGVEb2N1bWVudHMnO1xuaW1wb3J0IHtJRG9jdW1lbnRQYWdlSW5mbywgSVBhZ2VMYXllcn0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvVHlwZXMnO1xuaW1wb3J0IHtJVGVtcGxhdGVEb2N1bWVudH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UeXBlcyc7XG5pbXBvcnQge1NES0Vycm9yfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTb3VyY2VQYWdlTWV0cmljcyB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYWdlUmVuZGVyRXZlbnQge1xuICByZW5kZXJlZFBhZ2U6IElEb2N1bWVudFBhZ2VJbmZvO1xuICBzb3VyY2VQYWdlTWV0cmljczogSVNvdXJjZVBhZ2VNZXRyaWNzO1xuICBwYWdlczogUmVjb3JkPG51bWJlciwgSURvY3VtZW50UGFnZUluZm8+O1xufVxuXG4vKipcbiAqIFZpZXcgYSBzaW5nbGUgZG9jdW1lbnQgYXR0YWNoZWQgdG8gYSB0ZW1wbGF0ZS4gTm90ZSB0aGF0IGlmIHlvdSBhcmUgYWNjZXNzaW5nIGEgdGVtcGxhdGUgdGhhdCBpcyBub3QgcHVibGljLCB5b3UgbXVzdCBiZSBhdXRoZW50aWNhdGVkLlxuICogWW91IGNhbiBhdXRoZW50aWNhdGUgd2l0aGluIHRoaXMgU3Rvcnlib29rIHZpYSB0aGUgRW1iZWRzID4gQXV0aCBjb250cm9sLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy12aWV3LXRlbXBsYXRlLWRvY3VtZW50JyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLXZpZXctdGVtcGxhdGUtZG9jdW1lbnQuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NWaWV3VGVtcGxhdGVEb2N1bWVudCB7XG4gIEBFbGVtZW50KCkgY29tcG9uZW50OiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogVGhlIGVuZHBvaW50IHRvIHVzZSB0byBjb21tdW5pY2F0ZSB3aXRoIFZlcmRvY3MuIElmIG5vdCBzZXQsIHRoZSBkZWZhdWx0IGVuZHBvaW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIEBQcm9wKCkgZW5kcG9pbnQ6IFZlcmRvY3NFbmRwb2ludCA9IFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCk7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZW1wbGF0ZSBJRCB0byByZW5kZXJcbiAgICovXG4gIEBQcm9wKCkgdGVtcGxhdGVJZDogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFRoZSBkb2N1bWVudCBJRCB0byByZW5kZXIgd2l0aGluIHRoZSB0ZW1wbGF0ZVxuICAgKi9cbiAgQFByb3AoKSBkb2N1bWVudElkOiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogUm90YXRlIHRoZSBQREYgaW4gZGVncmVlc1xuICAgKi9cbiAgQFByb3AoKSByb3RhdGlvbjogMCB8IDkwIHwgMTgwIHwgMjcwID0gMDtcblxuICAvKipcbiAgICogTGF5ZXJzIHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGluZGl2aWR1YWwgcGFnZXMgaW5zaWRlIHRoaXMgY29tcG9uZW50LlxuICAgKi9cbiAgQFByb3AoKSBwYWdlTGF5ZXJzOiBJUGFnZUxheWVyW10gPSBbXG4gICAge25hbWU6ICdwYWdlJywgdHlwZTogJ2NhbnZhcyd9LFxuICAgIHtuYW1lOiAnY29udHJvbHMnLCB0eXBlOiAnZGl2J30sXG4gIF07XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYSBwYWdlIGhhcyBiZWVuIHJlbmRlcmVkXG4gICAqL1xuICBARXZlbnQoKSBwYWdlUmVuZGVyZWQ6IEV2ZW50RW1pdHRlcjxJUGFnZVJlbmRlckV2ZW50PjtcblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gY2hhbmdlZFxuICAgKi9cbiAgQEV2ZW50KCkgcGFnZUxvYWRlZDogRXZlbnRFbWl0dGVyPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gYSBwYWdlIGhhcyBiZWVuIGNoYW5nZWRcbiAgICovXG4gIEBFdmVudCgpIHBhZ2VDaGFuZ2U6IEV2ZW50RW1pdHRlcjxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgKi9cbiAgQEV2ZW50KCkgcGFnZUluaXQ6IEV2ZW50RW1pdHRlcjxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgcGFnZSBoYXMgYmVlbiBzY2FsZWRcbiAgICovXG4gIEBFdmVudCgpIHNjYWxlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPjtcblxuICAvKipcbiAgICogRXZlbnQgZmlyZWQgaWYgYW4gZXJyb3Igb2NjdXJzLiBUaGUgZXZlbnQgZGV0YWlscyB3aWxsIGNvbnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLiBNb3N0IGVycm9ycyB3aWxsXG4gICAqIHRlcm1pbmF0ZSB0aGUgcHJvY2VzcywgYW5kIHRoZSBjYWxsaW5nIGFwcGxpY2F0aW9uIHNob3VsZCBjb3JyZWN0IHRoZSBjb25kaXRpb24gYW5kIHJlLXJlbmRlciB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIHNka0Vycm9yOiBFdmVudEVtaXR0ZXI8U0RLRXJyb3I+O1xuXG4gIEBTdGF0ZSgpIHRlbXBsYXRlRG9jdW1lbnQ6IElUZW1wbGF0ZURvY3VtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgZG9tUGFnZXM6IFJlY29yZDxudW1iZXIsIElEb2N1bWVudFBhZ2VJbmZvPiA9IHt9O1xuXG4gIHNvdXJjZVBhZ2VNZXRyaWNzOiBSZWNvcmQ8bnVtYmVyLCB7d2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXJ9PiA9IHt9O1xuXG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIHRoaXMuZW5kcG9pbnQubG9hZFNlc3Npb24oKTtcbiAgfVxuXG4gIC8vIFRPRE86IEhhbmRsaW5nIHNpZ25pbmcgdnMgcHJldmlldy1hcy11c2VyIGNhc2VzXG4gIC8vIFRPRE86IEhhbmRsZSBhbm9ueW1vdXMgY2FzZSBhbmQgZmFpbHVyZSB0byBsb2FkIGR1ZSB0byBub3QgYmVpbmcgbG9nZ2VkIGluXG4gIGFzeW5jIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgaWYgKCF0aGlzLnRlbXBsYXRlSWQgfHwgIXRoaXMuZG9jdW1lbnRJZCkge1xuICAgICAgY29uc29sZS5sb2coYFtWSUVXLVRFTVBMQVRFXSBNaXNzaW5nIHJlcXVpcmVkIHRlbXBsYXRlIElEICR7dGhpcy50ZW1wbGF0ZUlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgW1ZJRVctVEVNUExBVEVdIExvYWRpbmcgdGVtcGxhdGUgJHt0aGlzLnRlbXBsYXRlSWR9YCk7XG4gICAgICB0aGlzLnRlbXBsYXRlRG9jdW1lbnQgPSBhd2FpdCBnZXRUZW1wbGF0ZURvY3VtZW50KHRoaXMuZW5kcG9pbnQsIHRoaXMudGVtcGxhdGVJZCwgdGhpcy5kb2N1bWVudElkKTtcbiAgICAgIGlmICghdGhpcy50ZW1wbGF0ZURvY3VtZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tWSUVXLVRFTVBMQVRFXSBVbmFibGUgdG8gbG9hZCB0ZW1wbGF0ZSBkb2N1bWVudCcsIHRoaXMudGVtcGxhdGVJZCwgdGhpcy5kb2N1bWVudElkKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBHb3QgdGVtcGxhdGUnLCB0aGlzLnRlbXBsYXRlRG9jdW1lbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gRXJyb3IgbG9hZGluZyB0ZW1wbGF0ZScsIGUpO1xuICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICB9XG4gIH1cblxuICAvLyBSZW5kZXIgb25lIGRvY3VtZW50IHBhZ2UuIE5vdGUgdGhhdCBwYWdlTnVtYmVyIGlzIDEtYmFzZWQuXG4gIGFzeW5jIHJlbmRlclBhZ2UocGFnZU51bWJlcjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZG9tUGFnZSA9IHRoaXMuZG9tUGFnZXNbcGFnZU51bWJlcl07XG5cbiAgICAvLyBUd28gYXN5bmMgb3BlcmF0aW9ucyBoYXBwZW4gaGVyZSwgbG9hZGluZyB0aGUgUERGIGFuZCByZW5kZXJpbmcgdGhlIERPTSBkaXYvY2FudmFzIHBsYWNlaG9sZGVycyB0byBkcmF3IHRoZSBwYWdlcyBvbi5cbiAgICBpZiAoIWRvbVBhZ2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gU2tpcHBpbmcgcmVuZGVyaW5nIHBhZ2Ugbm90IHlldCBpbiBET00nLCB7cGFnZU51bWJlcn0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VNZXRyaWNzID0gdGhpcy5zb3VyY2VQYWdlTWV0cmljc1twYWdlTnVtYmVyXTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdbVklFVy1URU1QTEFURV0gUmVuZGVyaW5nIHBhZ2UnLCB7cGFnZU51bWJlciwgcGFnZU1ldHJpY3MsIGRvbVBhZ2V9KTtcbiAgICB0cnkge1xuICAgICAgLy8gY29uc3QgcGRmUGFnZSA9IGF3YWl0IHRoaXMucGRmRG9jdW1lbnQuZ2V0UGFnZShwYWdlTnVtYmVyKTtcbiAgICAgIC8vIGNvbnN0IHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7c2NhbGU6IGRvbVBhZ2UueFNjYWxlfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnW1ZJRVctVEVNUExBVEVdIFBhZ2Ugdmlld3BvcnQnLCBkb21QYWdlLnhTY2FsZSwgdmlld3BvcnQpO1xuXG4gICAgICAvLyBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtkb21QYWdlLmNvbnRhaW5lcklkfS1wYWdlYCkgYXMgSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuICAgICAgLy8gaWYgKCFjYW52YXMpIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBVbmFibGUgdG8gZmluZCBjYW52YXMgZWxlbWVudCcpO1xuICAgICAgLy8gICByZXR1cm47XG4gICAgICAvLyB9XG4gICAgICAvL1xuICAgICAgLy8gY2FudmFzLndpZHRoID0gZG9tUGFnZS5yZW5kZXJlZFdpZHRoO1xuICAgICAgLy8gY2FudmFzLmhlaWdodCA9IGRvbVBhZ2UucmVuZGVyZWRIZWlnaHQ7XG4gICAgICAvLyBjb25zdCBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAvLyBjYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBkb21QYWdlLnJlbmRlcmVkV2lkdGgsIGRvbVBhZ2UucmVuZGVyZWRIZWlnaHQpO1xuICAgICAgLy8gYXdhaXQgcGRmUGFnZS5yZW5kZXIoe2NhbnZhc0NvbnRleHQsIHZpZXdwb3J0fSk7XG5cbiAgICAgIHRoaXMucGFnZVJlbmRlcmVkLmVtaXQoe1xuICAgICAgICByZW5kZXJlZFBhZ2U6IGRvbVBhZ2UsXG4gICAgICAgIHNvdXJjZVBhZ2VNZXRyaWNzOiBwYWdlTWV0cmljcyxcbiAgICAgICAgcGFnZXM6IHRoaXMuZG9tUGFnZXMsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgY29uc29sZS53YXJuKCdbVklFVy1URU1QTEFURV0gRXJyb3IgcmVuZGVyaW5nIHBhZ2UnLCBlKTtcbiAgICB9XG4gIH1cblxuICAvLyBhc3luYyByZW5kZXJQYWdlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHRoaXMubnVtUGFnZXMpO1xuICAvLyAgIGZvciBhd2FpdCAobGV0IHBhZ2VOdW1iZXIgb2YgcGFnZU51bWJlcnNUb1JlbmRlcikge1xuICAvLyAgICAgdHJ5IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKHBhZ2VOdW1iZXIpO1xuICAvLyAgICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAvLyAgICAgICBjb25zb2xlLndhcm4oJ1tWSUVXLVRFTVBMQVRFXSBFcnJvciByZW5kZXJpbmcgcGFnZXMnLCBlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBvblByb2dyZXNzKHByb2dyZXNzOiBPblByb2dyZXNzUGFyYW1ldGVycykge1xuICAvLyAgIGNvbnNvbGUubG9nKGBbVklFVy1URU1QTEFURV0gUHJvZ3Jlc3MgJHtNYXRoLmZsb29yKChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDApfSAoJHtwcm9ncmVzcy5sb2FkZWR9IC8gJHtwcm9ncmVzcy50b3RhbH0pYCk7XG4gIC8vICAgdGhpcy5sb2FkUHJvZ3Jlc3MgPSBNYXRoLmZsb29yKCgxMDAgKiBwcm9ncmVzcy5sb2FkZWQpIC8gcHJvZ3Jlc3MudG90YWwpO1xuICAvLyB9XG5cbiAgLy8gQWZ0ZXIgYSBkb2N1bWVudCBpcyBkb25lIGxvYWRpbmcsIGdvIHRocm91Z2ggaXRzIHBhZ2VzIHRvIGdldCB0aGVpciBkaW1lbnNpb25zXG4gIC8vIGFzeW5jIHBhcnNlUGFnZU1ldHJpY3MocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpIHtcbiAgLy8gICBjb25zdCBwYWdlTnVtYmVyc1RvUmVuZGVyID0gaW50ZWdlclNlcXVlbmNlKDEsIHBkZkRvY3VtZW50Lm51bVBhZ2VzKTtcbiAgLy9cbiAgLy8gICBmb3IgYXdhaXQgKGxldCBwYWdlTnVtYmVyIG9mIHBhZ2VOdW1iZXJzVG9SZW5kZXIpIHtcbiAgLy8gICAgIGNvbnN0IHBkZlBhZ2UgPSBhd2FpdCBwZGZEb2N1bWVudC5nZXRQYWdlKDEpO1xuICAvLyAgICAgY29uc3QgW3BhZ2VYMCwgcGFnZVkwLCBwYWdlWDEsIHBhZ2VZMV0gPSBwZGZQYWdlLnZpZXc7XG4gIC8vICAgICB0aGlzLnNvdXJjZVBhZ2VNZXRyaWNzW3BhZ2VOdW1iZXJdID0ge3dpZHRoOiBwYWdlWDEgLSBwYWdlWDAsIGhlaWdodDogcGFnZVkxIC0gcGFnZVkwfTtcbiAgLy8gICB9XG4gIC8vXG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBQYXJzZWQgcGFnZSBtZXRyaWNzJywgdGhpcy5zb3VyY2VQYWdlTWV0cmljcyk7XG4gIC8vIH1cblxuICAvLyBsb2FkQW5kUmVuZGVyKHNyYzogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBMb2FkaW5nJywgc3JjKTtcbiAgLy9cbiAgLy8gICBjb25zdCB0b2tlbiA9IHRoaXMuZW5kcG9pbnQuZ2V0VG9rZW4oKTtcbiAgLy8gICBjb25zdCBodHRwSGVhZGVycyA9IHRva2VuID8ge0F1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gfSA6IHt9O1xuICAvL1xuICAvLyAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgLy8gICAgIHVybDogc3JjLFxuICAvLyAgICAgY01hcFVybDogQ01BUFNfVVJMLFxuICAvLyAgICAgY01hcFBhY2tlZDogdHJ1ZSxcbiAgLy8gICAgIGh0dHBIZWFkZXJzLFxuICAvLyAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAvLyAgICAgc3RvcEF0RXJyb3JzOiB0cnVlLFxuICAvLyAgICAgdmVyYm9zaXR5OiBwZGZqc0xpYi5WZXJib3NpdHlMZXZlbC5XQVJOSU5HUyxcbiAgLy8gICAgIC8vIHZlcmJvc2l0eTogcGRmanNMaWIuVmVyYm9zaXR5TGV2ZWwuSU5GT1MsXG4gIC8vICAgfSBhcyBEb2N1bWVudEluaXRQYXJhbWV0ZXJzO1xuICAvL1xuICAvLyAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICBjb25zdCBsb2FkaW5nVGFzayA9IHBkZi5nZXREb2N1bWVudChzb3VyY2UsIG51bGwsIG51bGwsIHRoaXMub25Qcm9ncmVzcyk7XG4gIC8vICAgbG9hZGluZ1Rhc2sub25Qcm9ncmVzcyA9IHRoaXMub25Qcm9ncmVzcztcbiAgLy8gICBsb2FkaW5nVGFzay5wcm9taXNlXG4gIC8vICAgICAudGhlbihhc3luYyAocGRmRG9jdW1lbnQ6IHBkZmpzTGliLlBERkRvY3VtZW50UHJveHkpID0+IHtcbiAgLy8gICAgICAgYXdhaXQgdGhpcy5wYXJzZVBhZ2VNZXRyaWNzKHBkZkRvY3VtZW50KTtcbiAgLy9cbiAgLy8gICAgICAgdGhpcy5wZGZEb2N1bWVudCA9IHBkZkRvY3VtZW50O1xuICAvLyAgICAgICB0aGlzLm51bVBhZ2VzID0gcGRmRG9jdW1lbnQubnVtUGFnZXM7XG4gIC8vICAgICAgIHRoaXMuZmluZ2VycHJpbnRzID0gcGRmRG9jdW1lbnQuZmluZ2VycHJpbnRzO1xuICAvLyAgICAgICBjb25zb2xlLmxvZyhgW1ZJRVctVEVNUExBVEVdIEdvdCBQREYgZG9jdW1lbnQgZmluZ2VycHJpbnRzIFwiJHt0aGlzLmZpbmdlcnByaW50cy5qb2luKCcsICcpfVwiLCAke3RoaXMubnVtUGFnZXN9IHBhZ2UocylgKTtcbiAgLy9cbiAgLy8gICAgICAgLy8gV2UgZG9uJ3QgdHJ5IHRvIHJlbmRlciB0aGUgcGFnZXMgaGVyZSwgc2V0dGluZyBsb2FkUHJvdHJlc3MgdHJpZ2dlcnMgdGhhdCBieSBhZGRpbmcgdGhlIGluZGl2aWR1YWwgcGFnZSBlbnRyaWVzIGluXG4gIC8vICAgICAgIC8vIERPTSBpbiByZW5kZXIoKSBiZWxvdy4gRWFjaCBwYWdlIHRoZW4gZmlyZXMgb25QYWdlUmVuZGVyZWQgd2hlbiBpdCBpcyByZWFkeSB0byByZWNlaXZlIGNvbnRlbnQuXG4gIC8vICAgICAgIHRoaXMubG9hZFByb2dyZXNzID0gMTAwO1xuICAvLyAgICAgfSlcbiAgLy8gICAgIC5jYXRjaChlID0+IHtcbiAgLy8gICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgLy8gICAgICAgY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBMb2FkaW5nIGVycm9yJywgZSk7XG4gIC8vICAgICB9KTtcbiAgLy8gfVxuXG4gIGFzeW5jIGhhbmRsZVBhZ2VSZW5kZXJlZChlOiBhbnkpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgY29uc3QgZG9tUGFnZSA9IGUuZGV0YWlsIGFzIElEb2N1bWVudFBhZ2VJbmZvO1xuICAgIHRoaXMuZG9tUGFnZXNbZG9tUGFnZS5wYWdlTnVtYmVyXSA9IGRvbVBhZ2U7XG4gICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlKGRvbVBhZ2UucGFnZU51bWJlcik7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc29sZS5sb2coJ1tWSUVXLVRFTVBMQVRFXSBSZW5kZXJpbmcgcGFnZXMnLCB0aGlzLnRlbXBsYXRlRG9jdW1lbnQ/LnBhZ2VzKTtcblxuICAgIC8vIFRPRE86IFRoZSBBUEkgaXMgc3VwcG9zZWQgdG8gYWx3YXlzIHJldHVybiB0aGVzZSBzb3J0ZWQuLi5cbiAgICBjb25zdCBwYWdlcyA9IFsuLi4odGhpcy50ZW1wbGF0ZURvY3VtZW50Py5wYWdlcyB8fCBbXSldO1xuICAgIHBhZ2VzLnNvcnQoKGEsIGIpID0+IGEuc2VxdWVuY2UgLSBiLnNlcXVlbmNlKTtcblxuICAgIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nIGZvciBtaXNzaW5nIHBhZ2VzLiBJcyBpdCBiZXR0ZXIgdG8gc2tpcCB0aGUgcGFnZSBvciBzaG93IGEgcGxhY2Vob2xkZXI/XG4gICAgcmV0dXJuIChcbiAgICAgIDxIb3N0PlxuICAgICAgICB7cGFnZXMubWFwKHBhZ2UgPT4gKFxuICAgICAgICAgIDx2ZXJkb2NzLWRvY3VtZW50LXBhZ2VcbiAgICAgICAgICAgIHBhZ2VJbWFnZVVyaT17cGFnZS5kaXNwbGF5X3VyaX1cbiAgICAgICAgICAgIHZpcnR1YWxXaWR0aD17NjEyfVxuICAgICAgICAgICAgdmlydHVhbEhlaWdodD17NzkyfVxuICAgICAgICAgICAgLy8gVE9ETzogU3RvcmUgaW1hZ2UgZGltZW5zaW9ucyBpbiB0aGUgREIgcm93cyBhbmQgcGFzcyB0aGVtIHRvIGNsaWVudHMgd2l0aCB0aGUgcGFnZSBkYXRhXG4gICAgICAgICAgICAvLyB2aXJ0dWFsV2lkdGg9e3RoaXMuc291cmNlUGFnZU1ldHJpY3NbcGFnZU51bWJlcl0/LndpZHRoIHx8IDYxMn1cbiAgICAgICAgICAgIC8vIHZpcnR1YWxIZWlnaHQ9e3RoaXMuc291cmNlUGFnZU1ldHJpY3NbcGFnZU51bWJlcl0/LmhlaWdodCB8fCA3OTJ9XG4gICAgICAgICAgICBwYWdlTnVtYmVyPXtwYWdlLnNlcXVlbmNlfVxuICAgICAgICAgICAgbGF5ZXJzPXt0aGlzLnBhZ2VMYXllcnN9XG4gICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17cCA9PiB0aGlzLmhhbmRsZVBhZ2VSZW5kZXJlZChwKX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgIDwvSG9zdD5cbiAgICApO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9