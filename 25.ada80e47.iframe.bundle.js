/*! For license information please see 25.ada80e47.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/verdocs-field-signature_3.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_signature",(function(){return VerdocsFieldSignature})),__webpack_require__.d(__webpack_exports__,"verdocs_signature_dialog",(function(){return VerdocsSignatureDialog})),__webpack_require__.d(__webpack_exports__,"verdocs_toolbar_icon",(function(){return VerdocsToolbarIcon}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./dist/esm/utils-5cddd371.js"),_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./dist/esm/popper-f860750c.js");__webpack_require__("./dist/esm/Token-54690789.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var VerdocsFieldSignature=function(){function VerdocsFieldSignature(hostRef){_classCallCheck(this,VerdocsFieldSignature),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.fieldChange=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"fieldChange",7),this.settingsPress=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"settingsPress",7),this.field=null,this.name="",this.disabled=!1,this.editable=!1,this.moveable=!1,this.done=!1,this.roleindex=0,this.tempSignature=""}var _focusField;return _createClass(VerdocsFieldSignature,[{key:"focusField",value:(_focusField=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.handleShow(),console.log("focused",this);case 2:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"hideDialog",value:function hideDialog(){var _a;null===(_a=this.dialog)||void 0===_a||_a.remove(),this.dialog=null}},{key:"handleAdopt",value:function handleAdopt(e){var _a;console.log("[SIGNATURE] Adopted signature"),this.tempSignature=e.detail,null===(_a=this.fieldChange)||void 0===_a||_a.emit(this.tempSignature),this.hideDialog()}},{key:"handleShow",value:function handleShow(){var _this=this;this.dialog=document.createElement("verdocs-signature-dialog"),this.dialog.setAttribute("name",this.name),this.dialog.setAttribute("roleindex",this.roleindex),this.dialog.addEventListener("cancel",(function(){return _this.hideDialog()})),this.dialog.addEventListener("next",(function(e){return _this.handleAdopt(e)})),document.body.append(this.dialog)}},{key:"render",value:function render(){var _a,_b,_c,_this2=this,settings=Object(_utils_5cddd371_js__WEBPACK_IMPORTED_MODULE_28__.g)(this.field),value=settings.base64||this.tempSignature,disabled=null!==(_b=null!==(_a=this.disabled)&&void 0!==_a?_a:settings.disabled)&&void 0!==_b&&_b,backgroundColor=this.field.rgba||Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_27__.a)(this.roleindex);return this.done?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{class:{done:this.done}},value&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("img",{src:value,alt:"Signature"})):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{class:{required:null===(_c=this.field)||void 0===_c?void 0:_c.required,disabled:disabled},style:{backgroundColor:backgroundColor}},value?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("img",{src:value,alt:"Signature"}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("button",{onClick:function onClick(){return!disabled&&_this2.handleShow()}},"Signature"),this.editable&&Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-button-panel",{icon:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"><path d="m7.5 18.5-.312-2.667q-.188-.125-.396-.25-.209-.125-.396-.229l-2.479 1.063-2.521-4.334 2.125-1.625q.021-.104.021-.229v-.458q0-.125-.021-.229L1.396 7.917l2.521-4.313 2.5 1.042q.166-.104.375-.229.208-.125.396-.229L7.5 1.5h5l.312 2.688q.188.104.396.229.209.125.396.229l2.479-1.042 2.521 4.313-2.125 1.625v.916l2.125 1.625-2.521 4.334-2.5-1.063q-.166.104-.375.229-.208.125-.396.25L12.5 18.5Zm2.479-5.521q1.229 0 2.104-.875T12.958 10q0-1.229-.875-2.104t-2.104-.875q-1.208 0-2.094.875Q7 8.771 7 10t.885 2.104q.886.875 2.094.875Zm0-1.75q-.5 0-.864-.364Q8.75 10.5 8.75 10t.365-.865q.364-.364.864-.364t.865.364q.364.365.364.865t-.364.865q-.365.364-.865.364ZM10.021 10Zm-.792 6.521h1.542l.25-2.146q.625-.167 1.198-.51.573-.344 1.031-.823l2.021.854.771-1.271-1.771-1.354q.104-.292.156-.615.052-.323.052-.656 0-.292-.052-.604-.052-.313-.135-.646l1.77-1.375-.77-1.271-2.021.875q-.479-.5-1.042-.833-.562-.334-1.187-.5l-.271-2.167H9.208l-.25 2.167q-.625.166-1.187.5-.563.333-1.042.812l-2-.854-.771 1.271 1.73 1.354q-.084.333-.136.656Q5.5 9.708 5.5 10t.052.604q.052.313.136.667l-1.73 1.354.771 1.271 2-.834q.479.459 1.042.792.562.334 1.187.5Z"/></svg>'},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("h6",null,"Field Settings"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("form",null,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-select-input",{label:"Recipient",options:[{label:"Buyer",value:"Buyer"},{label:"Seller",value:"Seller"}]}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-text-input",{label:"Field Name",value:"",placeholder:"Stored field name...",onInput:function onInput(e){return console.log("ipt",e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-text-input",{label:"Placeholder",value:"",placeholder:"Placeholder text...",onInput:function onInput(e){return console.log("ipt",e)}}))))}}]),VerdocsFieldSignature}();VerdocsFieldSignature.style='verdocs-field-signature{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:83px;height:36px;display:block;font-size:11px;position:relative;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-signature.disabled{opacity:0.5}verdocs-field-signature.done{border:none;opacity:1}verdocs-field-signature img{display:block;max-width:100%;max-height:100%}verdocs-field-signature button{-webkit-box-sizing:border-box;box-sizing:border-box;border:none;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-signature button.hide{display:none}verdocs-field-signature.required{border:1px solid #cc0000}verdocs-field-signature.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}verdocs-field-signature verdocs-button-panel{top:-3px;left:-2px;opacity:0.5;z-index:1000;cursor:pointer;position:absolute;-webkit-transform:scale(0.6);transform:scale(0.6)}verdocs-field-signature verdocs-button-panel[data-active],verdocs-field-signature verdocs-button-panel:hover{opacity:1}verdocs-field-signature verdocs-button-panel .icon svg{fill:#333333}verdocs-field-signature verdocs-button-panel .icon:hover svg{fill:#000000}';var VerdocsSignatureDialog=function(){function VerdocsSignatureDialog(hostRef){_classCallCheck(this,VerdocsSignatureDialog),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.next=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"next",7),this.cancel=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.e)(this,"cancel",7),this.name="",this.fontLoaded=!1,this.enteredName="",this.mode="type"}return _createClass(VerdocsSignatureDialog,[{key:"componentWillLoad",value:function componentWillLoad(){var _this3=this;this.enteredName=this.name,new FontFace("Dancing Script","url(https://fonts.gstatic.com/s/dancingscript/v19/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6hNX6plRP.woff)").load().then((function(font){document.fonts.add(font),_this3.fontLoaded=!0}))}},{key:"componentDidLoad",value:function componentDidLoad(){this.redrawSignature()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.redrawSignature()}},{key:"redrawSignature",value:function redrawSignature(){if(this.canvasElement){var canvasWidth=this.canvasElement.width,context=this.canvasElement.getContext("2d");context.clearRect(0,0,this.canvasElement.width,this.canvasElement.height);var fontSize=100;do{fontSize-=2,context.font=fontSize+"px Dancing Script"}while(context.measureText(this.enteredName).width>canvasWidth-32);context.textAlign="center",context.textBaseline="middle",context.font=fontSize+"px Dancing Script",context.fillText(this.enteredName,this.canvasElement.width/2,this.canvasElement.height/2)}}},{key:"handleNameChange",value:function handleNameChange(e){this.enteredName=e.target.value}},{key:"handleCancel",value:function handleCancel(e){e.stopPropagation(),e.preventDefault(),this.cancel.emit()}},{key:"handleAdopt",value:function handleAdopt(e){e.stopPropagation(),e.preventDefault();var data=this.canvasElement.toDataURL("image/png");this.next.emit(data)}},{key:"render",value:function render(){var _this4=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{onClick:function onClick(e){return _this4.handleCancel(e)}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"dialog"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"heading"},"Create Your Signature"),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"content"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-text-input",{placeholder:"Full Name...",label:"Full Name",value:this.enteredName,onInput:function onInput(e){return _this4.handleNameChange(e)},onClick:function onClick(e){return e.stopPropagation()}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"as-shown"},"As shown on driver's license or govt. ID card."),this.fontLoaded?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("canvas",{ref:function ref(el){return _this4.canvasElement=el}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{style:{display:"none"}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"disclaimer"},"By clicking Adopt, I agree that the signature will be the electronic representation of my signature for all purposes when I (or my agent) use them on documents, including legally binding contracts — just the same as a pen-and-paper signature or initial."),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{class:"buttons"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-button",{label:"CANCEL",size:"normal",variant:"outline",onClick:function onClick(e){return _this4.handleCancel(e)}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("verdocs-button",{label:"Adopt & Sign",size:"normal",onClick:function onClick(e){return _this4.handleAdopt(e)}})))))}}]),VerdocsSignatureDialog}();VerdocsSignatureDialog.style='verdocs-signature-dialog{font-family:"Barlow", sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;z-index:10000;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:#0000007f}verdocs-signature-dialog .dialog{width:100%;max-width:340px;border-radius:4px;overflow:hidden;-webkit-box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4);box-shadow:3px 3px 5px 1px rgba(40, 40, 40, 0.4);background:#f9f9f9}verdocs-signature-dialog .heading{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:20px 20px 0 20px;line-height:28px;font-size:20px;font-weight:500}verdocs-signature-dialog .content{font-size:14px;padding:20px}verdocs-signature-dialog .buttons{display:-ms-flexbox;display:flex;margin:20px 0 0 0;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center}verdocs-signature-dialog .buttons verdocs-button{margin-left:16px}verdocs-signature-dialog canvas{background:#ffffff;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;width:300px;height:79px;max-width:100%;-webkit-box-shadow:0 0 6px 0 #0000001f;box-shadow:0 0 6px 0 #0000001f}verdocs-signature-dialog .disclaimer{text-align:justify;padding:8px 0;font-size:11px;line-height:14px;color:rgba(0, 0, 0, 0.54)}verdocs-signature-dialog .as-shown{font-size:11px;margin:4px 0 20px 4px;color:rgba(0, 0, 0, 0.54)}verdocs-signature-dialog .tabs{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}verdocs-signature-dialog .tabs .tab{padding:8px 15px;cursor:pointer}verdocs-signature-dialog .tabs .tab.active{border-bottom:2px solid #cccccc}verdocs-signature-dialog .tabs .tab:hover{color:#55bc81}';var VerdocsToolbarIcon=function(){function VerdocsToolbarIcon(hostRef){_classCallCheck(this,VerdocsToolbarIcon),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.j)(this,hostRef),this.text="",this.icon="",this.containerId="verdocs-toolbar-icon-"+Math.random().toString(36).substring(2,11)}return _createClass(VerdocsToolbarIcon,[{key:"componentDidLoad",value:function componentDidLoad(){this.popperInstance=Object(_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_29__.a)(this.iconEl,this.tooltip,{})}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}},{key:"show",value:function show(){var _a,_b;null===(_a=this.tooltip)||void 0===_a||_a.setAttribute("data-show",""),null===(_b=this.popperInstance)||void 0===_b||_b.update().catch((function(){}))}},{key:"hide",value:function hide(){var _a;null===(_a=this.tooltip)||void 0===_a||_a.removeAttribute("data-show")}},{key:"render",value:function render(){var _this5=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.b,{class:{}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{"aria-describedby":this.containerId,class:"icon",innerHTML:this.icon,onMouseEnter:function onMouseEnter(){return _this5.show()},onFocus:function onFocus(){return _this5.show()},onMouseLeave:function onMouseLeave(){return _this5.hide()},onBlur:function onBlur(){return _this5.hide()},ref:function ref(el){return _this5.iconEl=el}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{id:this.containerId,role:"tooltip",class:"tooltip","data-popper-placement":"bottom",ref:function ref(el){return _this5.tooltip=el}},this.text,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_26__.h)("div",{"data-popper-arrow":"true",class:"arrow"})))}}]),VerdocsToolbarIcon}();VerdocsToolbarIcon.style='verdocs-toolbar-icon{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:inline-block}verdocs-toolbar-icon .icon{display:inline-block;cursor:pointer}verdocs-toolbar-icon .icon svg{fill:#5c6575}verdocs-toolbar-icon .tooltip{display:none;-webkit-box-shadow:0 0 10px 1px #999999;box-shadow:0 0 10px 1px #999999;background:#ffffff;color:#33364b;max-width:240px;font-weight:bold;padding:5px 10px;font-size:13px;position:relative;border-radius:4px;z-index:10000}verdocs-toolbar-icon .tooltip .arrow,verdocs-toolbar-icon .tooltip .arrow::before{position:absolute;width:8px;height:8px;background:inherit}verdocs-toolbar-icon .tooltip .arrow{visibility:hidden;top:-4px}verdocs-toolbar-icon .tooltip .arrow::before{visibility:visible;content:"";-webkit-transform:rotate(45deg);transform:rotate(45deg)}verdocs-toolbar-icon .tooltip[data-show]{display:block}verdocs-toolbar-icon .tooltip[data-popper-placement^=top]>.arrow{bottom:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=bottom]>.arrow{top:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=left]>.arrow{right:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=right]>.arrow{left:-4px}'},"./node_modules/core-js/internals/array-reduce.js":function(module,exports,__webpack_require__){var aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),IndexedObject=__webpack_require__("./node_modules/core-js/internals/indexed-object.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),$TypeError=TypeError,createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aCallable(callbackfn);var O=toObject(that),self=IndexedObject(O),length=lengthOfArrayLike(O),index=IS_RIGHT?length-1:0,i=IS_RIGHT?-1:1;if(argumentsLength<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,IS_RIGHT?index<0:length<=index)throw $TypeError("Reduce of empty array with no initial value")}for(;IS_RIGHT?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}};module.exports={left:createMethod(!1),right:createMethod(!0)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMuanMiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlL3ZlcmRvY3MtZmllbGQtc2lnbmF0dXJlLnRzeCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZGlhbG9ncy92ZXJkb2NzLXNpZ25hdHVyZS1kaWFsb2cvdmVyZG9jcy1zaWduYXR1cmUtZGlhbG9nLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2RpYWxvZ3MvdmVyZG9jcy1zaWduYXR1cmUtZGlhbG9nL3ZlcmRvY3Mtc2lnbmF0dXJlLWRpYWxvZy50c3giLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2NvbnRyb2xzL3ZlcmRvY3MtdG9vbGJhci1pY29uL3ZlcmRvY3MtdG9vbGJhci1pY29uLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2NvbnRyb2xzL3ZlcmRvY3MtdG9vbGJhci1pY29uL3ZlcmRvY3MtdG9vbGJhci1pY29uLnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktcmVkdWNlLmpzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJWZXJkb2NzRmllbGRTaWduYXR1cmUiLCJ0aGlzIiwiaGFuZGxlU2hvdyIsImNvbnNvbGUiLCJsb2ciLCJoaWRlRGlhbG9nIiwiZGlhbG9nIiwicmVtb3ZlIiwiaGFuZGxlQWRvcHQiLCJlIiwidGVtcFNpZ25hdHVyZSIsImRldGFpbCIsImZpZWxkQ2hhbmdlIiwiZW1pdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIm5hbWUiLCJyb2xlaW5kZXgiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImFwcGVuZCIsInJlbmRlciIsInNldHRpbmdzIiwiZ2V0RmllbGRTZXR0aW5ncyIsImZpZWxkIiwidmFsdWUiLCJiYXNlNjQiLCJkaXNhYmxlZCIsImJhY2tncm91bmRDb2xvciIsImRvbmUiLCJoIiwiSG9zdCIsImNsYXNzIiwic3JjIiwiYWx0IiwicmVxdWlyZWQiLCJzdHlsZSIsIm9uQ2xpY2siLCJlZGl0YWJsZSIsImljb24iLCJsYWJlbCIsIm9wdGlvbnMiLCJwbGFjZWhvbGRlciIsIm9uSW5wdXQiLCJWZXJkb2NzU2lnbmF0dXJlRGlhbG9nIiwiY29tcG9uZW50V2lsbExvYWQiLCJlbnRlcmVkTmFtZSIsIkZvbnRGYWNlIiwibG9hZCIsInRoZW4iLCJmb250IiwiZm9udHMiLCJhZGQiLCJmb250TG9hZGVkIiwiY29tcG9uZW50RGlkTG9hZCIsInJlZHJhd1NpZ25hdHVyZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsImNhbnZhc0VsZW1lbnQiLCJjYW52YXNXaWR0aCIsIndpZHRoIiwiY29udGV4dCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJoZWlnaHQiLCJmb250U2l6ZSIsIm1lYXN1cmVUZXh0IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJoYW5kbGVOYW1lQ2hhbmdlIiwidGFyZ2V0IiwiaGFuZGxlQ2FuY2VsIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJjYW5jZWwiLCJkYXRhIiwidG9EYXRhVVJMIiwibmV4dCIsInJlZiIsImVsIiwiZGlzcGxheSIsInNpemUiLCJ2YXJpYW50IiwiVmVyZG9jc1Rvb2xiYXJJY29uIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwicG9wcGVySW5zdGFuY2UiLCJjcmVhdGVQb3BwZXIiLCJpY29uRWwiLCJ0b29sdGlwIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJkZXN0cm95Iiwic2hvdyIsInVwZGF0ZSIsImhpZGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjb250YWluZXJJZCIsImlubmVySFRNTCIsIm9uTW91c2VFbnRlciIsIm9uRm9jdXMiLCJvbk1vdXNlTGVhdmUiLCJvbkJsdXIiLCJpZCIsInJvbGUiLCJ0ZXh0IiwiYUNhbGxhYmxlIiwidG9PYmplY3QiLCJJbmRleGVkT2JqZWN0IiwibGVuZ3RoT2ZBcnJheUxpa2UiLCIkVHlwZUVycm9yIiwiVHlwZUVycm9yIiwiY3JlYXRlTWV0aG9kIiwiSVNfUklHSFQiLCJ0aGF0IiwiY2FsbGJhY2tmbiIsImFyZ3VtZW50c0xlbmd0aCIsIm1lbW8iLCJPIiwic2VsZiIsImxlbmd0aCIsImluZGV4IiwiaSIsIm1vZHVsZSIsImV4cG9ydHMiLCJsZWZ0IiwicmlnaHQiXSwibWFwcGluZ3MiOiI7Z0tBOEJPLFNBQVNBLFFBQVFDLFdBQ3BCLE9BQVFBLFVBQVksSUFDaEIsS0FBSyxFQUNELE9BQXFCLElBQWRBLFVBQWtCLHlCQUEyQiwyQkFDeEQsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8sMEJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8seUJBQ1gsS0FBSyxFQUNELE1BQU8sMkJBQ1gsS0FBSyxFQUNELE1BQU8seUJBQ1gsUUFDSSxNQUFPLDJCQUVuQixDQXZEQSwyRSx5aGRDQUEsSUNrQmFDLHNCQUFxQixXLGdYQUl3QixLLFVBS2hDLEcsZUFLSyxFLGVBTUEsRSxlQUtBLEUsV0FLSixFLGVBS0ksRSxtQkFrQkwsRSxpQkEwRHZCLE8sMmJBaEVTLG9JQUNSQyxLQUFLQyxhQUNMQyxRQUFRQyxJQUFJLFVBQVdILE1BQU0sNkRBQzlCLDBGQU9ELFNBQUFJLGEsT0FDYSxRQUFYLEdBQUFKLEtBQUtLLGNBQU0sV0FBRUMsU0FDYk4sS0FBS0ssT0FBUyxJLEdBQ2YseUJBRUQsU0FBQUUsWUFBWUMsRyxP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QUFNLFVBQVMsd0JBQXVCLFNBQVM4QyxJQUFLLGFBQUFDLElBQUUsT0FBSyxPQUFLWSxRQUFVWixFQUFvQixHQUNySS9FLEtBQUswRyxLQUNONUUsa0VBQUEsb0JBQXVCLE9BQU9FLE1BQU0sVyxLQUkzQyxtQkFwRTRCLEcseUJEWkQsK3FDLGtHRUE5QixJQUFJMkUsVUFBWSxvQkFBUSxrREFDcEJDLFNBQVcsb0JBQVEsaURBQ25CQyxjQUFnQixvQkFBUSxzREFDeEJDLGtCQUFvQixvQkFBUSw0REFFNUJDLFdBQWFDLFVBR2JDLGFBQWUsU0FBVUMsVUFDM0IsT0FBTyxTQUFVQyxLQUFNQyxXQUFZQyxnQkFBaUJDLE1BQ2xEWCxVQUFVUyxZQUNWLElBQUlHLEVBQUlYLFNBQVNPLE1BQ2JLLEtBQU9YLGNBQWNVLEdBQ3JCRSxPQUFTWCxrQkFBa0JTLEdBQzNCRyxNQUFRUixTQUFXTyxPQUFTLEVBQUksRUFDaENFLEVBQUlULFVBQVksRUFBSSxFQUN4QixHQUFJRyxnQkFBa0IsRUFBRyxPQUFhLENBQ3BDLEdBQUlLLFNBQVNGLEtBQU0sQ0FDakJGLEtBQU9FLEtBQUtFLE9BQ1pBLE9BQVNDLEVBQ1QsS0FDRixDQUVBLEdBREFELE9BQVNDLEVBQ0xULFNBQVdRLE1BQVEsRUFBSUQsUUFBVUMsTUFDbkMsTUFBTVgsV0FBVyw4Q0FFckIsQ0FDQSxLQUFNRyxTQUFXUSxPQUFTLEVBQUlELE9BQVNDLE1BQU9BLE9BQVNDLEVBQU9ELFNBQVNGLE9BQ3JFRixLQUFPRixXQUFXRSxLQUFNRSxLQUFLRSxPQUFRQSxNQUFPSCxJQUU5QyxPQUFPRCxJQUNULENBQ0YsRUFFQU0sT0FBT0MsUUFBVSxDQUdmQyxLQUFNYixjQUFhLEdBR25CYyxNQUFPZCxjQUFhLEciLCJmaWxlIjoiMjUuYWRhODBlNDcuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l2ZW4gYSBgcmdiYShyLGcsYixhKWAgc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudCwgZHJvcHBpbmcgdGhlIGFscGhhIGNoYW5uZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0IocmdiYSkge1xuICAgIHZhciByZ2JOdW1iZXJzID0gcmdiYS5yZXBsYWNlKCdyZ2JhKCcsICcnKS5yZXBsYWNlKCcpJywgJycpLnNwbGl0KCcsJyk7XG4gICAgdmFyIHJnYk9iamVjdCA9IHtcbiAgICAgICAgcmVkOiArcmdiTnVtYmVyc1swXSxcbiAgICAgICAgZ3JlZW46ICtyZ2JOdW1iZXJzWzFdLFxuICAgICAgICBibHVlOiArcmdiTnVtYmVyc1syXSxcbiAgICAgICAgYWxwaGE6ICtyZ2JOdW1iZXJzWzNdLFxuICAgIH07XG4gICAgdmFyIGFscGhhID0gMSAtIHJnYk9iamVjdC5hbHBoYTtcbiAgICB2YXIgcmVkID0gTWF0aC5yb3VuZCgocmdiT2JqZWN0LmFscGhhICogKHJnYk9iamVjdC5yZWQgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICB2YXIgZ3JlZW4gPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmdyZWVuIC8gMjU1KSArIGFscGhhKSAqIDI1NSk7XG4gICAgdmFyIGJsdWUgPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmJsdWUgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICByZXR1cm4gJyMnICsgcmdiVG9IZXgocmVkKSArIHJnYlRvSGV4KGdyZWVuKSArIHJnYlRvSGV4KGJsdWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhbiBSR0Igc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudC5cbiAqL1xuZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XG4gICAgdmFyIGhleCA9IHJnYi50b1N0cmluZygxNik7XG4gICAgaWYgKGhleC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0JBKHJvbGVJbmRleCkge1xuICAgIHN3aXRjaCAocm9sZUluZGV4ICUgMTApIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJbmRleCA9PT0gMCA/ICdyZ2JhKDI1NSwgMTkzLCA3LCAwLjQpJyA6ICdyZ2JhKDEzNCwgMTM0LCAxMzQsIDAuMyknOyAvLyAjRkZFNjlDXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxNTYsIDM5LCAxNzYsIC40KSc7IC8vICcjRTNDM0U5J1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMzMsIDE1MCwgMjQzLCAuNCknOyAvLyAnI0MxRTFGQidcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyMCwgMjMxLCAxMTcsIDAuMyknO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTIxLCAxMzQsIDIwMywgMC4zKSc7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg3NywgMTgyLCAxNzIsIDAuMyknO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyMDIsIDE2NSwgMC4zKSc7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyLCAyNDcsIDE5MCwgMC4zKSc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDEzOCwgMTAxLCAwLjMpJztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDgyLCAyNTUsIDc5LCAwLjMpJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjksIDExNSwgMTU1LCAwLjMpJztcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGEgcm9sZSBuYW1lLCByZXR1cm4gYSBjb2xvciBjb2RlIGZvciBpdC4gVGhpcyB3b3JrcyBieSBjb21wdXRpbmcgYSBoYXNoIGNvZGUgc28gdGhlIHNwZWNpZmljIGNvbG9yIHJldHVybmVkXG4gKiBpcyBub3Qgc3BlY2lmaWVkIGV4cGxpY2l0bHksIGJ1dCB3aWxsIGJlIHRoZSBzYW1lIGZvciBldmVyeSBjYWxsIHdpdGggdGhlIHNhbWUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYW1lVG9SR0JBKHN0cikge1xuICAgIGlmICghIXN0cikge1xuICAgICAgICB2YXIgdmFsaWROdW0gPSBwYXJzZUludChzdHIuc2xpY2UoLTEpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4odmFsaWROdW0pKSB7XG4gICAgICAgICAgICBzdHIgKz0gKHZhbGlkTnVtICogOTkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc2ggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzaCA9IE1hdGgucm91bmQoaGFzaCAvIDEuMyk7XG4gICAgICAgIHZhciBjID0gKGhhc2ggJiAweDAwZmZmZjA4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgdmFyIGhleCA9ICcjJyArICcwMDAwMCcuc3Vic3RyaW5nKDAsIDYgLSBjLmxlbmd0aCkgKyBjO1xuICAgICAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgICAgIHZhciBjb2xvciA9IHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIi5jb25jYXQoY29sb3IuciwgXCIsIFwiKS5jb25jYXQoY29sb3IuZywgXCIsIFwiKS5jb25jYXQoY29sb3IuYiwgXCIsIDAuMilcIik7XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gb2J0YWluIGEgY29sb3IgY29kZSBnaXZlbiBhIHJvbGUgbmFtZSBnaXZlbiB2YXJpb3VzIHBvc3NpYmxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvbGVDb2xvcihuYW1lLCByb2xlcywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGdldFJHQkEoaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciByb2xlSW5kZXggPSByb2xlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHJvbGUpIHsgcmV0dXJuIHJvbGUubmFtZSA9PT0gbmFtZTsgfSk7XG4gICAgICAgIGlmIChyb2xlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvbGVzW3JvbGVJbmRleF0ucmdiYSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZVRvUkdCQShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hbWVUb1JHQkEobmFtZSk7XG4gICAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3MtZmllbGQtc2lnbmF0dXJlIHtcbiAgZm9udC1mYW1pbHk6ICR2ZXJkb2NzLXByaW1hcnktZm9udDtcbiAgd2lkdGg6IDgzcHg7XG4gIGhlaWdodDogMzZweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpO1xuXG4gICYuZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuXG4gICYuZG9uZSB7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cblxuICBpbWcge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg3KTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBmb250LXNpemU6IDExcHg7XG5cbiAgICAmLmhpZGUge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cblxuICAmLnJlcXVpcmVkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjA0LCAwLCAwKTtcbiAgfVxuXG4gICYuZm9jdXNlZCB7XG4gICAgYW5pbWF0aW9uOiB2ZXJkb2NzLWZpZWxkLXB1bHNlIDAuNzVzIDI7XG4gIH1cblxuICB2ZXJkb2NzLWJ1dHRvbi1wYW5lbCB7XG4gICAgdG9wOiAtM3B4O1xuICAgIGxlZnQ6IC0ycHg7XG4gICAgb3BhY2l0eTogMC41O1xuICAgIHotaW5kZXg6IDEwMDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDAuNik7XG5cbiAgICAmW2RhdGEtYWN0aXZlXSxcbiAgICAmOmhvdmVyIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgfVxuXG4gICAgLmljb24ge1xuICAgICAgc3ZnIHtcbiAgICAgICAgZmlsbDogIzMzMzMzMztcbiAgICAgIH1cblxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIHN2ZyB7XG4gICAgICAgICAgZmlsbDogIzAwMDAwMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtnZXRSR0JBfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvQ29sb3JzJztcbmltcG9ydCB7SVRlbXBsYXRlRmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcy9UeXBlcyc7XG5pbXBvcnQge0NvbXBvbmVudCwgaCwgSG9zdCwgUHJvcCwgRXZlbnQsIEV2ZW50RW1pdHRlciwgTWV0aG9kLCBTdGF0ZX0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG5pbXBvcnQge2dldEZpZWxkU2V0dGluZ3N9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcblxuY29uc3Qgc2V0dGluZ3NJY29uID1cbiAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjIwXCIgd2lkdGg9XCIyMFwiPjxwYXRoIGQ9XCJtNy41IDE4LjUtLjMxMi0yLjY2N3EtLjE4OC0uMTI1LS4zOTYtLjI1LS4yMDktLjEyNS0uMzk2LS4yMjlsLTIuNDc5IDEuMDYzLTIuNTIxLTQuMzM0IDIuMTI1LTEuNjI1cS4wMjEtLjEwNC4wMjEtLjIyOXYtLjQ1OHEwLS4xMjUtLjAyMS0uMjI5TDEuMzk2IDcuOTE3bDIuNTIxLTQuMzEzIDIuNSAxLjA0MnEuMTY2LS4xMDQuMzc1LS4yMjkuMjA4LS4xMjUuMzk2LS4yMjlMNy41IDEuNWg1bC4zMTIgMi42ODhxLjE4OC4xMDQuMzk2LjIyOS4yMDkuMTI1LjM5Ni4yMjlsMi40NzktMS4wNDIgMi41MjEgNC4zMTMtMi4xMjUgMS42MjV2LjkxNmwyLjEyNSAxLjYyNS0yLjUyMSA0LjMzNC0yLjUtMS4wNjNxLS4xNjYuMTA0LS4zNzUuMjI5LS4yMDguMTI1LS4zOTYuMjVMMTIuNSAxOC41Wm0yLjQ3OS01LjUyMXExLjIyOSAwIDIuMTA0LS44NzVUMTIuOTU4IDEwcTAtMS4yMjktLjg3NS0yLjEwNHQtMi4xMDQtLjg3NXEtMS4yMDggMC0yLjA5NC44NzVRNyA4Ljc3MSA3IDEwdC44ODUgMi4xMDRxLjg4Ni44NzUgMi4wOTQuODc1Wm0wLTEuNzVxLS41IDAtLjg2NC0uMzY0UTguNzUgMTAuNSA4Ljc1IDEwdC4zNjUtLjg2NXEuMzY0LS4zNjQuODY0LS4zNjR0Ljg2NS4zNjRxLjM2NC4zNjUuMzY0Ljg2NXQtLjM2NC44NjVxLS4zNjUuMzY0LS44NjUuMzY0Wk0xMC4wMjEgMTBabS0uNzkyIDYuNTIxaDEuNTQybC4yNS0yLjE0NnEuNjI1LS4xNjcgMS4xOTgtLjUxLjU3My0uMzQ0IDEuMDMxLS44MjNsMi4wMjEuODU0Ljc3MS0xLjI3MS0xLjc3MS0xLjM1NHEuMTA0LS4yOTIuMTU2LS42MTUuMDUyLS4zMjMuMDUyLS42NTYgMC0uMjkyLS4wNTItLjYwNC0uMDUyLS4zMTMtLjEzNS0uNjQ2bDEuNzctMS4zNzUtLjc3LTEuMjcxLTIuMDIxLjg3NXEtLjQ3OS0uNS0xLjA0Mi0uODMzLS41NjItLjMzNC0xLjE4Ny0uNWwtLjI3MS0yLjE2N0g5LjIwOGwtLjI1IDIuMTY3cS0uNjI1LjE2Ni0xLjE4Ny41LS41NjMuMzMzLTEuMDQyLjgxMmwtMi0uODU0LS43NzEgMS4yNzEgMS43MyAxLjM1NHEtLjA4NC4zMzMtLjEzNi42NTZRNS41IDkuNzA4IDUuNSAxMHQuMDUyLjYwNHEuMDUyLjMxMy4xMzYuNjY3bC0xLjczIDEuMzU0Ljc3MSAxLjI3MSAyLS44MzRxLjQ3OS40NTkgMS4wNDIuNzkyLjU2Mi4zMzQgMS4xODcuNVpcIi8+PC9zdmc+JztcblxuLyoqXG4gKiBEaXNwbGF5cyBhIHNpZ25hdHVyZSBmaWVsZC4gSWYgYSBzaWduYXR1cmUgYWxyZWFkeSBleGlzdHMsIGl0IHdpbGwgYmUgZGlzcGxheWVkIGFuZCB0aGUgZmllbGQgd2lsbCBiZSBkaXNhYmxlZC4gT3RoZXJ3aXNlLCBhIHBsYWNlaG9sZGVyXG4gKiBidXR0b24gd2lsbCBiZSBzaG93bi4gQ2xpY2tpbmcgdGhlIGJ1dHRvbiB3aWxsIHNob3cgYSBkaWFsb2cgdG8gYWRvcHQgYSBzaWduYXR1cmUuXG4gKi9cbkBDb21wb25lbnQoe1xuICB0YWc6ICd2ZXJkb2NzLWZpZWxkLXNpZ25hdHVyZScsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1maWVsZC1zaWduYXR1cmUuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NGaWVsZFNpZ25hdHVyZSB7XG4gIC8qKlxuICAgKiBUaGUgZG9jdW1lbnQgb3IgdGVtcGxhdGUgZmllbGQgdG8gZGlzcGxheS5cbiAgICovXG4gIEBQcm9wKCkgZmllbGQ6IElEb2N1bWVudEZpZWxkIHwgSVRlbXBsYXRlRmllbGQgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgc2lnbmF0dXJlIGNyZWF0aW9uIGRpYWxvZyB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhpcyB0ZXh0LlxuICAgKi9cbiAgQFByb3AoKSBuYW1lPzogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgb3ZlcnJpZGVzIHRoZSBmaWVsZCdzIHNldHRpbmdzIG9iamVjdC4gUHJpbWFyaWx5IHVzZWQgdG8gc3VwcG9ydCBcInByZXZpZXdcIiBtb2RlcyB3aGVyZSBhbGwgZmllbGRzIGFyZSBkaXNhYmxlZC5cbiAgICovXG4gIEBQcm9wKCkgZGlzYWJsZWQ/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgYSBzZXR0aW5ncyBpY29uIHdpbGwgYmUgZGlzcGxheWVkIG9uIGhvdmVyLiBUaGUgc2V0dGluZ3Mgc2hvd24gYWxsb3cgdGhlIGZpZWxkJ3MgcmVjaXBpZW50IGFuZCBvdGhlciBzZXR0aW5ncyB0byBiZVxuICAgKiBjaGFuZ2VkLCBzbyBpdCBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgZW5hYmxlZCBpbiB0aGUgQnVpbGRlci5cbiAgICovXG4gIEBQcm9wKCkgZWRpdGFibGU/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIG1heSBiZSBkcmFnZ2VkIHRvIGEgbmV3IGxvY2F0aW9uLiBUaGlzIHNob3VsZCBvbmx5IGJlIGVuYWJsZWQgaW4gdGhlIEJ1aWxkZXIsIG9yIGZvciBzZWxmLXBsYWNlZCBmaWVsZHMuXG4gICAqL1xuICBAUHJvcCgpIG1vdmVhYmxlPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQsIHRoZSBmaWVsZCBpcyBjb25zaWRlcmVkIFwiZG9uZVwiIGFuZCBpcyBkcmF3biBpbiBhIGRpc3BsYXktZmluYWwtdmFsdWUgc3RhdGUuXG4gICAqL1xuICBAUHJvcCgpIGRvbmU/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIHdpbGwgYmUgY29sb3JlZCB1c2luZyB0aGlzIGluZGV4IHZhbHVlIHRvIHNlbGVjdCB0aGUgYmFja2dyb3VuZCBjb2xvci5cbiAgICovXG4gIEBQcm9wKCkgcm9sZWluZGV4PzogbnVtYmVyID0gMDtcblxuICAvKipcbiAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBmaWVsZCBoYXMgY2hhbmdlZC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBmaWVsZENoYW5nZTogRXZlbnRFbWl0dGVyPHN0cmluZz47XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIG9uIGV2ZXJ5IGNoYXJhY3RlciBlbnRlcmVkIGludG8gLyBkZWxldGVkIGZyb20gdGhlIGZpZWxkLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIHNldHRpbmdzUHJlc3M6IEV2ZW50RW1pdHRlcjtcblxuICBATWV0aG9kKCkgYXN5bmMgZm9jdXNGaWVsZCgpIHtcbiAgICB0aGlzLmhhbmRsZVNob3coKTtcbiAgICBjb25zb2xlLmxvZygnZm9jdXNlZCcsIHRoaXMpO1xuICB9XG5cbiAgQFN0YXRlKClcbiAgdGVtcFNpZ25hdHVyZTogc3RyaW5nID0gJyc7XG5cbiAgcHJpdmF0ZSBkaWFsb2c/OiBhbnk7XG5cbiAgaGlkZURpYWxvZygpIHtcbiAgICB0aGlzLmRpYWxvZz8ucmVtb3ZlKCk7XG4gICAgdGhpcy5kaWFsb2cgPSBudWxsO1xuICB9XG5cbiAgaGFuZGxlQWRvcHQoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ1tTSUdOQVRVUkVdIEFkb3B0ZWQgc2lnbmF0dXJlJyk7XG4gICAgdGhpcy50ZW1wU2lnbmF0dXJlID0gZS5kZXRhaWw7XG4gICAgdGhpcy5maWVsZENoYW5nZT8uZW1pdCh0aGlzLnRlbXBTaWduYXR1cmUpO1xuICAgIHRoaXMuaGlkZURpYWxvZygpO1xuICB9XG5cbiAgaGFuZGxlU2hvdygpIHtcbiAgICB0aGlzLmRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZlcmRvY3Mtc2lnbmF0dXJlLWRpYWxvZycpO1xuICAgIHRoaXMuZGlhbG9nLnNldEF0dHJpYnV0ZSgnbmFtZScsIHRoaXMubmFtZSk7XG4gICAgdGhpcy5kaWFsb2cuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCB0aGlzLnJvbGVpbmRleCk7XG4gICAgdGhpcy5kaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2FuY2VsJywgKCkgPT4gdGhpcy5oaWRlRGlhbG9nKCkpO1xuICAgIHRoaXMuZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ25leHQnLCBlID0+IHRoaXMuaGFuZGxlQWRvcHQoZSkpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuZGlhbG9nKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGdldEZpZWxkU2V0dGluZ3ModGhpcy5maWVsZCk7XG4gICAgY29uc3QgdmFsdWUgPSBzZXR0aW5ncy5iYXNlNjQgfHwgdGhpcy50ZW1wU2lnbmF0dXJlO1xuICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZCA/PyBzZXR0aW5ncy5kaXNhYmxlZCA/PyBmYWxzZTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmZpZWxkWydyZ2JhJ10gfHwgZ2V0UkdCQSh0aGlzLnJvbGVpbmRleCk7XG5cbiAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICByZXR1cm4gPEhvc3QgY2xhc3M9e3tkb25lOiB0aGlzLmRvbmV9fT57dmFsdWUgJiYgPGltZyBzcmM9e3ZhbHVlfSBhbHQ9XCJTaWduYXR1cmVcIiAvPn08L0hvc3Q+O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8SG9zdCBjbGFzcz17e3JlcXVpcmVkOiB0aGlzLmZpZWxkPy5yZXF1aXJlZCwgZGlzYWJsZWR9fSBzdHlsZT17e2JhY2tncm91bmRDb2xvcn19PlxuICAgICAgICB7dmFsdWUgPyA8aW1nIHNyYz17dmFsdWV9IGFsdD1cIlNpZ25hdHVyZVwiIC8+IDogPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiAhZGlzYWJsZWQgJiYgdGhpcy5oYW5kbGVTaG93KCl9PlNpZ25hdHVyZTwvYnV0dG9uPn1cblxuICAgICAgICB7dGhpcy5lZGl0YWJsZSAmJiAoXG4gICAgICAgICAgPHZlcmRvY3MtYnV0dG9uLXBhbmVsIGljb249e3NldHRpbmdzSWNvbn0+XG4gICAgICAgICAgICA8aDY+RmllbGQgU2V0dGluZ3M8L2g2PlxuICAgICAgICAgICAgPGZvcm0+XG4gICAgICAgICAgICAgIDx2ZXJkb2NzLXNlbGVjdC1pbnB1dFxuICAgICAgICAgICAgICAgIGxhYmVsPVwiUmVjaXBpZW50XCJcbiAgICAgICAgICAgICAgICBvcHRpb25zPXtbXG4gICAgICAgICAgICAgICAgICB7bGFiZWw6ICdCdXllcicsIHZhbHVlOiAnQnV5ZXInfSxcbiAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ1NlbGxlcicsIHZhbHVlOiAnU2VsbGVyJ30sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8dmVyZG9jcy10ZXh0LWlucHV0IGxhYmVsPVwiRmllbGQgTmFtZVwiIHZhbHVlPVwiXCIgcGxhY2Vob2xkZXI9XCJTdG9yZWQgZmllbGQgbmFtZS4uLlwiIG9uSW5wdXQ9e2UgPT4gY29uc29sZS5sb2coJ2lwdCcsIGUpfSAvPlxuICAgICAgICAgICAgICA8dmVyZG9jcy10ZXh0LWlucHV0IGxhYmVsPVwiUGxhY2Vob2xkZXJcIiB2YWx1ZT1cIlwiIHBsYWNlaG9sZGVyPVwiUGxhY2Vob2xkZXIgdGV4dC4uLlwiIG9uSW5wdXQ9e2UgPT4gY29uc29sZS5sb2coJ2lwdCcsIGUpfSAvPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDwvdmVyZG9jcy1idXR0b24tcGFuZWw+XG4gICAgICAgICl9XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3Mtc2lnbmF0dXJlLWRpYWxvZyB7XG4gIGZvbnQtZmFtaWx5OiAkcHJpbWFyeS1mb250O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHotaW5kZXg6IDEwMDAwO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBiYWNrZ3JvdW5kOiAjMDAwMDAwN2Y7XG5cbiAgLmRpYWxvZyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiAzNDBweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3gtc2hhZG93OiAzcHggM3B4IDVweCAxcHggcmdiYSg0MCwgNDAsIDQwLCAwLjQpO1xuICAgIGJhY2tncm91bmQ6ICRkaWFsb2ctYmc7XG4gIH1cblxuICAuaGVhZGluZyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHBhZGRpbmc6IDIwcHggMjBweCAwIDIwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cblxuICAuY29udGVudCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gIH1cblxuICAuYnV0dG9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBtYXJnaW46IDIwcHggMCAwIDA7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICB2ZXJkb2NzLWJ1dHRvbiB7XG4gICAgICBtYXJnaW4tbGVmdDogMTZweDtcbiAgICB9XG4gIH1cblxuICBjYW52YXMge1xuICAgIGJhY2tncm91bmQ6ICR2ZXJkb2NzLWdyZXktNDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIHdpZHRoOiAzMDBweDtcbiAgICAvLyBUT0RPOiBUaGUgb3JpZ2luYWwgYXBwIGhhZCBhbiBhc3BlY3QgcmF0aW8gb2YgKDgwIC8gMzA1KSAqIChzaWduYXR1cmVCb2R5V2lkdGggLSAyMClcbiAgICBoZWlnaHQ6IDc5cHg7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIGJveC1zaGFkb3c6IDAgMCA2cHggMCAjMDAwMDAwMWY7XG4gIH1cblxuICAuZGlzY2xhaW1lciB7XG4gICAgdGV4dC1hbGlnbjoganVzdGlmeTtcbiAgICBwYWRkaW5nOiA4cHggMDtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41NCk7XG4gIH1cblxuICAuYXMtc2hvd24ge1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBtYXJnaW46IDRweCAwIDIwcHggNHB4O1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNTQpO1xuICB9XG5cbiAgLnRhYnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcblxuICAgIC50YWIge1xuICAgICAgcGFkZGluZzogOHB4IDE1cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICYuYWN0aXZlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICRsaWdodC1ib3JkZXItY29sb3I7XG4gICAgICB9XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICBjb2xvcjogJHByaW1hcnktY29sb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgUHJvcCwgaCwgRXZlbnQsIEV2ZW50RW1pdHRlciwgU3RhdGUsIEhvc3R9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuXG4vKipcbiAqIERpc3BsYXkgYSBkaWFsb2cgdGhhdCBhbGxvd3MgdGhlIHVzZXIgdG8gc3BlY2lmeSBhIHNpZ25hdHVyZSBpbWFnZSwgZWl0aGVyIGJ5IHVzaW5nIGEgc2lnbmF0dXJlLWZvbnQtZ2VuZXJhdGVkIGltYWdlXG4gKiBiYXNlZCBvbiB0aGVpciBmdWxsIG5hbWUsIG9yIGJ5IGhhbmQtZHJhd2luZyB0aGVpciBzaWduYXR1cmUgd2l0aCBhIG1vdXNlIG9yIHRhYmxldC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3Mtc2lnbmF0dXJlLWRpYWxvZycsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1zaWduYXR1cmUtZGlhbG9nLnNjc3MnLFxufSlcbmV4cG9ydCBjbGFzcyBWZXJkb2NzU2lnbmF0dXJlRGlhbG9nIHtcbiAgcHJpdmF0ZSBjYW52YXNFbGVtZW50PzogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgc2lnbmF0dXJlIHRleHRcbiAgICovXG4gIEBQcm9wKCkgbmFtZTogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHVzZXIgY29tcGxldGVzIHRoZSBkaWFsb2cgYW5kIGNsaWNrcyBBZG9wdC4gVGhlIGV2ZW50IGRldGFpbCB3aWxsIGNvbnRhaW4gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmdcbiAgICogcmVwcmVzZW50YXRpb24gb2YgdGhlIHNpZ25hdHVyZSBhZG9wdGVkLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIG5leHQ6IEV2ZW50RW1pdHRlcjxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBGaXJlZCBpZiB0aGUgdXNlciBjYW5jZWxzIHRoZSBkaWFsb2cuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgY2FuY2VsOiBFdmVudEVtaXR0ZXI7XG5cbiAgQFN0YXRlKCkgZm9udExvYWRlZCA9IGZhbHNlO1xuXG4gIEBTdGF0ZSgpIGVudGVyZWROYW1lOiBzdHJpbmcgPSAnJztcblxuICBAU3RhdGUoKSBtb2RlOiBzdHJpbmcgPSAndHlwZSc7XG5cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5lbnRlcmVkTmFtZSA9IHRoaXMubmFtZTtcblxuICAgIGNvbnN0IGRzID0gbmV3IEZvbnRGYWNlKCdEYW5jaW5nIFNjcmlwdCcsICd1cmwoaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL2RhbmNpbmdzY3JpcHQvdjE5L0lmMmNYVHI2WVMtekY0Uy1rY1NXU1ZpX3N4anNvaEQ5RjUwUnV1N0JNU28zU3VwNmhOWDZwbFJQLndvZmYpJyk7XG4gICAgZHMubG9hZCgpLnRoZW4oZm9udCA9PiB7XG4gICAgICBkb2N1bWVudC5mb250cy5hZGQoZm9udCk7XG4gICAgICB0aGlzLmZvbnRMb2FkZWQgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLnJlZHJhd1NpZ25hdHVyZSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMucmVkcmF3U2lnbmF0dXJlKCk7XG4gIH1cblxuICByZWRyYXdTaWduYXR1cmUoKSB7XG4gICAgaWYgKCF0aGlzLmNhbnZhc0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzRWxlbWVudC53aWR0aDtcblxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGgsIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQpO1xuXG4gICAgbGV0IGZvbnRTaXplID0gMTAwO1xuICAgIGRvIHtcbiAgICAgIGZvbnRTaXplIC09IDI7XG4gICAgICBjb250ZXh0LmZvbnQgPSBgJHtmb250U2l6ZX1weCBEYW5jaW5nIFNjcmlwdGA7XG4gICAgfSB3aGlsZSAoY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLmVudGVyZWROYW1lKS53aWR0aCA+IGNhbnZhc1dpZHRoIC0gMzIpOyAvLyAzMnB4IHBhZGRpbmcgZWFjaCBzaWRlXG5cbiAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggRGFuY2luZyBTY3JpcHRgO1xuICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5lbnRlcmVkTmFtZSwgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoIC8gMiwgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCAvIDIpO1xuICB9XG5cbiAgaGFuZGxlTmFtZUNoYW5nZShlOiBhbnkpIHtcbiAgICB0aGlzLmVudGVyZWROYW1lID0gZS50YXJnZXQudmFsdWU7XG4gIH1cblxuICBoYW5kbGVDYW5jZWwoZTogYW55KSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5jYW5jZWwuZW1pdCgpO1xuICB9XG5cbiAgaGFuZGxlQWRvcHQoZTogYW55KSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuY2FudmFzRWxlbWVudC50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgIHRoaXMubmV4dC5lbWl0KGRhdGEpO1xuICB9XG5cbiAgLypcbiAgc2VsQ29sb3IoaGV4OiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbG9yID0gaGV4O1xuICAgIHRoaXMuYW5pbWF0ZURyYXcoKTtcbiAgfVxuXG4gIHN0b3BEcmF3KCkge1xuICAgIHRoaXMucGFpbnQgPSBmYWxzZTtcbiAgICB0aGlzLmFkb3B0ZWRBbmRTaWduZWQgPSAhdGhpcy5oYXNTaWduYXR1cmUoKTtcbiAgfVxuXG4gIGRyYXcoZSkge1xuICAgIHRoaXMucGFpbnQgPSB0cnVlO1xuICAgIHRoaXMuYWRkUG9pbnRzKGUsIGZhbHNlKTtcbiAgICB0aGlzLmFuaW1hdGVEcmF3KCk7XG4gIH1cblxuICByZWNvcmRQb2ludHMoZSkge1xuICAgIGlmICh0aGlzLnBhaW50KSB7XG4gICAgICB0aGlzLmFkZFBvaW50cyhlLCB0cnVlKTtcbiAgICAgIHRoaXMuYW5pbWF0ZURyYXcoKTtcbiAgICB9XG4gIH1cblxuICBhbmltYXRlRHJhdygpIHtcbiAgICB0aGlzLmNhbnZhcy5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMuY2FudmFzLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhcy5jYW52YXMub2Zmc2V0SGVpZ2h0KTtcblxuICAgIHRoaXMuY2FudmFzLnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvciB8fCAnIzAwMDAwMCc7XG4gICAgdGhpcy5jYW52YXMubGluZUpvaW4gPSAncm91bmQnO1xuICAgIHRoaXMuY2FudmFzLmxpbmVXaWR0aCA9IDM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgIGlmICh0aGlzLnBvaW50c1tpXS5kcmFnICYmIGkpIHtcbiAgICAgICAgdGhpcy5jYW52YXMubW92ZVRvKHRoaXMucG9pbnRzW2kgLSAxXS54LCB0aGlzLnBvaW50c1tpIC0gMV0ueSk7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmFyYyh0aGlzLnBvaW50c1tpIC0gMV0ueCwgdGhpcy5wb2ludHNbaSAtIDFdLnksIDIsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhbnZhcy5tb3ZlVG8odGhpcy5wb2ludHNbaV0ueCAtIDEsIHRoaXMucG9pbnRzW2ldLnkpO1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5hcmModGhpcy5wb2ludHNbaV0ueCwgdGhpcy5wb2ludHNbaV0ueSwgMiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW52YXMubGluZVRvKHRoaXMucG9pbnRzW2ldLngsIHRoaXMucG9pbnRzW2ldLnkpO1xuICAgICAgdGhpcy5jYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICB0aGlzLmNhbnZhcy5zdHJva2UoKTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q3VydmUoY29sb3I6IHN0cmluZywgY3VydmU6IG51bWJlcikge1xuICAgIHRoaXMuY2FudmFzLmJlZ2luUGF0aCgpO1xuICB9XG5cblxuXG4gIGFkZFBvaW50cyhlLCBkcmFnOiBib29sZWFuKSB7XG4gICAgaWYgKHdpbmRvdykge1xuICAgICAgbGV0IHg7XG4gICAgICBsZXQgeTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgeCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IGUuY2xpZW50WDtcbiAgICAgIH1cblxuICAgICAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB5ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5ID0gZS5jbGllbnRZO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVjdCA9IHRoaXMuc2lnbmF0dXJlQ2FudmFzLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnBvaW50cy5wdXNoKHtcbiAgICAgICAgeDogeCAtIHJlY3QubGVmdCxcbiAgICAgICAgeTogeSAtIHJlY3QudG9wLFxuICAgICAgICBkcmFnOiBkcmFnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjbGVhclBhZCgpIHtcbiAgICB0aGlzLmNhbnZhcy5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMuY2FudmFzLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhcy5jYW52YXMub2Zmc2V0SGVpZ2h0KTtcbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgIHRoaXMuYWRvcHRlZEFuZFNpZ25lZCA9ICF0aGlzLmhhc1NpZ25hdHVyZSgpO1xuICB9XG5cbiAgICBhc3luYyBhZG9wdEFuZFNpZ24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuYWRvcHRlZEFuZFNpZ25lZCA9IHRydWU7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZUZ1bGxOYW1lKCk7XG4gICAgICBhd2FpdCB0aGlzLmNhcHR1cmVTaWduYXR1cmVGcm9tQ2FudmFzKCk7XG4gICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zaWduYXR1cmVNb2RlID09PSAnU2lnbmF0dXJlJyA/ICdTYXZpbmcgU2lnbmF0dXJlJyA6ICdTYXZpbmcgSW5pdGlhbCc7XG4gICAgICB0aGlzLnNuYWNrYmFyU2VydmljZS5vcGVuKG1lc3NhZ2UsICdPSycsIHRoaXMuc25hY2tiYXJTZXJ2aWNlLmluaXRDb25maWcobnVsbCwgJ2JvdHRvbScpKTtcbiAgICAgIHRoaXMuaGFuZGxlTW9kZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5zbmFja2JhclNlcnZpY2Uub3BlbignRmFpbGVkIHRvIGFwcGx5IHNpZ25hdHVyZScsICdPSycsIHRoaXMuc25hY2tiYXJTZXJ2aWNlLmluaXRDb25maWcobnVsbCwgJ2JvdHRvbScpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb2RlKCkge1xuICAgIGxldCBjdXJyZW50RmllbGQ7XG4gICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgIGNhc2UgJ3NpZ25lcnZpZXcnOlxuICAgICAgICBpZiAodGhpcy5zaWduYXR1cmVNb2RlID09PSAnU2lnbmF0dXJlJykge1xuICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5wb3N0U2lnbmF0dXJlQmxvYigpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmlkICYmIHJlc3VsdC51cmwpIHtcbiAgICAgICAgICAgICAgY3VycmVudEZpZWxkID0gdGhpcy5zaWduYXR1cmVTZXJ2aWNlLmN1cnJGaWVsZDtcbiAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnVwZGF0ZVNpZ25lZChjdXJyZW50RmllbGQuZk5hbWUsIHRydWUpO1xuICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2UudG9nZ2xlU2lnKGZhbHNlKTtcbiAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnNldFNpZ25hdHVyZUlkKHJlc3VsdC5pZCk7XG4gICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5wdXRTaWduYXR1cmVGaWVsZCh0aGlzLmVudmVsb3BlSWQsIHRoaXMuZmllbGROYW1lLCByZXN1bHQuaWQpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50VHJhY2tlci5jcmVhdGVFdmVudCh7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ3ZlcmRvYycsXG4gICAgICAgICAgICAgICAgICBhY3Rpb246ICd2ZXJkb2Mgc2lnbmVkJyxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBgdmVyZG9jIGlkOiAke3RoaXMuZW52ZWxvcGVJZH1gXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5zZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnNldFNpZ25hdHVyZURhdGEocmVzLnNldHRpbmdzLmJhc2U2NCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2Uuc2V0U2lnbmF0dXJlSWQocmVzLnNldHRpbmdzLnNpZ25hdHVyZV9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc25hY2tiYXJTZXJ2aWNlLmRpc21pc3MoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5jbG9zZSh7IHN0YXR1czogJ3NhdmVkJywgdGVtcF9zaWc6IHJlcy5zZXR0aW5ncy5iYXNlNjQsIHNpZ19pZDogcmVzLnNldHRpbmdzLnNpZ25hdHVyZV9pZCB9KTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyU2VydmljZS5vcGVuKCdGYWlsZWQgdG8gc2F2ZSBzaWduYXR1cmUuIFBsZWFzZSB0cnkgYWdhaW4uJywgJ0RJU01JU1MnLCB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRvcHRlZEFuZFNpZ25lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS5wb3N0SW5pdGlhbEJsb2IoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5pZCAmJiByZXN1bHQudXJsKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRGaWVsZCA9IHRoaXMuc2lnbmF0dXJlU2VydmljZS5jdXJyRmllbGQ7XG4gICAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlU2VydmljZS51cGRhdGVJbml0aWFsZWQoY3VycmVudEZpZWxkLmZOYW1lLCB0cnVlKTtcbiAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnNldEluaXRpYWxJZChyZXN1bHQuaWQpO1xuICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZVNlcnZpY2UudG9nZ2xlU2lnKGZhbHNlKTtcbiAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnB1dEluaXRpYWxGaWVsZCh0aGlzLmVudmVsb3BlSWQsIHRoaXMuZmllbGROYW1lLCByZXN1bHQuaWQpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5zZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnNldEluaXRpYWxEYXRhKHJlcy5zZXR0aW5ncy5iYXNlNjQpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVTZXJ2aWNlLnNldEluaXRpYWxJZChyZXMuc2V0dGluZ3MuaW5pdGlhbF9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc25hY2tiYXJTZXJ2aWNlLmRpc21pc3MoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5jbG9zZSh7IHN0YXR1czogJ3NhdmVkJywgdGVtcF9pbnQ6IHJlcy5zZXR0aW5ncy5iYXNlNjQsIGludF9pZDogcmVzLnNldHRpbmdzLmluaXRpYWxfaWQgfSk7XG4gICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhclNlcnZpY2Uub3BlbignRmFpbGVkIHRvIHNhdmUgaW5pdGlhbC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLCAnRElTTUlTUycsIHtcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZG9wdGVkQW5kU2lnbmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gICAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3Qgb25DbGljaz17ZSA9PiB0aGlzLmhhbmRsZUNhbmNlbChlKX0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGluZ1wiPkNyZWF0ZSBZb3VyIFNpZ25hdHVyZTwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgIDx2ZXJkb2NzLXRleHQtaW5wdXQgcGxhY2Vob2xkZXI9XCJGdWxsIE5hbWUuLi5cIiBsYWJlbD1cIkZ1bGwgTmFtZVwiIHZhbHVlPXt0aGlzLmVudGVyZWROYW1lfSBvbklucHV0PXtlID0+IHRoaXMuaGFuZGxlTmFtZUNoYW5nZShlKX0gb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFzLXNob3duXCI+QXMgc2hvd24gb24gZHJpdmVyJ3MgbGljZW5zZSBvciBnb3Z0LiBJRCBjYXJkLjwvZGl2PlxuXG4gICAgICAgICAgICB7Lyo8ZGl2IGNsYXNzPVwidGFic1wiPiovfVxuICAgICAgICAgICAgey8qICA8ZGl2IGNsYXNzPXt7dGFiOiB0cnVlLCBhY3RpdmU6IHRoaXMubW9kZSA9PT0gJ3R5cGUnfX0gb25DbGljaz17KCkgPT4gKHRoaXMubW9kZSA9ICd0eXBlJyl9PiovfVxuICAgICAgICAgICAgey8qICAgIFR5cGUqL31cbiAgICAgICAgICAgIHsvKiAgPC9kaXY+Ki99XG4gICAgICAgICAgICB7Lyo8ZGl2IGNsYXNzPXt7dGFiOiB0cnVlLCBhY3RpdmU6IHRoaXMubW9kZSA9PT0gJ2RyYXcnfX0gb25DbGljaz17KCkgPT4gKHRoaXMubW9kZSA9ICdkcmF3Jyl9PiovfVxuICAgICAgICAgICAgey8qICBEcmF3Ki99XG4gICAgICAgICAgICB7Lyo8L2Rpdj4qL31cbiAgICAgICAgICAgIHsvKjwvZGl2PiovfVxuXG4gICAgICAgICAgICB7dGhpcy5mb250TG9hZGVkID8gPGNhbnZhcyByZWY9e2VsID0+ICh0aGlzLmNhbnZhc0VsZW1lbnQgPSBlbCBhcyBIVE1MQ2FudmFzRWxlbWVudCl9IC8+IDogPGRpdiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+fVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzY2xhaW1lclwiPlxuICAgICAgICAgICAgICBCeSBjbGlja2luZyBBZG9wdCwgSSBhZ3JlZSB0aGF0IHRoZSBzaWduYXR1cmUgd2lsbCBiZSB0aGUgZWxlY3Ryb25pYyByZXByZXNlbnRhdGlvbiBvZiBteSBzaWduYXR1cmUgZm9yIGFsbCBwdXJwb3NlcyB3aGVuIEkgKG9yIG15IGFnZW50KSB1c2UgdGhlbSBvbiBkb2N1bWVudHMsXG4gICAgICAgICAgICAgIGluY2x1ZGluZyBsZWdhbGx5IGJpbmRpbmcgY29udHJhY3RzICZtZGFzaDsganVzdCB0aGUgc2FtZSBhcyBhIHBlbi1hbmQtcGFwZXIgc2lnbmF0dXJlIG9yIGluaXRpYWwuXG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgPHZlcmRvY3MtYnV0dG9uIGxhYmVsPVwiQ0FOQ0VMXCIgc2l6ZT1cIm5vcm1hbFwiIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17ZSA9PiB0aGlzLmhhbmRsZUNhbmNlbChlKX0gLz5cbiAgICAgICAgICAgICAgPHZlcmRvY3MtYnV0dG9uIGxhYmVsPVwiQWRvcHQgJiBTaWduXCIgc2l6ZT1cIm5vcm1hbFwiIG9uQ2xpY2s9e2UgPT4gdGhpcy5oYW5kbGVBZG9wdChlKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvSG9zdD5cbiAgICApO1xuICB9XG59XG4iLCJAaW1wb3J0ICcuLi8uLi8uLi90aGVtZS5zY3NzJztcblxudmVyZG9jcy10b29sYmFyLWljb24ge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG5cbiAgLmljb24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICBzdmcge1xuICAgICAgZmlsbDogJGNob2ljZS1hdmFpbGFibGUtY29sb3I7XG4gICAgfVxuICB9XG5cbiAgLnRvb2x0aXAge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggMXB4ICM5OTk5OTk7XG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICBjb2xvcjogJGxhYmVsLWNvbG9yO1xuICAgIG1heC13aWR0aDogMjQwcHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgei1pbmRleDogMTAwMDA7XG5cbiAgICAuYXJyb3csXG4gICAgLmFycm93OjpiZWZvcmUge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6IDhweDtcbiAgICAgIGhlaWdodDogOHB4O1xuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAuYXJyb3cge1xuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgdG9wOiAtNHB4O1xuICAgIH1cblxuICAgIC5hcnJvdzo6YmVmb3JlIHtcbiAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICBjb250ZW50OiAnJztcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcbiAgICB9XG5cbiAgICAmW2RhdGEtc2hvd10ge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuXG4gICAgJltkYXRhLXBvcHBlci1wbGFjZW1lbnRePSd0b3AnXSA+IC5hcnJvdyB7XG4gICAgICBib3R0b206IC00cHg7XG4gICAgfVxuXG4gICAgJltkYXRhLXBvcHBlci1wbGFjZW1lbnRePSdib3R0b20nXSA+IC5hcnJvdyB7XG4gICAgICB0b3A6IC00cHg7XG4gICAgfVxuXG4gICAgJltkYXRhLXBvcHBlci1wbGFjZW1lbnRePSdsZWZ0J10gPiAuYXJyb3cge1xuICAgICAgcmlnaHQ6IC00cHg7XG4gICAgfVxuXG4gICAgJltkYXRhLXBvcHBlci1wbGFjZW1lbnRePSdyaWdodCddID4gLmFycm93IHtcbiAgICAgIGxlZnQ6IC00cHg7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge2NyZWF0ZVBvcHBlciwgSW5zdGFuY2V9IGZyb20gJ0Bwb3BwZXJqcy9jb3JlJztcbmltcG9ydCB7Q29tcG9uZW50LCBoLCBIb3N0LCBQcm9wLCBTdGF0ZX0gZnJvbSAnQHN0ZW5jaWwvY29yZSc7XG4vLyBpbXBvcnQge0NvbXBvbmVudCwgRXZlbnQsIEV2ZW50RW1pdHRlciwgaCwgSG9zdCwgUHJvcCwgU3RhdGV9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuXG4vKipcbiAqIERpc3BsYXlzIGEgc2ltcGxlIGhlbHAgaWNvbi4gVXBvbiBob3ZlciBvciBmb2N1cywgYSB0b29sdGlwIHdpbGwgYmUgZGlzcGxheWVkIHdpdGggaGVscCB0ZXh0LlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy10b29sYmFyLWljb24nLFxuICBzdHlsZVVybDogJ3ZlcmRvY3MtdG9vbGJhci1pY29uLnNjc3MnLFxuICBzaGFkb3c6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBWZXJkb2NzVG9vbGJhckljb24ge1xuICBpY29uRWw6IEhUTUxEaXZFbGVtZW50O1xuICB0b29sdGlwOiBIVE1MRGl2RWxlbWVudDtcbiAgcG9wcGVySW5zdGFuY2U6IEluc3RhbmNlO1xuXG4gIC8qKlxuICAgKiBIZWxwIHRleHQgdG8gZGlzcGxheSBvbiBob3Zlci9mb2N1c1xuICAgKi9cbiAgQFByb3AoKSB0ZXh0OiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogU1ZHIGljb24gdG8gZGlzcGxheVxuICAgKi9cbiAgQFByb3AoKSBpY29uOiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGljb24gaXMgcHJlc3NlZFxuICAgKi9cbiAgLy8gQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIHByZXNzOiBFdmVudEVtaXR0ZXI7XG5cbiAgQFN0YXRlKCkgY29udGFpbmVySWQgPSBgdmVyZG9jcy10b29sYmFyLWljb24tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpfWA7XG5cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLnBvcHBlckluc3RhbmNlID0gY3JlYXRlUG9wcGVyKHRoaXMuaWNvbkVsLCB0aGlzLnRvb2x0aXAsIHtcbiAgICAgIC8vIHBsYWNlbWVudDogJ3RvcC1lbmQnLFxuICAgICAgLy8gbW9kaWZpZXJzOiBbe25hbWU6ICdvZmZzZXQnLCBvcHRpb25zOiB7b2Zmc2V0OiBbMCwgMTBdfX1dLFxuICAgIH0pO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKHRoaXMucG9wcGVySW5zdGFuY2UpIHtcbiAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UuZGVzdHJveSgpO1xuICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2hvdygpIHtcbiAgICB0aGlzLnRvb2x0aXA/LnNldEF0dHJpYnV0ZSgnZGF0YS1zaG93JywgJycpO1xuICAgIHRoaXMucG9wcGVySW5zdGFuY2U/LnVwZGF0ZSgpLmNhdGNoKCgpID0+IHt9KTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy50b29sdGlwPy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc2hvdycpO1xuICB9XG5cbiAgLy8gaGFuZGxlUHJlc3MoKSB7XG4gIC8vICAgdGhpcy5wcmVzcz8uZW1pdCgpO1xuICAvLyB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8SG9zdCBjbGFzcz17e319PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17dGhpcy5jb250YWluZXJJZH1cbiAgICAgICAgICBjbGFzcz1cImljb25cIlxuICAgICAgICAgIGlubmVySFRNTD17dGhpcy5pY29ufVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gdGhpcy5zaG93KCl9XG4gICAgICAgICAgb25Gb2N1cz17KCkgPT4gdGhpcy5zaG93KCl9XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB0aGlzLmhpZGUoKX1cbiAgICAgICAgICBvbkJsdXI9eygpID0+IHRoaXMuaGlkZSgpfVxuICAgICAgICAgIHJlZj17ZWwgPT4gKHRoaXMuaWNvbkVsID0gZWwgYXMgSFRNTERpdkVsZW1lbnQpfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGlkPXt0aGlzLmNvbnRhaW5lcklkfSByb2xlPVwidG9vbHRpcFwiIGNsYXNzPVwidG9vbHRpcFwiIGRhdGEtcG9wcGVyLXBsYWNlbWVudD1cImJvdHRvbVwiIHJlZj17ZWwgPT4gKHRoaXMudG9vbHRpcCA9IGVsIGFzIEhUTUxEaXZFbGVtZW50KX0+XG4gICAgICAgICAge3RoaXMudGV4dH1cbiAgICAgICAgICA8ZGl2IGRhdGEtcG9wcGVyLWFycm93PVwidHJ1ZVwiIGNsYXNzPVwiYXJyb3dcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvSG9zdD5cbiAgICApO1xuICB9XG59XG4iLCJ2YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBJbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyByZWR1Y2UsIHJlZHVjZVJpZ2h0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfUklHSFQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGF0LCBjYWxsYmFja2ZuLCBhcmd1bWVudHNMZW5ndGgsIG1lbW8pIHtcbiAgICBhQ2FsbGFibGUoY2FsbGJhY2tmbik7XG4gICAgdmFyIE8gPSB0b09iamVjdCh0aGF0KTtcbiAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QoTyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBpbmRleCA9IElTX1JJR0hUID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgdmFyIGkgPSBJU19SSUdIVCA/IC0xIDogMTtcbiAgICBpZiAoYXJndW1lbnRzTGVuZ3RoIDwgMikgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChpbmRleCBpbiBzZWxmKSB7XG4gICAgICAgIG1lbW8gPSBzZWxmW2luZGV4XTtcbiAgICAgICAgaW5kZXggKz0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpbmRleCArPSBpO1xuICAgICAgaWYgKElTX1JJR0hUID8gaW5kZXggPCAwIDogbGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgIHRocm93ICRUeXBlRXJyb3IoJ1JlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICg7SVNfUklHSFQgPyBpbmRleCA+PSAwIDogbGVuZ3RoID4gaW5kZXg7IGluZGV4ICs9IGkpIGlmIChpbmRleCBpbiBzZWxmKSB7XG4gICAgICBtZW1vID0gY2FsbGJhY2tmbihtZW1vLCBzZWxmW2luZGV4XSwgaW5kZXgsIE8pO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuICBsZWZ0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlcmlnaHRcbiAgcmlnaHQ6IGNyZWF0ZU1ldGhvZCh0cnVlKVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=