(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"./dist/esm/verdocs-floating-menu_2.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_floating_menu",(function(){return VerdocsFloatingMenu})),__webpack_require__.d(__webpack_exports__,"verdocs_toolbar_icon",(function(){return VerdocsToolbarIcon}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./dist/esm/index-f78d163d.js"),_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./dist/esm/popper-f860750c.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var getScrollParent=function getScrollParent(node){var regex=/(auto|scroll)/,parents=function parents(_node,ps){return null===_node.parentNode?ps:parents(_node.parentNode,ps.concat([_node]))},style=function style(_node,prop){return getComputedStyle(_node,null).getPropertyValue(prop)},scroll=function scroll(_node){return regex.test(function overflow(_node){return style(_node,"overflow")+style(_node,"overflow-y")+style(_node,"overflow-x")}(_node))};return function scrollParent(_node){if(_node instanceof HTMLElement||_node instanceof SVGElement){for(var ps=parents(_node.parentNode,[]),i=0;i<ps.length;i+=1)if(scroll(ps[i]))return ps[i];return document.scrollingElement||document.documentElement}}(node)},VerdocsFloatingMenu=function(){function VerdocsFloatingMenu(hostRef){_classCallCheck(this,VerdocsFloatingMenu),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.j)(this,hostRef),this.optionSelected=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.e)(this,"optionSelected",7),this.menuContainer=null,this.scrollParent=null,this.scrollParentParent=null,this.options=[]}return _createClass(VerdocsFloatingMenu,[{key:"componentDidLoad",value:function componentDidLoad(){this.menuContainer=document.createElement("div"),this.menuContainer.id="verdocs-floating-menu";var el=document.createElement("div");el.className="trigger",el.innerText="+",this.menuContainer.append(el),(el=document.createElement("div")).className="options",this.menuContainer.append(el);var localhandleSelect=this.handleSelect.bind(this);this.options.forEach((function(option){var childEl=document.createElement("div");childEl.className="option",childEl.addEventListener("click",(function(){return localhandleSelect(option)})),el.append(childEl);var iconEl=document.createElement("verdocs-toolbar-icon");iconEl.setAttribute("icon",option.icon),iconEl.setAttribute("text",option.tooltip),iconEl.setAttribute("placement","left"),childEl.append(iconEl)})),document.body.append(this.menuContainer),this.scrollParent=getScrollParent(this.el),this.scrollParent&&(this.scrollParentParent=this.scrollParent.parentElement,this.repositionTrigger(this.scrollParent))}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _a;null===(_a=this.menuContainer)||void 0===_a||_a.remove()}},{key:"handleSelect",value:function handleSelect(option){var _a;null===(_a=this.optionSelected)||void 0===_a||_a.emit(option);var el=document.getElementById("verdocs-floating-menu");el&&(el.className="force-closed",setTimeout((function(){el.className=""}),100))}},{key:"repositionTrigger",value:function repositionTrigger(scrollParent){var scrollParentParent=scrollParent.parentElement;if(scrollParentParent){var bounds=scrollParentParent.getBoundingClientRect(),menu=document.getElementById("verdocs-floating-menu");menu&&(menu.style.bottom=document.documentElement.clientHeight-(document.documentElement.scrollTop+bounds.bottom)+10+"px",menu.style.left=bounds.right-80+"px")}}},{key:"render",value:function render(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.b,null)}},{key:"el",get:function get(){return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.c)(this)}}]),VerdocsFloatingMenu}();VerdocsFloatingMenu.style="verdocs-floating-menu{display:none}#verdocs-floating-menu{position:absolute;width:56px;height:56px;display:-ms-flexbox;display:flex;-ms-flex:0 0 fit-content;flex:0 0 fit-content}#verdocs-floating-menu:not(.force-closed):hover{height:500px}#verdocs-floating-menu:not(.force-closed):hover .trigger{-webkit-box-shadow:0 10px 25px #4c56cb;box-shadow:0 10px 25px #4c56cb;-webkit-transform:translatey(2px);transform:translatey(2px);-webkit-transition:all 0.3s;transition:all 0.3s}#verdocs-floating-menu:not(.force-closed):hover .options{display:-ms-flexbox;display:flex}#verdocs-floating-menu:not(.force-closed):hover .options .option{-webkit-animation:vfm-appear 0.1s forwards 0.2s;animation:vfm-appear 0.1s forwards 0.2s}#verdocs-floating-menu .trigger{position:absolute;width:56px;height:56px;background:#654dcb;bottom:0;border-radius:50%;left:0;right:0;margin:auto;color:white;line-height:52px;text-align:center;font-size:44px;z-index:100;-webkit-box-shadow:0 10px 25px -5px #4c56cb;box-shadow:0 10px 25px -5px #4c56cb;cursor:pointer;-webkit-transition:all 0.3s;transition:all 0.3s}#verdocs-floating-menu .options{width:56px;-ms-flex-direction:column;flex-direction:column;-ms-flex:0 0 fit-content;flex:0 0 fit-content;position:absolute;bottom:70px;display:none}#verdocs-floating-menu .option{background:#654dcb;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;width:36px;height:36px;margin:5px auto;color:white;font-weight:500;text-align:center;line-height:36px;opacity:0}#verdocs-floating-menu verdocs-toolbar-icon .icon{display:-ms-flexbox;display:flex}#verdocs-floating-menu verdocs-toolbar-icon .icon svg{fill:#ffffff}@-webkit-keyframes vfm-appear{0%{opacity:0}30%{-webkit-transform:scale(0.4);transform:scale(0.4);opacity:0.3}70%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0.6}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes vfm-appear{0%{opacity:0}30%{-webkit-transform:scale(0.4);transform:scale(0.4);opacity:0.3}70%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0.6}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}";var VerdocsToolbarIcon=function(){function VerdocsToolbarIcon(hostRef){_classCallCheck(this,VerdocsToolbarIcon),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.j)(this,hostRef),this.text="",this.icon="",this.placement="bottom",this.containerId="verdocs-toolbar-icon-"+Math.random().toString(36).substring(2,11)}return _createClass(VerdocsToolbarIcon,[{key:"componentDidLoad",value:function componentDidLoad(){this.popperInstance=Object(_popper_f860750c_js__WEBPACK_IMPORTED_MODULE_15__.a)(this.iconEl,this.tooltip,{placement:this.placement,modifiers:"left"===this.placement?[{name:"offset",options:{offset:[0,20]}}]:[]})}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}},{key:"show",value:function show(){var _a,_b;null===(_a=this.tooltip)||void 0===_a||_a.setAttribute("data-show",""),null===(_b=this.popperInstance)||void 0===_b||_b.update().catch((function(){}))}},{key:"hide",value:function hide(){var _a;null===(_a=this.tooltip)||void 0===_a||_a.removeAttribute("data-show")}},{key:"render",value:function render(){var _this=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.b,{class:{}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.h)("div",{"aria-describedby":this.containerId,class:"icon",innerHTML:this.icon,onMouseEnter:function onMouseEnter(){return _this.show()},onFocus:function onFocus(){return _this.show()},onMouseLeave:function onMouseLeave(){return _this.hide()},onBlur:function onBlur(){return _this.hide()},ref:function ref(el){return _this.iconEl=el}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.h)("div",{id:this.containerId,role:"tooltip",class:"tooltip","data-popper-placement":this.placement,ref:function ref(el){return _this.tooltip=el}},this.text,Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_14__.h)("div",{"data-popper-arrow":"true",class:"arrow"})))}}]),VerdocsToolbarIcon}();VerdocsToolbarIcon.style='verdocs-toolbar-icon{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;display:inline-block}verdocs-toolbar-icon .icon{display:inline-block;cursor:pointer}verdocs-toolbar-icon .icon svg{fill:#5c6575}verdocs-toolbar-icon .tooltip{display:none;-webkit-box-shadow:0 0 10px 1px #999999;box-shadow:0 0 10px 1px #999999;background:#ffffff;color:#33364b;max-width:240px;font-weight:bold;padding:5px 10px;font-size:13px;position:relative;border-radius:4px;z-index:20000;white-space:nowrap}verdocs-toolbar-icon .tooltip .arrow,verdocs-toolbar-icon .tooltip .arrow::before{position:absolute;width:8px;height:8px;background:inherit}verdocs-toolbar-icon .tooltip .arrow{visibility:hidden;top:-4px}verdocs-toolbar-icon .tooltip .arrow::before{visibility:visible;content:"";-webkit-transform:rotate(45deg);transform:rotate(45deg)}verdocs-toolbar-icon .tooltip[data-show]{display:block}verdocs-toolbar-icon .tooltip[data-popper-placement^=top]>.arrow{bottom:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=bottom]>.arrow{top:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=left]>.arrow{right:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=right]>.arrow{left:-4px}verdocs-toolbar-icon .tooltip[data-popper-placement^=left]{padding:3px 10px}verdocs-toolbar-icon .tooltip[data-popper-placement^=left]>.arrow{right:-1px}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kaXN0L2VzbS92ZXJkb2NzLWZsb2F0aW5nLW1lbnVfMi5lbnRyeS5qcyJdLCJuYW1lcyI6WyJnZXRTY3JvbGxQYXJlbnQiLCJub2RlIiwicmVnZXgiLCJwYXJlbnRzIiwiX25vZGUiLCJwcyIsInBhcmVudE5vZGUiLCJjb25jYXQiLCJzdHlsZSIsInByb3AiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNjcm9sbCIsInRlc3QiLCJvdmVyZmxvdyIsInNjcm9sbFBhcmVudCIsIkhUTUxFbGVtZW50IiwiU1ZHRWxlbWVudCIsImkiLCJsZW5ndGgiLCJkb2N1bWVudCIsInNjcm9sbGluZ0VsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJWZXJkb2NzRmxvYXRpbmdNZW51IiwiaG9zdFJlZiIsInJlZ2lzdGVySW5zdGFuY2UiLCJ0aGlzIiwib3B0aW9uU2VsZWN0ZWQiLCJjcmVhdGVFdmVudCIsIm1lbnVDb250YWluZXIiLCJzY3JvbGxQYXJlbnRQYXJlbnQiLCJvcHRpb25zIiwiY29tcG9uZW50RGlkTG9hZCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImVsIiwiY2xhc3NOYW1lIiwiaW5uZXJUZXh0IiwiYXBwZW5kIiwibG9jYWxoYW5kbGVTZWxlY3QiLCJoYW5kbGVTZWxlY3QiLCJiaW5kIiwiZm9yRWFjaCIsIm9wdGlvbiIsImNoaWxkRWwiLCJhZGRFdmVudExpc3RlbmVyIiwiaWNvbkVsIiwic2V0QXR0cmlidXRlIiwiaWNvbiIsInRvb2x0aXAiLCJib2R5IiwicGFyZW50RWxlbWVudCIsInJlcG9zaXRpb25UcmlnZ2VyIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJfYSIsInJlbW92ZSIsImVtaXQiLCJnZXRFbGVtZW50QnlJZCIsInNldFRpbWVvdXQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtZW51IiwiYm90dG9tIiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsVG9wIiwibGVmdCIsInJpZ2h0IiwicmVuZGVyIiwiaCIsIkhvc3QiLCJnZXQiLCJnZXRFbGVtZW50IiwiVmVyZG9jc1Rvb2xiYXJJY29uIiwidGV4dCIsInBsYWNlbWVudCIsImNvbnRhaW5lcklkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwicG9wcGVySW5zdGFuY2UiLCJjcmVhdGVQb3BwZXIiLCJtb2RpZmllcnMiLCJuYW1lIiwib2Zmc2V0IiwiZGVzdHJveSIsInNob3ciLCJfYiIsInVwZGF0ZSIsImhpZGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbGFzcyIsImlubmVySFRNTCIsIm9uTW91c2VFbnRlciIsIm9uRm9jdXMiLCJvbk1vdXNlTGVhdmUiLCJvbkJsdXIiLCJyZWYiLCJyb2xlIl0sIm1hcHBpbmdzIjoiNHVGQUdBLElBR01BLGdCQUFrQixTQUFsQkEsZ0JBQWtCQyxNQUN0QixJQUFNQyxNQUFRLGdCQUNSQyxRQUFVLFNBQVZBLFFBQVdDLE1BQU9DLElBQ3RCLE9BQXlCLE9BQXJCRCxNQUFNRSxXQUNERCxHQUVGRixRQUFRQyxNQUFNRSxXQUFZRCxHQUFHRSxPQUFPLENBQUNILFFBQzlDLEVBQ01JLE1BQVEsU0FBUkEsTUFBU0osTUFBT0ssTUFBSSxPQUFLQyxpQkFBaUJOLE1BQU8sTUFBTU8saUJBQWlCRixLQUFLLEVBRTdFRyxPQUFTLFNBQVRBLE9BQVNSLE9BQUssT0FBSUYsTUFBTVcsS0FEYixTQUFYQyxTQUFXVixPQUFLLE9BQUlJLE1BQU1KLE1BQU8sWUFBY0ksTUFBTUosTUFBTyxjQUFnQkksTUFBTUosTUFBTyxhQUFhLENBQ3pFVSxDQUFTVixPQUFPLEVBYW5ELE9BWnFCLFNBQWZXLGFBQWVYLE9BQ25CLEdBQU1BLGlCQUFpQlksYUFBZVosaUJBQWlCYSxXQUF2RCxDQUlBLElBREEsSUFBTVosR0FBS0YsUUFBUUMsTUFBTUUsV0FBWSxJQUM1QlksRUFBSSxFQUFHQSxFQUFJYixHQUFHYyxPQUFRRCxHQUFLLEVBQ2xDLEdBQUlOLE9BQU9QLEdBQUdhLElBQ1osT0FBT2IsR0FB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LE1BQU8sVUFBVyx3QkFBeUJqRSxLQUFLZ0QsVUFBV3VCLElBQUssYUFBQTlELElBQUUsT0FBSyxNQUFLYyxRQUFVZCxFQUFFLEdBQUtULEtBQUsrQyxLQUFNTCwyREFBRSxNQUFPLENBQUUsb0JBQXFCLE9BQVF1QixNQUFPLFdBQzNkLEtBQUMsbUJBckNxQixHQXVDeEJuQixtQkFBbUJoRSxNQXpDVywyMUMiLCJmaWxlIjoiNTUuMzA1Yzg0OWQuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgYSBhcyBnZXRFbGVtZW50LCBIIGFzIEhvc3QgfSBmcm9tICcuL2luZGV4LWY3OGQxNjNkLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlUG9wcGVyIH0gZnJvbSAnLi9wb3BwZXItZjg2MDc1MGMuanMnO1xuXG5jb25zdCB2ZXJkb2NzRmxvYXRpbmdNZW51Q3NzID0gXCJ2ZXJkb2NzLWZsb2F0aW5nLW1lbnV7ZGlzcGxheTpub25lfSN2ZXJkb2NzLWZsb2F0aW5nLW1lbnV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NTZweDtoZWlnaHQ6NTZweDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleDowIDAgZml0LWNvbnRlbnQ7ZmxleDowIDAgZml0LWNvbnRlbnR9I3ZlcmRvY3MtZmxvYXRpbmctbWVudTpub3QoLmZvcmNlLWNsb3NlZCk6aG92ZXJ7aGVpZ2h0OjUwMHB4fSN2ZXJkb2NzLWZsb2F0aW5nLW1lbnU6bm90KC5mb3JjZS1jbG9zZWQpOmhvdmVyIC50cmlnZ2Vyey13ZWJraXQtYm94LXNoYWRvdzowIDEwcHggMjVweCAjNGM1NmNiO2JveC1zaGFkb3c6MCAxMHB4IDI1cHggIzRjNTZjYjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGV5KDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZXkoMnB4KTstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuM3M7dHJhbnNpdGlvbjphbGwgMC4zc30jdmVyZG9jcy1mbG9hdGluZy1tZW51Om5vdCguZm9yY2UtY2xvc2VkKTpob3ZlciAub3B0aW9uc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0jdmVyZG9jcy1mbG9hdGluZy1tZW51Om5vdCguZm9yY2UtY2xvc2VkKTpob3ZlciAub3B0aW9ucyAub3B0aW9uey13ZWJraXQtYW5pbWF0aW9uOnZmbS1hcHBlYXIgMC4xcyBmb3J3YXJkcyAwLjJzO2FuaW1hdGlvbjp2Zm0tYXBwZWFyIDAuMXMgZm9yd2FyZHMgMC4yc30jdmVyZG9jcy1mbG9hdGluZy1tZW51IC50cmlnZ2Vye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjU2cHg7aGVpZ2h0OjU2cHg7YmFja2dyb3VuZDojNjU0ZGNiO2JvdHRvbTowO2JvcmRlci1yYWRpdXM6NTAlO2xlZnQ6MDtyaWdodDowO21hcmdpbjphdXRvO2NvbG9yOndoaXRlO2xpbmUtaGVpZ2h0OjUycHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjQ0cHg7ei1pbmRleDoxMDA7LXdlYmtpdC1ib3gtc2hhZG93OjAgMTBweCAyNXB4IC01cHggIzRjNTZjYjtib3gtc2hhZG93OjAgMTBweCAyNXB4IC01cHggIzRjNTZjYjtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuM3M7dHJhbnNpdGlvbjphbGwgMC4zc30jdmVyZG9jcy1mbG9hdGluZy1tZW51IC5vcHRpb25ze3dpZHRoOjU2cHg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6MCAwIGZpdC1jb250ZW50O2ZsZXg6MCAwIGZpdC1jb250ZW50O3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTo3MHB4O2Rpc3BsYXk6bm9uZX0jdmVyZG9jcy1mbG9hdGluZy1tZW51IC5vcHRpb257YmFja2dyb3VuZDojNjU0ZGNiO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3JkZXItcmFkaXVzOjUwJTt3aWR0aDozNnB4O2hlaWdodDozNnB4O21hcmdpbjo1cHggYXV0bztjb2xvcjp3aGl0ZTtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MzZweDtvcGFjaXR5OjB9I3ZlcmRvY3MtZmxvYXRpbmctbWVudSB2ZXJkb2NzLXRvb2xiYXItaWNvbiAuaWNvbntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0jdmVyZG9jcy1mbG9hdGluZy1tZW51IHZlcmRvY3MtdG9vbGJhci1pY29uIC5pY29uIHN2Z3tmaWxsOiNmZmZmZmZ9QC13ZWJraXQta2V5ZnJhbWVzIHZmbS1hcHBlYXJ7MCV7b3BhY2l0eTowfTMwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjQpO3RyYW5zZm9ybTpzY2FsZSgwLjQpO29wYWNpdHk6MC4zfTcwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjIpO3RyYW5zZm9ybTpzY2FsZSgxLjIpO29wYWNpdHk6MC42fTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpO29wYWNpdHk6MX19QGtleWZyYW1lcyB2Zm0tYXBwZWFyezAle29wYWNpdHk6MH0zMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMC40KTt0cmFuc2Zvcm06c2NhbGUoMC40KTtvcGFjaXR5OjAuM303MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yKTt0cmFuc2Zvcm06c2NhbGUoMS4yKTtvcGFjaXR5OjAuNn0xMDAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fVwiO1xuXG4vLyBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80OTE4NjY3Ny8xODEyNDM2XG5jb25zdCBnZXRTY3JvbGxQYXJlbnQgPSBub2RlID0+IHtcbiAgY29uc3QgcmVnZXggPSAvKGF1dG98c2Nyb2xsKS87XG4gIGNvbnN0IHBhcmVudHMgPSAoX25vZGUsIHBzKSA9PiB7XG4gICAgaWYgKF9ub2RlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBwcztcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudHMoX25vZGUucGFyZW50Tm9kZSwgcHMuY29uY2F0KFtfbm9kZV0pKTtcbiAgfTtcbiAgY29uc3Qgc3R5bGUgPSAoX25vZGUsIHByb3ApID0+IGdldENvbXB1dGVkU3R5bGUoX25vZGUsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG4gIGNvbnN0IG92ZXJmbG93ID0gX25vZGUgPT4gc3R5bGUoX25vZGUsICdvdmVyZmxvdycpICsgc3R5bGUoX25vZGUsICdvdmVyZmxvdy15JykgKyBzdHlsZShfbm9kZSwgJ292ZXJmbG93LXgnKTtcbiAgY29uc3Qgc2Nyb2xsID0gX25vZGUgPT4gcmVnZXgudGVzdChvdmVyZmxvdyhfbm9kZSkpO1xuICBjb25zdCBzY3JvbGxQYXJlbnQgPSBfbm9kZSA9PiB7XG4gICAgaWYgKCEoX25vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBfbm9kZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBzID0gcGFyZW50cyhfbm9kZS5wYXJlbnROb2RlLCBbXSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHNjcm9sbChwc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIHBzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH07XG4gIHJldHVybiBzY3JvbGxQYXJlbnQobm9kZSk7XG59O1xuY29uc3QgVmVyZG9jc0Zsb2F0aW5nTWVudSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5vcHRpb25TZWxlY3RlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwib3B0aW9uU2VsZWN0ZWRcIiwgNyk7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLnNjcm9sbFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5zY3JvbGxQYXJlbnRQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyLmlkID0gJ3ZlcmRvY3MtZmxvYXRpbmctbWVudSc7XG4gICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWwuY2xhc3NOYW1lID0gJ3RyaWdnZXInO1xuICAgIGVsLmlubmVyVGV4dCA9ICcrJztcbiAgICB0aGlzLm1lbnVDb250YWluZXIuYXBwZW5kKGVsKTtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsLmNsYXNzTmFtZSA9ICdvcHRpb25zJztcbiAgICB0aGlzLm1lbnVDb250YWluZXIuYXBwZW5kKGVsKTtcbiAgICBjb25zdCBsb2NhbGhhbmRsZVNlbGVjdCA9IHRoaXMuaGFuZGxlU2VsZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNoaWxkRWwuY2xhc3NOYW1lID0gJ29wdGlvbic7XG4gICAgICBjaGlsZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbG9jYWxoYW5kbGVTZWxlY3Qob3B0aW9uKSk7XG4gICAgICBlbC5hcHBlbmQoY2hpbGRFbCk7XG4gICAgICBjb25zdCBpY29uRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLXRvb2xiYXItaWNvbicpO1xuICAgICAgaWNvbkVsLnNldEF0dHJpYnV0ZSgnaWNvbicsIG9wdGlvbi5pY29uKTtcbiAgICAgIGljb25FbC5zZXRBdHRyaWJ1dGUoJ3RleHQnLCBvcHRpb24udG9vbHRpcCk7XG4gICAgICBpY29uRWwuc2V0QXR0cmlidXRlKCdwbGFjZW1lbnQnLCAnbGVmdCcpO1xuICAgICAgY2hpbGRFbC5hcHBlbmQoaWNvbkVsKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLm1lbnVDb250YWluZXIpO1xuICAgIHRoaXMuc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KHRoaXMuZWwpO1xuICAgIGlmICh0aGlzLnNjcm9sbFBhcmVudCkge1xuICAgICAgdGhpcy5zY3JvbGxQYXJlbnRQYXJlbnQgPSB0aGlzLnNjcm9sbFBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5yZXBvc2l0aW9uVHJpZ2dlcih0aGlzLnNjcm9sbFBhcmVudCk7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLm1lbnVDb250YWluZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUoKTtcbiAgfVxuICBoYW5kbGVTZWxlY3Qob3B0aW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMub3B0aW9uU2VsZWN0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KG9wdGlvbik7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyZG9jcy1mbG9hdGluZy1tZW51Jyk7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5jbGFzc05hbWUgPSAnZm9yY2UtY2xvc2VkJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnJztcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG4gIHJlcG9zaXRpb25UcmlnZ2VyKHNjcm9sbFBhcmVudCkge1xuICAgIGNvbnN0IHNjcm9sbFBhcmVudFBhcmVudCA9IHNjcm9sbFBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChzY3JvbGxQYXJlbnRQYXJlbnQpIHtcbiAgICAgIGNvbnN0IGJvdW5kcyA9IHNjcm9sbFBhcmVudFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyZG9jcy1mbG9hdGluZy1tZW51Jyk7XG4gICAgICBpZiAobWVudSkge1xuICAgICAgICBtZW51LnN0eWxlLmJvdHRvbSA9IGAke2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIGJvdW5kcy5ib3R0b20pICsgMTB9cHhgO1xuICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSBgJHtib3VuZHMucmlnaHQgLSA4MH1weGA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaChIb3N0LCBudWxsKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuVmVyZG9jc0Zsb2F0aW5nTWVudS5zdHlsZSA9IHZlcmRvY3NGbG9hdGluZ01lbnVDc3M7XG5cbmNvbnN0IHZlcmRvY3NUb29sYmFySWNvbkNzcyA9IFwidmVyZG9jcy10b29sYmFyLWljb257Zm9udC1mYW1pbHk6XFxcIkludGVyXFxcIiwgLWFwcGxlLXN5c3RlbSwgXFxcIlNlZ29lIFVJXFxcIiwgXFxcIlJvYm90b1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7ZGlzcGxheTppbmxpbmUtYmxvY2t9dmVyZG9jcy10b29sYmFyLWljb24gLmljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXJ9dmVyZG9jcy10b29sYmFyLWljb24gLmljb24gc3Zne2ZpbGw6IzVjNjU3NX12ZXJkb2NzLXRvb2xiYXItaWNvbiAudG9vbHRpcHtkaXNwbGF5Om5vbmU7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAxMHB4IDFweCAjOTk5OTk5O2JveC1zaGFkb3c6MCAwIDEwcHggMXB4ICM5OTk5OTk7YmFja2dyb3VuZDojZmZmZmZmO2NvbG9yOiMzMzM2NGI7bWF4LXdpZHRoOjI0MHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7cGFkZGluZzo1cHggMTBweDtmb250LXNpemU6MTNweDtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItcmFkaXVzOjRweDt6LWluZGV4OjIwMDAwO3doaXRlLXNwYWNlOm5vd3JhcH12ZXJkb2NzLXRvb2xiYXItaWNvbiAudG9vbHRpcCAuYXJyb3csdmVyZG9jcy10b29sYmFyLWljb24gLnRvb2x0aXAgLmFycm93OjpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6OHB4O2hlaWdodDo4cHg7YmFja2dyb3VuZDppbmhlcml0fXZlcmRvY3MtdG9vbGJhci1pY29uIC50b29sdGlwIC5hcnJvd3t2aXNpYmlsaXR5OmhpZGRlbjt0b3A6LTRweH12ZXJkb2NzLXRvb2xiYXItaWNvbiAudG9vbHRpcCAuYXJyb3c6OmJlZm9yZXt2aXNpYmlsaXR5OnZpc2libGU7Y29udGVudDpcXFwiXFxcIjstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfXZlcmRvY3MtdG9vbGJhci1pY29uIC50b29sdGlwW2RhdGEtc2hvd117ZGlzcGxheTpibG9ja312ZXJkb2NzLXRvb2xiYXItaWNvbiAudG9vbHRpcFtkYXRhLXBvcHBlci1wbGFjZW1lbnRePXRvcF0+LmFycm93e2JvdHRvbTotNHB4fXZlcmRvY3MtdG9vbGJhci1pY29uIC50b29sdGlwW2RhdGEtcG9wcGVyLXBsYWNlbWVudF49Ym90dG9tXT4uYXJyb3d7dG9wOi00cHh9dmVyZG9jcy10b29sYmFyLWljb24gLnRvb2x0aXBbZGF0YS1wb3BwZXItcGxhY2VtZW50Xj1sZWZ0XT4uYXJyb3d7cmlnaHQ6LTRweH12ZXJkb2NzLXRvb2xiYXItaWNvbiAudG9vbHRpcFtkYXRhLXBvcHBlci1wbGFjZW1lbnRePXJpZ2h0XT4uYXJyb3d7bGVmdDotNHB4fXZlcmRvY3MtdG9vbGJhci1pY29uIC50b29sdGlwW2RhdGEtcG9wcGVyLXBsYWNlbWVudF49bGVmdF17cGFkZGluZzozcHggMTBweH12ZXJkb2NzLXRvb2xiYXItaWNvbiAudG9vbHRpcFtkYXRhLXBvcHBlci1wbGFjZW1lbnRePWxlZnRdPi5hcnJvd3tyaWdodDotMXB4fVwiO1xuXG5jb25zdCBWZXJkb2NzVG9vbGJhckljb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMudGV4dCA9ICcnO1xuICAgIHRoaXMuaWNvbiA9ICcnO1xuICAgIHRoaXMucGxhY2VtZW50ID0gJ2JvdHRvbSc7XG4gICAgdGhpcy5jb250YWluZXJJZCA9IGB2ZXJkb2NzLXRvb2xiYXItaWNvbi0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMSl9YDtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMucG9wcGVySW5zdGFuY2UgPSBjcmVhdGVQb3BwZXIodGhpcy5pY29uRWwsIHRoaXMudG9vbHRpcCwge1xuICAgICAgcGxhY2VtZW50OiB0aGlzLnBsYWNlbWVudCxcbiAgICAgIG1vZGlmaWVyczogdGhpcy5wbGFjZW1lbnQgPT09ICdsZWZ0JyA/IFt7IG5hbWU6ICdvZmZzZXQnLCBvcHRpb25zOiB7IG9mZnNldDogWzAsIDIwXSB9IH1dIDogW10sXG4gICAgfSk7XG4gICAgLy8gcGxhY2VtZW50OiAndG9wLWVuZCcsXG4gICAgLy8gbW9kaWZpZXJzOiBbe25hbWU6ICdvZmZzZXQnLCBvcHRpb25zOiB7b2Zmc2V0OiBbMCwgMTBdfX1dLFxuICAgIC8vIH0pO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLnBvcHBlckluc3RhbmNlKSB7XG4gICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UgPSBudWxsO1xuICAgIH1cbiAgfVxuICBzaG93KCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgKF9hID0gdGhpcy50b29sdGlwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0QXR0cmlidXRlKCdkYXRhLXNob3cnLCAnJyk7XG4gICAgKF9iID0gdGhpcy5wb3BwZXJJbnN0YW5jZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnVwZGF0ZSgpLmNhdGNoKCgpID0+IHsgfSk7XG4gIH1cbiAgaGlkZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy50b29sdGlwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNob3cnKTtcbiAgfVxuICAvLyBoYW5kbGVQcmVzcygpIHtcbiAgLy8gICB0aGlzLnByZXNzPy5lbWl0KCk7XG4gIC8vIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiB7fSB9LCBoKFwiZGl2XCIsIHsgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHRoaXMuY29udGFpbmVySWQsIGNsYXNzOiBcImljb25cIiwgaW5uZXJIVE1MOiB0aGlzLmljb24sIG9uTW91c2VFbnRlcjogKCkgPT4gdGhpcy5zaG93KCksIG9uRm9jdXM6ICgpID0+IHRoaXMuc2hvdygpLCBvbk1vdXNlTGVhdmU6ICgpID0+IHRoaXMuaGlkZSgpLCBvbkJsdXI6ICgpID0+IHRoaXMuaGlkZSgpLCByZWY6IGVsID0+ICh0aGlzLmljb25FbCA9IGVsKSB9KSwgaChcImRpdlwiLCB7IGlkOiB0aGlzLmNvbnRhaW5lcklkLCByb2xlOiBcInRvb2x0aXBcIiwgY2xhc3M6IFwidG9vbHRpcFwiLCBcImRhdGEtcG9wcGVyLXBsYWNlbWVudFwiOiB0aGlzLnBsYWNlbWVudCwgcmVmOiBlbCA9PiAodGhpcy50b29sdGlwID0gZWwpIH0sIHRoaXMudGV4dCwgaChcImRpdlwiLCB7IFwiZGF0YS1wb3BwZXItYXJyb3dcIjogXCJ0cnVlXCIsIGNsYXNzOiBcImFycm93XCIgfSkpKSk7XG4gIH1cbn07XG5WZXJkb2NzVG9vbGJhckljb24uc3R5bGUgPSB2ZXJkb2NzVG9vbGJhckljb25Dc3M7XG5cbmV4cG9ydCB7IFZlcmRvY3NGbG9hdGluZ01lbnUgYXMgdmVyZG9jc19mbG9hdGluZ19tZW51LCBWZXJkb2NzVG9vbGJhckljb24gYXMgdmVyZG9jc190b29sYmFyX2ljb24gfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=