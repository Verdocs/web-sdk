/*! For license information please see 17.b998136f.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/Envelopes-df05b3c7.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",(function(){return getEnvelope})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getEnvelopeFile})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getEnvelopeDocument})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getSigningSession})),__webpack_require__.d(__webpack_exports__,"e",(function(){return updateEnvelopeField}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./dist/esm/VerdocsEndpoint-82f4600d.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},getSigningSession=function getSigningSession(endpoint,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(params.envelopeId,"/recipients/").concat(encodeURIComponent(params.roleId),"/invitation/").concat(params.inviteCode)).then((function(r){var _a,_b,signerToken=(null===(_a=r.headers)||void 0===_a?void 0:_a.signer_token)||"",session=Object(_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_11__.b)(signerToken);return endpoint.setToken(null===(_b=r.headers)||void 0===_b?void 0:_b.signer_token),{recipient:r.data,session:session,signerToken:signerToken}}))]}))}))},getEnvelope=function getEnvelope(endpoint,envelopeId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId)).then((function(r){return r.data}))]}))}))},getEnvelopeDocument=function getEnvelopeDocument(endpoint,envelopeId,documentId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId,"/envelope_documents/").concat(documentId)).then((function(r){return r.data}))]}))}))},getEnvelopeFile=function getEnvelopeFile(endpoint,envelopeId,documentId){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.get("/envelopes/".concat(envelopeId,"/envelope_documents/").concat(documentId,"?file=true"),{responseType:"arraybuffer"}).then((function(r){return Buffer.from(r.data,"binary").toString("base64")}))]}))}))},updateEnvelopeField=function updateEnvelopeField(endpoint,envelopeId,fieldName,value){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/fields/").concat(fieldName),value).then((function(r){return r.data}))]}))}))}}).call(this,__webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./dist/esm/Validators-f110bae2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isValidPhone})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidEmail}));var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,isValidEmail=function isValidEmail(email){return!!email&&EMAIL_REGEX.test(email)},PHONE_REGEX=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,isValidPhone=function isValidPhone(phone){return!!phone&&PHONE_REGEX.test(phone)}},"./dist/esm/errors-9b5498c8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SDKError}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var SDKError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(SDKError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(SDKError);function SDKError(message,statusCode,response){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SDKError),(_this=_super.call(this,message||"SDK Error")).response=response,_this.statusCode=statusCode,Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof SDKError?this.constructor:void 0).prototype),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SDKError)}(_wrapNativeSuper(Error))},"./dist/esm/utils-3f23facc.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rescale})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"f",(function(){return integerSequence})),__webpack_require__.d(__webpack_exports__,"g",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return setControlStyles}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");function rescale(r,n){return r*n}var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")},setControlStyles=function setControlStyles(el,field,xScale,yScale,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?function defaultWidth(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 82}return 150}(field):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?function defaultHeight(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 41}return 50}(field):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")"},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,handleFieldChange,disabled){var editable=arguments.length>5&&void 0!==arguments[5]&&arguments[5],draggable=arguments.length>6&&void 0!==arguments[6]&&arguments[6],controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return void setControlStyles(existingField,field,docPage.xScale,docPage.yScale);var el=document.createElement("verdocs-field-"+field.type);return el.field=field,el.setAttribute("id",id),el.setAttribute("roleindex",roleIndex),disabled&&el.setAttribute("disabled",!0),editable&&el.setAttribute("editable",!0),draggable&&el.setAttribute("draggable",!0),el.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(el,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(el),el;case"checkbox_group":field.setting.options.forEach((function(_,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-checkbox");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;case"radio_button_group":field.setting.options.forEach((function(_,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(!existingField){var cbEl=document.createElement("verdocs-field-radio-button");return cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("roleindex",roleIndex),cbEl.setAttribute("option",buttonIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,buttonIndex),controlsDiv.appendChild(cbEl),cbEl}setControlStyles(existingField,field,docPage.xScale,docPage.yScale)}));break;default:return console.log("[PREVIEW] Skipping unsupported field type",field),null}},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}}},"./dist/esm/verdocs-sign.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_sign",(function(){return VerdocsSign}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./dist/esm/index-f78d163d.js"),_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./dist/esm/Envelopes-df05b3c7.js"),_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__=(__webpack_require__("./dist/esm/Types-ab9f6af8.js"),__webpack_require__("./dist/esm/Validators-f110bae2.js")),_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./dist/esm/Colors-1b298092.js"),_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./dist/esm/utils-3f23facc.js"),_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./dist/esm/VerdocsEndpoint-82f4600d.js"),_errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./dist/esm/errors-9b5498c8.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,"symbol"==typeof(key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"))?key:String(key)),descriptor)}var arg,key}var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},VerdocsSign=function(){function VerdocsSign(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsSign),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.j)(this,hostRef),this.sdkError=Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.e)(this,"sdkError",7),this.endpoint=_VerdocsEndpoint_82f4600d_js__WEBPACK_IMPORTED_MODULE_38__.a.getDefault(),this.envelopeId=null,this.roleId=null,this.inviteCode=null,this.recipient=null,this.signerToken=null,this.pdfUrl=null,this.recipientIndex=-1,this.envelope=null,this.fields=[],this.hasSignature=!1,this.nextButtonLabel="Start",this.focusedField=""}var _handleFieldChange,_handleOptionSelected,_savePDF,_componentDidLoad;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsSign,[{key:"componentDidLoad",value:(_componentDidLoad=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _a,_b,_c,_yield$getSigningSess,session,recipient,signerToken,envelope,_this=this;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,console.log("[SIGN] Processing invite code for "+this.envelopeId+" / "+this.envelopeId),_context.next=4,Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.d)(this.endpoint,{envelopeId:this.envelopeId,roleId:this.roleId,inviteCode:this.inviteCode});case 4:return _yield$getSigningSess=_context.sent,session=_yield$getSigningSess.session,recipient=_yield$getSigningSess.recipient,signerToken=_yield$getSigningSess.signerToken,console.log("[SIGN] Got signing session "+session.email+" / "+session.profile_id),this.recipient=recipient,this.signerToken=signerToken,this.endpoint.setToken(signerToken),this.recipient.agreed&&(this.nextButtonLabel="Next"),_context.next=15,Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.a)(this.endpoint,this.envelopeId);case 15:envelope=_context.sent,this.envelope=envelope,console.log("[SIGN] Signing document",document),this.pdfUrl=this.endpoint.getBaseURL()+"/documents/"+this.envelopeId+"/envelope_documents/"+envelope.envelope_document_id+"?file=true",this.recipientIndex=this.envelope.recipients.findIndex((function(recipient){return recipient.role_name==_this.roleId})),this.recipientIndex>-1&&console.log("Found recipient",this.envelope.recipients[this.recipientIndex]),this.fields=this.envelope.fields.filter((function(field){return field.recipient_role===_this.roleId})),console.log("Loaded fields",this.fields),_context.next=29;break;case 25:_context.prev=25,_context.t0=_context.catch(0),console.log("Error with signing session",_context.t0),null===(_a=this.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(_context.t0.message,null===(_b=_context.t0.response)||void 0===_b?void 0:_b.status,null===(_c=_context.t0.response)||void 0===_c?void 0:_c.data));case 29:case"end":return _context.stop()}}),_callee,this,[[0,25]])}))),function componentDidLoad(){return _componentDidLoad.apply(this,arguments)})},{key:"handleClickAgree",value:function handleClickAgree(){var _this2=this;console.log("agree clicked"),function updateRecipientStatus(endpoint,envelopeId,roleName,action,params){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,endpoint.api.put("/envelopes/".concat(envelopeId,"/recipients/").concat(roleName),__assign({role_name:roleName,action:action},params||{})).then((function(r){return r.data}))]}))}))}(this.endpoint,this.envelopeId,this.roleId,"update",{agreed:!0}).then((function(r){console.log("update result",r),_this2.nextButtonLabel="Next",_this2.recipient=r})).catch((function(e){var _a,_b,_c;console.log("update failure",e),null===(_a=_this2.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data))}))}},{key:"savePDF",value:(_savePDF=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var fileName,data,xhr,url;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return fileName=this.envelope.name+" - "+this.envelope.updated_at.split("T")[0]+".pdf",_context2.next=3,Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.b)(this.endpoint,this.envelopeId,this.envelope.envelope_document_id);case 3:data=_context2.sent,(xhr=new XMLHttpRequest).responseType="blob",xhr.onload=function(){var a=document.createElement("a");a.href=window.URL.createObjectURL(xhr.response),a.download=fileName,a.style.display="none",document.body.appendChild(a),a.click(),a.remove()},url="data:application/pdf;base64,"+data,console.log("url",url.length,url),xhr.open("GET","data:application/pdf;base64,"+data),xhr.send();case 11:case"end":return _context2.stop()}}),_callee2,this)}))),function savePDF(){return _savePDF.apply(this,arguments)})},{key:"handleOptionSelected",value:(_handleOptionSelected=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(e){return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.t0=e.detail.id,_context3.next="later"===_context3.t0?3:"claim"===_context3.t0?5:"decline"===_context3.t0?6:"print"===_context3.t0?7:"download"===_context3.t0?8:10;break;case 3:return(null===window||void 0===window?void 0:window.STORYBOOK_ENV)||window.alert("User intends to sign later."),_context3.abrupt("break",10);case 5:case 6:case 7:return _context3.abrupt("break",10);case 8:return this.savePDF().catch((function(){})),_context3.abrupt("break",10);case 10:case"end":return _context3.stop()}}),_callee3,this)}))),function handleOptionSelected(_x){return _handleOptionSelected.apply(this,arguments)})},{key:"handleFieldChange",value:(_handleFieldChange=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(field,e,optionId){var options,_this3=this;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:console.log("fieldChange",field,e),_context4.t0=field.type,_context4.next="textbox"===_context4.t0?4:"checkbox_group"===_context4.t0?6:"radio_button_group"===_context4.t0?8:"dropdown"===_context4.t0?11:"initial"===_context4.t0?13:"signature"===_context4.t0?15:17;break;case 4:return Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.e)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:e.detail}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c,_d,_e,_f;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),401===(null===(_d=e.response)||void 0===_d?void 0:_d.status)&&"jwt expired"===(null===(_f=null===(_e=e.response)||void 0===_e?void 0:_e.data)||void 0===_f?void 0:_f.error)&&console.log("jwt expired"),console.log("Error updating",e)})),_context4.abrupt("break",17);case 6:return Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.e)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:{options:[{id:optionId,checked:e.detail}]}}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context4.abrupt("break",17);case 8:return options=field.settings.options.map((function(option){return{id:option.id,selected:optionId===option.id}})),Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.e)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:{options:options}}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context4.abrupt("break",17);case 11:return Object(_Envelopes_df05b3c7_js__WEBPACK_IMPORTED_MODULE_33__.e)(this.endpoint,this.envelopeId,field.name,{prepared:!1,value:e.detail}).then((function(r){return console.log("Update result",r)})).catch((function(e){var _a,_b,_c;null===(_a=_this3.sdkError)||void 0===_a||_a.emit(new _errors_9b5498c8_js__WEBPACK_IMPORTED_MODULE_39__.a(e.message,null===(_b=e.response)||void 0===_b?void 0:_b.status,null===(_c=e.response)||void 0===_c?void 0:_c.data)),console.log("Error updating",e)})),_context4.abrupt("break",17);case 13:return console.log("Got initial",e.detail),_context4.abrupt("break",17);case 15:return console.log("Got signature",e.detail),_context4.abrupt("break",17);case 17:case"end":return _context4.stop()}}),_callee4,this)}))),function handleFieldChange(_x2,_x3,_x4){return _handleFieldChange.apply(this,arguments)})},{key:"renderCheckboxGroupOption",value:function renderCheckboxGroupOption(page,field,option){var _this4=this,style={left:Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.c)(page.xScale,option.x)+"px",bottom:Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.c)(page.yScale,option.y)+"px",position:"absolute",transform:"scale("+page.xScale+", "+page.yScale+")",backgroundColor:Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_36__.a)(this.recipientIndex)};return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-field-checkbox",{style:style,field:field,onChange:function onChange(e){return _this4.handleFieldChange(field,e,option.id)}})}},{key:"renderRadioGroupOption",value:function renderRadioGroupOption(page,field,option){var _this5=this,style={left:Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.c)(page.xScale,option.x)+"px",bottom:Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.c)(page.yScale,option.y)+"px",position:"absolute",transform:"scale("+page.xScale+", "+page.yScale+")",backgroundColor:Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_36__.a)(this.recipientIndex)};return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-field-radio-button",{style:style,field:field,onFieldChange:function onFieldChange(e){return _this5.handleFieldChange(field,e,option.id)}})}},{key:"isFieldValid",value:function isFieldValid(field){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m;switch(field.type){case"textbox":switch((null===(_a=field.settings)||void 0===_a?void 0:_a.validator)||""){case"email":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__.b)((null===(_b=field.settings)||void 0===_b?void 0:_b.result)||"");case"phone":return Object(_Validators_f110bae2_js__WEBPACK_IMPORTED_MODULE_35__.a)((null===(_c=field.settings)||void 0===_c?void 0:_c.result)||"");default:return!!(null===(_d=field.settings)||void 0===_d?void 0:_d.result)}case"signature":case"initial":case"textarea":case"date":case"timestamp":case"attachment":return!!(null===(_e=field.settings)||void 0===_e?void 0:_e.result);case"dropdown":return!!(null===(_f=field.settings)||void 0===_f?void 0:_f.value);case"checkbox_group":var checked=((null===(_h=null===(_g=field.settings)||void 0===_g?void 0:_g.options)||void 0===_h?void 0:_h.filter((function(option){return option.checked})))||[]).length;return checked>=((null===(_j=field.settings)||void 0===_j?void 0:_j.minimum_checked)||0)&&checked<=((null===(_k=field.settings)||void 0===_k?void 0:_k.maximum_checked)||999);case"radio_button_group":return((null===(_m=null===(_l=field.settings)||void 0===_l?void 0:_l.options)||void 0===_m?void 0:_m.filter((function(option){return option.selected})))||[]).length>0;default:return!1}}},{key:"handleNext",value:function handleNext(){var _this6=this,requiredFields=this.fields.filter((function(field){return field.required}));console.log("required Fields",requiredFields);var focusedIndex=requiredFields.findIndex((function(field){return field.name===_this6.focusedField}));console.log("focused Index",focusedIndex);var nextFocusedIndex=focusedIndex+1;nextFocusedIndex>=requiredFields.length&&(nextFocusedIndex=0);var nextRequiredField=requiredFields[nextFocusedIndex];if(console.log("next required field",nextRequiredField),nextRequiredField){var id=Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.b)(nextRequiredField),el=document.getElementById(id);console.log("focusing",id,el),null==el||el.focusField(),this.focusedField=nextRequiredField.name}}},{key:"renderField",value:function renderField(field,docPage){var _this7=this,controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv){var id=Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.b)(field),existingField=document.getElementById(id);if(existingField)Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.h)(existingField,field,docPage.xScale,docPage.yScale,this.recipientIndex);else{var el;switch(field.type){case"attachment":case"checkbox_group":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":el=document.createElement("verdocs-field-"+field.type);break;case"radio_button_group":break;default:console.log("[SIGN] Skipping unsupported field type",field)}el&&(el.field=field,el.recipient=this.recipient,el.setAttribute("id",id),el.setAttribute("roleindex",this.recipientIndex),el.addEventListener("fieldChange",(function(e){return _this7.handleFieldChange(field,e)})),Object(_utils_3f23facc_js__WEBPACK_IMPORTED_MODULE_37__.h)(existingField,field,docPage.xScale,docPage.yScale,this.recipientIndex),controlsDiv.appendChild(el))}}}},{key:"handlePageRendered",value:function handlePageRendered(e){var _this8=this,pageInfo=e.detail;console.log("[SIGN] Page rendered",pageInfo);var fields=this.fields.filter((function(field){return field.page===pageInfo.renderedPage.pageNumber}));console.log("[SIGN] Fields on page",fields),fields.forEach((function(field){return _this8.renderField(field,pageInfo.renderedPage)}))}},{key:"render",value:function render(){var _a,_b,_c,_d,_this9=this;return Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.b,{class:{storybook:!!(null===window||void 0===window?void 0:window.STORYBOOK_ENV),agreed:null===(_a=this.recipient)||void 0===_a?void 0:_a.agreed}},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"intro"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"inner"},"Please review and act on these documents.")),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"header"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"inner"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"toolbar"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"tools"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-dropdown",{options:[{id:"later",label:"Finish Later"},{id:"claim",label:"Claim the Document",disabled:!0},{id:"decline",label:"Decline to Sign"},{id:"print",label:"Print Without Signing"},{id:"download",label:"Download"}],onOptionSelected:function onOptionSelected(e){return _this9.handleOptionSelected(e)}}),(null===(_b=this.recipient)||void 0===_b?void 0:_b.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{style:{flex:"1"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"agree"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"agree-checkbox"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("input",{type:"checkbox",value:"None",id:"agree-checkbox-element",name:"agree",onChange:function onChange(){return _this9.handleClickAgree()}}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("label",{htmlFor:"agree-checkbox-element"})),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("span",null,"I agree to use electronic records and signatures.")),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-button",{size:"small",label:this.nextButtonLabel,disabled:!(null===(_c=this.recipient)||void 0===_c?void 0:_c.agreed),onClick:function onClick(){return _this9.handleNext()}}))))),(null===(_d=this.recipient)||void 0===_d?void 0:_d.agreed)?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{style:{display:"none"}}):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"cover"}),Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"document"},this.pdfUrl?Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("div",{class:"inner"},Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-view",{envelopeId:this.envelopeId,endpoint:this.endpoint,onPageRendered:function onPageRendered(e){return _this9.handlePageRendered(e)},pageLayers:[{name:"page",type:"canvas"},{name:"controls",type:"div"}]})):Object(_index_f78d163d_js__WEBPACK_IMPORTED_MODULE_32__.h)("verdocs-loader",null)))}}]),VerdocsSign}();VerdocsSign.style='verdocs-sign{display:-ms-flexbox;display:flex;overflow:hidden;position:relative;min-height:600px;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif}verdocs-sign div{-webkit-box-sizing:border-box;box-sizing:border-box}verdocs-sign .header{-ms-flex:0;flex:0;display:-ms-flexbox;display:flex;z-index:1000;-ms-flex-align:center;align-items:center;-webkit-transition:all 0.25s;transition:all 0.25s;-ms-flex-pack:center;justify-content:center;background-color:#33354c;-webkit-box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);box-shadow:0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12)}verdocs-sign .header .inner{width:100%;max-width:1028px}verdocs-sign .intro{width:100%;height:60px;display:-ms-flexbox;display:flex;background:#ffffff;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}verdocs-sign .intro .inner{width:100%;color:#111111;padding:0 14px;font-size:20px;font-weight:500;line-height:28px;max-width:1024px}verdocs-sign .toolbar{width:100%;margin:0 auto;padding:0 14px;position:relative}verdocs-sign .tools{width:100%;color:#fff;height:56px;display:-ms-flexbox;display:flex;font-size:12px;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;background-color:#33354c}verdocs-sign .cover{top:0;left:0;right:0;bottom:0;z-index:999;position:absolute;background:rgba(0, 0, 0, 0.5)}verdocs-sign .document{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;position:relative;overflow-y:scroll;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}verdocs-sign .document .inner{width:100%;max-width:1028px}verdocs-sign .agree{-ms-flex:1;flex:1;-ms-flex-direction:row;flex-direction:row;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-right:10px}verdocs-sign .agree .intro{display:none}verdocs-sign .agree .header{-ms-flex:0 0 56px;flex:0 0 56px}verdocs-sign .agree .agree-checkbox{background:#ccc;-ms-flex:0 0 20px;flex:0 0 20px;display:-ms-flexbox;display:flex;width:20px;height:20px;border-radius:3px;position:relative;margin:0 10px 0 14px}verdocs-sign .agree .agree-checkbox input[type=checkbox]:checked+label:after{filter:alpha(opacity=100);opacity:1}verdocs-sign .agree .agree-checkbox label{left:2px;top:2px;width:16px;height:16px;cursor:pointer;position:absolute;background:#33354c;-webkit-box-shadow:inset 0 -1px 1px rgba(255, 255, 255, 0.8);box-shadow:inset 0 -1px 1px rgba(255, 255, 255, 0.8)}verdocs-sign .agree .agree-checkbox label .agree-checkbox label:hover::after{filter:alpha(opacity=30);opacity:0.3}verdocs-sign .agree .agree-checkbox label:after{top:2px;left:3px;width:8px;opacity:0;height:5px;content:"";position:absolute;background:transparent;filter:alpha(opacity=0);-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border:2px solid #fcfff4;border-top:none;border-right:none}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL0VudmVsb3Blcy5qcyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVmFsaWRhdG9ycy5qcyIsIndlYnBhY2s6Ly8vc3JjL3V0aWxzL2Vycm9ycy50cyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9GaWVsZHMuanMiLCJ3ZWJwYWNrOi8vL3NyYy91dGlscy91dGlscy50cyIsIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvUmVjaXBpZW50cy5qcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZW1iZWRzL3ZlcmRvY3Mtc2lnbi92ZXJkb2NzLXNpZ24udHN4Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9lbWJlZHMvdmVyZG9jcy1zaWduL3ZlcmRvY3Mtc2lnbi5zY3NzIl0sIm5hbWVzIjpbImdldFJHQkEiLCJyb2xlSW5kZXgiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiYWRvcHQiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiZ2V0U2lnbmluZ1Nlc3Npb24iLCJlbmRwb2ludCIsInBhcmFtcyIsIl9hIiwiYXBpIiwiZ2V0IiwiY29uY2F0IiwiZW52ZWxvcGVJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJvbGVJZCIsImludml0ZUNvZGUiLCJyIiwiX2IiLCJzaWduZXJUb2tlbiIsImhlYWRlcnMiLCJzaWduZXJfdG9rZW4iLCJzZXNzaW9uIiwiZGVjb2RlQWNjZXNzVG9rZW5Cb2R5Iiwic2V0VG9rZW4iLCJyZWNpcGllbnQiLCJkYXRhIiwiZ2V0RW52ZWxvcGUiLCJnZXRFbnZlbG9wZURvY3VtZW50IiwiZG9jdW1lbnRJZCIsImdldEVudmVsb3BlRmlsZSIsInJlc3BvbnNlVHlwZSIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInVwZGF0ZUVudmVsb3BlRmllbGQiLCJmaWVsZE5hbWUiLCJwdXQiLCJFTUFJTF9SRUdFWCIsImlzVmFsaWRFbWFpbCIsImVtYWlsIiwidGVzdCIsIlBIT05FX1JFR0VYIiwiaXNWYWxpZFBob25lIiwicGhvbmUiLCJTREtFcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIkVycm9yIiwicmVzY2FsZSIsImludGVnZXJTZXF1ZW5jZSIsInN0YXJ0IiwiY291bnQiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJpbmRleCIsImZ1bGxOYW1lVG9Jbml0aWFscyIsIm5hbWUiLCJzcGxpdCIsIndvcmQiLCJqb2luIiwic2V0Q29udHJvbFN0eWxlcyIsImVsIiwiZmllbGQiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJvcHRpb24iLCJzZXR0aW5ncyIsInNldHRpbmciLCJ4Iiwid2lkdGgiLCJkZWZhdWx0V2lkdGgiLCJ0eXBlIiwiaGVpZ2h0IiwiZGVmYXVsdEhlaWdodCIsIm9wdGlvblNldHRpbmdzIiwidW5kZWZpbmVkIiwib3B0aW9ucyIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwiYm90dG9tIiwidHJhbnNmb3JtIiwiZ2V0RmllbGRJZCIsImdldEZpZWxkT3B0aW9uSWQiLCJyZW5kZXJEb2N1bWVudEZpZWxkIiwiZG9jUGFnZSIsImhhbmRsZUZpZWxkQ2hhbmdlIiwiZGlzYWJsZWQiLCJlZGl0YWJsZSIsImRyYWdnYWJsZSIsImNvbnRyb2xzRGl2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRhaW5lcklkIiwiaWQiLCJleGlzdGluZ0ZpZWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJjaGVja2JveEluZGV4IiwiY2JFbCIsImJ1dHRvbkluZGV4IiwiY29uc29sZSIsImxvZyIsImdldFJvbGVJbmRleCIsInJvbGVzIiwicm9sZSIsImluZGV4T2YiLCJnZXRGaWVsZFNldHRpbmdzIiwicmVxdWlyZWQiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInMiLCJpIiwiYXJndW1lbnRzIiwicCIsImhhc093blByb3BlcnR5IiwiVmVyZG9jc1NpZ24iLCJWZXJkb2NzRW5kcG9pbnQiLCJnZXREZWZhdWx0IiwiRW52ZWxvcGVzLmdldFNpZ25pbmdTZXNzaW9uIiwicHJvZmlsZV9pZCIsImFncmVlZCIsIm5leHRCdXR0b25MYWJlbCIsIkVudmVsb3Blcy5nZXRFbnZlbG9wZSIsImVudmVsb3BlIiwicGRmVXJsIiwiZ2V0QmFzZVVSTCIsImVudmVsb3BlX2RvY3VtZW50X2lkIiwicmVjaXBpZW50SW5kZXgiLCJyZWNpcGllbnRzIiwiZmluZEluZGV4Iiwicm9sZV9uYW1lIiwiZmllbGRzIiwiZmlsdGVyIiwicmVjaXBpZW50X3JvbGUiLCJzZGtFcnJvciIsImVtaXQiLCJzdGF0dXMiLCJoYW5kbGVDbGlja0FncmVlIiwidXBkYXRlUmVjaXBpZW50U3RhdHVzIiwicm9sZU5hbWUiLCJhY3Rpb24iLCJmaWxlTmFtZSIsInVwZGF0ZWRfYXQiLCJFbnZlbG9wZXMuZ2V0RW52ZWxvcGVGaWxlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbmxvYWQiLCJhIiwiaHJlZiIsIndpbmRvdyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvd25sb2FkIiwiZGlzcGxheSIsImNsaWNrIiwicmVtb3ZlIiwidXJsIiwib3BlbiIsInNlbmQiLCJkZXRhaWwiLCJhbGVydCIsInNhdmVQREYiLCJvcHRpb25JZCIsIkVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkIiwicHJlcGFyZWQiLCJlcnJvciIsImNoZWNrZWQiLCJzZWxlY3RlZCIsInJlbmRlckNoZWNrYm94R3JvdXBPcHRpb24iLCJwYWdlIiwiYmFja2dyb3VuZENvbG9yIiwiaCIsIm9uQ2hhbmdlIiwicmVuZGVyUmFkaW9Hcm91cE9wdGlvbiIsIm9uRmllbGRDaGFuZ2UiLCJpc0ZpZWxkVmFsaWQiLCJ2YWxpZGF0b3IiLCJtaW5pbXVtX2NoZWNrZWQiLCJtYXhpbXVtX2NoZWNrZWQiLCJoYW5kbGVOZXh0IiwicmVxdWlyZWRGaWVsZHMiLCJmb2N1c2VkSW5kZXgiLCJmb2N1c2VkRmllbGQiLCJuZXh0Rm9jdXNlZEluZGV4IiwibmV4dFJlcXVpcmVkRmllbGQiLCJmb2N1c0ZpZWxkIiwicmVuZGVyRmllbGQiLCJoYW5kbGVQYWdlUmVuZGVyZWQiLCJwYWdlSW5mbyIsInJlbmRlcmVkUGFnZSIsInBhZ2VOdW1iZXIiLCJyZW5kZXIiLCJIb3N0IiwiY2xhc3MiLCJzdG9yeWJvb2siLCJvbk9wdGlvblNlbGVjdGVkIiwiaGFuZGxlT3B0aW9uU2VsZWN0ZWQiLCJmbGV4IiwiaHRtbEZvciIsInNpemUiLCJvbkNsaWNrIiwib25QYWdlUmVuZGVyZWQiLCJwYWdlTGF5ZXJzIl0sIm1hcHBpbmdzIjoiO2dLQThCTyxTQUFTQSxRQUFRQyxXQUNwQixPQUFRQSxVQUFZLElBQ2hCLEtBQUssRUFDRCxPQUFxQixJQUFkQSxVQUFrQix5QkFBMkIsMkJBQ3hELEtBQUssRUFDRCxNQUFPLHlCQUNYLEtBQUssRUFDRCxNQUFPLHlCQUNYLEtBQUssRUFDRCxNQUFPLDJCQUNYLEtBQUssRUFDRCxNQUFPLDJCQUNYLEtB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QVM5RyxNQUFPLHlCQUNyQixDQUFDOEcsR0FBSSxXQUFZOUcsTUFBTyxhQWEwQnVOLGlCQUFrQiwwQkFBQXJPLEdBQUMsT0FBSSxPQUFLc08scUJBQXFCdE8sRUFBRSxLQUUzRSxRQUFkLEdBQUFxQixLQUFLNEIsaUJBQVMsaUJBQUV5RyxRQVNoQm1ELGtFQUFLbEcsTUFBTyxDQUFDNEgsS0FBTSxPQVJuQjFCLGtFQUFLc0IsTUFBTSxTQUNUdEIsa0VBQUtzQixNQUFNLGtCQUNUdEIsb0VBQU94RyxLQUFLLFdBQVd4RyxNQUFNLE9BQU8rSCxHQUFHLHlCQUF5QnRDLEtBQUssUUFBUXdILFNBQVUsMkJBQU0sT0FBS25DLGtCQUFrQixJQUNwSGtDLG9FQUFPMkIsUUFBUSw0QkFFakIzQiw2SEFLSkEsNkVBQWdCNEIsS0FBSyxRQUFRM04sTUFBT08sS0FBS3NJLGdCQUFpQnRDLFdBQXlCLFFBQWQsR0FBQWhHLEtBQUs0QixpQkFBUyxpQkFBRXlHLFFBQVFnRixRQUFTLDBCQUFNLE9BQUtyQixZQUFZLFNBTXJILFFBQWQsR0FBQWhNLEtBQUs0QixpQkFBUyxpQkFBRXlHLFFBQWlDbUQsa0VBQUtsRyxNQUFPLENBQUNnRixRQUFTLFVBQTlDa0Isa0VBQUtzQixNQUFNLFVBRXRDdEIsa0VBQUtzQixNQUFNLFlBQ1I5TSxLQUFLeUksT0FDSitDLGtFQUFLc0IsTUFBTSxTQUNUdEIsMkVBQ0V4SyxXQUFZaEIsS0FBS2dCLFdBQ2pCTixTQUFVVixLQUFLVSxTQUNmNE0sZUFBZ0Isd0JBQUEzTyxHQUFDLE9BQUksT0FBSzZOLG1CQUFtQjdOLEVBQUUsRUFDL0M0TyxXQUFZLENBQ1YsQ0FBQ3RKLEtBQU0sT0FBUWUsS0FBTSxVQUNyQixDQUFDZixLQUFNLFdBQVllLEtBQU0sV0FLL0J3RyxtRixLQUtULFlBaGFxQixHLGtCQ3hCRCx3aUciLCJmaWxlIjoiMTcuYjk5ODEzNmYuaWZyYW1lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l2ZW4gYSBgcmdiYShyLGcsYixhKWAgc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudCwgZHJvcHBpbmcgdGhlIGFscGhhIGNoYW5uZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0IocmdiYSkge1xuICAgIHZhciByZ2JOdW1iZXJzID0gcmdiYS5yZXBsYWNlKCdyZ2JhKCcsICcnKS5yZXBsYWNlKCcpJywgJycpLnNwbGl0KCcsJyk7XG4gICAgdmFyIHJnYk9iamVjdCA9IHtcbiAgICAgICAgcmVkOiArcmdiTnVtYmVyc1swXSxcbiAgICAgICAgZ3JlZW46ICtyZ2JOdW1iZXJzWzFdLFxuICAgICAgICBibHVlOiArcmdiTnVtYmVyc1syXSxcbiAgICAgICAgYWxwaGE6ICtyZ2JOdW1iZXJzWzNdLFxuICAgIH07XG4gICAgdmFyIGFscGhhID0gMSAtIHJnYk9iamVjdC5hbHBoYTtcbiAgICB2YXIgcmVkID0gTWF0aC5yb3VuZCgocmdiT2JqZWN0LmFscGhhICogKHJnYk9iamVjdC5yZWQgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICB2YXIgZ3JlZW4gPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmdyZWVuIC8gMjU1KSArIGFscGhhKSAqIDI1NSk7XG4gICAgdmFyIGJsdWUgPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmJsdWUgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICByZXR1cm4gJyMnICsgcmdiVG9IZXgocmVkKSArIHJnYlRvSGV4KGdyZWVuKSArIHJnYlRvSGV4KGJsdWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhbiBSR0Igc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudC5cbiAqL1xuZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XG4gICAgdmFyIGhleCA9IHJnYi50b1N0cmluZygxNik7XG4gICAgaWYgKGhleC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0JBKHJvbGVJbmRleCkge1xuICAgIHN3aXRjaCAocm9sZUluZGV4ICUgMTApIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJbmRleCA9PT0gMCA/ICdyZ2JhKDI1NSwgMTkzLCA3LCAwLjQpJyA6ICdyZ2JhKDEzNCwgMTM0LCAxMzQsIDAuMyknOyAvLyAjRkZFNjlDXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxNTYsIDM5LCAxNzYsIC40KSc7IC8vICcjRTNDM0U5J1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMzMsIDE1MCwgMjQzLCAuNCknOyAvLyAnI0MxRTFGQidcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyMCwgMjMxLCAxMTcsIDAuMyknO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTIxLCAxMzQsIDIwMywgMC4zKSc7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg3NywgMTgyLCAxNzIsIDAuMyknO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyMDIsIDE2NSwgMC4zKSc7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyLCAyNDcsIDE5MCwgMC4zKSc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDEzOCwgMTAxLCAwLjMpJztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDgyLCAyNTUsIDc5LCAwLjMpJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjksIDExNSwgMTU1LCAwLjMpJztcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGEgcm9sZSBuYW1lLCByZXR1cm4gYSBjb2xvciBjb2RlIGZvciBpdC4gVGhpcyB3b3JrcyBieSBjb21wdXRpbmcgYSBoYXNoIGNvZGUgc28gdGhlIHNwZWNpZmljIGNvbG9yIHJldHVybmVkXG4gKiBpcyBub3Qgc3BlY2lmaWVkIGV4cGxpY2l0bHksIGJ1dCB3aWxsIGJlIHRoZSBzYW1lIGZvciBldmVyeSBjYWxsIHdpdGggdGhlIHNhbWUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYW1lVG9SR0JBKHN0cikge1xuICAgIGlmICghIXN0cikge1xuICAgICAgICB2YXIgdmFsaWROdW0gPSBwYXJzZUludChzdHIuc2xpY2UoLTEpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4odmFsaWROdW0pKSB7XG4gICAgICAgICAgICBzdHIgKz0gKHZhbGlkTnVtICogOTkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc2ggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzaCA9IE1hdGgucm91bmQoaGFzaCAvIDEuMyk7XG4gICAgICAgIHZhciBjID0gKGhhc2ggJiAweDAwZmZmZjA4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgdmFyIGhleCA9ICcjJyArICcwMDAwMCcuc3Vic3RyaW5nKDAsIDYgLSBjLmxlbmd0aCkgKyBjO1xuICAgICAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgICAgIHZhciBjb2xvciA9IHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIi5jb25jYXQoY29sb3IuciwgXCIsIFwiKS5jb25jYXQoY29sb3IuZywgXCIsIFwiKS5jb25jYXQoY29sb3IuYiwgXCIsIDAuMilcIik7XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gb2J0YWluIGEgY29sb3IgY29kZSBnaXZlbiBhIHJvbGUgbmFtZSBnaXZlbiB2YXJpb3VzIHBvc3NpYmxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvbGVDb2xvcihuYW1lLCByb2xlcywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGdldFJHQkEoaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciByb2xlSW5kZXggPSByb2xlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHJvbGUpIHsgcmV0dXJuIHJvbGUubmFtZSA9PT0gbmFtZTsgfSk7XG4gICAgICAgIGlmIChyb2xlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvbGVzW3JvbGVJbmRleF0ucmdiYSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZVRvUkdCQShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hbWVUb1JHQkEobmFtZSk7XG4gICAgfVxufVxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IGRlY29kZUFjY2Vzc1Rva2VuQm9keSB9IGZyb20gJy4uL1V0aWxzL1Rva2VuJztcbi8qKlxuICogQ3JlYXRlIGFuIGVudmVsb3BlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtFbnZlbG9wZXMsIElDcmVhdGVFbnZlbG9wZVJvbGUsIElDcmVhdGVFbnZlbG9wZVJlcXVlc3R9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMnO1xuICpcbiAqIGNvbnN0IHJvbGUxOiBJQ3JlYXRlRW52ZWxvcGVSb2xlID0ge1xuICogICB0eXBlOiAnc2lnbmVyJyxcbiAqICAgbmFtZTogJ1NlbGxlcicsXG4gKiAgIGZ1bGxfbmFtZTogJ1BhaWdlIFR1cm5lcicsXG4gKiAgIGVtYWlsOiAncGFpZ2UudHVybmVyQG5vbWFpbC5jb20nLFxuICogICBwaG9uZTogJycsXG4gKiAgIHNlcXVlbmNlOiAxLFxuICogICBkZWxlZ2F0b3I6IGZhbHNlLFxuICogICBtZXNzYWdlOiAnJyxcbiAqIH07XG4gKlxuICogY29uc3Qgcm9sZTI6IElDcmVhdGVFbnZlbG9wZVJvbGUgPSB7XG4gKiAgIHR5cGU6ICdzaWduZXInLFxuICogICBuYW1lOiAnQnV5ZXInLFxuICogICBmdWxsX25hbWU6ICdXaWxsIFBvd2VyJyxcbiAqICAgZW1haWw6ICd3aWxsLnBvd2VyQG5vbWFpbC5jb20nLFxuICogICBwaG9uZTogJycsXG4gKiAgIHNlcXVlbmNlOiAyLFxuICogICBkZWxlZ2F0b3I6IGZhbHNlLFxuICogICBtZXNzYWdlOiAnJyxcbiAqIH07XG4gKlxuICogY29uc3QgcmVxdWVzdDogSUNyZWF0ZUVudmVsb3BlUmVxdWVzdCA9IHt0ZW1wbGF0ZV9pZDogJ2QyMzM4NzQyLWYzYTEtNDY1Yi04NTkyLTgwNjU4NzQxM2NjMScsIG5hbWU6ICdCaWxsIG9mIFNhbGUnLCByb2xlczogW3JvbGUxLCByb2xlMl19O1xuICogY29uc3Qge2lkLCByZWNpcGllbnRzfSA9IGF3YWl0IEVudmVsb3Blcy5jcmVhdGVFbnZlbG9wZShWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpLCByZXF1ZXN0KTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGNyZWF0ZUVudmVsb3BlID0gZnVuY3Rpb24gKGVuZHBvaW50LCByZXF1ZXN0KSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5wb3N0KCcvZW52ZWxvcGVzJywgcmVxdWVzdClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogR2V0IGEgc3VtbWFyeSBvZiBjdXJyZW50bHkgYWN0aXZlIGVudmVsb3Blcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0VudmVsb3Blc30gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0VudmVsb3Blcyc7XG4gKlxuICogY29uc3Qge2FjdGlvbl9yZXF1aXJlZCwgY29tcGxldGVkLCB3YWl0aW5nX29uX290aGVyc30gPSBhd2FpdCBFbnZlbG9wZXMuZ2V0U3VtbWFyeShWZXJkb2NzRW5kcG9pbnQuZ2V0RGVmYXVsdCgpKTtcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIGdldFN1bW1hcnkgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHBhZ2UpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9lbnZlbG9wZXMvc3VtbWFyeScsIHsgcGFnZTogcGFnZSB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBTZWFyY2ggZm9yIGVudmVsb3BlcyBtYXRjaGluZyB2YXJpb3VzIGNyaXRlcmlhLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7RW52ZWxvcGVzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzJztcbiAqXG4gKiBjb25zdCB7cmVzdWx0LCBwYWdlLCB0b3RhbH0gPSBhd2FpdCBFbnZlbG9wZXMuc2VhcmNoKFZlcmRvY3NFbmRwb2ludC5nZXREZWZhdWx0KCksIHsgLi4uIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgc2VhcmNoRW52ZWxvcGVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9lbnZlbG9wZXMvc2VhcmNoJywgcGFyYW1zKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBHZXQgYSBzaWduaW5nIHNlc3Npb24gZm9yIGFuIEVudmVsb3BlLlxuICovXG5leHBvcnQgdmFyIGdldFNpZ25pbmdTZXNzaW9uID0gZnVuY3Rpb24gKGVuZHBvaW50LCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KHBhcmFtcy5lbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5yb2xlSWQpLCBcIi9pbnZpdGF0aW9uL1wiKS5jb25jYXQocGFyYW1zLmludml0ZUNvZGUpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZGluZyBhIGpzb253ZWJ0b2tlbiBkZXBlbmRlbmN5IGhlcmUgLSB3ZSBkb24ndCBhY3R1YWxseSBuZWVkIHRoZSB3aG9sZSBsaWJyYXJ5XG4gICAgICAgICAgICAgICAgdmFyIHNpZ25lclRva2VuID0gKChfYSA9IHIuaGVhZGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNpZ25lcl90b2tlbikgfHwgJyc7XG4gICAgICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBkZWNvZGVBY2Nlc3NUb2tlbkJvZHkoc2lnbmVyVG9rZW4pO1xuICAgICAgICAgICAgICAgIGVuZHBvaW50LnNldFRva2VuKChfYiA9IHIuaGVhZGVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNpZ25lcl90b2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVjaXBpZW50OiByLmRhdGEsIHNlc3Npb246IHNlc3Npb24sIHNpZ25lclRva2VuOiBzaWduZXJUb2tlbiB9O1xuICAgICAgICAgICAgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiByZWNpcGllbnRzIGZvciBhbiBFbnZlbG9wZS5cbiAqL1xuZXhwb3J0IHZhciBnZXRFbnZlbG9wZVJlY2lwaWVudHMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLmdldChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHNcIikpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIEdldCBhbGwgbWV0YWRhdGEgZm9yIGFuIEVudmVsb3BlLlxuICovXG5leHBvcnQgdmFyIGdldEVudmVsb3BlID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVuZHBvaW50LmFwaSAvL1xuICAgICAgICAgICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkKSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogR2V0IGFsbCBtZXRhZGF0YSBmb3IgYW4gRW52ZWxvcGUuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0RW52ZWxvcGVEb2N1bWVudCA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgZG9jdW1lbnRJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCwgXCIvZW52ZWxvcGVfZG9jdW1lbnRzL1wiKS5jb25jYXQoZG9jdW1lbnRJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSldO1xuICAgIH0pO1xufSk7IH07XG4vKipcbiAqIENhbmNlbCBhbiBFbnZlbG9wZS5cbiAqL1xuZXhwb3J0IHZhciBjYW5jZWxFbnZlbG9wZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAucHV0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCksIHsgYWN0aW9uOiAnY2FuY2VsJyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJlY2lwaWVudCBoYXMgYSBwZW5kaW5nIGFjdGlvbi4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgbmVjZXNzYXJpbHkgbWVhbiB0aGUgcmVjaXBpZW50IGNhbiBhY3QgKHlldCkuXG4gKi9cbmV4cG9ydCB2YXIgcmVjaXBpZW50SGFzQWN0aW9uID0gZnVuY3Rpb24gKHJlY2lwaWVudCkgeyByZXR1cm4gIVsnc3VibWl0dGVkJywgJ2NhbmNlbGVkJywgJ2RlY2xpbmVkJ10uaW5jbHVkZXMocmVjaXBpZW50LnN0YXR1cyk7IH07XG4vKipcbiAqIFJldHVybnMgdGhlIHJlY2lwaWVudHMgd2hvIHN0aWxsIGhhdmUgYSBwZW5kaW5nIGFjdGlvbi4gTm90ZSB0aGF0IG5vdCBhbGwgb2YgdGhlc2UgcmVjaXBpZW50cyBtYXkgYmUgYWJsZSB0byBhY3QgKHlldCkuXG4gKi9cbmV4cG9ydCB2YXIgZ2V0UmVjaXBpZW50c1dpdGhBY3Rpb25zID0gZnVuY3Rpb24gKGVudmVsb3BlKSB7IHJldHVybiAoKGVudmVsb3BlID09PSBudWxsIHx8IGVudmVsb3BlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbnZlbG9wZS5yZWNpcGllbnRzKSB8fCBbXSkuZmlsdGVyKHJlY2lwaWVudEhhc0FjdGlvbik7IH07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcmVjaXBpZW50IGNhbiBhY3QuXG4gKi9cbmV4cG9ydCB2YXIgcmVjaXBpZW50Q2FuQWN0ID0gZnVuY3Rpb24gKHJlY2lwaWVudCwgcmVjaXBpZW50c1dpdGhBY3Rpb25zKSB7IHZhciBfYTsgcmV0dXJuIHJlY2lwaWVudC5zZXF1ZW5jZSA9PT0gKChfYSA9IHJlY2lwaWVudHNXaXRoQWN0aW9ucyA9PT0gbnVsbCB8fCByZWNpcGllbnRzV2l0aEFjdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlY2lwaWVudHNXaXRoQWN0aW9uc1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlcXVlbmNlKTsgfTtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSB1c2VyIGNhbiBhY3QuXG4gKi9cbmV4cG9ydCB2YXIgdXNlckNhbkFjdCA9IGZ1bmN0aW9uIChlbWFpbCwgcmVjaXBpZW50c1dpdGhBY3Rpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciByZWNpcGllbnQgPSByZWNpcGllbnRzV2l0aEFjdGlvbnMuZmluZChmdW5jdGlvbiAocikgeyByZXR1cm4gci5lbWFpbCA9PT0gZW1haWw7IH0pO1xuICAgIHJldHVybiByZWNpcGllbnQgJiYgcmVjaXBpZW50LnNlcXVlbmNlID09PSAoKF9hID0gcmVjaXBpZW50c1dpdGhBY3Rpb25zID09PSBudWxsIHx8IHJlY2lwaWVudHNXaXRoQWN0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjaXBpZW50c1dpdGhBY3Rpb25zWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VxdWVuY2UpO1xufTtcbi8qKlxuICogR2V0IChiaW5hcnkgZG93bmxvYWQpIGEgZmlsZSBhdHRhY2hlZCB0byBhbiBFbnZlbG9wZS4gSXQgaXMgaW1wb3J0YW50IHRvIHVzZSB0aGlzIG1ldGhvZFxuICogcmF0aGVyIHRoYW4gYSBkaXJlY3QgQSBIUkVGIG9yIHNpbWlsYXIgbGluayB0byBzZXQgdGhlIGF1dGhvcml6YXRpb24gaGVhZGVycyBmb3IgdGhlXG4gKiByZXF1ZXN0LlxuICovXG5leHBvcnQgdmFyIGdldEVudmVsb3BlRmlsZSA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgZG9jdW1lbnRJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgICAgICAgICAuZ2V0KFwiL2VudmVsb3Blcy9cIi5jb25jYXQoZW52ZWxvcGVJZCwgXCIvZW52ZWxvcGVfZG9jdW1lbnRzL1wiKS5jb25jYXQoZG9jdW1lbnRJZCwgXCI/ZmlsZT10cnVlXCIpLCB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gQnVmZmVyLmZyb20oci5kYXRhLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpOyB9KV07XG4gICAgfSk7XG59KTsgfTtcbi8qKlxuICogVXBkYXRlIGEgRG9jdW1lbnQgZmllbGQuIFR5cGljYWxseSBjYWxsZWQgZHVyaW5nIHRoZSBzaWduaW5nIHByb2Nlc3MgYXMgYSBSZWNpcGllbnQgZmlsbHMgaW4gZmllbGRzLlxuICovXG5leHBvcnQgdmFyIHVwZGF0ZUVudmVsb3BlRmllbGQgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIGZpZWxkTmFtZSwgdmFsdWUpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL2ZpZWxkcy9cIikuY29uY2F0KGZpZWxkTmFtZSksIHZhbHVlKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuLyoqXG4gKiBVcGRhdGUgYSBEb2N1bWVudCBzaWduYXR1cmUgZmllbGQuIFNpZ25hdHVyZSBmaWVsZHMgYXJlIElELWRyaXZlbi4gQ2FsbCBgRG9jdW1lbnQuY3JlYXRlU2lnbmF0dXJlKClgIGZpcnN0IHRvIGNyZWF0ZSBhXG4gKiBzaWduYXR1cmUgZm9yIGEgUmVjaXBpZW50LCB0aGVuIGNhbGwgYERvY3VtZW50cy51cGRhdGVEb2N1bWVudEZpZWxkU2lnbmF0dXJlKClgIHRvIGF0dGFjaCBpdCB0byBhIGZpZWxkLlxuICovXG5leHBvcnQgdmFyIHVwZGF0ZUVudmVsb3BlRmllbGRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGVudmVsb3BlSWQsIGZpZWxkTmFtZSwgc2lnbmF0dXJlSWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL2ZpZWxkcy9cIikuY29uY2F0KGZpZWxkTmFtZSwgXCIvc2lnbmF0dXJlL1wiKS5jb25jYXQoc2lnbmF0dXJlSWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuIiwiLyoqXG4gKiBHZXQgYWxsIGRlZmluZWQgdmFsaWRhdG9yc1xuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7RG9jdW1lbnRzfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzJztcbiAqXG4gKiBhd2FpdCBEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKHRlbXBsYXRlSUQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgZ2V0VmFsaWRhdG9ycyA9IGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldCgnL3ZhbGlkYXRvcnMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5leHBvcnQgdmFyIGdldFZhbGlkYXRvciA9IGZ1bmN0aW9uIChlbmRwb2ludCwgdmFsaWRhdG9yTmFtZSkge1xuICAgIHJldHVybiBlbmRwb2ludC5hcGkgLy9cbiAgICAgICAgLmdldChcIi92YWxpZGF0b3JzL1wiLmNvbmNhdCh2YWxpZGF0b3JOYW1lKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xudmFyIEVNQUlMX1JFR0VYID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG5leHBvcnQgdmFyIGlzVmFsaWRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkgeyByZXR1cm4gISFlbWFpbCAmJiBFTUFJTF9SRUdFWC50ZXN0KGVtYWlsKTsgfTtcbi8vIEBzZWUgaHR0cHM6Ly93d3cucmVnZXh0ZXN0ZXIuY29tLzE5NzhcbnZhciBQSE9ORV9SRUdFWCA9IC8oKD86XFwrfDAwKVsxN10oPzogfFxcLSk/fCg/OlxcK3wwMClbMS05XVxcZHswLDJ9KD86IHxcXC0pP3woPzpcXCt8MDApMVxcLVxcZHszfSg/OiB8XFwtKT8pPygwXFxkfFxcKFswLTldezN9XFwpfFsxLTldezAsM30pKD86KCg/OiB8XFwtKVswLTldezJ9KXs0fXwoKD86WzAtOV17Mn0pezR9KXwoKD86IHxcXC0pWzAtOV17M30oPzogfFxcLSlbMC05XXs0fSl8KFswLTldezd9KSkvO1xuZXhwb3J0IHZhciBpc1ZhbGlkUGhvbmUgPSBmdW5jdGlvbiAocGhvbmUpIHsgcmV0dXJuICEhcGhvbmUgJiYgUEhPTkVfUkVHRVgudGVzdChwaG9uZSk7IH07XG5leHBvcnQgdmFyIGlzVmFsaWRSb2xlTmFtZSA9IGZ1bmN0aW9uICh2YWx1ZSwgcm9sZXMpIHsgcmV0dXJuIHJvbGVzLmZpbmRJbmRleChmdW5jdGlvbiAocm9sZSkgeyByZXR1cm4gcm9sZS5uYW1lID09PSB2YWx1ZTsgfSkgIT09IC0xOyB9O1xudmFyIFRhZ1JlZ0V4ID0gL15bYS16QS1aMC05LV17MCwzMn0kLztcbmV4cG9ydCB2YXIgaXNWYWxpZFRhZyA9IGZ1bmN0aW9uICh2YWx1ZSwgdGFncykgeyByZXR1cm4gVGFnUmVnRXgudGVzdCh2YWx1ZSkgfHwgdGFncy5maW5kSW5kZXgoZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gdGFnLm5hbWUgPT09IHZhbHVlOyB9KSAhPT0gLTE7IH07XG4iLCIvKipcbiAqIFBhc3NlZCB0byBwYXJlbnQgY29tcG9uZW50cyBpbiBjZXJ0YWluIGNhbGxiYWNrcyB3aXRoIHRoZSBsb3dlci1sZXZlbCBKUy1TREsgZW1pdHMgYW4gZXJyb3JcbiAqL1xuZXhwb3J0IGNsYXNzIFNES0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb2RlO1xuICBzdGF0dXNDb2RlO1xuICByZXNwb25zZTtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlciwgcmVzcG9uc2U6IGFueSkge1xuICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1NESyBFcnJvcicpO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRSVG9wKHksIGZpZWxkSGVpZ2h0LCBpVGV4dEhlaWdodCwgeVJhdGlvKSB7XG4gICAgcmV0dXJuIGlUZXh0SGVpZ2h0IC0gKHkgKyBmaWVsZEhlaWdodCkgKiB5UmF0aW87XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UkxlZnQoeCwgcmF0aW8pIHtcbiAgICByZXR1cm4geCAqIHJhdGlvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJWYWx1ZSh5LCByYXRpbykge1xuICAgIHJldHVybiB5ICogcmF0aW87XG59XG5leHBvcnQgZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGltYWdlKSB7XG4gICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZpbGVSZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdQcm9ibGVtIHJlYWRpbmcgYmxvYi4nKSk7XG4gICAgICAgIH07XG4gICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb2x2ZShmaWxlUmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzY2FsZShyLCBuKSB7XG4gICAgcmV0dXJuIHIgKiBuO1xufVxuIiwiLy8gVGhlc2Ugc2hvdWxkIHByb2JhYmx5IGFsbCBtb3ZlIHRvIEpTLVNES1xuaW1wb3J0IHtyZXNjYWxlfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvRmllbGRzJztcbi8vIGltcG9ydCB7Z2V0UkdCQX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1V0aWxzL0NvbG9ycyc7XG5pbXBvcnQge0lUZW1wbGF0ZUZpZWxkfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1R5cGVzJztcbmltcG9ydCB7SURvY3VtZW50RmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRQYWdlSW5mb30gZnJvbSAnLi9UeXBlcyc7XG5cbmV4cG9ydCBjb25zdCBpbnRlZ2VyU2VxdWVuY2UgPSAoc3RhcnQ6IG51bWJlciwgY291bnQ6IG51bWJlcik6IG51bWJlcltdID0+XG4gIEFycmF5KGNvdW50KVxuICAgIC5maWxsKDEpXG4gICAgLm1hcCgoXywgaW5kZXgpID0+IGluZGV4ICsgc3RhcnQpO1xuXG5leHBvcnQgY29uc3QgZnVsbE5hbWVUb0luaXRpYWxzID0gKG5hbWU6IHN0cmluZykgPT5cbiAgbmFtZVxuICAgIC5zcGxpdCgnICcpXG4gICAgLm1hcCh3b3JkID0+IHdvcmRbMF0pXG4gICAgLmpvaW4oJycpO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFdpZHRoID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkKSA9PiB7XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgcmV0dXJuIDI0O1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgIHJldHVybiAxNDtcbiAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgcmV0dXJuIDgyO1xuICB9XG5cbiAgcmV0dXJuIDE1MDtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0SGVpZ2h0ID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkKSA9PiB7XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgcmV0dXJuIDI0O1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgIHJldHVybiAxNDtcbiAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgICAgcmV0dXJuIDQxO1xuICB9XG5cbiAgcmV0dXJuIDUwO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldENvbnRyb2xTdHlsZXMgPSAoZWw6IEhUTUxFbGVtZW50LCBmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCwgeFNjYWxlOiBudW1iZXIsIHlTY2FsZTogbnVtYmVyLCBvcHRpb24/OiBudW1iZXIpID0+IHtcbiAgY29uc3Qgc2V0dGluZ3MgPSAoZmllbGQgYXMgSVRlbXBsYXRlRmllbGQpLnNldHRpbmcgfHwgKGZpZWxkIGFzIElEb2N1bWVudEZpZWxkKS5zZXR0aW5ncztcbiAgbGV0IHt4ID0gMCwgeSA9IDAsIHdpZHRoID0gZGVmYXVsdFdpZHRoKGZpZWxkKSwgaGVpZ2h0ID0gZGVmYXVsdEhlaWdodChmaWVsZCl9ID0gc2V0dGluZ3M7XG5cbiAgY29uc3Qgb3B0aW9uU2V0dGluZ3MgPSBvcHRpb24gIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy5vcHRpb25zW29wdGlvbl0gPyBzZXR0aW5ncy5vcHRpb25zW29wdGlvbl0gOiBudWxsO1xuICBpZiAob3B0aW9uU2V0dGluZ3MpIHtcbiAgICB4ID0gb3B0aW9uU2V0dGluZ3MueCA/PyB4O1xuICAgIHkgPSBvcHRpb25TZXR0aW5ncy55ID8/IHk7XG4gICAgd2lkdGggPSBvcHRpb25TZXR0aW5ncy53aWR0aCA/PyB3aWR0aDtcbiAgICBoZWlnaHQgPSBvcHRpb25TZXR0aW5ncy5oZWlnaHQgPz8gaGVpZ2h0O1xuICB9XG5cbiAgZWwuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gIGVsLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gIGVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgZWwuc3R5bGUubGVmdCA9IGAke3Jlc2NhbGUoeFNjYWxlLCB4KX1weGA7XG4gIGVsLnN0eWxlLmJvdHRvbSA9IGAke3Jlc2NhbGUoeVNjYWxlLCB5KX1weGA7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3hTY2FsZX0sICR7eVNjYWxlfSlgO1xuICAvLyBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmaWVsZFsncmdiYSddIHx8IGdldFJHQkEocm9sZUluZGV4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZElkID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkKSA9PiB7XG4gIHJldHVybiBgdmVyZG9jcy1kb2MtZmxkLSR7ZmllbGQubmFtZX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpZWxkT3B0aW9uSWQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBgdmVyZG9jcy1kb2MtZmxkLSR7ZmllbGQubmFtZX0tJHtpbmRleH1gO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlckRvY3VtZW50RmllbGQgPSAoXG4gIGZpZWxkOiBJVGVtcGxhdGVGaWVsZCxcbiAgZG9jUGFnZTogSURvY3VtZW50UGFnZUluZm8sXG4gIHJvbGVJbmRleDogbnVtYmVyLFxuICBoYW5kbGVGaWVsZENoYW5nZTogKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCwgZTogYW55LCBvcHRpb25JZD86IHN0cmluZykgPT4gdm9pZCxcbiAgZGlzYWJsZWQ6IGJvb2xlYW4sXG4gIGVkaXRhYmxlOiBib29sZWFuID0gZmFsc2UsXG4gIGRyYWdnYWJsZTogYm9vbGVhbiA9IGZhbHNlLFxuKSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9jUGFnZS5jb250YWluZXJJZCArICctY29udHJvbHMnKTtcbiAgaWYgKCFjb250cm9sc0Rpdikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgIGNhc2UgJ2RhdGUnOlxuICAgIGNhc2UgJ2Ryb3Bkb3duJzpcbiAgICBjYXNlICdpbml0aWFsJzpcbiAgICBjYXNlICdwYXltZW50JzpcbiAgICBjYXNlICdzaWduYXR1cmUnOlxuICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgIGNhc2UgJ3RleHRib3gnOiB7XG4gICAgICBjb25zdCBpZCA9IGdldEZpZWxkSWQoZmllbGQpO1xuICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIGlmIChleGlzdGluZ0ZpZWxkKSB7XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtJHtmaWVsZC50eXBlfWApO1xuICAgICAgZWwuZmllbGQgPSBmaWVsZDtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIHJvbGVJbmRleCk7XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkcmFnZ2FibGUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpZWxkQ2hhbmdlJywgZSA9PiBoYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSkpO1xuICAgICAgc2V0Q29udHJvbFN0eWxlcyhlbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICBjb250cm9sc0Rpdi5hcHBlbmRDaGlsZChlbCk7XG5cbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgICBmaWVsZC5zZXR0aW5nLm9wdGlvbnMuZm9yRWFjaCgoXywgY2hlY2tib3hJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldEZpZWxkT3B0aW9uSWQoZmllbGQsIGNoZWNrYm94SW5kZXgpO1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2JFbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC1jaGVja2JveGApO1xuICAgICAgICBjYkVsLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ3JvbGVpbmRleCcsIHJvbGVJbmRleCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdvcHRpb24nLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2JFbC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZENoYW5nZScsIGUgPT4gaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpKTtcbiAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhjYkVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlKTtcbiAgICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQoY2JFbCk7XG5cbiAgICAgICAgcmV0dXJuIGNiRWw7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgZmllbGQuc2V0dGluZy5vcHRpb25zLmZvckVhY2goKF8sIGJ1dHRvbkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRPcHRpb25JZChmaWVsZCwgYnV0dG9uSW5kZXgpO1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgICAgIHNldENvbnRyb2xTdHlsZXMoZXhpc3RpbmdGaWVsZCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2JFbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC1yYWRpby1idXR0b25gKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdyb2xlaW5kZXgnLCByb2xlSW5kZXgpO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnb3B0aW9uJywgYnV0dG9uSW5kZXgpO1xuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpZWxkQ2hhbmdlJywgZSA9PiBoYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSkpO1xuICAgICAgICBzZXRDb250cm9sU3R5bGVzKGNiRWwsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgY29udHJvbHNEaXYuYXBwZW5kQ2hpbGQoY2JFbCk7XG5cbiAgICAgICAgcmV0dXJuIGNiRWw7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBjYXNlICdhdHRhY2htZW50JzpcbiAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1hdHRhY2htZW50Jyk7XG4gICAgLy8gICBlbC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcmVzdWx0IHx8ICcnKTtcbiAgICAvLyAgIGJyZWFrO1xuICAgIC8vIGNhc2UgJ3BheW1lbnQnOlxuICAgIC8vICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLWZpZWxkLXBheW1lbnQnKTtcbiAgICAvLyAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmxvZygnW1BSRVZJRVddIFNraXBwaW5nIHVuc3VwcG9ydGVkIGZpZWxkIHR5cGUnLCBmaWVsZCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJvbGVJbmRleCA9IChyb2xlczogc3RyaW5nW10sIHJvbGU6IHN0cmluZykgPT4gcm9sZXMuaW5kZXhPZihyb2xlKSB8fCAwO1xuXG4vLyBUT0RPOiBXZSBjYW4gY2xlYW4gdGhpcyB1cCBhIGxvdCBpZiB3ZSBhbHRlciB0aGUgQVBJIHRvIGVtaXQgYm90aCBzZXR0aW5nIGFuZCBzZXR0aW5ncyByZWdhcmRsZXNzIG9mIHRoZSBzb3VyY2UgdHlwZSxcbi8vICAgYnV0IHRoZW4gbWVyZ2UgdGhlIFNESyB0eXBlcyB0byBlbmNvdXJhZ2UgZGV2ZWxvcGVycyB0byB1c2UganVzdCBgc2V0dGluZ3NgLlxuZXhwb3J0IGNvbnN0IGdldEZpZWxkU2V0dGluZ3MgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgaWYgKChmaWVsZCBhcyBJVGVtcGxhdGVGaWVsZCkuc2V0dGluZykge1xuICAgIHJldHVybiAoZmllbGQgYXMgSVRlbXBsYXRlRmllbGQpLnNldHRpbmc7XG4gIH1cblxuICBpZiAoKGZpZWxkIGFzIElEb2N1bWVudEZpZWxkKS5zZXR0aW5ncykge1xuICAgIHJldHVybiAoZmllbGQgYXMgSURvY3VtZW50RmllbGQpLnNldHRpbmdzO1xuICB9XG5cbiAgcmV0dXJuIHt4OiAwLCB5OiAwLCByZXF1aXJlZDogZmFsc2UsIGRpc2FibGVkOiBmYWxzZSwgcmVzdWx0OiAnJywgdmFsdWU6ICcnfTtcbn07XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogVXBkYXRlIGEgcmVjaXBpZW50J3Mgc3RhdHVzIGJsb2NrXG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlUmVjaXBpZW50U3RhdHVzID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlbnZlbG9wZUlkLCByb2xlTmFtZSwgYWN0aW9uLCBwYXJhbXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgICAgICAgICAgLnB1dChcIi9lbnZlbG9wZXMvXCIuY29uY2F0KGVudmVsb3BlSWQsIFwiL3JlY2lwaWVudHMvXCIpLmNvbmNhdChyb2xlTmFtZSksIF9fYXNzaWduKHsgcm9sZV9uYW1lOiByb2xlTmFtZSwgYWN0aW9uOiBhY3Rpb24gfSwgKHBhcmFtcyB8fCB7fSkpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmRhdGE7IH0pXTtcbiAgICB9KTtcbn0pOyB9O1xuZXhwb3J0IHZhciBnZXRTaWduZXJUb2tlbiA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHJvbGVOYW1lKSwgXCIvc2lnbmVyLXRva2VuXCIpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5kYXRhOyB9KTtcbn07XG5leHBvcnQgdmFyIGdldEluUGVyc29uTGluayA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZW52ZWxvcGVJZCwgcm9sZU5hbWUpIHtcbiAgICByZXR1cm4gZW5kcG9pbnQuYXBpIC8vXG4gICAgICAgIC5nZXQoXCIvZW52ZWxvcGVzL1wiLmNvbmNhdChlbnZlbG9wZUlkLCBcIi9yZWNpcGllbnRzL1wiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHJvbGVOYW1lKSwgXCI/aW5fcGVyc29uX2xpbms9dHJ1ZVwiKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGF0YTsgfSk7XG59O1xuIiwiaW1wb3J0IHtFdmVudCwgRXZlbnRFbWl0dGVyLCBIb3N0fSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7VmVyZG9jc0VuZHBvaW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsnO1xuaW1wb3J0IHtFbnZlbG9wZXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMnO1xuaW1wb3J0IHtnZXRSR0JBfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvQ29sb3JzJztcbmltcG9ydCB7cmVzY2FsZX0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1V0aWxzL0ZpZWxkcyc7XG5pbXBvcnQge0NvbXBvbmVudCwgUHJvcCwgU3RhdGUsIGh9IGZyb20gJ0BzdGVuY2lsL2NvcmUnO1xuaW1wb3J0IHt1cGRhdGVSZWNpcGllbnRTdGF0dXN9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9FbnZlbG9wZXMvUmVjaXBpZW50cyc7XG5pbXBvcnQge2lzVmFsaWRFbWFpbCwgaXNWYWxpZFBob25lfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVGVtcGxhdGVzL1ZhbGlkYXRvcnMnO1xuaW1wb3J0IHtJRW52ZWxvcGUsIElEb2N1bWVudEZpZWxkLCBJUmVjaXBpZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRW52ZWxvcGVzL1R5cGVzJztcbmltcG9ydCB7SVBhZ2VSZW5kZXJFdmVudH0gZnJvbSAnLi4vdmVyZG9jcy12aWV3L3ZlcmRvY3Mtdmlldyc7XG5pbXBvcnQge2dldEZpZWxkSWQsIHNldENvbnRyb2xTdHlsZXN9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7SURvY3VtZW50UGFnZUluZm99IGZyb20gJy4uLy4uLy4uL3V0aWxzL1R5cGVzJztcbmltcG9ydCB7U0RLRXJyb3J9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9ycyc7XG5cbi8qKlxuICogRGlzcGxheSBhIGRvY3VtZW50IHNpZ25pbmcgZXhwZXJpZW5jZS5cbiAqXG4gKiAqKipOT1RFOiBUaGlzIHNhbXBsZSBkb2N1bWVudCB3aWxsIHJlc2V0IGV2ZXJ5IDEwIG1pbnV0ZXMuLi4qKipcbiAqL1xuQENvbXBvbmVudCh7XG4gIHRhZzogJ3ZlcmRvY3Mtc2lnbicsXG4gIHN0eWxlVXJsOiAndmVyZG9jcy1zaWduLnNjc3MnLFxuICBzaGFkb3c6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBWZXJkb2NzU2lnbiB7XG4gIC8qKlxuICAgKiBUaGUgZW5kcG9pbnQgdG8gdXNlIHRvIGNvbW11bmljYXRlIHdpdGggVmVyZG9jcy4gSWYgbm90IHNldCwgdGhlIGRlZmF1bHQgZW5kcG9pbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgQFByb3AoKSBlbmRwb2ludDogVmVyZG9jc0VuZHBvaW50ID0gVmVyZG9jc0VuZHBvaW50LmdldERlZmF1bHQoKTtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBlbnZlbG9wZSB0byBzaWduLlxuICAgKi9cbiAgQFByb3AoKSBlbnZlbG9wZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHJvbGUgdGhhdCB3aWxsIGJlIHNpZ25pbmcuXG4gICAqL1xuICBAUHJvcCgpIHJvbGVJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnZpdGUgY29kZSBmb3IgdGhlIHNpZ25lci5cbiAgICovXG4gIEBQcm9wKCkgaW52aXRlQ29kZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIGlmIGFuIGVycm9yIG9jY3Vycy4gVGhlIGV2ZW50IGRldGFpbHMgd2lsbCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gTW9zdCBlcnJvcnMgd2lsbFxuICAgKiB0ZXJtaW5hdGUgdGhlIHByb2Nlc3MsIGFuZCB0aGUgY2FsbGluZyBhcHBsaWNhdGlvbiBzaG91bGQgY29ycmVjdCB0aGUgY29uZGl0aW9uIGFuZCByZS1yZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBzZGtFcnJvcjogRXZlbnRFbWl0dGVyPFNES0Vycm9yPjtcblxuICBAU3RhdGUoKSByZWNpcGllbnQ6IElSZWNpcGllbnQgfCBudWxsID0gbnVsbDtcblxuICBAU3RhdGUoKSBzaWduZXJUb2tlbiA9IG51bGw7XG4gIEBTdGF0ZSgpIHBkZlVybCA9IG51bGw7XG4gIEBTdGF0ZSgpIHJlY2lwaWVudEluZGV4OiBudW1iZXIgPSAtMTtcbiAgQFN0YXRlKCkgZW52ZWxvcGU6IElFbnZlbG9wZSB8IG51bGwgPSBudWxsO1xuICBAU3RhdGUoKSBmaWVsZHM6IElEb2N1bWVudEZpZWxkW10gPSBbXTtcblxuICBAU3RhdGUoKSBoYXNTaWduYXR1cmUgPSBmYWxzZTtcblxuICBAU3RhdGUoKSBuZXh0QnV0dG9uTGFiZWwgPSAnU3RhcnQnO1xuXG4gIEBTdGF0ZSgpIGZvY3VzZWRGaWVsZCA9ICcnO1xuXG4gIGFzeW5jIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBbU0lHTl0gUHJvY2Vzc2luZyBpbnZpdGUgY29kZSBmb3IgJHt0aGlzLmVudmVsb3BlSWR9IC8gJHt0aGlzLmVudmVsb3BlSWR9YCk7XG4gICAgICBjb25zdCB7c2Vzc2lvbiwgcmVjaXBpZW50LCBzaWduZXJUb2tlbn0gPSBhd2FpdCBFbnZlbG9wZXMuZ2V0U2lnbmluZ1Nlc3Npb24odGhpcy5lbmRwb2ludCwge1xuICAgICAgICBlbnZlbG9wZUlkOiB0aGlzLmVudmVsb3BlSWQsXG4gICAgICAgIHJvbGVJZDogdGhpcy5yb2xlSWQsXG4gICAgICAgIGludml0ZUNvZGU6IHRoaXMuaW52aXRlQ29kZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhgW1NJR05dIEdvdCBzaWduaW5nIHNlc3Npb24gJHtzZXNzaW9uLmVtYWlsfSAvICR7c2Vzc2lvbi5wcm9maWxlX2lkfWApO1xuXG4gICAgICB0aGlzLnJlY2lwaWVudCA9IHJlY2lwaWVudDtcbiAgICAgIHRoaXMuc2lnbmVyVG9rZW4gPSBzaWduZXJUb2tlbjtcbiAgICAgIHRoaXMuZW5kcG9pbnQuc2V0VG9rZW4oc2lnbmVyVG9rZW4pO1xuXG4gICAgICBpZiAodGhpcy5yZWNpcGllbnQuYWdyZWVkKSB7XG4gICAgICAgIHRoaXMubmV4dEJ1dHRvbkxhYmVsID0gJ05leHQnO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbnZlbG9wZSA9IGF3YWl0IEVudmVsb3Blcy5nZXRFbnZlbG9wZSh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQpO1xuICAgICAgdGhpcy5lbnZlbG9wZSA9IGVudmVsb3BlO1xuICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBTaWduaW5nIGRvY3VtZW50JywgZG9jdW1lbnQpO1xuXG4gICAgICB0aGlzLnBkZlVybCA9IGAke3RoaXMuZW5kcG9pbnQuZ2V0QmFzZVVSTCgpfS9kb2N1bWVudHMvJHt0aGlzLmVudmVsb3BlSWR9L2VudmVsb3BlX2RvY3VtZW50cy8ke2VudmVsb3BlLmVudmVsb3BlX2RvY3VtZW50X2lkfT9maWxlPXRydWVgO1xuXG4gICAgICB0aGlzLnJlY2lwaWVudEluZGV4ID0gdGhpcy5lbnZlbG9wZS5yZWNpcGllbnRzLmZpbmRJbmRleChyZWNpcGllbnQgPT4gcmVjaXBpZW50LnJvbGVfbmFtZSA9PSB0aGlzLnJvbGVJZCk7XG4gICAgICBpZiAodGhpcy5yZWNpcGllbnRJbmRleCA+IC0xKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCByZWNpcGllbnQnLCB0aGlzLmVudmVsb3BlLnJlY2lwaWVudHNbdGhpcy5yZWNpcGllbnRJbmRleF0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZpZWxkcyA9IHRoaXMuZW52ZWxvcGUuZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5yZWNpcGllbnRfcm9sZSA9PT0gdGhpcy5yb2xlSWQpO1xuICAgICAgY29uc29sZS5sb2coJ0xvYWRlZCBmaWVsZHMnLCB0aGlzLmZpZWxkcyk7XG5cbiAgICAgIC8vIFRPRE86IEZpeCBzZXJ2aWNlIHRvIGFsbG93IHRoaXM/XG4gICAgICAvLyBjb25zdCBzaWdzID0gYXdhaXQgZ2V0U2lnbmF0dXJlcygpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3NpZ3MnLCBzaWdzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3Igd2l0aCBzaWduaW5nIHNlc3Npb24nLCBlKTtcbiAgICAgIHRoaXMuc2RrRXJyb3I/LmVtaXQobmV3IFNES0Vycm9yKGUubWVzc2FnZSwgZS5yZXNwb25zZT8uc3RhdHVzLCBlLnJlc3BvbnNlPy5kYXRhKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xpY2tBZ3JlZSgpIHtcbiAgICBjb25zb2xlLmxvZygnYWdyZWUgY2xpY2tlZCcpO1xuICAgIHVwZGF0ZVJlY2lwaWVudFN0YXR1cyh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIHRoaXMucm9sZUlkLCAndXBkYXRlJywge2FncmVlZDogdHJ1ZX0pXG4gICAgICAudGhlbihyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZSByZXN1bHQnLCByKTtcbiAgICAgICAgdGhpcy5uZXh0QnV0dG9uTGFiZWwgPSAnTmV4dCc7XG4gICAgICAgIHRoaXMucmVjaXBpZW50ID0gcjtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGUgZmFpbHVyZScsIGUpO1xuICAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyBzYXZlUERGKCkge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7dGhpcy5lbnZlbG9wZS5uYW1lfSAtICR7dGhpcy5lbnZlbG9wZS51cGRhdGVkX2F0LnNwbGl0KCdUJylbMF19LnBkZmA7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IEVudmVsb3Blcy5nZXRFbnZlbG9wZUZpbGUodGhpcy5lbmRwb2ludCwgdGhpcy5lbnZlbG9wZUlkLCB0aGlzLmVudmVsb3BlLmVudmVsb3BlX2RvY3VtZW50X2lkKTtcblxuICAgIC8vIFRoaXMgaXMgYmV0dGVyIGluIFJlYWN0IHRoYW4gZG9pbmcgd2luZG93LmhyZWY9IG9yIHNpbWlsYXIgdG8gdHJpZ2dlciBhIGRvd25sb2FkLiBGb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgdGVjaG5pcXVlXG4gICAgLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzgxMjY2MjMvZG93bmxvYWRpbmctY2FudmFzLWVsZW1lbnQtdG8tYW4taW1hZ2VcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh4aHIucmVzcG9uc2UpO1xuICAgICAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgICAgYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgIGEuY2xpY2soKTtcbiAgICAgIGEucmVtb3ZlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVybCA9IGBkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJHtkYXRhfWA7XG4gICAgY29uc29sZS5sb2coJ3VybCcsIHVybC5sZW5ndGgsIHVybCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIGBkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJHtkYXRhfWApO1xuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBhc3luYyBoYW5kbGVPcHRpb25TZWxlY3RlZChlKSB7XG4gICAgc3dpdGNoIChlLmRldGFpbC5pZCkge1xuICAgICAgY2FzZSAnbGF0ZXInOlxuICAgICAgICAvLyB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbYHZpZXcvc2lnbi8ke3RoaXMuZW52ZWxvcGVJZH0vcm9sZS8ke3RoaXMucm9sZU5hbWV9L3NhdmVkYF0pO1xuICAgICAgICBpZiAoIXdpbmRvdz8uWydTVE9SWUJPT0tfRU5WJ10pIHtcbiAgICAgICAgICB3aW5kb3cuYWxlcnQoJ1VzZXIgaW50ZW5kcyB0byBzaWduIGxhdGVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2xhaW0nOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlY2xpbmUnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ByaW50JzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkb3dubG9hZCc6XG4gICAgICAgIHRoaXMuc2F2ZVBERigpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQ6IElEb2N1bWVudEZpZWxkLCBlOiBhbnksIG9wdGlvbklkPzogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ2ZpZWxkQ2hhbmdlJywgZmllbGQsIGUpO1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAndGV4dGJveCc6XG4gICAgICAgIEVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSAmJiBlLnJlc3BvbnNlPy5kYXRhPy5lcnJvciA9PT0gJ2p3dCBleHBpcmVkJykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnand0IGV4cGlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY2hlY2tib3hfZ3JvdXAnOlxuICAgICAgICBFbnZlbG9wZXMudXBkYXRlRW52ZWxvcGVGaWVsZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uczogW3tpZDogb3B0aW9uSWQsIGNoZWNrZWQ6IGUuZGV0YWlsfV19fSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncmFkaW9fYnV0dG9uX2dyb3VwJzpcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkLnNldHRpbmdzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiAoe2lkOiBvcHRpb24uaWQsIHNlbGVjdGVkOiBvcHRpb25JZCA9PT0gb3B0aW9uLmlkfSkpO1xuICAgICAgICBFbnZlbG9wZXMudXBkYXRlRW52ZWxvcGVGaWVsZCh0aGlzLmVuZHBvaW50LCB0aGlzLmVudmVsb3BlSWQsIGZpZWxkLm5hbWUsIHtwcmVwYXJlZDogZmFsc2UsIHZhbHVlOiB7b3B0aW9uc319KVxuICAgICAgICAgIC50aGVuKHIgPT4gY29uc29sZS5sb2coJ1VwZGF0ZSByZXN1bHQnLCByKSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNka0Vycm9yPy5lbWl0KG5ldyBTREtFcnJvcihlLm1lc3NhZ2UsIGUucmVzcG9uc2U/LnN0YXR1cywgZS5yZXNwb25zZT8uZGF0YSkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHVwZGF0aW5nJywgZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkcm9wZG93bic6XG4gICAgICAgIEVudmVsb3Blcy51cGRhdGVFbnZlbG9wZUZpZWxkKHRoaXMuZW5kcG9pbnQsIHRoaXMuZW52ZWxvcGVJZCwgZmllbGQubmFtZSwge3ByZXBhcmVkOiBmYWxzZSwgdmFsdWU6IGUuZGV0YWlsfSlcbiAgICAgICAgICAudGhlbihyID0+IGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0JywgcikpXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZGtFcnJvcj8uZW1pdChuZXcgU0RLRXJyb3IoZS5tZXNzYWdlLCBlLnJlc3BvbnNlPy5zdGF0dXMsIGUucmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB1cGRhdGluZycsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb3QgaW5pdGlhbCcsIGUuZGV0YWlsKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb3Qgc2lnbmF0dXJlJywgZS5kZXRhaWwpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZW5kZXJDaGVja2JveEdyb3VwT3B0aW9uKHBhZ2U6IElEb2N1bWVudFBhZ2VJbmZvLCBmaWVsZDogSURvY3VtZW50RmllbGQsIG9wdGlvbjogYW55KSB7XG4gICAgY29uc3QgbGVmdCA9IHJlc2NhbGUocGFnZS54U2NhbGUsIG9wdGlvbi54KTtcbiAgICBjb25zdCBib3R0b20gPSByZXNjYWxlKHBhZ2UueVNjYWxlLCBvcHRpb24ueSk7XG5cbiAgICBjb25zdCBzdHlsZSA9IHtcbiAgICAgIGxlZnQ6IGAke2xlZnR9cHhgLFxuICAgICAgYm90dG9tOiBgJHtib3R0b219cHhgLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke3BhZ2UueFNjYWxlfSwgJHtwYWdlLnlTY2FsZX0pYCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZ2V0UkdCQSh0aGlzLnJlY2lwaWVudEluZGV4KSxcbiAgICB9IGFzIGFueTtcblxuICAgIHJldHVybiA8dmVyZG9jcy1maWVsZC1jaGVja2JveCBzdHlsZT17c3R5bGV9IGZpZWxkPXtmaWVsZH0gb25DaGFuZ2U9e2UgPT4gdGhpcy5oYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSwgb3B0aW9uLmlkKX0gLz47XG4gIH1cblxuICByZW5kZXJSYWRpb0dyb3VwT3B0aW9uKHBhZ2U6IElEb2N1bWVudFBhZ2VJbmZvLCBmaWVsZDogSURvY3VtZW50RmllbGQsIG9wdGlvbjogYW55KSB7XG4gICAgY29uc3QgbGVmdCA9IHJlc2NhbGUocGFnZS54U2NhbGUsIG9wdGlvbi54KTtcbiAgICBjb25zdCBib3R0b20gPSByZXNjYWxlKHBhZ2UueVNjYWxlLCBvcHRpb24ueSk7XG5cbiAgICBjb25zdCBzdHlsZSA9IHtcbiAgICAgIGxlZnQ6IGAke2xlZnR9cHhgLFxuICAgICAgYm90dG9tOiBgJHtib3R0b219cHhgLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke3BhZ2UueFNjYWxlfSwgJHtwYWdlLnlTY2FsZX0pYCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZ2V0UkdCQSh0aGlzLnJlY2lwaWVudEluZGV4KSxcbiAgICB9IGFzIGFueTtcblxuICAgIHJldHVybiA8dmVyZG9jcy1maWVsZC1yYWRpby1idXR0b24gc3R5bGU9e3N0eWxlfSBmaWVsZD17ZmllbGR9IG9uRmllbGRDaGFuZ2U9e2UgPT4gdGhpcy5oYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSwgb3B0aW9uLmlkKX0gLz47XG4gIH1cblxuICBpc0ZpZWxkVmFsaWQoZmllbGQ6IElEb2N1bWVudEZpZWxkKSB7XG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICd0ZXh0Ym94JzpcbiAgICAgICAgc3dpdGNoIChmaWVsZC5zZXR0aW5ncz8udmFsaWRhdG9yIHx8ICcnKSB7XG4gICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRFbWFpbChmaWVsZC5zZXR0aW5ncz8ucmVzdWx0IHx8ICcnKTtcbiAgICAgICAgICBjYXNlICdwaG9uZSc6XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZFBob25lKGZpZWxkLnNldHRpbmdzPy5yZXN1bHQgfHwgJycpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gISFmaWVsZC5zZXR0aW5ncz8ucmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgICBjYXNlICdpbml0aWFsJzpcbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAndGltZXN0YW1wJzpcbiAgICAgIGNhc2UgJ2F0dGFjaG1lbnQnOlxuICAgICAgICByZXR1cm4gISFmaWVsZC5zZXR0aW5ncz8ucmVzdWx0O1xuICAgICAgY2FzZSAnZHJvcGRvd24nOlxuICAgICAgICByZXR1cm4gISFmaWVsZC5zZXR0aW5ncz8udmFsdWU7XG4gICAgICBjYXNlICdjaGVja2JveF9ncm91cCc6XG4gICAgICAgIGNvbnN0IGNoZWNrZWQgPSAoZmllbGQuc2V0dGluZ3M/Lm9wdGlvbnM/LmZpbHRlcihvcHRpb24gPT4gb3B0aW9uLmNoZWNrZWQpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGVja2VkID49IChmaWVsZC5zZXR0aW5ncz8ubWluaW11bV9jaGVja2VkIHx8IDApICYmIGNoZWNrZWQgPD0gKGZpZWxkLnNldHRpbmdzPy5tYXhpbXVtX2NoZWNrZWQgfHwgOTk5KTtcbiAgICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICAgIHJldHVybiAoZmllbGQuc2V0dGluZ3M/Lm9wdGlvbnM/LmZpbHRlcihvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkKSB8fCBbXSkubGVuZ3RoID4gMDtcbiAgICAgIC8vIFRPRE9cbiAgICAgIC8vIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIC8vICAgcmV0dXJuIDx2ZXJkb2NzLWZpZWxkLWNoZWNrYm94IHN0eWxlPXtzdHlsZX0gdmFsdWU9e3Jlc3VsdCB8fCAnJ30gaWQ9e2lkfSAvPjtcbiAgICAgIC8vIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgLy8gICByZXR1cm4gPHZlcmRvY3MtZmllbGQtcGF5bWVudCBzdHlsZT17c3R5bGV9IGZpZWxkPXtmaWVsZH0gaWQ9e2lkfSAvPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyAoYXN5bmMgKCkgPT4ge1xuICAvLyAgIGF3YWl0IGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKCd2ZXJkb2NzLWZpZWxkLXNpZ25hdHVyZScpO1xuICAvLyAgIGNvbnN0IGVscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJkb2NzLWZpZWxkLXNpZ25hdHVyZScpO1xuICAvLyAgIGF3YWl0IGVscy5mb2N1c0ZpZWxkKCk7XG4gIC8vIH0pKCk7XG5cbiAgaGFuZGxlTmV4dCgpIHtcbiAgICAvLyBGaW5kIGFuZCBmb2N1cyB0aGUgbmV4dCBpbmNvbXBsZXRlIHJlcXVpcmVkIGZpZWxkXG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSB0aGlzLmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucmVxdWlyZWQpO1xuICAgIGNvbnNvbGUubG9nKCdyZXF1aXJlZCBGaWVsZHMnLCByZXF1aXJlZEZpZWxkcyk7XG5cbiAgICBjb25zdCBmb2N1c2VkSW5kZXggPSByZXF1aXJlZEZpZWxkcy5maW5kSW5kZXgoZmllbGQgPT4gZmllbGQubmFtZSA9PT0gdGhpcy5mb2N1c2VkRmllbGQpO1xuICAgIGNvbnNvbGUubG9nKCdmb2N1c2VkIEluZGV4JywgZm9jdXNlZEluZGV4KTtcblxuICAgIGxldCBuZXh0Rm9jdXNlZEluZGV4ID0gZm9jdXNlZEluZGV4ICsgMTtcbiAgICBpZiAobmV4dEZvY3VzZWRJbmRleCA+PSByZXF1aXJlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIG5leHRGb2N1c2VkSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRSZXF1aXJlZEZpZWxkID0gcmVxdWlyZWRGaWVsZHNbbmV4dEZvY3VzZWRJbmRleF07XG4gICAgY29uc29sZS5sb2coJ25leHQgcmVxdWlyZWQgZmllbGQnLCBuZXh0UmVxdWlyZWRGaWVsZCk7XG5cbiAgICBpZiAobmV4dFJlcXVpcmVkRmllbGQpIHtcbiAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRJZChuZXh0UmVxdWlyZWRGaWVsZCk7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBhbnk7XG4gICAgICBjb25zb2xlLmxvZygnZm9jdXNpbmcnLCBpZCwgZWwpO1xuICAgICAgZWw/LmZvY3VzRmllbGQoKTtcbiAgICAgIHRoaXMuZm9jdXNlZEZpZWxkID0gbmV4dFJlcXVpcmVkRmllbGQubmFtZTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJGaWVsZChmaWVsZDogSURvY3VtZW50RmllbGQsIGRvY1BhZ2U6IElEb2N1bWVudFBhZ2VJbmZvIC8qLCBpbmRleDogbnVtYmVyKi8pIHtcbiAgICBjb25zdCBjb250cm9sc0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvY1BhZ2UuY29udGFpbmVySWQgKyAnLWNvbnRyb2xzJyk7XG4gICAgaWYgKCFjb250cm9sc0Rpdikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gZ2V0RmllbGRJZChmaWVsZCk7XG4gICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZXhpc3RpbmdGaWVsZCkge1xuICAgICAgc2V0Q29udHJvbFN0eWxlcyhleGlzdGluZ0ZpZWxkLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCB0aGlzLnJlY2lwaWVudEluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZWw7XG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAnZHJvcGRvd24nOlxuICAgICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICBjYXNlICdwYXltZW50JzpcbiAgICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgICBjYXNlICd0aW1lc3RhbXAnOlxuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgY2FzZSAndGV4dGJveCc6XG4gICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC0ke2ZpZWxkLnR5cGV9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gICByZXR1cm4gZmllbGQuc2V0dGluZ3Mub3B0aW9ucy5tYXAoKG9wdGlvbjogYW55LCBpbmRleCkgPT4gdGhpcy5yZW5kZXJDaGVja2JveEdyb3VwT3B0aW9uKHJlbmRlck9uUGFnZSwgZmllbGQsIG9wdGlvbiwgaW5kZXgpKTtcbiAgICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICAgIC8vICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLWZpZWxkLXNpZ25hdHVyZScpO1xuICAgICAgICAvLyAgIGVsLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBiYXNlNjQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vICAgcmV0dXJuIGZpZWxkLnNldHRpbmdzLm9wdGlvbnMubWFwKChvcHRpb246IGFueSwgaW5kZXgpID0+IHRoaXMucmVuZGVyUmFkaW9Hcm91cE9wdGlvbihyZW5kZXJPblBhZ2UsIGZpZWxkLCBvcHRpb24sIGluZGV4KSk7XG4gICAgICAvLyBjYXNlICdhdHRhY2htZW50JzpcbiAgICAgIC8vICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2ZXJkb2NzLWZpZWxkLWF0dGFjaG1lbnQnKTtcbiAgICAgIC8vICAgZWwuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3VsdCB8fCAnJyk7XG4gICAgICAvLyAgIGJyZWFrO1xuICAgICAgLy8gY2FzZSAncGF5bWVudCc6XG4gICAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1wYXltZW50Jyk7XG4gICAgICAvLyAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ1tTSUdOXSBTa2lwcGluZyB1bnN1cHBvcnRlZCBmaWVsZCB0eXBlJywgZmllbGQpO1xuICAgIH1cblxuICAgIGlmIChlbCkge1xuICAgICAgZWwuZmllbGQgPSBmaWVsZDtcbiAgICAgIGVsLnJlY2lwaWVudCA9IHRoaXMucmVjaXBpZW50O1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZWluZGV4JywgdGhpcy5yZWNpcGllbnRJbmRleCk7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZENoYW5nZScsIGUgPT4gdGhpcy5oYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSkpO1xuICAgICAgc2V0Q29udHJvbFN0eWxlcyhleGlzdGluZ0ZpZWxkLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCB0aGlzLnJlY2lwaWVudEluZGV4KTtcbiAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQYWdlUmVuZGVyZWQoZSkge1xuICAgIGNvbnN0IHBhZ2VJbmZvID0gZS5kZXRhaWwgYXMgSVBhZ2VSZW5kZXJFdmVudDtcbiAgICBjb25zb2xlLmxvZygnW1NJR05dIFBhZ2UgcmVuZGVyZWQnLCBwYWdlSW5mbyk7XG5cbiAgICBjb25zdCBmaWVsZHMgPSB0aGlzLmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucGFnZSA9PT0gcGFnZUluZm8ucmVuZGVyZWRQYWdlLnBhZ2VOdW1iZXIpO1xuICAgIGNvbnNvbGUubG9nKCdbU0lHTl0gRmllbGRzIG9uIHBhZ2UnLCBmaWVsZHMpO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHRoaXMucmVuZGVyRmllbGQoZmllbGQsIHBhZ2VJbmZvLnJlbmRlcmVkUGFnZSkpO1xuICAgIC8vIC5tYXAoKGZpZWxkLCBpbmRleCkgPT4gdGhpcy5yZW5kZXJGaWVsZChmaWVsZCwgaW5kZXgpKTtcbiAgICAvLyB0aGlzLnBkZlBhZ2VJbmZvID0gZS5kZXRhaWw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbWVudU9wdGlvbnMgPSBbXG4gICAgICB7aWQ6ICdsYXRlcicsIGxhYmVsOiAnRmluaXNoIExhdGVyJ30sIC8vXG4gICAgICB7aWQ6ICdjbGFpbScsIGxhYmVsOiAnQ2xhaW0gdGhlIERvY3VtZW50JywgZGlzYWJsZWQ6IHRydWV9LFxuICAgICAge2lkOiAnZGVjbGluZScsIGxhYmVsOiAnRGVjbGluZSB0byBTaWduJ30sXG4gICAgICB7aWQ6ICdwcmludCcsIGxhYmVsOiAnUHJpbnQgV2l0aG91dCBTaWduaW5nJ30sXG4gICAgICB7aWQ6ICdkb3dubG9hZCcsIGxhYmVsOiAnRG93bmxvYWQnfSxcbiAgICBdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxIb3N0IGNsYXNzPXt7c3Rvcnlib29rOiAhIXdpbmRvdz8uWydTVE9SWUJPT0tfRU5WJ10sIGFncmVlZDogdGhpcy5yZWNpcGllbnQ/LmFncmVlZH19PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW50cm9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJcIj5QbGVhc2UgcmV2aWV3IGFuZCBhY3Qgb24gdGhlc2UgZG9jdW1lbnRzLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImlubmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbGJhclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbHNcIj5cbiAgICAgICAgICAgICAgICA8dmVyZG9jcy1kcm9wZG93biBvcHRpb25zPXttZW51T3B0aW9uc30gb25PcHRpb25TZWxlY3RlZD17ZSA9PiB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGVkKGUpfSAvPlxuXG4gICAgICAgICAgICAgICAgeyF0aGlzLnJlY2lwaWVudD8uYWdyZWVkID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFncmVlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZ3JlZS1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIk5vbmVcIiBpZD1cImFncmVlLWNoZWNrYm94LWVsZW1lbnRcIiBuYW1lPVwiYWdyZWVcIiBvbkNoYW5nZT17KCkgPT4gdGhpcy5oYW5kbGVDbGlja0FncmVlKCl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhZ3JlZS1jaGVja2JveC1lbGVtZW50XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkkgYWdyZWUgdG8gdXNlIGVsZWN0cm9uaWMgcmVjb3JkcyBhbmQgc2lnbmF0dXJlcy48L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2ZsZXg6ICcxJ319IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8dmVyZG9jcy1idXR0b24gc2l6ZT1cInNtYWxsXCIgbGFiZWw9e3RoaXMubmV4dEJ1dHRvbkxhYmVsfSBkaXNhYmxlZD17IXRoaXMucmVjaXBpZW50Py5hZ3JlZWR9IG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTmV4dCgpfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7IXRoaXMucmVjaXBpZW50Py5hZ3JlZWQgPyA8ZGl2IGNsYXNzPVwiY292ZXJcIiAvPiA6IDxkaXYgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPn1cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgICB7dGhpcy5wZGZVcmwgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJcIj5cbiAgICAgICAgICAgICAgPHZlcmRvY3Mtdmlld1xuICAgICAgICAgICAgICAgIGVudmVsb3BlSWQ9e3RoaXMuZW52ZWxvcGVJZH1cbiAgICAgICAgICAgICAgICBlbmRwb2ludD17dGhpcy5lbmRwb2ludH1cbiAgICAgICAgICAgICAgICBvblBhZ2VSZW5kZXJlZD17ZSA9PiB0aGlzLmhhbmRsZVBhZ2VSZW5kZXJlZChlKX1cbiAgICAgICAgICAgICAgICBwYWdlTGF5ZXJzPXtbXG4gICAgICAgICAgICAgICAgICB7bmFtZTogJ3BhZ2UnLCB0eXBlOiAnY2FudmFzJ30sXG4gICAgICAgICAgICAgICAgICB7bmFtZTogJ2NvbnRyb2xzJywgdHlwZTogJ2Rpdid9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPHZlcmRvY3MtbG9hZGVyIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0hvc3Q+XG4gICAgKTtcbiAgfVxufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWUuc2Nzcyc7XG5cbnZlcmRvY3Mtc2lnbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWluLWhlaWdodDogNjAwcHg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGZvbnQtZmFtaWx5OiAkdmVyZG9jcy1wcmltYXJ5LWZvbnQ7XG5cbiAgZGl2IHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgLmhlYWRlciB7XG4gICAgZmxleDogMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHotaW5kZXg6IDEwMDA7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4yNXM7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG1lZGl1bS1iZztcbiAgICBib3gtc2hhZG93OiAwIDRweCA0cHggMCByZ2IoMCAwIDAgLyAyNCUpLCAwIDAgNHB4IDAgcmdiKDAgMCAwIC8gMTIlKTtcblxuICAgIC5pbm5lciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIG1heC13aWR0aDogMTAyOHB4O1xuICAgIH1cbiAgfVxuXG4gIC5pbnRybyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA2MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cbiAgICAuaW5uZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBjb2xvcjogIzExMTExMTtcbiAgICAgIHBhZGRpbmc6IDAgMTRweDtcbiAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBsaW5lLWhlaWdodDogMjhweDtcbiAgICAgIG1heC13aWR0aDogMTAyNHB4O1xuICAgIH1cbiAgfVxuXG4gICYuYWdyZWVkIHtcbiAgICAuaW50cm8ge1xuICAgICAgLy9kaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxuXG4gIC50b29sYmFyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBwYWRkaW5nOiAwIDE0cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbiAgLnRvb2xzIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBoZWlnaHQ6IDU2cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICRtZWRpdW0tYmc7XG4gIH1cblxuICAuY292ZXIge1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgfVxuXG4gIC5kb2N1bWVudCB7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblxuICAgIC5pbm5lciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIG1heC13aWR0aDogMTAyOHB4O1xuICAgIH1cbiAgfVxuXG4gIC5hZ3JlZSB7XG4gICAgZmxleDogMTtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG5cbiAgICAuaW50cm8ge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICAuaGVhZGVyIHtcbiAgICAgIGZsZXg6IDAgMCA1NnB4O1xuICAgIH1cblxuICAgIC5hZ3JlZS1jaGVja2JveCB7XG4gICAgICBiYWNrZ3JvdW5kOiAjY2NjO1xuICAgICAgZmxleDogMCAwIDIwcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBtYXJnaW46IDAgMTBweCAwIDE0cHg7XG5cbiAgICAgIGlucHV0W3R5cGU9J2NoZWNrYm94J106Y2hlY2tlZCArIGxhYmVsOmFmdGVyIHtcbiAgICAgICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTEwMCk7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG5cbiAgICAgIGxhYmVsIHtcbiAgICAgICAgbGVmdDogMnB4O1xuICAgICAgICB0b3A6IDJweDtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGJhY2tncm91bmQ6ICMzMzM1NGM7XG4gICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgLTFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuXG4gICAgICAgIC5hZ3JlZS1jaGVja2JveCBsYWJlbDpob3Zlcjo6YWZ0ZXIge1xuICAgICAgICAgIGZpbHRlcjogYWxwaGEob3BhY2l0eT0zMCk7XG4gICAgICAgICAgb3BhY2l0eTogMC4zO1xuICAgICAgICB9XG5cbiAgICAgICAgJjphZnRlciB7XG4gICAgICAgICAgdG9wOiAycHg7XG4gICAgICAgICAgbGVmdDogM3B4O1xuICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICBoZWlnaHQ6IDVweDtcbiAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApO1xuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2ZjZmZmNDtcbiAgICAgICAgICBib3JkZXItdG9wOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yaWdodDogbm9uZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==