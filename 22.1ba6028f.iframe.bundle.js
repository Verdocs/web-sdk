/*! For license information please see 22.1ba6028f.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"./dist/esm/Colors-1b298092.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function getRGBA(roleIndex){switch(roleIndex%10){case 0:return 0===roleIndex?"rgba(255, 193, 7, 0.4)":"rgba(134, 134, 134, 0.3)";case 1:return"rgba(156, 39, 176, .4)";case 2:return"rgba(33, 150, 243, .4)";case 3:return"rgba(220, 231, 117, 0.3)";case 4:return"rgba(121, 134, 203, 0.3)";case 5:return"rgba(77, 182, 172, 0.3)";case 6:return"rgba(255, 202, 165, 0.3)";case 7:return"rgba(2, 247, 190, 0.3)";case 8:return"rgba(255, 138, 101, 0.3)";case 9:return"rgba(82, 255, 79, 0.3)";default:return"rgba(229, 115, 155, 0.3)"}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getRGBA}))},"./dist/esm/utils-ea73036b.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRoleIndex})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getFieldId})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rescale})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fullNameToInitials})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getFieldSettings})),__webpack_require__.d(__webpack_exports__,"f",(function(){return integerSequence})),__webpack_require__.d(__webpack_exports__,"g",(function(){return renderDocumentField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return setControlStyles}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var _Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./dist/esm/Colors-1b298092.js");function rescale(r,n){return r*n}var integerSequence=function integerSequence(start,count){return Array(count).fill(1).map((function(_,index){return index+start}))},fullNameToInitials=function fullNameToInitials(name){return name.split(" ").map((function(word){return word[0]})).join("")},setControlStyles=function setControlStyles(el,field,xScale,yScale,roleIndex,option){var _a,_b,_c,_d,settings=field.setting||field.settings,_settings$x=settings.x,x=void 0===_settings$x?0:_settings$x,_settings$y=settings.y,y=void 0===_settings$y?0:_settings$y,_settings$width=settings.width,width=void 0===_settings$width?function defaultWidth(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 82}return 150}(field):_settings$width,_settings$height=settings.height,height=void 0===_settings$height?function defaultHeight(field){switch(field.type){case"attachment":case"payment":return 24;case"checkbox":case"checkbox_group":case"radio_button_group":return 14;case"signature":case"initial":return 41}return 50}(field):_settings$height,optionSettings=void 0!==option&&settings.options[option]?settings.options[option]:null;optionSettings&&(x=null!==(_a=optionSettings.x)&&void 0!==_a?_a:x,y=null!==(_b=optionSettings.y)&&void 0!==_b?_b:y,width=null!==(_c=optionSettings.width)&&void 0!==_c?_c:width,height=null!==(_d=optionSettings.height)&&void 0!==_d?_d:height),el.style.width=width+"px",el.style.height=height+"px",el.style.position="absolute",el.style.left=rescale(xScale,x)+"px",el.style.bottom=rescale(yScale,y)+"px",el.style.transform="scale("+xScale+", "+yScale+")",el.style.backgroundColor=field.rgba||Object(_Colors_1b298092_js__WEBPACK_IMPORTED_MODULE_9__.a)(roleIndex)},getFieldId=function getFieldId(field){return"verdocs-doc-fld-"+field.name},getFieldOptionId=function getFieldOptionId(field,index){return"verdocs-doc-fld-"+field.name+"-"+index},renderDocumentField=function renderDocumentField(field,docPage,roleIndex,handleFieldChange,disabled){var controlsDiv=document.getElementById(docPage.containerId+"-controls");if(controlsDiv)switch(field.type){case"attachment":case"date":case"dropdown":case"initial":case"payment":case"signature":case"timestamp":case"textarea":case"textbox":var id=getFieldId(field),existingField=document.getElementById(id);if(existingField)return void setControlStyles(existingField,field,docPage.xScale,docPage.yScale,roleIndex);var el=document.createElement("verdocs-field-"+field.type);el.field=field,el.setAttribute("id",id),disabled&&el.setAttribute("disabled",!0),el.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(el,field,docPage.xScale,docPage.yScale,roleIndex),controlsDiv.appendChild(el);break;case"checkbox_group":field.setting.options.forEach((function(option,checkboxIndex){var id=getFieldOptionId(field,checkboxIndex),existingField=document.getElementById(id);if(existingField)setControlStyles(existingField,field,docPage.xScale,docPage.yScale,roleIndex,checkboxIndex);else{console.log("Adding checkbox",option);var cbEl=document.createElement("verdocs-field-checkbox");cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("option",checkboxIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,roleIndex,checkboxIndex),controlsDiv.appendChild(cbEl)}}));break;case"radio_button_group":field.setting.options.forEach((function(option,buttonIndex){var id=getFieldOptionId(field,buttonIndex),existingField=document.getElementById(id);if(existingField)setControlStyles(existingField,field,docPage.xScale,docPage.yScale,roleIndex,buttonIndex);else{console.log("Adding radio button",option);var cbEl=document.createElement("verdocs-field-radio-button");cbEl.field=field,cbEl.setAttribute("id",id),cbEl.setAttribute("option",buttonIndex),disabled&&cbEl.setAttribute("disabled",!0),cbEl.addEventListener("fieldChange",(function(e){return handleFieldChange(field,e)})),setControlStyles(cbEl,field,docPage.xScale,docPage.yScale,roleIndex,buttonIndex),controlsDiv.appendChild(cbEl)}}));break;default:console.log("[PREVIEW] Skipping unsupported field type",field)}},getRoleIndex=function getRoleIndex(roles,role){return roles.indexOf(role)||0},getFieldSettings=function getFieldSettings(field){return field.setting?field.setting:field.settings?field.settings:{x:0,y:0,required:!1,disabled:!1,result:"",value:""}}},"./dist/esm/verdocs-field-initial.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"verdocs_field_initial",(function(){return VerdocsFieldInitial}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./dist/esm/index-43893f54.js"),_utils_ea73036b_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./dist/esm/utils-ea73036b.js");__webpack_require__("./dist/esm/Colors-1b298092.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var VerdocsFieldInitial=function(){function VerdocsFieldInitial(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerdocsFieldInitial),Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.h)(this,hostRef),this.adopt=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.d)(this,"adopt",7),this.cancel=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.d)(this,"cancel",7),this.fieldChange=Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.d)(this,"fieldChange",7),this.field=null,this.disabled=!1,this.initials="",this.tempInitials=""}var _focusField;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerdocsFieldInitial,[{key:"focusField",value:(_focusField=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.handleShow();case 1:case"end":return _context.stop()}}),_callee,this)}))),function focusField(){return _focusField.apply(this,arguments)})},{key:"hideDialog",value:function hideDialog(){var _a;null===(_a=this.dialog)||void 0===_a||_a.remove(),this.dialog=null}},{key:"handleAdopt",value:function handleAdopt(e){var _a;console.log("[INITIAL] Adopted initials"),this.tempInitials=e.detail,null===(_a=this.fieldChange)||void 0===_a||_a.emit(this.tempInitials),this.hideDialog()}},{key:"handleShow",value:function handleShow(){var _this=this;this.dialog=document.createElement("verdocs-initial-dialog"),this.dialog.open=!0,this.dialog.initials=this.recipient?Object(_utils_ea73036b_js__WEBPACK_IMPORTED_MODULE_22__.d)(this.recipient.full_name):this.initials,this.dialog.addEventListener("cancel",(function(){return _this.hideDialog()})),this.dialog.addEventListener("adopt",(function(e){return _this.handleAdopt(e)})),document.body.append(this.dialog)}},{key:"render",value:function render(){var _a,_b,_this2=this,settings=Object(_utils_ea73036b_js__WEBPACK_IMPORTED_MODULE_22__.e)(this.field),value=this.tempInitials||settings.base64,disabled=null!==(_b=null!==(_a=this.disabled)&&void 0!==_a?_a:settings.disabled)&&void 0!==_b&&_b;return Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.f)(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.b,{class:{required:settings.required,disabled:disabled}},value?Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.f)("img",{src:this.tempInitials||settings.base64,alt:"Initials"}):Object(_index_43893f54_js__WEBPACK_IMPORTED_MODULE_21__.f)("button",{class:{},onClick:function onClick(){return!disabled&&_this2.handleShow()}},"Initials"))}}]),VerdocsFieldInitial}();VerdocsFieldInitial.style='verdocs-field-initial{font-family:"Inter", -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;width:83px;height:36px;display:block;font-size:11px;letter-spacing:0.3px;background-color:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;border:1px solid rgba(0, 0, 0, 0.2)}verdocs-field-initial.disabled{opacity:0.5}verdocs-field-initial img{display:block;max-width:100%;max-height:100%}verdocs-field-initial button{-webkit-box-sizing:border-box;box-sizing:border-box;border:none;color:rgba(0, 0, 0, 0.87);font-weight:500;-webkit-transform-origin:0 0;transform-origin:0 0;height:100%;width:100%;background:none;font-size:11px}verdocs-field-initial button.hide{display:none}verdocs-field-initial.required{border:1px solid #cc0000}verdocs-field-initial.focused{-webkit-animation:verdocs-field-pulse 0.75s 2;animation:verdocs-field-pulse 0.75s 2}'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0B2ZXJkb2NzL2pzLXNkay9VdGlscy9Db2xvcnMuanMiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AdmVyZG9jcy9qcy1zZGsvVXRpbHMvRmllbGRzLmpzIiwid2VicGFjazovLy9zcmMvdXRpbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL3ZlcmRvY3MtZmllbGQtaW5pdGlhbC92ZXJkb2NzLWZpZWxkLWluaXRpYWwuc2NzcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZWxlbWVudHMvdmVyZG9jcy1maWVsZC1pbml0aWFsL3ZlcmRvY3MtZmllbGQtaW5pdGlhbC50c3giXSwibmFtZXMiOlsiZ2V0UkdCQSIsInJvbGVJbmRleCIsInJlc2NhbGUiLCJyIiwibiIsImludGVnZXJTZXF1ZW5jZSIsInN0YXJ0IiwiY291bnQiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJfIiwiaW5kZXgiLCJmdWxsTmFtZVRvSW5pdGlhbHMiLCJuYW1lIiwic3BsaXQiLCJ3b3JkIiwiam9pbiIsInNldENvbnRyb2xTdHlsZXMiLCJlbCIsImZpZWxkIiwieFNjYWxlIiwieVNjYWxlIiwib3B0aW9uIiwic2V0dGluZ3MiLCJzZXR0aW5nIiwieCIsInkiLCJ3aWR0aCIsImRlZmF1bHRXaWR0aCIsInR5cGUiLCJoZWlnaHQiLCJkZWZhdWx0SGVpZ2h0Iiwib3B0aW9uU2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJzdHlsZSIsInBvc2l0aW9uIiwibGVmdCIsImJvdHRvbSIsInRyYW5zZm9ybSIsImJhY2tncm91bmRDb2xvciIsImdldEZpZWxkSWQiLCJnZXRGaWVsZE9wdGlvbklkIiwicmVuZGVyRG9jdW1lbnRGaWVsZCIsImRvY1BhZ2UiLCJoYW5kbGVGaWVsZENoYW5nZSIsImRpc2FibGVkIiwiY29udHJvbHNEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbmVySWQiLCJpZCIsImV4aXN0aW5nRmllbGQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJjaGVja2JveEluZGV4IiwiY29uc29sZSIsImxvZyIsImNiRWwiLCJidXR0b25JbmRleCIsImdldFJvbGVJbmRleCIsInJvbGVzIiwicm9sZSIsImluZGV4T2YiLCJnZXRGaWVsZFNldHRpbmdzIiwicmVxdWlyZWQiLCJyZXN1bHQiLCJ2YWx1ZSIsIlZlcmRvY3NGaWVsZEluaXRpYWwiLCJpbml0aWFscyIsInRlbXBJbml0aWFscyIsInRoaXMiLCJoYW5kbGVTaG93IiwiaGlkZURpYWxvZyIsImRpYWxvZyIsInJlbW92ZSIsImhhbmRsZUFkb3B0IiwiZGV0YWlsIiwiZmllbGRDaGFuZ2UiLCJlbWl0Iiwib3BlbiIsInJlY2lwaWVudCIsImZ1bGxfbmFtZSIsImJvZHkiLCJhcHBlbmQiLCJyZW5kZXIiLCJiYXNlNjQiLCJoIiwiSG9zdCIsImNsYXNzIiwic3JjIiwiYWx0Iiwib25DbGljayJdLCJtYXBwaW5ncyI6IjtnS0E4Qk8sU0FBU0EsUUFBUUMsV0FDcEIsT0FBUUEsVUFBWSxJQUNoQixLQUFLLEVBQ0QsT0FBcUIsSUFBZEEsVUFBa0IseUJBQTJCLDJCQUN4RCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTywwQkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxLQUFLLEVBQ0QsTUFBTywyQkFDWCxLQUFLLEVBQ0QsTUFBTyx5QkFDWCxRQUNJLE1BQU8sMkJBRW5CLENBdkRBLDJFLHFnRENxQk8sU0FBU0MsUUFBUUMsRUFBR0MsR0FDdkIsT0FBT0QsRUFBSUMsQ0FDZixDLElDaEJhQyxnQkFBa0IsU0FBbEJB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InNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l2ZW4gYSBgcmdiYShyLGcsYixhKWAgc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudCwgZHJvcHBpbmcgdGhlIGFscGhhIGNoYW5uZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0IocmdiYSkge1xuICAgIHZhciByZ2JOdW1iZXJzID0gcmdiYS5yZXBsYWNlKCdyZ2JhKCcsICcnKS5yZXBsYWNlKCcpJywgJycpLnNwbGl0KCcsJyk7XG4gICAgdmFyIHJnYk9iamVjdCA9IHtcbiAgICAgICAgcmVkOiArcmdiTnVtYmVyc1swXSxcbiAgICAgICAgZ3JlZW46ICtyZ2JOdW1iZXJzWzFdLFxuICAgICAgICBibHVlOiArcmdiTnVtYmVyc1syXSxcbiAgICAgICAgYWxwaGE6ICtyZ2JOdW1iZXJzWzNdLFxuICAgIH07XG4gICAgdmFyIGFscGhhID0gMSAtIHJnYk9iamVjdC5hbHBoYTtcbiAgICB2YXIgcmVkID0gTWF0aC5yb3VuZCgocmdiT2JqZWN0LmFscGhhICogKHJnYk9iamVjdC5yZWQgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICB2YXIgZ3JlZW4gPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmdyZWVuIC8gMjU1KSArIGFscGhhKSAqIDI1NSk7XG4gICAgdmFyIGJsdWUgPSBNYXRoLnJvdW5kKChyZ2JPYmplY3QuYWxwaGEgKiAocmdiT2JqZWN0LmJsdWUgLyAyNTUpICsgYWxwaGEpICogMjU1KTtcbiAgICByZXR1cm4gJyMnICsgcmdiVG9IZXgocmVkKSArIHJnYlRvSGV4KGdyZWVuKSArIHJnYlRvSGV4KGJsdWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhbiBSR0Igc3RyaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBoZXggZXF1aXZhbGVudC5cbiAqL1xuZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XG4gICAgdmFyIGhleCA9IHJnYi50b1N0cmluZygxNik7XG4gICAgaWYgKGhleC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEdpdmVuIGEgc2lnbmVyIHJvbGUgaW5kZXgsIHJldHVybiB0aGUgY29sb3IgY29kZSBmb3IgdGhhdCBzaWduZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSR0JBKHJvbGVJbmRleCkge1xuICAgIHN3aXRjaCAocm9sZUluZGV4ICUgMTApIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJbmRleCA9PT0gMCA/ICdyZ2JhKDI1NSwgMTkzLCA3LCAwLjQpJyA6ICdyZ2JhKDEzNCwgMTM0LCAxMzQsIDAuMyknOyAvLyAjRkZFNjlDXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgxNTYsIDM5LCAxNzYsIC40KSc7IC8vICcjRTNDM0U5J1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMzMsIDE1MCwgMjQzLCAuNCknOyAvLyAnI0MxRTFGQidcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDIyMCwgMjMxLCAxMTcsIDAuMyknO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMTIxLCAxMzQsIDIwMywgMC4zKSc7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSg3NywgMTgyLCAxNzIsIDAuMyknO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyMDIsIDE2NSwgMC4zKSc7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyLCAyNDcsIDE5MCwgMC4zKSc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyNTUsIDEzOCwgMTAxLCAwLjMpJztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDgyLCAyNTUsIDc5LCAwLjMpJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgyMjksIDExNSwgMTU1LCAwLjMpJztcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGEgcm9sZSBuYW1lLCByZXR1cm4gYSBjb2xvciBjb2RlIGZvciBpdC4gVGhpcyB3b3JrcyBieSBjb21wdXRpbmcgYSBoYXNoIGNvZGUgc28gdGhlIHNwZWNpZmljIGNvbG9yIHJldHVybmVkXG4gKiBpcyBub3Qgc3BlY2lmaWVkIGV4cGxpY2l0bHksIGJ1dCB3aWxsIGJlIHRoZSBzYW1lIGZvciBldmVyeSBjYWxsIHdpdGggdGhlIHNhbWUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYW1lVG9SR0JBKHN0cikge1xuICAgIGlmICghIXN0cikge1xuICAgICAgICB2YXIgdmFsaWROdW0gPSBwYXJzZUludChzdHIuc2xpY2UoLTEpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4odmFsaWROdW0pKSB7XG4gICAgICAgICAgICBzdHIgKz0gKHZhbGlkTnVtICogOTkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc2ggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzaCA9IE1hdGgucm91bmQoaGFzaCAvIDEuMyk7XG4gICAgICAgIHZhciBjID0gKGhhc2ggJiAweDAwZmZmZjA4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgdmFyIGhleCA9ICcjJyArICcwMDAwMCcuc3Vic3RyaW5nKDAsIDYgLSBjLmxlbmd0aCkgKyBjO1xuICAgICAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgICAgIHZhciBjb2xvciA9IHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIi5jb25jYXQoY29sb3IuciwgXCIsIFwiKS5jb25jYXQoY29sb3IuZywgXCIsIFwiKS5jb25jYXQoY29sb3IuYiwgXCIsIDAuMilcIik7XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gb2J0YWluIGEgY29sb3IgY29kZSBnaXZlbiBhIHJvbGUgbmFtZSBnaXZlbiB2YXJpb3VzIHBvc3NpYmxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvbGVDb2xvcihuYW1lLCByb2xlcywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGdldFJHQkEoaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciByb2xlSW5kZXggPSByb2xlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHJvbGUpIHsgcmV0dXJuIHJvbGUubmFtZSA9PT0gbmFtZTsgfSk7XG4gICAgICAgIGlmIChyb2xlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvbGVzW3JvbGVJbmRleF0ucmdiYSB8fCBnZXRSR0JBKHJvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZVRvUkdCQShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hbWVUb1JHQkEobmFtZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFJUb3AoeSwgZmllbGRIZWlnaHQsIGlUZXh0SGVpZ2h0LCB5UmF0aW8pIHtcbiAgICByZXR1cm4gaVRleHRIZWlnaHQgLSAoeSArIGZpZWxkSGVpZ2h0KSAqIHlSYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSTGVmdCh4LCByYXRpbykge1xuICAgIHJldHVybiB4ICogcmF0aW87XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UlZhbHVlKHksIHJhdGlvKSB7XG4gICAgcmV0dXJuIHkgKiByYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBibG9iVG9CYXNlNjQoaW1hZ2UpIHtcbiAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ1Byb2JsZW0gcmVhZGluZyBibG9iLicpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvbHZlKGZpbGVSZWFkZXIucmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNjYWxlKHIsIG4pIHtcbiAgICByZXR1cm4gciAqIG47XG59XG4iLCIvLyBUaGVzZSBzaG91bGQgcHJvYmFibHkgYWxsIG1vdmUgdG8gSlMtU0RLXG5pbXBvcnQge3Jlc2NhbGV9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9VdGlscy9GaWVsZHMnO1xuaW1wb3J0IHtnZXRSR0JBfSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvVXRpbHMvQ29sb3JzJztcbmltcG9ydCB7SVRlbXBsYXRlRmllbGR9IGZyb20gJ0B2ZXJkb2NzL2pzLXNkay9UZW1wbGF0ZXMvVHlwZXMnO1xuaW1wb3J0IHtJRG9jdW1lbnRGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL0RvY3VtZW50cy9UeXBlcyc7XG5pbXBvcnQge0lEb2N1bWVudFBhZ2VJbmZvfSBmcm9tICcuL1R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGludGVnZXJTZXF1ZW5jZSA9IChzdGFydDogbnVtYmVyLCBjb3VudDogbnVtYmVyKTogbnVtYmVyW10gPT5cbiAgQXJyYXkoY291bnQpXG4gICAgLmZpbGwoMSlcbiAgICAubWFwKChfLCBpbmRleCkgPT4gaW5kZXggKyBzdGFydCk7XG5cbmV4cG9ydCBjb25zdCBmdWxsTmFtZVRvSW5pdGlhbHMgPSAobmFtZTogc3RyaW5nKSA9PlxuICBuYW1lXG4gICAgLnNwbGl0KCcgJylcbiAgICAubWFwKHdvcmQgPT4gd29yZFswXSlcbiAgICAuam9pbignJyk7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0V2lkdGggPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICByZXR1cm4gODI7XG4gIH1cblxuICByZXR1cm4gMTUwO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRIZWlnaHQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkIHwgSURvY3VtZW50RmllbGQpID0+IHtcbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAncGF5bWVudCc6XG4gICAgICByZXR1cm4gMjQ7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICBjYXNlICdyYWRpb19idXR0b25fZ3JvdXAnOlxuICAgICAgcmV0dXJuIDE0O1xuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAnaW5pdGlhbCc6XG4gICAgICByZXR1cm4gNDE7XG4gIH1cblxuICByZXR1cm4gNTA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0Q29udHJvbFN0eWxlcyA9IChlbDogSFRNTEVsZW1lbnQsIGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkLCB4U2NhbGU6IG51bWJlciwgeVNjYWxlOiBudW1iZXIsIHJvbGVJbmRleDogbnVtYmVyLCBvcHRpb24/OiBudW1iZXIpID0+IHtcbiAgY29uc3Qgc2V0dGluZ3MgPSAoZmllbGQgYXMgSVRlbXBsYXRlRmllbGQpLnNldHRpbmcgfHwgKGZpZWxkIGFzIElEb2N1bWVudEZpZWxkKS5zZXR0aW5ncztcbiAgbGV0IHt4ID0gMCwgeSA9IDAsIHdpZHRoID0gZGVmYXVsdFdpZHRoKGZpZWxkKSwgaGVpZ2h0ID0gZGVmYXVsdEhlaWdodChmaWVsZCl9ID0gc2V0dGluZ3M7XG5cbiAgY29uc3Qgb3B0aW9uU2V0dGluZ3MgPSBvcHRpb24gIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy5vcHRpb25zW29wdGlvbl0gPyBzZXR0aW5ncy5vcHRpb25zW29wdGlvbl0gOiBudWxsO1xuICBpZiAob3B0aW9uU2V0dGluZ3MpIHtcbiAgICB4ID0gb3B0aW9uU2V0dGluZ3MueCA/PyB4O1xuICAgIHkgPSBvcHRpb25TZXR0aW5ncy55ID8/IHk7XG4gICAgd2lkdGggPSBvcHRpb25TZXR0aW5ncy53aWR0aCA/PyB3aWR0aDtcbiAgICBoZWlnaHQgPSBvcHRpb25TZXR0aW5ncy5oZWlnaHQgPz8gaGVpZ2h0O1xuICB9XG5cbiAgZWwuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gIGVsLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gIGVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgZWwuc3R5bGUubGVmdCA9IGAke3Jlc2NhbGUoeFNjYWxlLCB4KX1weGA7XG4gIGVsLnN0eWxlLmJvdHRvbSA9IGAke3Jlc2NhbGUoeVNjYWxlLCB5KX1weGA7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3hTY2FsZX0sICR7eVNjYWxlfSlgO1xuICBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmaWVsZFsncmdiYSddIHx8IGdldFJHQkEocm9sZUluZGV4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZElkID0gKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCB8IElEb2N1bWVudEZpZWxkKSA9PiB7XG4gIHJldHVybiBgdmVyZG9jcy1kb2MtZmxkLSR7ZmllbGQubmFtZX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpZWxkT3B0aW9uSWQgPSAoZmllbGQ6IElUZW1wbGF0ZUZpZWxkLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBgdmVyZG9jcy1kb2MtZmxkLSR7ZmllbGQubmFtZX0tJHtpbmRleH1gO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlckRvY3VtZW50RmllbGQgPSAoXG4gIGZpZWxkOiBJVGVtcGxhdGVGaWVsZCxcbiAgZG9jUGFnZTogSURvY3VtZW50UGFnZUluZm8sXG4gIHJvbGVJbmRleDogbnVtYmVyLFxuICBoYW5kbGVGaWVsZENoYW5nZTogKGZpZWxkOiBJVGVtcGxhdGVGaWVsZCwgZTogYW55LCBvcHRpb25JZD86IHN0cmluZykgPT4gdm9pZCxcbiAgZGlzYWJsZWQ6IGJvb2xlYW4sXG4pID0+IHtcbiAgY29uc3QgY29udHJvbHNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkb2NQYWdlLmNvbnRhaW5lcklkICsgJy1jb250cm9scycpO1xuICBpZiAoIWNvbnRyb2xzRGl2KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgY2FzZSAnZGF0ZSc6XG4gICAgY2FzZSAnZHJvcGRvd24nOlxuICAgIGNhc2UgJ2luaXRpYWwnOlxuICAgIGNhc2UgJ3BheW1lbnQnOlxuICAgIGNhc2UgJ3NpZ25hdHVyZSc6XG4gICAgY2FzZSAndGltZXN0YW1wJzpcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgY2FzZSAndGV4dGJveCc6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0RmllbGRJZChmaWVsZCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0ZpZWxkKSB7XG4gICAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhleGlzdGluZ0ZpZWxkLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCByb2xlSW5kZXgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVsOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB2ZXJkb2NzLWZpZWxkLSR7ZmllbGQudHlwZX1gKTtcbiAgICAgICAgZWwuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpZWxkQ2hhbmdlJywgZSA9PiBoYW5kbGVGaWVsZENoYW5nZShmaWVsZCwgZSkpO1xuICAgICAgICBzZXRDb250cm9sU3R5bGVzKGVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCByb2xlSW5kZXgpO1xuICAgICAgICBjb250cm9sc0Rpdi5hcHBlbmRDaGlsZChlbCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2NoZWNrYm94X2dyb3VwJzpcbiAgICAgIGZpZWxkLnNldHRpbmcub3B0aW9ucy5mb3JFYWNoKChvcHRpb24sIGNoZWNrYm94SW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRGaWVsZE9wdGlvbklkKGZpZWxkLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUsIHJvbGVJbmRleCwgY2hlY2tib3hJbmRleCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBjaGVja2JveCcsIG9wdGlvbik7XG4gICAgICAgIGNvbnN0IGNiRWw6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHZlcmRvY3MtZmllbGQtY2hlY2tib3hgKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdvcHRpb24nLCBjaGVja2JveEluZGV4KTtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgY2JFbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2JFbC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZENoYW5nZScsIGUgPT4gaGFuZGxlRmllbGRDaGFuZ2UoZmllbGQsIGUpKTtcbiAgICAgICAgc2V0Q29udHJvbFN0eWxlcyhjYkVsLCBmaWVsZCwgZG9jUGFnZS54U2NhbGUsIGRvY1BhZ2UueVNjYWxlLCByb2xlSW5kZXgsIGNoZWNrYm94SW5kZXgpO1xuICAgICAgICBjb250cm9sc0Rpdi5hcHBlbmRDaGlsZChjYkVsKTtcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3JhZGlvX2J1dHRvbl9ncm91cCc6XG4gICAgICBmaWVsZC5zZXR0aW5nLm9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBidXR0b25JbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldEZpZWxkT3B0aW9uSWQoZmllbGQsIGJ1dHRvbkluZGV4KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRmllbGQpIHtcbiAgICAgICAgICBzZXRDb250cm9sU3R5bGVzKGV4aXN0aW5nRmllbGQsIGZpZWxkLCBkb2NQYWdlLnhTY2FsZSwgZG9jUGFnZS55U2NhbGUsIHJvbGVJbmRleCwgYnV0dG9uSW5kZXgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgcmFkaW8gYnV0dG9uJywgb3B0aW9uKTtcbiAgICAgICAgY29uc3QgY2JFbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgdmVyZG9jcy1maWVsZC1yYWRpby1idXR0b25gKTtcbiAgICAgICAgY2JFbC5maWVsZCA9IGZpZWxkO1xuICAgICAgICBjYkVsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdvcHRpb24nLCBidXR0b25JbmRleCk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNiRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNiRWwuYWRkRXZlbnRMaXN0ZW5lcignZmllbGRDaGFuZ2UnLCBlID0+IGhhbmRsZUZpZWxkQ2hhbmdlKGZpZWxkLCBlKSk7XG4gICAgICAgIHNldENvbnRyb2xTdHlsZXMoY2JFbCwgZmllbGQsIGRvY1BhZ2UueFNjYWxlLCBkb2NQYWdlLnlTY2FsZSwgcm9sZUluZGV4LCBidXR0b25JbmRleCk7XG4gICAgICAgIGNvbnRyb2xzRGl2LmFwcGVuZENoaWxkKGNiRWwpO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gY2FzZSAnYXR0YWNobWVudCc6XG4gICAgLy8gICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZlcmRvY3MtZmllbGQtYXR0YWNobWVudCcpO1xuICAgIC8vICAgZWwuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3VsdCB8fCAnJyk7XG4gICAgLy8gICBicmVhaztcbiAgICAvLyBjYXNlICdwYXltZW50JzpcbiAgICAvLyAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1maWVsZC1wYXltZW50Jyk7XG4gICAgLy8gICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coJ1tQUkVWSUVXXSBTa2lwcGluZyB1bnN1cHBvcnRlZCBmaWVsZCB0eXBlJywgZmllbGQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Um9sZUluZGV4ID0gKHJvbGVzOiBzdHJpbmdbXSwgcm9sZTogc3RyaW5nKSA9PiByb2xlcy5pbmRleE9mKHJvbGUpIHx8IDA7XG5cbi8vIFRPRE86IFdlIGNhbiBjbGVhbiB0aGlzIHVwIGEgbG90IGlmIHdlIGFsdGVyIHRoZSBBUEkgdG8gZW1pdCBib3RoIHNldHRpbmcgYW5kIHNldHRpbmdzIHJlZ2FyZGxlc3Mgb2YgdGhlIHNvdXJjZSB0eXBlLFxuLy8gICBidXQgdGhlbiBtZXJnZSB0aGUgU0RLIHR5cGVzIHRvIGVuY291cmFnZSBkZXZlbG9wZXJzIHRvIHVzZSBqdXN0IGBzZXR0aW5nc2AuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRTZXR0aW5ncyA9IChmaWVsZDogSVRlbXBsYXRlRmllbGQgfCBJRG9jdW1lbnRGaWVsZCkgPT4ge1xuICBpZiAoKGZpZWxkIGFzIElUZW1wbGF0ZUZpZWxkKS5zZXR0aW5nKSB7XG4gICAgcmV0dXJuIChmaWVsZCBhcyBJVGVtcGxhdGVGaWVsZCkuc2V0dGluZztcbiAgfVxuXG4gIGlmICgoZmllbGQgYXMgSURvY3VtZW50RmllbGQpLnNldHRpbmdzKSB7XG4gICAgcmV0dXJuIChmaWVsZCBhcyBJRG9jdW1lbnRGaWVsZCkuc2V0dGluZ3M7XG4gIH1cblxuICByZXR1cm4ge3g6IDAsIHk6IDAsIHJlcXVpcmVkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlLCByZXN1bHQ6ICcnLCB2YWx1ZTogJyd9O1xufTtcbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lLnNjc3MnO1xuXG52ZXJkb2NzLWZpZWxkLWluaXRpYWwge1xuICBmb250LWZhbWlseTogJHZlcmRvY3MtcHJpbWFyeS1mb250O1xuICB3aWR0aDogODNweDtcbiAgaGVpZ2h0OiAzNnB4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgZm9udC1zaXplOiAxMXB4O1xuICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpO1xuXG4gICYuZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuXG4gIGltZyB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gIH1cblxuICBidXR0b24ge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcblxuICAgICYuaGlkZSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxuXG4gICYucmVxdWlyZWQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICR2ZXJkb2NzLXJlZC0xO1xuICB9XG5cbiAgJi5mb2N1c2VkIHtcbiAgICBhbmltYXRpb246IHZlcmRvY3MtZmllbGQtcHVsc2UgMC43NXMgMjtcbiAgfVxufVxuIiwiaW1wb3J0IHtJVGVtcGxhdGVGaWVsZH0gZnJvbSAnQHZlcmRvY3MvanMtc2RrL1RlbXBsYXRlcy9UeXBlcyc7XG5pbXBvcnQge0lEb2N1bWVudEZpZWxkLCBJUmVjaXBpZW50fSBmcm9tICdAdmVyZG9jcy9qcy1zZGsvRG9jdW1lbnRzL1R5cGVzJztcbmltcG9ydCB7Q29tcG9uZW50LCBFdmVudCwgRXZlbnRFbWl0dGVyLCBoLCBIb3N0LCBNZXRob2QsIFByb3AsIFN0YXRlfSBmcm9tICdAc3RlbmNpbC9jb3JlJztcbmltcG9ydCB7ZnVsbE5hbWVUb0luaXRpYWxzLCBnZXRGaWVsZFNldHRpbmdzfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5cbi8qKlxuICogRGlzcGxheXMgYW4gaW5pdGlhbCBmaWVsZC4gSWYgYW4gaW5pdGlhbCBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBiZSBkaXNwbGF5ZWQgYW5kIHRoZSBmaWVsZCB3aWxsIGJlIGRpc2FibGVkLiBPdGhlcndpc2UsIGEgcGxhY2Vob2xkZXJcbiAqIGJ1dHRvbiB3aWxsIGJlIHNob3duLiBDbGlja2luZyB0aGUgYnV0dG9uIHdpbGwgc2hvdyBhIGRpYWxvZyB0byBhZG9wdCBhbiBpbml0aWFsLlxuICovXG5AQ29tcG9uZW50KHtcbiAgdGFnOiAndmVyZG9jcy1maWVsZC1pbml0aWFsJyxcbiAgc3R5bGVVcmw6ICd2ZXJkb2NzLWZpZWxkLWluaXRpYWwuc2NzcycsXG4gIHNoYWRvdzogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFZlcmRvY3NGaWVsZEluaXRpYWwge1xuICAvKipcbiAgICogVGhlIGRvY3VtZW50IG9yIHRlbXBsYXRlIGZpZWxkIHRvIGRpc3BsYXkuXG4gICAqL1xuICBAUHJvcCgpIGZpZWxkOiBJRG9jdW1lbnRGaWVsZCB8IElUZW1wbGF0ZUZpZWxkIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSByZWNpcGllbnQgY29tcGxldGluZyB0aGUgZm9ybSwgaWYga25vd24uXG4gICAqL1xuICBAUHJvcCgpIHJlY2lwaWVudD86IElSZWNpcGllbnQ7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgb3ZlcnJpZGVzIHRoZSBmaWVsZCdzIHNldHRpbmdzIG9iamVjdC4gUHJpbWFyaWx5IHVzZWQgdG8gc3VwcG9ydCBcInByZXZpZXdcIiBtb2RlcyB3aGVyZSBhbGwgZmllbGRzIGFyZSBkaXNhYmxlZC5cbiAgICovXG4gIEBQcm9wKCkgZGlzYWJsZWQ/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFRoZSBkb2N1bWVudCBvciB0ZW1wbGF0ZSBmaWVsZCB0byBkaXNwbGF5LlxuICAgKi9cbiAgQFByb3AoKSBpbml0aWFsczogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiBhbiBpbml0aWFsIGJsb2NrIGlzIGFkb3B0ZWQgYnkgdGhlIHVzZXIuIFRoZSBldmVudCBkZXRhaWwgd2lsbCBjb250YWluIHRoZSBiYXNlNjQgc3RyaW5nIG9mIHRoZSBpbml0aWFsIGltYWdlLlxuICAgKi9cbiAgQEV2ZW50KHtjb21wb3NlZDogdHJ1ZX0pIGFkb3B0OiBFdmVudEVtaXR0ZXI8c3RyaW5nPjtcblxuICAvKipcbiAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSB1c2VyIGNhbmNlbHMgdGhlIHByb2Nlc3MuXG4gICAqL1xuICBARXZlbnQoe2NvbXBvc2VkOiB0cnVlfSkgY2FuY2VsOiBFdmVudEVtaXR0ZXI7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIGlucHV0IGZpZWxkIHZhbHVlIGNoYW5nZXMuIE5vdGUgdGhhdCB0aGlzIHdpbGwgb25seSBiZSBmaXJlZCBvbiBibHVyLCB0YWItb3V0LCBFTlRFUiBrZXkgcHJlc3MsIGV0Yy5cbiAgICogSXQgaXMgZ2VuZXJhbGx5IHRoZSBiZXN0IGV2ZW50IHRvIHN1YnNjcmliZSB0byB0aGFuIGBpbnB1dGAgZm9yIG1vc3QgY2FzZXMgRVhDRVBUIGF1dG9jb21wbGV0ZSBmaWVsZHMgdGhhdCBuZWVkIHRvIHNlZSBldmVyeVxuICAgKiBrZXlwcmVzcy5cbiAgICovXG4gIEBFdmVudCh7Y29tcG9zZWQ6IHRydWV9KSBmaWVsZENoYW5nZTogRXZlbnRFbWl0dGVyPHN0cmluZz47XG5cbiAgQE1ldGhvZCgpIGFzeW5jIGZvY3VzRmllbGQoKSB7XG4gICAgdGhpcy5oYW5kbGVTaG93KCk7XG4gIH1cblxuICBAU3RhdGUoKVxuICB0ZW1wSW5pdGlhbHM6IHN0cmluZyA9ICcnO1xuXG4gIHByaXZhdGUgZGlhbG9nPzogYW55O1xuXG4gIGhpZGVEaWFsb2coKSB7XG4gICAgdGhpcy5kaWFsb2c/LnJlbW92ZSgpO1xuICAgIHRoaXMuZGlhbG9nID0gbnVsbDtcbiAgfVxuXG4gIGhhbmRsZUFkb3B0KGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCdbSU5JVElBTF0gQWRvcHRlZCBpbml0aWFscycpO1xuICAgIHRoaXMudGVtcEluaXRpYWxzID0gZS5kZXRhaWw7XG4gICAgdGhpcy5maWVsZENoYW5nZT8uZW1pdCh0aGlzLnRlbXBJbml0aWFscyk7XG4gICAgdGhpcy5oaWRlRGlhbG9nKCk7XG4gIH1cblxuICBoYW5kbGVTaG93KCkge1xuICAgIHRoaXMuZGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmVyZG9jcy1pbml0aWFsLWRpYWxvZycpO1xuICAgIHRoaXMuZGlhbG9nLm9wZW4gPSB0cnVlO1xuICAgIHRoaXMuZGlhbG9nLmluaXRpYWxzID0gdGhpcy5yZWNpcGllbnQgPyBmdWxsTmFtZVRvSW5pdGlhbHModGhpcy5yZWNpcGllbnQuZnVsbF9uYW1lKSA6IHRoaXMuaW5pdGlhbHM7XG4gICAgdGhpcy5kaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2FuY2VsJywgKCkgPT4gdGhpcy5oaWRlRGlhbG9nKCkpO1xuICAgIHRoaXMuZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ2Fkb3B0JywgZSA9PiB0aGlzLmhhbmRsZUFkb3B0KGUpKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmRpYWxvZyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRGaWVsZFNldHRpbmdzKHRoaXMuZmllbGQpO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy50ZW1wSW5pdGlhbHMgfHwgc2V0dGluZ3MuYmFzZTY0O1xuICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZCA/PyBzZXR0aW5ncy5kaXNhYmxlZCA/PyBmYWxzZTtcbiAgICByZXR1cm4gKFxuICAgICAgPEhvc3QgY2xhc3M9e3tyZXF1aXJlZDogc2V0dGluZ3MucmVxdWlyZWQsIGRpc2FibGVkfX0+XG4gICAgICAgIHt2YWx1ZSA/IChcbiAgICAgICAgICA8aW1nIHNyYz17dGhpcy50ZW1wSW5pdGlhbHMgfHwgc2V0dGluZ3MuYmFzZTY0fSBhbHQ9XCJJbml0aWFsc1wiIC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz17e319IG9uQ2xpY2s9eygpID0+ICFkaXNhYmxlZCAmJiB0aGlzLmhhbmRsZVNob3coKX0+XG4gICAgICAgICAgICBJbml0aWFsc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9Ib3N0PlxuICAgICk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=